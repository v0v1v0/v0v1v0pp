<div class="container">

<table style="width: 100%;"><tr>
<td>set_tbl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set a data table to an <em>agent</em> or an <em>informant</em>
</h2>

<h3>Description</h3>

<p>Setting a data table to an <em>agent</em> or an <em>informant</em> with <code>set_tbl()</code>
replaces any associated table (a data frame, a tibble, objects of class
<code>tbl_dbi</code> or <code>tbl_spark</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_tbl(x, tbl, tbl_name = NULL, label = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><em>A pointblank agent or informant object</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;ptblank_agent|ptblank_informant&gt;⁠</code> // <strong>required</strong>
</p>
<p>An <em>agent</em> object of class <code>ptblank_agent</code>, or, an <em>informant</em> of class
<code>ptblank_informant</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p><em>Table or expression for reading in one</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;tbl_*&gt;|&lt;tbl reading expression&gt;⁠</code> // <strong>required</strong>
</p>
<p>The input table for the <em>agent</em> or the <em>informant</em>. This can be a data
frame, a tibble, a <code>tbl_dbi</code> object, or a <code>tbl_spark</code> object.
Alternatively, an expression can be supplied to serve as instructions on
how to retrieve the target table at interrogation- or incorporation-time.
There are two ways to specify an association to a target table: (1) as a
table-prep formula, which is a right-hand side (RHS) formula expression
(e.g., <code style="white-space: pre;">⁠~ { &lt;tbl reading code&gt;}⁠</code>), or (2) as a function (e.g.,
<code style="white-space: pre;">⁠function() { &lt;tbl reading code&gt;}⁠</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tbl_name</code></td>
<td>
<p><em>A table name</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>A optional name to assign to the new input table object. If no value is
provided, a name will be generated based on whatever information is
available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p><em>An optional label for reporting</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional label for the validation plan or information report. If no
value is provided then any existing label will be retained.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<p>Set proportional failure thresholds to the <code>warn</code>, <code>stop</code>, and <code>notify</code>
states using <code>action_levels()</code>.
</p>
<div class="sourceCode r"><pre>al &lt;- 
  action_levels(
      warn_at = 0.10,
      stop_at = 0.25,
    notify_at = 0.35
  )
</pre></div>
<p>Create an agent that has <code>small_table</code> set as the target table via <code>tbl</code>.
Apply the actions, add some validation steps and then interrogate the data.
</p>
<div class="sourceCode r"><pre>agent_1 &lt;- 
  create_agent(
    tbl = small_table,
    tbl_name = "small_table",
    label = "An example.",
    actions = al
  ) %&gt;%
  col_exists(columns = c(date, date_time)) %&gt;%
  col_vals_regex(
    columns = b,
    regex = "[0-9]-[a-z]{3}-[0-9]{3}"
  ) %&gt;%
  rows_distinct() %&gt;%
  interrogate()
</pre></div>
<p>Replace the agent's association to <code>small_table</code> with a mutated version of it
(one that removes duplicate rows). Then, interrogate the new target table.
</p>
<div class="sourceCode r"><pre>agent_2 &lt;-
  agent_1 %&gt;%
  set_tbl(
    tbl = small_table %&gt;% dplyr::distinct()
  ) %&gt;%
  interrogate()
</pre></div>


<h3>Function ID</h3>

<p>9-4
</p>


<h3>See Also</h3>

<p>Other Object Ops: 
<code>activate_steps()</code>,
<code>deactivate_steps()</code>,
<code>export_report()</code>,
<code>remove_steps()</code>,
<code>x_read_disk()</code>,
<code>x_write_disk()</code>
</p>


</div>