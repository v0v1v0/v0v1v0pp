<div class="container">

<table style="width: 100%;"><tr>
<td>read_fmi2mspct</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read multiple solar spectra from a data file.</h2>

<h3>Description</h3>

<p>Read spectral irradiance file as output by Anders Lindors' model based on
libRadTrans for hourly simulation, or measured data from FMI's Brewer
spectrometer.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_fmi2mspct(
  file,
  scale.factor = 0.001,
  geocode = NULL,
  what.measured = NULL,
  how.measured = NULL,
  date.field = 2L,
  time.field = 3L,
  date.format = "ymd",
  time.format = "hms",
  tz = NULL,
  time.shift.min = 0,
  locale = readr::default_locale(),
  .skip = 0,
  .n_max = -1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Either a path to a file, a connection, or literal data (either a
single string or a raw vector).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.factor</code></td>
<td>
<p>numeric A multiplier to be applied to the spectral
irradiance values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geocode</code></td>
<td>
<p>A data frame with columns <code>lon</code> and <code>lat</code> used to
set attribute <code>"where.measured"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what.measured</code></td>
<td>
<p>character string, but if <code>NULL</code> the value of
<code>file</code> is used, and if <code>NA</code> the "what.measured" attribute is not
set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>how.measured</code></td>
<td>
<p>character string, but if <code>NULL</code> or <code>NA</code> the
"how.measured" attribute is not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date.field, time.field</code></td>
<td>
<p>integer. Word positions in the header line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date.format</code></td>
<td>
<p>character string. One of "ymd", "ydm", "dmy", or "mdy".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.format</code></td>
<td>
<p>character string. One of "hms", "hm".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>character Time zone used for interpreting times saved in the file
header.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.shift.min, </code></td>
<td>
<p>numeric. Time shift with respect to TZ in minutes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p>The locale controls defaults that vary from place to place. The
default locale is US-centric (like R), but you can use
<code>locale</code> to create your own locale that controls things
like the default time zone, encoding, decimal mark, big mark, and day/month
names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.skip</code></td>
<td>
<p>Number of lines to skip before reading data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.n_max</code></td>
<td>
<p>Maximum number of records to read.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>read_fmi2mspct()</code> returns a <code>source_mspct</code> object
containing <code>source_spct</code> objects as members, <code>time.unit</code>
attribute set to <code>"second"</code> and <code>when.measured</code> attribute set to
the date-time values extracted from the file body.
</p>


<h3>Note</h3>

<p>See <code>read_table</code> for details of acceptable values
for <code>file</code>. Individual spectra are names based on time and date in ISO
format, at the time zone given by <code>tz</code> but the time shift subtracted.
Say for times expressed in headers at UTC + 120 min, we use <code>tz = UTC</code>
and <code>time.shift.min = 120</code> to convert times to UTC. This is different
from using <code>tz = EET</code>, which is not invariant through the course of
the year because of daylight saving time. Local time zones is not
necessarily consistent across years because of changes in legislation. In
contrast UTC is more consistent, making it preferable for time series.
</p>


</div>