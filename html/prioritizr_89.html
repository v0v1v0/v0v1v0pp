<div class="container">

<table style="width: 100%;"><tr>
<td>add_mandatory_allocation_constraints</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add mandatory allocation constraints</h2>

<h3>Description</h3>

<p>Add constraints to a conservation planning problem to ensure that every
planning unit is allocated to a
management zone in the solution. Note that this function can only be used
with problems that contain multiple zones.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_mandatory_allocation_constraints(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>problem()</code> object.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>For a conservation planning <code>problem()</code> with multiple
management zones, it may sometimes be desirable to obtain a solution that
assigns each and every planning unit to a zone. For example, when
developing land-use plans, some decision makers may require that
every parcel of land is allocated a specific land-use type.
In other words are no "left over" areas. Although it might seem tempting
to simply solve the problem and manually assign "left over" planning units
to a default zone afterwards (e.g., an "other", "urban", or "grazing"
land-use), this could result in highly sub-optimal solutions if there are
penalties for siting the default land-use adjacent to other zones.
Instead, this function can be used to specify that all planning units in a
problem with multiple zones must be allocated to a management zone (i.e.,
zone allocation is mandatory).
</p>


<h3>Value</h3>

<p>An updated <code>problem()</code> object with the constraints added to it.
</p>


<h3>See Also</h3>

<p>See constraints for an overview of all functions for adding constraints.
</p>
<p>Other constraints: 
<code>add_contiguity_constraints()</code>,
<code>add_feature_contiguity_constraints()</code>,
<code>add_linear_constraints()</code>,
<code>add_locked_in_constraints()</code>,
<code>add_locked_out_constraints()</code>,
<code>add_manual_bounded_constraints()</code>,
<code>add_manual_locked_constraints()</code>,
<code>add_neighbor_constraints()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# set seed for reproducibility
set.seed(500)

# load data
sim_zones_pu_raster &lt;- get_sim_zones_pu_raster()
sim_zones_features &lt;- get_sim_zones_features()

# create multi-zone problem with minimum set objective
targets_matrix &lt;- matrix(rpois(15, 1), nrow = 5, ncol = 3)

# create minimal problem with minimum set objective
p1 &lt;-
  problem(sim_zones_pu_raster, sim_zones_features) %&gt;%
  add_min_set_objective() %&gt;%
  add_absolute_targets(targets_matrix) %&gt;%
  add_binary_decisions() %&gt;%
  add_default_solver(verbose = FALSE)

# create another problem that is the same as p1, but has constraints
# to mandate that every planning unit in the solution is assigned to
# zone
p2 &lt;- p1 %&gt;% add_mandatory_allocation_constraints()

# solve problems
s1 &lt;- solve(p1)
s2 &lt;- solve(p2)

# convert solutions into category layers, where each pixel is assigned
 # value indicating which zone it was assigned to in the zone
c1 &lt;- category_layer(s1)
c2 &lt;- category_layer(s2)

# plot solution category layers
plot(c(c1, c2), main = c("default", "mandatory allocation"), axes = FALSE)

## End(Not run)
</code></pre>


</div>