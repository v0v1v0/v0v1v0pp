<div class="container">

<table style="width: 100%;"><tr>
<td>mpttree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>MPT Trees</h2>

<h3>Description</h3>

<p>Recursive partitioning (also known as trees) based on multinomial processing tree (MPT) models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mpttree(formula, data, na.action, cluster, spec, treeid = NULL,
  optimargs = list(control = list(reltol = .Machine$double.eps^(1/1.2),
                                  maxit = 1000)), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a symbolic description of the model to be fit. This should be
of type <code>y ~ x1 + x2</code> where <code>y</code> should be a matrix of response
frequencies and <code>x1</code> and <code>x2</code> are used as partitioning
variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame containing the variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a function which indicates what should happen when the data
contain <code>NA</code>s, defaulting to <code>na.pass</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>optional vector (typically numeric or factor) with a
cluster ID to be employed for clustered covariances in the parameter
stability tests.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec, treeid, optimargs</code></td>
<td>
<p>arguments for the MPT model passed on to
<code>mptmodel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to <code>mob_control</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>MPT trees (Wickelmaier &amp; Zeileis, 2018) are an application of
model-based recursive partitioning (implemented in
<code>mob</code>) to MPT models (implemented in
<code>mptmodel</code>).
</p>
<p>Various methods are provided for <code>"mpttree"</code> objects, most of them
inherit their behavior from <code>"mob"</code> objects (e.g., <code>print</code>,
<code>summary</code>, etc.).  The <code>plot</code> method employs the
<code>node_mptplot</code> panel-generating function.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>"mpttree"</code> inheriting from class
<code>"modelparty"</code>.
</p>


<h3>References</h3>

 
<p>Wickelmaier F, Zeileis A (2018). Using Recursive Partitioning to Account
for Parameter Heterogeneity in Multinomial Processing Tree Models.
<em>Behavior Research Methods</em>, <b>50</b>(3), 1217â€“1233.
<a href="https://doi.org/10.3758/s13428-017-0937-z">doi:10.3758/s13428-017-0937-z</a>
</p>


<h3>See Also</h3>

<p><code>mob</code>, <code>mptmodel</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R">o &lt;- options(digits = 4)

## Source Monitoring data
data("SourceMonitoring", package = "psychotools")

## MPT tree
sm_tree &lt;- mpttree(y ~ sources + gender + age, data = SourceMonitoring,
  spec = mptspec("SourceMon", .restr = list(d1 = d, d2 = d)))
plot(sm_tree, index = c("D1", "D2", "d", "b", "g"))

## extract parameter estimates
coef(sm_tree)

## parameter instability tests in root node
if(require("strucchange")) sctest(sm_tree, node = 1)

## storage and retrieval deficits in psychiatric patients
data("MemoryDeficits", package = "psychotools")
MemoryDeficits$trial &lt;- ordered(MemoryDeficits$trial)

## MPT tree
sr_tree &lt;- mpttree(cbind(E1, E2, E3, E4) ~ trial + group,
  data = MemoryDeficits, cluster = ID, spec = mptspec("SR2"), alpha = 0.1)

## extract parameter estimates
coef(sr_tree)

options(digits = o$digits)
</code></pre>


</div>