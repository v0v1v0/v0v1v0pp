<div class="container">

<table style="width: 100%;"><tr>
<td>pathling_encode_bundle</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Encode FHIR Bundles to a dataframe</h2>

<h3>Description</h3>

<p>Takes a dataframe with string representations of FHIR bundles in the given column and outputs
a dataframe of encoded resources.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pathling_encode_bundle(pc, df, resource_name, input_type = NULL, column = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pc</code></td>
<td>
<p>A Pathling context object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A Spark DataFrame containing the bundles with the resources to encode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resource_name</code></td>
<td>
<p>The name of the FHIR resource to extract (Condition, Observation, etc.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_type</code></td>
<td>
<p>The MIME type of the input string encoding. Defaults to 'application/fhir+json'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>The column in which the resources to encode are stored. If 'NULL', then the
input DataFrame is assumed to have one column of type string.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A Spark DataFrame containing the given type of resources encoded into Spark columns.
</p>


<h3>See Also</h3>

<p>Other encoding functions: 
<code>pathling_encode()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
pc &lt;- pathling_connect()
json_resources_df &lt;- pathling_spark(pc) %&gt;% 
     sparklyr::spark_read_text(path=system.file('extdata','bundle-xml', package='pathling'), 
         whole = TRUE)
pc %&gt;% pathling_encode_bundle(json_resources_df, 'Condition',
     input_type = MimeType$FHIR_XML, column = 'contents')
pathling_disconnect(pc)

</code></pre>


</div>