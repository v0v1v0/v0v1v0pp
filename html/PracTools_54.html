<div class="container">

<table style="width: 100%;"><tr>
<td>strAlloc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Allocate a sample to strata
</h2>

<h3>Description</h3>

<p>Compute the proportional, Neyman, cost-constrained, and variance-constrained
allocations in a stratified simple random sample.
</p>


<h3>Usage</h3>

<pre><code class="language-R">strAlloc(n.tot = NULL, Nh = NULL, Sh = NULL, cost = NULL, ch = NULL,
     V0 = NULL, CV0 = NULL, ybarU = NULL, alloc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n.tot</code></td>
<td>

<p>fixed total sample size
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nh</code></td>
<td>

<p>vector of population stratum sizes (<code class="reqn">N_h</code>) or pop stratum proportions (<code class="reqn">W_h</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sh</code></td>
<td>

<p>stratum unit standard deviations (<code class="reqn">S_h</code>), required unless <code>alloc = "prop"</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost</code></td>
<td>

<p>total variable cost
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ch</code></td>
<td>

<p>vector of costs per unit in stratum <em>h</em> <code class="reqn">(c_h)</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V0</code></td>
<td>

<p>fixed variance target for estimated mean
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CV0</code></td>
<td>

<p>fixed CV target for estimated mean
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ybarU</code></td>
<td>

<p>population mean of <em>y</em> (<code class="reqn">\bar{y}_U</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alloc</code></td>
<td>

<p>type of allocation; must be one of <code>"prop"</code>, <code>"neyman"</code>, <code>"totcost"</code>, <code>"totvar"</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>alloc="prop"</code> computes the proportional allocation of a fixed total sample size, <code>n.tot</code>, to the strata. <code>alloc="neyman"</code> computes the allocation of a fixed total sample size, <code>n.tot</code>, to the strata that minimizes the variance of an estimated mean. <code>alloc="totcost"</code> computes the allocation of a fixed total sample size, <code>n.tot</code>, to the strata that minimizes the variance of an estimated mean subject to the fixed total <code>cost</code>.  <code>alloc="totvar"</code> computes the allocation that minimizes total cost subject to the target coefficient of variation, <code>CV0</code>, or the target variance, <code>V0</code>, of the estimated mean.
</p>


<h3>Value</h3>

<p>For proportional allocation, a list with values:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>alloc</code></td>
<td>
<p>type of allocation: <code>"prop"</code>, <code>"neyman"</code>, <code>"totcost"</code>, <code>"totvar"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nh</code></td>
<td>
<p>vector of population sizes (<code class="reqn">N_h</code>) or pop stratum proportions (<code class="reqn">W_h</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nh</code></td>
<td>
<p>vector of stratum sample sizes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"nh/n"</code></td>
<td>
<p>proportion of sample allocated to each stratum</p>
</td>
</tr>
</table>
<p>For other allocations, the three components above plus:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Sh</code></td>
<td>
<p>stratum unit standard deviations (<code class="reqn">S_h</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"anticipated SE of estimated mean"</code></td>
<td>
<p>Anticipated SE of the estimated mean for the computed allocation</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Richard Valliant, Jill A. Dever, Frauke Kreuter
</p>


<h3>References</h3>

<p>Cochran, W.G. (1977). <em>Sampling Techniques</em>. John Wiley &amp; Sons.
</p>
<p>Valliant, R., Dever, J., Kreuter, F. (2018, chap. 3). <em>Practical Tools for Designing and Weighting Survey Samples, 2nd edition</em>. Springer.
</p>


<h3>See Also</h3>

<p><code>nCont</code>, <code>nLogOdds</code>, <code>nProp</code>, <code>nPropMoe</code>, <code>nWilson</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Neyman allocation
Nh &lt;- c(215, 65, 252, 50, 149, 144)
Sh &lt;- c(26787207, 10645109, 6909676, 11085034, 9817762, 44553355)
strAlloc(n.tot = 100, Nh = Nh, Sh = Sh, alloc = "neyman")

# cost constrained allocation
ch &lt;- c(1400, 200, 300, 600, 450, 1000)
strAlloc(Nh = Nh, Sh = Sh, cost = 100000, ch = ch, alloc = "totcost")

# allocation with CV target of 0.05
strAlloc(Nh = Nh, Sh = Sh, CV0 = 0.05, ch = ch, ybarU = 11664181, alloc = "totvar")
</code></pre>


</div>