<div class="container">

<table style="width: 100%;"><tr>
<td>convert_lab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Converts lab results to normal/abnormal based-on reference values.</h2>

<h3>Description</h3>

<p>Analyzes laboratory data loaded using <em>load_lab</em>. Converts laboratory results to values without "&gt;" or "&lt;" by creating a column where these characters are removed.
Furthermore, adds two indicator columns where based-on the reference ranges or the Abnormal_Flag column in RPDR (lab_result_abn using load_lab), the value is considered normal or abnormal.
</p>


<h3>Usage</h3>

<pre><code class="language-R">convert_lab(
  d,
  code_results = "lab_result",
  code_reference = "lab_result_range",
  code_flag = "lab_result_abn"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>data.table, database containing laboratory results data loaded using the <em>load_lab</em> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code_results</code></td>
<td>
<p>string vector, column name containing the results. Defaults to: <em>"lab_result"</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code_reference</code></td>
<td>
<p>string vector, column name containing the reference ranges. Defaults to: <em>"lab_result_range"</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code_flag, </code></td>
<td>
<p>string vector, column name containing the abnormal flags. Defaults to: <em>"lab_result_abn"</em>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.table, with three additional columns: <em>"lab_result_pretty"</em> containing numerical results. In case of "&gt;" or "&lt;" notation,
the numeric value is returned, as we only have information that it is at least as much or not larger than a given value.
The other column: <em>"lab_result_abn_pretty"</em> can take values: NORMAL/ABNORMAL, depending on whether the value is within the reference range.
Please be aware that there can be very different representations of values, and in some cases this will result in misclassification of values.
The third column: <em>"lab_result_abn_flag_pretty"</em> gives abnormal if the original Abnormal_Flag column contains any information.
Borderline values are considered NORMAL.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#Convert loaded lab results
data_lab_pretty &lt;- convert_lab(d = data_lab)
data_lab_pretty[, c("lab_result", "lab_result_pretty", "lab_result_range",
"lab_result_abn_pretty", "lab_result_abn_flag_pretty")]

## End(Not run)
</code></pre>


</div>