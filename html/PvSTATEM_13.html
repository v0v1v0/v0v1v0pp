<div class="container">

<table style="width: 100%;"><tr>
<td>Model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Logistic regression model for the standard curve</h2>

<h3>Description</h3>

<p>This model uses the <code>nplr</code> package to fit the model. The model is fitted using the formula:
</p>
<p style="text-align: center;"><code class="reqn">y = B + \frac{T - B}{(1 + 10^{b \cdot (x_{mid} - x)})^s},</code>
</p>

<p>where:
</p>

<ul>
<li> <p><code class="reqn">y</code> is the predicted value, MFI in our case,
</p>
</li>
<li> <p><code class="reqn">x</code> is the independent variable, dilution in our case,
</p>
</li>
<li> <p><code class="reqn">B</code> is the bottom plateau - the right horizontal asymptote,
</p>
</li>
<li> <p><code class="reqn">T</code> is the top plateau - the left horizontal asymptote,
</p>
</li>
<li> <p><code class="reqn">b</code> is the slope of the curve at the inflection point,
</p>
</li>
<li> <p><code class="reqn">x_{mid}</code> is the x-coordinate at the inflection point,
</p>
</li>
<li> <p><code class="reqn">s</code> is the asymmetric coefficient.
</p>
</li>
</ul>
<p>This equation is referred to as the Richards' equation. More information about the model can be found in the <code>nplr</code> package documentation.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>analyte</code></dt>
<dd>
<p>(<code>character(1)</code>)<br>
Name of the analyte for which the model was fitted</p>
</dd>
<dt><code>dilutions</code></dt>
<dd>
<p>(<code>numeric()</code>)<br>
Dilutions used to fit the model</p>
</dd>
<dt><code>mfi</code></dt>
<dd>
<p>(<code>numeric()</code>)<br>
MFI values used to fit the model</p>
</dd>
<dt><code>mfi_min</code></dt>
<dd>
<p>(<code>numeric(1)</code>)<br>
Minimum MFI used for scaling MFI values to the range [0, 1]</p>
</dd>
<dt><code>mfi_max</code></dt>
<dd>
<p>(<code>numeric(1)</code>)<br>
Maximum MFI used for scaling MFI values to the range [0, 1]</p>
</dd>
<dt><code>model</code></dt>
<dd>
<p>(<code>nplr</code>)<br>
Instance of the <code>nplr</code> model fitted to the data</p>
</dd>
<dt><code>log_dilution</code></dt>
<dd>
<p>(<code>logical()</code>)<br>
Indicator should the dilutions be transformed using the <code>log10</code> function</p>
</dd>
<dt><code>log_mfi</code></dt>
<dd>
<p>(<code>logical()</code>)<br>
Indicator should the MFI values be transformed using the <code>log10</code> function</p>
</dd>
<dt><code>scale_mfi</code></dt>
<dd>
<p>(<code>logical()</code>)<br>
Indicator should the MFI values be scaled to the range [0, 1]</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>top_asymptote</code></dt>
<dd>
<p>(<code>numeric(1)</code>)<br>
The top asymptote of the logistic curve</p>
</dd>
<dt><code>bottom_asymptote</code></dt>
<dd>
<p>(<code>numeric(1)</code>)<br>
The bottom asymptote of the logistic curve</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Model-new"><code>Model$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Model-predict"><code>Model$predict()</code></a>
</p>
</li>
<li> <p><a href="#method-Model-get_plot_data"><code>Model$get_plot_data()</code></a>
</p>
</li>
<li> <p><a href="#method-Model-print"><code>Model$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Model-clone"><code>Model$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Model-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a new instance of Model R6 class
</p>


<h5>Usage</h5>

<div class="r"><pre>Model$new(
  analyte,
  dilutions,
  mfi,
  npars = 5,
  verbose = TRUE,
  log_dilution = TRUE,
  log_mfi = TRUE,
  scale_mfi = TRUE,
  mfi_min = NULL,
  mfi_max = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>analyte</code></dt>
<dd>
<p>(<code>character(1)</code>)<br>
Name of the analyte for which the model was fitted.</p>
</dd>
<dt><code>dilutions</code></dt>
<dd>
<p>(<code>numeric()</code>)<br>
Dilutions used to fit the model</p>
</dd>
<dt><code>mfi</code></dt>
<dd>
<p>MFI (<code>numeric()</code>)<br>
values used to fit the model</p>
</dd>
<dt><code>npars</code></dt>
<dd>
<p>(<code>numeric(1)</code>)<br>
Number of parameters to use in the model</p>
</dd>
<dt><code>verbose</code></dt>
<dd>
<p>(<code>logical()</code>)<br>
If <code>TRUE</code> prints messages, <code>TRUE</code> by default</p>
</dd>
<dt><code>log_dilution</code></dt>
<dd>
<p>(<code>logical()</code>)<br>
If <code>TRUE</code> the dilutions are transformed using the <code>log10</code> function, <code>TRUE</code> by default</p>
</dd>
<dt><code>log_mfi</code></dt>
<dd>
<p>(<code>logical()</code>)<br>
If <code>TRUE</code> the MFI values are transformed using the <code>log10</code> function, <code>TRUE</code> by default</p>
</dd>
<dt><code>scale_mfi</code></dt>
<dd>
<p>(<code>logical()</code>)<br>
If <code>TRUE</code> the MFI values are scaled to the range [0, 1], <code>TRUE</code> by default</p>
</dd>
<dt><code>mfi_min</code></dt>
<dd>
<p>(<code>numeric(1)</code>)<br>
Enables to set the minimum MFI value used for scaling MFI values to the range [0, 1].
Use values before any transformations (e.g., before the <code>log10</code> transformation)</p>
</dd>
<dt><code>mfi_max</code></dt>
<dd>
<p>(<code>numeric(1)</code>)<br>
Enables to set the maximum MFI value used for scaling MFI values to the range [0, 1].
Use values before any transformations (e.g., before the <code>log10</code> transformation)</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Model-predict"></a>



<h4>Method <code>predict()</code>
</h4>

<p>Predict the dilutions from the MFI values
</p>


<h5>Usage</h5>

<div class="r"><pre>Model$predict(mfi)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>mfi</code></dt>
<dd>
<p>(<code>numeric()</code>)<br>
MFI values for which we want to predict the dilutions.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>(<code>data.frame()</code>)<br>
Dataframe with the predicted dilutions, MFI values, and the 97.5% confidence intervals
The columns are named as follows:
</p>

<ul>
<li> <p><code>dilution</code> - the dilution value
</p>
</li>
<li> <p><code>dilution.025</code> - the lower bound of the confidence interval
</p>
</li>
<li> <p><code>dilution.975</code> - the upper bound of the confidence interval
</p>
</li>
<li> <p><code>MFI</code> - the predicted MFI value
</p>
</li>
</ul>
<hr>
<a id="method-Model-get_plot_data"></a>



<h4>Method <code>get_plot_data()</code>
</h4>

<p>Data that can be used to plot the standard curve.
</p>


<h5>Usage</h5>

<div class="r"><pre>Model$get_plot_data()</pre></div>



<h5>Returns</h5>

<p>(<code>data.frame()</code>)<br>
Prediction dataframe for scaled MFI (or logMFI) values in the range [0, 1].
Columns are named as in the <code>predict</code> method
</p>


<hr>
<a id="method-Model-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Function prints the basic information about the model
such as the number of parameters or samples used
</p>


<h5>Usage</h5>

<div class="r"><pre>Model$print()</pre></div>


<hr>
<a id="method-Model-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Model$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">plate_file &lt;- system.file("extdata", "CovidOISExPONTENT.csv", package = "PvSTATEM")
layout_file &lt;- system.file("extdata", "CovidOISExPONTENT_layout.csv", package = "PvSTATEM")
plate &lt;- read_luminex_data(plate_file, layout_filepath = layout_file)
model &lt;- create_standard_curve_model_analyte(plate, "S2", log_mfi = TRUE)
print(model)

</code></pre>


</div>