<div class="container">

<table style="width: 100%;"><tr>
<td>query_range</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate an expression query over a range of time.</h2>

<h3>Description</h3>

<p>Evaluate an expression query over a range of time.
</p>


<h3>Usage</h3>

<pre><code class="language-R">query_range(
  query,
  start,
  end,
  host = "http://127.0.0.1:9090",
  step = "10s",
  timeout = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>A PromQL query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>A RFC3339 timestamp string, numerical unix timestamp, or POSIXct
object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>A RFC3339 timestamp string, numerical unix timestamp, or POSIXct
object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>host</code></td>
<td>
<p>An optional host - defaulting to <code style="white-space: pre;">⁠http://127.0.0.1:9090⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step</code></td>
<td>
<p>An optional query resolution step width, defaulting to <code style="white-space: pre;">⁠10s⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>An optional query timeout value, defaulting to server-side
limit. Note this timeout is capped to the server-side value.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble of all series returned by the server, with nested
measurements.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Run a simple range query against the specified host.
query_range(
  "up",
  "2022-08-20T00:00:00Z",
  "2022-08-21T00:00:00Z",
  host = "http://127.0.0.1:9090"
)

# Run a server-side aggregation query, using the default local host.
query_range(
  "rate(http_requests_total[5m])",
  "2022-08-20T00:00:00Z",
  "2022-08-21T00:00:00Z"
)

# Specify the time range using POSIXct objects, and set the optional "step"
query_range(
  "rate(http_requests_total[5m])",
  strptime(
    "2022-08-20T20:10:30",
    format = "%Y-%m-%dT%H:%M:%S"
  ),
  strptime(
    "2022-08-21T20:10:30",
    format = "%Y-%m-%dT%H:%M:%S"
  ),
  step = "30s"
)

# Specify the time range using unix timestamps, and set an optional "timeout"
query_range(
  "rate(http_requests_total[5m])",
  1660989814,
  1661076214,
  timeout = "60s"
)

## End(Not run)
</code></pre>


</div>