<div class="container">

<table style="width: 100%;"><tr>
<td>parcats</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>create plotly parallel categories diagram from alluvial plot</h2>

<h3>Description</h3>

<p>creates an interactive parallel categories diagram from an 'easyalluvial'
plot using the 'plotly.js' library
</p>


<h3>Usage</h3>

<pre><code class="language-R">parcats(
  p,
  marginal_histograms = TRUE,
  data_input = NULL,
  imp = TRUE,
  width = NULL,
  height = NULL,
  elementId = NULL,
  hoveron = "color",
  hoverinfo = "count+probability",
  arrangement = "perpendicular",
  bundlecolors = TRUE,
  sortpaths = "forward",
  labelfont = list(size = 24, color = "black"),
  tickfont = NULL,
  offset_marginal_histograms = 0.7,
  offset_imp = 0.9
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>alluvial plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginal_histograms</code></td>
<td>
<p>logical, add marginal histograms, Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_input</code></td>
<td>
<p>dataframe, data used to create alluvial plot, Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>imp</code></td>
<td>
<p>dataframe, with not more then two columns one of them numeric
containing importance measures and one character or factor column containing
corresponding variable names as found in training data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>integer, htmlwidget width in pixels, Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>integer, htmlwidget height in pixels, Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elementId</code></td>
<td>
<p>, htmlwidget elementid, Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hoveron</code></td>
<td>
<p>character, one of c('category', 'color', 'dimension'), Sets the
hover interaction mode for the parcats diagram.', 'If 'category', hover
interaction take place per category.', 'If 'color', hover interactions take
place per color per category.', 'If 'dimension', hover interactions take
place across all categories per dimension., Default: 'color'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hoverinfo</code></td>
<td>
<p>character, one of c('count', 'probability',
'count+probability') set info displayed on mouse hover Default:
'count+probability'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrangement, </code></td>
<td>
<p>character, one of c('perpendicular', 'freeform', 'fixed')
'Sets the drag interaction mode for categories and dimensions.', 'If
'perpendicular', the categories can only move along a line perpendicular to
the paths.', 'If ‘freeform', the categories can freely move on the plane.’,
'If ‘fixed', the categories and dimensions are stationary.’, Default:
'perpendicular'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bundlecolors</code></td>
<td>
<p>logical, 'Sort paths so that like colors are bundled
together within each category.', Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortpaths</code></td>
<td>
<p>character, one of c('forward', 'backward'), 'Sets the path
sorting algorithm.', 'If 'forward', sort paths based on dimension categories
from left to right.', Default: 'forward' 'If 'backward', sort paths based on
dimensions categories from right to left.'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelfont</code></td>
<td>
<p>list, 'Sets the font for the ‘dimension' labels.’, Default:
list(size = 24, color = 'black')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tickfont</code></td>
<td>
<p>list, Sets the font for the ‘category' labels.’, Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset_marginal_histograms</code></td>
<td>
<p>double, height ratio reserved for parcats
diagram, Default: 0.8</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset_imp</code></td>
<td>
<p>double, width ratio reserved for parcats diagram, Default:
0.9</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>most parameters are best left at default values
</p>


<h3>Value</h3>

<p>htmlwidget
</p>


<h3>See Also</h3>

<p><code>alluvial_wide</code>
, <code>alluvial_long</code>
, <code>alluvial_model_response</code>
, <code>alluvial_model_response_caret</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

library(easyalluvial)

# alluvial wide ---------------------------------
p = alluvial_wide(mtcars2, max_variables = 5)

parcats(p, marginal_histograms = FALSE)

parcats(p, marginal_histograms = TRUE, data_input = mtcars2)

if(check_pkg_installed("randomForest", raise_error = FALSE)) {
  # alluvial for model response --------------------
  df = mtcars2[, ! names(mtcars2) %in% 'ids' ]
  m = randomForest::randomForest( disp ~ ., df)
  imp = m$importance
  dspace = get_data_space(df, imp, degree = 3)
  pred = predict(m, newdata = dspace)
  p = alluvial_model_response(pred, dspace, imp, degree = 3)

  parcats(p, marginal_histograms = TRUE, imp = TRUE, data_input = df)
}


</code></pre>


</div>