<div class="container">

<table style="width: 100%;"><tr>
<td>pg_search</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search the Pangaea database</h2>

<h3>Description</h3>

<p>Search the Pangaea database
</p>


<h3>Usage</h3>

<pre><code class="language-R">pg_search(
  query,
  count = 10,
  offset = 0,
  topic = NULL,
  bbox = NULL,
  mindate = NULL,
  maxdate = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>(character) Query terms. You can refine a search by prefixing
the term(s) with a category, one of citation, reference, parameter, event,
project, campaign, or basis. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count</code></td>
<td>
<p>(integer) Number of items to return. Default: 10. Maximum: 500.
Use <code>offset</code> parameter to page through results - see examples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>(integer) Record number to start at. Default: 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topic</code></td>
<td>
<p>(character) topic area: one of NULL (all areas), "Agriculture",
"Atomosphere", "Biological Classification", "Biospshere", "Chemistry",
"Cryosphere", "Ecology", "Fisheries", "Geophysics", "Human Dimensions",
"Lakes &amp; Rivers", "Land Surface", "Lithosphere", "Oceans", "Paleontology"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bbox</code></td>
<td>
<p>(numeric) A bounding box, of the form: minlon, minlat, maxlon,
maxlat</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mindate, maxdate</code></td>
<td>
<p>(character) Dates to search for, of the form
"2014-10-28"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Curl options passed on to crul::verb-GET</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a thin wrapper around the GUI search interface on the page
<a href="https://www.pangaea.de">https://www.pangaea.de</a>. Everything you can do there, you can do here.
</p>


<h3>Value</h3>

<p>tibble/data.frame with the structure:
</p>

<ul>
<li>
<p> score: match score, higher is a better match
</p>
</li>
<li>
<p> doi: the DOI for the data package
</p>
</li>
<li>
<p> size: size number
</p>
</li>
<li>
<p> size_measure: size measure, one of "data points" or "datasets"
</p>
</li>
<li>
<p> citation: citation for the data package
</p>
</li>
<li>
<p> supplement_to: citation for what the data package is a supplement to
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>pg_search_es()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
pg_search(query='water')
pg_search(query='water', count=2)
pg_search(query='water', count=20)
pg_search(query='water', mindate="2013-06-01", maxdate="2013-07-01")
pg_search(query='water', bbox=c(-124.2, 41.8, -116.8, 46.1))
pg_search(query='reference:Archer')
pg_search(query='parameter:"carbon dioxide"')
pg_search(query='event:M2-track')
pg_search(query='event:TT011_2-CTD31')
pg_search(query='project:Joint Global Ocean Flux Study')
pg_search(query='campaign:M2')
pg_search(query='basis:Meteor')

# paging with count and offset
# max is 500 records per request - if you need &gt; 500, use offset and count
res1 &lt;- pg_search(query = "florisphaera", count = 500, offset = 0)
res2 &lt;- pg_search(query = "florisphaera", count = 500, offset = 500)
res3 &lt;- pg_search(query = "florisphaera", count = 500, offset = 1000)
do.call("rbind.data.frame", list(res1, res2, res3))

# get attributes: maxScore, totalCount, and offset
res &lt;- pg_search(query='water', bbox=c(-124.2, 41.8, -116.8, 46.1))
attributes(res)
attr(res, "maxScore")
attr(res, "totalCount")
attr(res, "offset")

# curl options
pg_search(query='citation:Archer', verbose = TRUE)

## End(Not run)
</code></pre>


</div>