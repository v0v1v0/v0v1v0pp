<div class="container">

<table style="width: 100%;"><tr>
<td>PLS_lm_wvc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Light version of PLS_lm for cross validation purposes</h2>

<h3>Description</h3>

<p>Light version of <code>PLS_lm</code> for cross validation purposes either on
complete or incomplete datasets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PLS_lm_wvc(
  dataY,
  dataX,
  nt = 2,
  dataPredictY = dataX,
  modele = "pls",
  scaleX = TRUE,
  scaleY = NULL,
  keepcoeffs = FALSE,
  keepstd.coeffs = FALSE,
  tol_Xi = 10^(-12),
  weights,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataY</code></td>
<td>
<p>response (training) dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataX</code></td>
<td>
<p>predictor(s) (training) dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nt</code></td>
<td>
<p>number of components to be extracted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataPredictY</code></td>
<td>
<p>predictor(s) (testing) dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modele</code></td>
<td>
<p>name of the PLS model to be fitted, only (<code>"pls"</code>
available for this fonction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleX</code></td>
<td>
<p>scale the predictor(s) : must be set to TRUE for
<code>modele="pls"</code> and should be for glms pls.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleY</code></td>
<td>
<p>scale the response : Yes/No. Ignored since non always possible
for glm responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepcoeffs</code></td>
<td>
<p>whether the coefficients of unstandardized eXplanatory
variables should be returned or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepstd.coeffs</code></td>
<td>
<p>whether the coefficients of standardized eXplanatory
variables should be returned or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol_Xi</code></td>
<td>
<p>minimal value for Norm2(Xi) and <code class="reqn">\mathrm{det}(pp' \times
pp)</code> if there is any missing value in the <code>dataX</code>. It
defaults to <code class="reqn">10^{-12}</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>an optional vector of 'prior weights' to be used in the
fitting process. Should be <code>NULL</code> or a numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>should info messages be displayed ?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is called by <code>PLS_lm_kfoldcv</code> in order to perform
cross-validation either on complete or incomplete datasets.
</p>
<p>Non-NULL weights can be used to indicate that different observations have
different dispersions (with the values in weights being inversely
proportional to the dispersions); or equivalently, when the elements of
weights are positive integers w_i, that each response y_i is the mean of w_i
unit-weight observations.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>valsPredict</code></td>
<td>
<p><code>nrow(dataPredictY) * nt</code> matrix of the
predicted values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list("coeffs")</code></td>
<td>
<p> If the coefficients of the
eXplanatory variables were requested:<br> i.e. <code>keepcoeffs=TRUE</code>.<br><code>ncol(dataX) * 1</code> matrix of the coefficients of the the eXplanatory
variables</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Use <code>PLS_lm_kfoldcv</code> for a wrapper in view of
cross-validation.
</p>


<h3>Author(s)</h3>

<p>Frédéric Bertrand<br><a href="mailto:frederic.bertrand@utt.fr">frederic.bertrand@utt.fr</a><br><a href="https://fbertran.github.io/homepage/">https://fbertran.github.io/homepage/</a>
</p>


<h3>References</h3>

<p>Nicolas Meyer, Myriam Maumy-Bertrand et
Frédéric Bertrand (2010). Comparing the linear and the
logistic PLS regression with qualitative predictors: application to
allelotyping data. <em>Journal de la Societe Francaise de Statistique</em>,
151(2), pages 1-18.
<a href="http://publications-sfds.math.cnrs.fr/index.php/J-SFdS/article/view/47">http://publications-sfds.math.cnrs.fr/index.php/J-SFdS/article/view/47</a>
</p>


<h3>See Also</h3>

<p><code>PLS_lm</code> for more detailed results,
<code>PLS_lm_kfoldcv</code> for cross-validating models and
<code>PLS_glm_wvc</code> for the same function dedicated to plsRglm models
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(Cornell)
XCornell&lt;-Cornell[,1:7]
yCornell&lt;-Cornell[,8]
PLS_lm_wvc(dataY=yCornell,dataX=XCornell,nt=3,dataPredictY=XCornell[1,])
PLS_lm_wvc(dataY=yCornell[-c(1,2)],dataX=XCornell[-c(1,2),],nt=3,dataPredictY=XCornell[c(1,2),],
verbose=FALSE)
PLS_lm_wvc(dataY=yCornell[-c(1,2)],dataX=XCornell[-c(1,2),],nt=3,dataPredictY=XCornell[c(1,2),],
keepcoeffs=TRUE, verbose=FALSE)
rm("XCornell","yCornell")

## With an incomplete dataset (X[1,2] is NA)
data(pine)
ypine &lt;- pine[,11]
data(XpineNAX21)
PLS_lm_wvc(dataY=ypine[-1],dataX=XpineNAX21[-1,],nt=3, verbose=FALSE)
PLS_lm_wvc(dataY=ypine[-1],dataX=XpineNAX21[-1,],nt=3,dataPredictY=XpineNAX21[1,], verbose=FALSE)
PLS_lm_wvc(dataY=ypine[-2],dataX=XpineNAX21[-2,],nt=3,dataPredictY=XpineNAX21[2,], verbose=FALSE)
PLS_lm_wvc(dataY=ypine,dataX=XpineNAX21,nt=3, verbose=FALSE)
rm("ypine")

</code></pre>


</div>