<div class="container">

<table style="width: 100%;"><tr>
<td>NRadjClass</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Class-based nonresponse adjustments
</h2>

<h3>Description</h3>

<p>Compute separate nonresponse adjustments in a set of classes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">NRadjClass(ID, NRclass, resp, preds=NULL, wts=NULL, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>identification value for a unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NRclass</code></td>
<td>
<p>vector of classes to use for nonresponse adjustment. Length is number of respondents plus nonrespondents</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp</code></td>
<td>
<p>indicator for whether unit is a nonrespondent (must be coded 0) or respondent (must be coded 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preds</code></td>
<td>
<p>response probabilities, typically estimated from a binary regression model as in <code>pclass</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wts</code></td>
<td>
<p>vector of survey weights, typically base weights or base weights adjusted for unknown eligibility</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of adjustment computed within each value of <code>NRclass</code>. Allowable codes are 1, 2, 3, 4, or 5.
(1 = unweighted average of response propensities, i.e., <code>preds</code>;
2 = weighted average response propensity;
3 = unweighted response rate;
4 = weighted response rate;
5 = median response propensity)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The input vectors should include both respondents and nonrespondents in a sample. A single value between 0 and 1 is computed in each nonresponse adjustment class to be used as a nonresponse adjustment. Five alternatives are available for computing the adjustment based on the value of <code>type</code>. The value of the adjustment is merged with individual unit data and stored in the <code>RR</code> field of the output data frame.
</p>


<h3>Value</h3>

<p>A data frame of respondents only with four columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>NRcl.no</code></td>
<td>
<p>number of the nonresponse adjustment class for each unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>identification value for a unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp</code></td>
<td>
<p>value of the <code>resp</code> variable (always 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RR</code></td>
<td>
<p>nonresponse adjustment for each unit</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Richard Valliant, Jill A. Dever, Frauke Kreuter
</p>


<h3>References</h3>

<p>Valliant, R., Dever, J., Kreuter, F. (2018, chap. 13).  <em>Practical Tools for Designing and Weighting Survey Samples, 2nd edition</em>. New York: Springer.
</p>


<h3>See Also</h3>

<p><code>pclass</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">require(PracTools)
data(nhis)
out &lt;- pclass(formula = resp ~ age + as.factor(sex) + as.factor(hisp) + as.factor(race),
         data = nhis, type = "unwtd", link="logit", numcl=5)
    # unweighted average of response propensities within each class
zz &lt;- NRadjClass(ID=nhis[,"ID"], NRclass = as.numeric(out$p.class), resp=nhis[,"resp"],
            preds=out$propensities, wts=NULL, type=1)
</code></pre>


</div>