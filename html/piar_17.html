<div class="container">

<table style="width: 100%;"><tr>
<td>as_index</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coerce to a price index</h2>

<h3>Description</h3>

<p>Coerce pre-computed index values into an index object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_index(x, ...)

## Default S3 method:
as_index(x, ...)

## S3 method for class 'matrix'
as_index(x, ..., chainable = TRUE, contrib = FALSE)

## S3 method for class 'data.frame'
as_index(x, ...)

## S3 method for class 'chainable_piar_index'
as_index(x, ..., chainable = TRUE)

## S3 method for class 'direct_piar_index'
as_index(x, ..., chainable = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object to coerce into a price index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to or used by methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chainable</code></td>
<td>
<p>Are the index values in <code>x</code> period-over-period
indexes, suitable for a chained calculation (the default)? This should be
<code>FALSE</code> when <code>x</code> is a fixed-base (direct) index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrib</code></td>
<td>
<p>Should the index values in <code>x</code> be used to construct
percent-change contributions? The default does not make contributions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Numeric matrices are coerced into an index object by treating each column as
a separate time period, and each row as a separate level of the index (e.g.,
an elemental aggregate). Column names
are used to denote time periods, and row names are used to denote levels
(so they must be unique). This essentially reverses calling
<code>as.matrix()</code> on an index object. If a
dimension is unnamed, then it is given a sequential label from 1 to the size
of that dimension. The default method coerces <code>x</code> to a matrix prior to
using the matrix method.
</p>
<p>The data frame method for <code>as_index()</code> is best understood as reversing
the effect of <code>as.data.frame()</code> on an
index object. It constructs a matrix by taking the levels of
<code>x[[1]]</code> as columns and the levels of <code>x[[2]]</code> as rows
(coercing to a factor if necessary). It then populates this matrix with the
corresponding values in <code>x[[3]]</code>, and uses the matrix method for
<code>as_index()</code>.
</p>
<p>If <code>x</code> is a period-over-period index then it is returned unchanged when
<code>chainable = TRUE</code> and chained otherwise. Similarly, if <code>x</code> is a
fixed-base index then it is returned unchanged when
<code>chainable = FALSE</code> and unchain otherwise.
</p>


<h3>Value</h3>

<p>A price index that inherits from
<code>piar_index</code>. If <code>chainable = TRUE</code> then this is a
period-over-period price index that also inherits from
<code>chainable_piar_index</code>; otherwise, it is a fixed-base index that
inherits from <code>direct_piar_index</code>.
</p>


<h3>See Also</h3>

<p><code>as.matrix()</code> and
<code>as.data.frame()</code> for coercing an index
into a tabular form.
</p>


<h3>Examples</h3>

<pre><code class="language-R">prices &lt;- data.frame(
  rel = 1:8,
  period = rep(1:2, each = 4),
  ea = rep(letters[1:2], 4)
)

index &lt;- elemental_index(prices, rel ~ period + ea)

all.equal(as_index(as.data.frame(index)), index)
all.equal(as_index(as.matrix(index)), index)

</code></pre>


</div>