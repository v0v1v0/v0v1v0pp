<div class="container">

<table style="width: 100%;"><tr>
<td>cmine</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Mining contexts </h2>

<h3>Description</h3>

<p>Extracting contexts in a PST satisfying user defined criterion
</p>


<h3>Usage</h3>

<pre><code class="language-R">	## S4 method for signature 'PSTf'
cmine(object, l, pmin, pmax, state, as.tree=FALSE, delete=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>A probabilistic suffix tree, i.e., an object of class <code>"PSTf"</code> as returned by the <code>pstree</code>, <code>prune</code> or <code>tune</code> function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>

<p>length of the context to search for.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pmin</code></td>
<td>

<p>numeric. Minimal probability for selecting the (sub)sequence.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pmax</code></td>
<td>

<p>numeric. Maximal probability for selecting the (sub)sequence.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>

<p>character. One or several states of the alphabet for which the (cumulated) probability is greater than <code>pmin</code> or less than <code>pmax</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.tree</code></td>
<td>

<p>logical. If <code>TRUE</code> the <code>cmine</code> method returns a subtree of the PST given as input with selected contexts (including their parent nodes, even if these don't statistify the defined criterion). If <code>FALSE</code> the output is the list of selected contexts. See value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delete</code></td>
<td>

<p>Logical. If <code>as.tree=TRUE</code> and <code>delete=FALSE</code>, the pruned nodes are not removed from the tree but tagged as pruned=FALSE, so that when plotting the pruned tree these nodes wil appear surrounded with red (can be set to another color) lines.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>as.tree=TRUE</code> a PST, that is an object of class <code>PSTf</code> which can be printed and plotted; if <code>as.tree=FALSE</code> a list of contexts with their associated next symbol probability distribution, that is an object of class <code>cprobd.list</code> for which a <code>plot</code> method is available. Subscripts can be used to select subsets of the contexts, see examples. 
</p>


<h3>details</h3>

<p>The <code>cmine</code> function searches in the tree for nodes fulfilling certain characteristics, for example contexts that are highly likely to be followed by a given state (see example 1). One can also mine for contexts corresponding to a minimum or maximum probability for several states together (see example 2). For more details, see <cite>Gabadinho 2016</cite>.
</p>


<h3>Author(s)</h3>

<p>Alexis Gabadinho
</p>


<h3>References</h3>

<p>Gabadinho, A. &amp; Ritschard, G. (2016). Analyzing State Sequences with Probabilistic Suffix Trees: The PST R Package. <em>Journal of Statistical Software</em>, <b>72</b>(3), pp. 1-39.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Loading the SRH.seq sequence object
data(SRH)

## Learning the model
SRH.pst &lt;- pstree(SRH.seq, nmin=30, ymin=0.001)

## Example 1: searching for all contexts yielding a probability of the 
## state G1 (very good health) of at least pmin=0.5
cm1 &lt;- cmine(SRH.pst, pmin=0.5, state="G1")
cm1[1:10]

## Example 2: contexts associated with a high probability of 
## medium or lower self rated health 
cm2 &lt;- cmine(SRH.pst, pmin=0.5, state=c("B1", "B2", "M"))
plot(cm2, tlim=0, main="(a) p(B1,B2,M)&gt;0.5")
</code></pre>


</div>