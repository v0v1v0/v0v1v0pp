<div class="container">

<table style="width: 100%;"><tr>
<td>kalman</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Ensemble Kalman filters</h2>

<h3>Description</h3>

<p>The ensemble Kalman filter and ensemble adjustment Kalman filter.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'data.frame'
enkf(
  data,
  Np,
  params,
  rinit,
  rprocess,
  emeasure,
  vmeasure,
  ...,
  verbose = getOption("verbose", FALSE)
)

## S4 method for signature 'pomp'
enkf(data, Np, ..., verbose = getOption("verbose", FALSE))

## S4 method for signature 'kalmand_pomp'
enkf(data, Np, ..., verbose = getOption("verbose", FALSE))

## S4 method for signature 'data.frame'
eakf(
  data,
  Np,
  params,
  rinit,
  rprocess,
  emeasure,
  vmeasure,
  ...,
  verbose = getOption("verbose", FALSE)
)

## S4 method for signature 'pomp'
eakf(data, Np, ..., verbose = getOption("verbose", FALSE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>either a data frame holding the time series data,
or an object of class ‘pomp’,
i.e., the output of another <span class="pkg">pomp</span> calculation.
Internally, <code>data</code> will be coerced to an array with storage-mode <code>double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Np</code></td>
<td>
<p>integer; the number of particles to use, i.e., the size of the ensemble.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>optional; named numeric vector of parameters.
This will be coerced internally to storage mode <code>double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rinit</code></td>
<td>
<p>simulator of the initial-state distribution.
This can be furnished either as a C snippet, an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function, or the name of a pre-compiled native routine available in a dynamically loaded library.
Setting <code>rinit=NULL</code> sets the initial-state simulator to its default.
For more information, see rinit specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rprocess</code></td>
<td>
<p>simulator of the latent state process, specified using one of the rprocess plugins.
Setting <code>rprocess=NULL</code> removes the latent-state simulator.
For more information, see rprocess specification for the documentation on these plugins.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emeasure</code></td>
<td>
<p>the expectation of the measured variables, conditional on the latent state.
This can be specified as a C snippet, an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function, or the name of a pre-compiled native routine available in a dynamically loaded library.
Setting <code>emeasure=NULL</code> removes the emeasure component.
For more information, see emeasure specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vmeasure</code></td>
<td>
<p>the covariance of the measured variables, conditional on the latent state.
This can be specified as a C snippet, an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function, or the name of a pre-compiled native routine available in a dynamically loaded library.
Setting <code>vmeasure=NULL</code> removes the vmeasure component.
For more information, see vmeasure specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments are passed to <code>pomp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; if <code>TRUE</code>, diagnostic messages will be printed to the console.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class ‘kalmand_pomp’.
</p>


<h3>Note for Windows users</h3>

<p>Some Windows users report problems when using C snippets in parallel computations.
These appear to arise when the temporary files created during the C snippet compilation process are not handled properly by the operating system.
To circumvent this problem, use the <code>cdir</code> and <code>cfile</code> options to cause the C snippets to be written to a file of your choice, thus avoiding the use of temporary files altogether.
</p>


<h3>Author(s)</h3>

<p>Aaron A. King
</p>


<h3>References</h3>

<p>G. Evensen. Sequential data assimilation with a nonlinear quasi-geostrophic model using Monte Carlo methods to forecast error statistics. <em>Journal of Geophysical Research: Oceans</em> <b>99</b>, 10143–10162, 1994. <a href="https://doi.org/10.1029/94JC00572">doi:10.1029/94JC00572</a>.
</p>
<p>J.L. Anderson. An ensemble adjustment Kalman filter for data assimilation. <em>Monthly Weather Review</em> <b>129</b>, 2884–2903, 2001. <a href="https://doi.org/10.1175/1520-0493%282001%29129%3C2884%3AAEAKFF%3E2.0.CO%3B2">doi:10.1175/1520-0493(2001)129&lt;2884:AEAKFF&gt;2.0.CO;2</a>.
</p>
<p>G. Evensen. <em>Data assimilation: the ensemble Kalman filter</em>. Springer-Verlag, 2009. <a href="https://doi.org/10.1007/978-3-642-03711-5">doi:10.1007/978-3-642-03711-5</a>.
</p>


<h3>See Also</h3>

<p><code>kalmanFilter</code>
</p>
<p>More on sequential Monte Carlo methods: 
<code>bsmc2()</code>,
<code>cond_logLik()</code>,
<code>eff_sample_size()</code>,
<code>filter_mean()</code>,
<code>filter_traj()</code>,
<code>mif2()</code>,
<code>pfilter()</code>,
<code>pmcmc()</code>,
<code>pred_mean()</code>,
<code>pred_var()</code>,
<code>saved_states()</code>,
<code>wpfilter()</code>
</p>
<p>More on <span class="pkg">pomp</span> elementary algorithms: 
<code>elementary_algorithms</code>,
<code>pfilter()</code>,
<code>pomp-package</code>,
<code>probe()</code>,
<code>simulate()</code>,
<code>spect()</code>,
<code>trajectory()</code>,
<code>wpfilter()</code>
</p>


</div>