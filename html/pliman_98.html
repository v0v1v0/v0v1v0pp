<div class="container">

<table style="width: 100%;"><tr>
<td>mosaic_crop</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Crop a mosaic</h2>

<h3>Description</h3>

<p>Crop a <code>SpatRaster</code> object based on user-defined selection using an
interactive map or plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mosaic_crop(
  mosaic,
  r = 3,
  g = 2,
  b = 1,
  re = 4,
  nir = 5,
  show = c("rgb", "index"),
  index = "R",
  max_pixels = 5e+05,
  downsample = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mosaic</code></td>
<td>
<p>A mosaic of class <code>SpatRaster</code>, generally imported with
<code>mosaic_input()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>The layer for the Red band (default: 3).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>The layer for the Green band (default: 2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>The layer for the Blue band (default: 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re</code></td>
<td>
<p>The layer for the Red-edge band (default: 4).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nir</code></td>
<td>
<p>The layer for the Near-infrared band(default: 5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show</code></td>
<td>
<p>The display option for the map view. Options are "rgb" for RGB
view and "index" for index view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>The index to use for the index view. Defaults to "B".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_pixels</code></td>
<td>
<p>Maximum number of pixels to render in the map or plot
(default: 500000).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downsample</code></td>
<td>
<p>Downsampling factor to reduce the number of pixels
(default: NULL). In this case, if the number of pixels in the image (width
x height) is greater than <code>max_pixels</code> a downsampling factor will be
automatically chosen so that the number of plotted pixels approximates the
<code>max_pixels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>mosaic_view()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses the <code>mosaic_view</code> function to display an
interactive map or plot of the mosaic raster, allowing users to draw a
rectangle to select the cropping area. The selected area is then cropped
from the input mosaic and returned as a new <code>SpatRaster</code> object.
</p>


<h3>Value</h3>

<p>A cropped version of <code>mosaic</code> based on the user-defined selection.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){
library(pliman)
# Load a raster showing the elevation of Luxembourg
mosaic &lt;- mosaic_input(system.file("ex/elev.tif", package="terra"))

# Generate an interactive map using 'mapview' (works only in an interactive section)
cropped &lt;- mosaic_crop(mosaic)
mosaic_view(cropped)
}

</code></pre>


</div>