<div class="container">

<table style="width: 100%;"><tr>
<td>pivot_wider</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pivot data from long to wide</h2>

<h3>Description</h3>

<p><code>pivot_wider()</code> "widens" data, increasing the number of columns and decreasing the number of rows. The inverse
transformation is <code>pivot_longer()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pivot_wider(
  data,
  id_cols = NULL,
  values_from = "Value",
  names_from = "Name",
  names_sep = "_",
  names_prefix = "",
  names_glue = NULL,
  values_fill = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code>. The data to pivot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_cols</code></td>
<td>
<p><code>character(1)</code>. The name of the column that identifies the rows. If <code>NULL</code>, it will use all the unique
rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values_from</code></td>
<td>
<p><code>character(n)</code>. The name of the column that contains the values to be used as future variable
values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_from</code></td>
<td>
<p><code>character(n)</code>. The name of the column(s) that contains the levels to be used as future column
names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_sep</code></td>
<td>
<p><code>character(1)</code>. If <code>names_from</code> or <code>values_from</code> contains multiple variables, this will be used to
join their values together into a single string to use as a column name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_prefix</code></td>
<td>
<p><code>character(1)</code>. String added to the start of every variable name. This is particularly useful if
<code>names_from</code> is a numeric vector and you want to create syntactic variable names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_glue</code></td>
<td>
<p><code>character(1)</code>. Instead of <code>names_sep</code> and <code>names_prefix</code>, you can supply a
<a href="https://glue.tidyverse.org/index.html">glue specification</a> that uses the <code>names_from</code> columns to create custom
column names. Note that the only delimiters supported by <code>names_glue</code> are curly brackets, <code style="white-space: pre;">⁠{⁠</code> and <code style="white-space: pre;">⁠}⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values_fill</code></td>
<td>
<p><code>numeric(n)</code>. Optionally, a (scalar) value that will be used to replace missing values in the new
columns created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not used for now.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If a tibble was provided as input, <code>pivot_wider()</code> also returns a
tibble. Otherwise, it returns a data frame.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data_long &lt;- read.table(header = TRUE, text = "
 subject sex condition measurement
       1   M   control         7.9
       1   M     cond1        12.3
       1   M     cond2        10.7
       2   F   control         6.3
       2   F     cond1        10.6
       2   F     cond2        11.1
       3   F   control         9.5
       3   F     cond1        13.1
       3   F     cond2        13.8
       4   M   control        11.5
       4   M     cond1        13.4
       4   M     cond2        12.9")


pivot_wider(
  data_long,
  id_cols = "subject",
  names_from = "condition",
  values_from = "measurement"
)

pivot_wider(
  data_long,
  id_cols = "subject",
  names_from = "condition",
  values_from = "measurement",
  names_prefix = "Var.",
  names_sep = "."
)

production &lt;- expand.grid(
  product = c("A", "B"),
  country = c("AI", "EI"),
  year = 2000:2014
) %&gt;%
  filter((product == "A" &amp; country == "AI") | product == "B") %&gt;%
  mutate(production = rnorm(nrow(.)))

pivot_wider(
  production,
  names_from = c("product", "country"),
  values_from = "production",
  names_glue = "prod_{product}_{country}"
)

</code></pre>


</div>