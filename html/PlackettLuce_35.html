<div class="container">

<table style="width: 100%;"><tr>
<td>pladmm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit a Plackett-Luce Model with Linear Predictor for Log-worth</h2>

<h3>Description</h3>

<p>Fit a Plackett-Luce model where the log-worth is predicted by a linear
function of covariates. The rankings may be partial
(each ranking completely ranks a subset of the items), but ties are not
supported.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pladmm(
  rankings,
  formula,
  data = NULL,
  weights = freq(rankings),
  start = NULL,
  contrasts = NULL,
  rho = 1,
  n_iter = 500,
  rtol = 1e-04
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rankings</code></td>
<td>
<p>a <code>"rankings"</code> object, or an object that can be
coerced by <code>as.rankings</code>. An <code>"aggregated_rankings"</code>
object can be used to specify rankings and weights simultaneously.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula specifying the linear model for log-worth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>weights for the rankings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>starting values for the coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts</code></td>
<td>
<p>an optional list specifying contrasts for the factors in
<code>formula</code>. See the <code>contrasts.arg</code> of <code>model.matrix()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>the penalty parameter in the penalized likelihood, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_iter</code></td>
<td>
<p>the maximum number of iterations (also for inner loops).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtol</code></td>
<td>
<p>the convergence tolerance (also for inner loops)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The log-worth is modelled as a linear function of item covariates:
</p>
<p style="text-align: center;"><code class="reqn">\log \alpha_i = \beta_0 + \beta_1 x_{i1} + \ldots + \beta_p x_{ip}</code>
</p>

<p>where <code class="reqn">\beta_0</code> is fixed by the constraint that
<code class="reqn">\sum_i \alpha_i = 1</code>.
</p>
<p>The parameters are estimated using an Alternating Directions Method of
Multipliers (ADMM) algorithm proposed by Yildiz (2020). ADMM alternates
between estimating the worths <code class="reqn">\alpha_i</code> and the linear
coefficients <code class="reqn">\beta_k</code>, encapsulating them in a quadratic penalty on the
likelihood:
</p>
<p style="text-align: center;"><code class="reqn">L(\boldsymbol{\beta}, \boldsymbol{\alpha}, \boldsymbol{u}) =
\mathcal{L}(\mathcal{D}|\boldsymbol{\alpha}) +
\frac{\rho}{2}||\boldsymbol{X}\boldsymbol{\beta} -
\log \boldsymbol{\alpha} + \boldsymbol{u}||^2_2 -
\frac{\rho}{2}||\boldsymbol{u}||^2_2</code>
</p>

<p>where <code class="reqn">\boldsymbol{u}</code> is a dual variable that imposes the equality
constraints (so that <code class="reqn">\log \boldsymbol{\alpha}</code> converges to
<code class="reqn">\boldsymbol{X}\boldsymbol{\beta}</code>).
</p>


<h3>Note</h3>

<p>This is a prototype function and the user interface is planned to
change in upcoming versions of PlackettLuce.
</p>


<h3>References</h3>

<p>Yildiz, I., Dy, J., Erdogmus, D., Kalpathy-Cramer, J., Ostmo, S.,
Campbell, J. P., Chiang, M. F. and Ioannidis, S. (2020) Fast and Accurate
Ranking Regression In Proceedings of the Twenty Third International
Conference on Artificial Intelligence and Statistics, <b>108</b>, 77â€“-88.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (require(prefmod)){
  data(salad)
  # data.frame of rankings for salad dressings A B C D
  # 1 = most tart, 4 = least tart
  salad[1:3,]

  # create data frame of corresponding features
  # (acetic and gluconic acid concentrations in salad dressings)
  features &lt;- data.frame(salad = LETTERS[1:4],
                         acetic = c(0.5, 0.5, 1, 0),
                         gluconic = c(0, 10, 0, 10))

  # fit Plackett-Luce model based on covariates
  res_PLADMM &lt;- pladmm(salad, ~ acetic + gluconic, data = features, rho = 8)
  ## coefficients
  coef(res_PLADMM)
  ## worth
  res_PLADMM$pi
  ## worth as predicted by linear function
  res_PLADMM$tilde_pi
  ## equivalent to
  drop(exp(res_PLADMM$x %*% coef(res_PLADMM)))

}

</code></pre>


</div>