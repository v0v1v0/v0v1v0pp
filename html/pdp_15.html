<div class="container">

<table style="width: 100%;"><tr>
<td>plotPartial</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting Partial Dependence Functions</h2>

<h3>Description</h3>

<p>Plots partial dependence functions (i.e., marginal effects) using
<code>lattice</code> graphics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotPartial(object, ...)

## S3 method for class 'ice'
plotPartial(
  object,
  center = FALSE,
  plot.pdp = TRUE,
  pdp.col = "red2",
  pdp.lwd = 2,
  pdp.lty = 1,
  rug = FALSE,
  train = NULL,
  ...
)

## S3 method for class 'cice'
plotPartial(
  object,
  plot.pdp = TRUE,
  pdp.col = "red2",
  pdp.lwd = 2,
  pdp.lty = 1,
  rug = FALSE,
  train = NULL,
  ...
)

## S3 method for class 'partial'
plotPartial(
  object,
  center = FALSE,
  plot.pdp = TRUE,
  pdp.col = "red2",
  pdp.lwd = 2,
  pdp.lty = 1,
  smooth = FALSE,
  rug = FALSE,
  chull = FALSE,
  levelplot = TRUE,
  contour = FALSE,
  contour.color = "white",
  col.regions = NULL,
  number = 4,
  overlap = 0.1,
  train = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object that inherits from the <code>"partial"</code> class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional optional arguments to be passed onto <code>dotplot</code>,
<code>levelplot</code>, <code>xyplot</code>, or <code>wireframe</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>Logical indicating whether or not to produce centered ICE
curves (c-ICE curves). Only useful when <code>object</code> represents a set of ICE
curves; see <code>partial</code> for details. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.pdp</code></td>
<td>
<p>Logical indicating whether or not to plot the partial
dependence function on top of the ICE curves. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdp.col</code></td>
<td>
<p>Character string specifying the color to use for the partial
dependence function when <code>plot.pdp = TRUE</code>. Default is <code>"red"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdp.lwd</code></td>
<td>
<p>Integer specifying the line width to use for the partial
dependence function when <code>plot.pdp = TRUE</code>. Default is <code>1</code>. See
<code>par</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdp.lty</code></td>
<td>
<p>Integer or character string specifying the line type to use
for the partial dependence function when  <code>plot.pdp = TRUE</code>. Default is
<code>1</code>. See <code>par</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rug</code></td>
<td>
<p>Logical indicating whether or not to include rug marks on the
predictor axes. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p>Data frame containing the original training data. Only required
if <code>rug = TRUE</code> or <code>chull = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Logical indicating whether or not to overlay a LOESS smooth.
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chull</code></td>
<td>
<p>Logical indicating whether or not to restrict the first two
variables in <code>pred.var</code> to lie within the convex hull of their training
values; this affects <code>pred.grid</code>. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levelplot</code></td>
<td>
<p>Logical indicating whether or not to use a false color level
plot (<code>TRUE</code>) or a 3-D surface (<code>FALSE</code>). Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contour</code></td>
<td>
<p>Logical indicating whether or not to add contour lines to the
level plot. Only used when <code>levelplot = TRUE</code>. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contour.color</code></td>
<td>
<p>Character string specifying the color to use for the
contour lines when <code>contour = TRUE</code>. Default is <code>"white"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.regions</code></td>
<td>
<p>Vector of colors to be passed on to
<code>levelplot</code>'s <code>col.region</code> argument. Defaults to
<code>grDevices::hcl.colors(100)</code> (which is the same viridis color palette
used in the past).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number</code></td>
<td>
<p>Integer specifying the number of conditional intervals to use
for the continuous panel variables. See <code>co.intervals</code>
and <code>equal.count</code> for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlap</code></td>
<td>
<p>The fraction of overlap of the conditioning variables. See
<code>co.intervals</code> and <code>equal.count</code>
for further details.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#
# Regression example (requires randomForest package to run)
#

# Load required packages
library(gridExtra)  # for `grid.arrange()`
library(magrittr)  # for forward pipe operator `%&gt;%`
library(randomForest)

# Fit a random forest to the Boston housing data
data (boston)  # load the boston housing data
set.seed(101)  # for reproducibility
boston.rf &lt;- randomForest(cmedv ~ ., data = boston)

# Partial dependence of cmedv on lstat
boston.rf %&gt;%
  partial(pred.var = "lstat") %&gt;%
  plotPartial(rug = TRUE, train = boston)

# Partial dependence of cmedv on lstat and rm
boston.rf %&gt;%
  partial(pred.var = c("lstat", "rm"), chull = TRUE, progress = TRUE) %&gt;%
  plotPartial(contour = TRUE, legend.title = "rm")

# ICE curves and c-ICE curves
age.ice &lt;- partial(boston.rf, pred.var = "lstat", ice = TRUE)
p1 &lt;- plotPartial(age.ice, alpha = 0.1)
p2 &lt;- plotPartial(age.ice, center = TRUE, alpha = 0.1)
grid.arrange(p1, p2, ncol = 2)

## End(Not run)
</code></pre>


</div>