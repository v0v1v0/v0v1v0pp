<div class="container">

<table style="width: 100%;"><tr>
<td>data_imputing</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Imputing missing and (optionally) zero prices.</h2>

<h3>Description</h3>

<p>This function imputes missing prices and (optionally) zero prices by using carry forward/backward prices.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data_imputing(data, start, end, zero_prices = TRUE, outlets = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The user's data frame with information about sold products. It must contain columns: <code>time</code> (as Date in format: year-month-day,e.g. '2020-12-01'), <code>prices</code> (as numeric), <code>quantities</code> (as numeric - for future calculations) and <code>prodID</code> (as numeric, factor or character). A column <code>retID</code> (as factor, character or numeric) is also needed if the User wants to impute prices over outlets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>The base period (as character) limited to the year and month, e.g. "2020-03".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>The research period (as character) limited to the year and month, e.g. "2020-04".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero_prices</code></td>
<td>
<p>A logical parameter indicating whether zero prices are to be imputed too (then it is set to TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlets</code></td>
<td>
<p>A logical parameter indicating whether imputations are to be done for each outlet separately (then it is set to TRUE).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function imputes missing prices (unit values) and (optionally) zero prices by using carry forward/backward prices. The imputation can be done for each outlet separately or for aggragated data (see the <code>outlets</code> parameter). If a missing product has a previous price then that previous price is carried forward until the next real observation. If there is no previous price then the next real observation is found and carried backward. The quantities for imputed prices are set to zeros. The function returns a data frame (monthly aggregated) which is ready for price index calculations.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Creating a small data set with zero prices:
time.&lt;-c("2018-12-01","2019-01-01")
time&lt;-as.Date(c(time., time.))
p1&lt;-c(0,23)
p2&lt;-c(14,0)
q1&lt;-c(15,25)
q2&lt;-c(44,79)
quantities&lt;-c(q1,q2)
prices&lt;-c(p1,p2)
prodID&lt;-c(1,1,2,2)
my_data&lt;-data.frame(time, prices, quantities, prodID)
# Price imputing:
data_imputing(my_data, start="2018-12", end="2019-01",
zero_prices=TRUE, outlets=FALSE)

# Preparing a data set with zero and missing prices:
dataMATCH$prodID&lt;-dataMATCH$codeIN 
data&lt;-dplyr::select(dataMATCH, time, prices, quantities, prodID, retID)
set1&lt;-data[1:5,]
set1$prices&lt;-0
set2&lt;-data[6:30,]
df&lt;-rbind(set1, set2)
# Price imputing:
data_imputing(df, start="2018-12", end="2019-03",
zero_prices=TRUE, outlets=TRUE)
</code></pre>


</div>