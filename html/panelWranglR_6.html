<div class="container">

<table style="width: 100%;"><tr>
<td>panel_lag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tidy panel lagging</h2>

<h3>Description</h3>

<p>Efficient, tidy panel lagging
</p>


<h3>Usage</h3>

<pre><code class="language-R">panel_lag(data, cross.section, time.variable = NULL, lags = 1,
  variables.selected = NULL, keep.original = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data input, anything coercible to a data.table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cross.section</code></td>
<td>
<p>The cross section argument, see examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.variable</code></td>
<td>
<p>The variable to indicate time in your panel. Defaults to NULL, though it is recommended to have a time variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lags</code></td>
<td>
<p>The lags to use in panel lagging.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables.selected</code></td>
<td>
<p>A variable selection for variables to lag, defaults to NULL and lags ALL variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.original</code></td>
<td>
<p>Whether to keep the original unlagged data, defaults to TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Works on a full data.table backend for maximum speed wherever possible.
</p>


<h3>Value</h3>

<p>The lagged data.table which contains either only the lagged variables, or also the original variables.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

X &lt;- matrix(rnorm(4000),800,5)
tim &lt;- seq(1:400)
geo_AT &lt;- rep(c("AT"), length = 400)
geo_NO &lt;- rep(c("NO"), length = 400)
both_vec_1 &lt;- cbind(tim,geo_NO)
both_vec_2 &lt;- cbind(tim,geo_AT)
both &lt;- rbind(both_vec_1,both_vec_2)
names(both[,"geo_NO"]) &lt;- "geo"
X &lt;- cbind(both,X)

panel_lag(data = X,
          cross.section = "geo_NO",
          time.variable = "tim",
          lags = 5,
          variables.selected = c("V5","tim", "V7"),
          keep.original = TRUE)



</code></pre>


</div>