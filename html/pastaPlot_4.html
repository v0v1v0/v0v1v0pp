<div class="container">

<table style="width: 100%;"><tr>
<td>pastaPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Spaghetti-plot fixed and random effects of linear mixed models</h2>

<h3>Description</h3>

<p><code>pastaPlot()</code> plots slopes for both fixed and random effects of linear mixed models from 'lme4' or 'glmmTMB' packages as a single spaghetti plot, optionally between conditions including confidence bands for fixed effects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pastaPlot(
  model = NULL,
  predictor = NULL,
  nested.in = NULL,
  group = NULL,
  legend.title = "Legend",
  group.labels = NULL,
  xlab = NULL,
  ylab = NULL,
  font.family = NULL,
  colors = NULL,
  ci.lvl = 0.95,
  ci.int = FALSE,
  ci.linetype = 0,
  lwd.fix = 1,
  lwd.ran = 0.5,
  xlab.inc = 0,
  xlab.int = NULL,
  ylim = NULL,
  opacity.ci = 0.25,
  opacity.ran = 0.3,
  colors.ci = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>lme4 or glmmTMB model object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor</code></td>
<td>
<p>(Character) Name of predictor (e.g., "time" or "math_score"), as it is present in the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nested.in</code></td>
<td>
<p>(Character) Name of the variable your time points or subjects are nested in (e.g.,"school" or "id")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>(Optional, character) The name of your grouping variable (e.g., "condition" or "gender")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>(Optional, character) Name of legend in plot (e.g., "Condition", or "Gender")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.labels</code></td>
<td>
<p>(Optional, vector of characters) Names of group labels to be displayed in the plot (e.g., c("Control", "Intervention"))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>(Optional, character) Label of x-axis (predictor) (e.g., "Time (days)")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>(Optional, character) Label of y-axis (dependant variable) (e.g., "GAF")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.family</code></td>
<td>
<p>(Optional, character) Name of the font family (e.g. "serif")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>(Optional, vector of characters) Set color of slopes. Length of vector should correspond to number of values in group variable (e.g., c("#5e9aff", "blue")). If no group variable is specified, pass a single color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lvl</code></td>
<td>
<p>(Optional, numeric) Set confidence interval (default: 0.95)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.int</code></td>
<td>
<p>(Optional, logical) Enable confidence (prediction) intervals, disabled by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.linetype</code></td>
<td>
<p>(Optional, numeric) Set linetype of confidence bands outline (default: 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.fix</code></td>
<td>
<p>(Optional, numeric) Line width of fixed effects (default: 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd.ran</code></td>
<td>
<p>(Optional, numeric) Line width of random effects (default: 0.5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab.inc</code></td>
<td>
<p>(Optional, numeric) Increment the displayed values of your predictor (e.g., xlab_int = 1 changes range of x from 0-29 to 1-30), set to 0 by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab.int</code></td>
<td>
<p>(Optional, numeric) Interval between displayed predictor values on x-axis (e.g., "1"), disabled by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>(Optional, numeric vector) Limited range of values on y-axis (e.g. c(1,5.5))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opacity.ci</code></td>
<td>
<p>(Optional, numeric) Set opacity of confidence bands in the range of 0 to 1 (default = 0.1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opacity.ran</code></td>
<td>
<p>(Optional, numeric) Set opacity of random slopes in the range of 0 to 1 (default = 0.4)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors.ci</code></td>
<td>
<p>(Optional, vector of characters) Set color of confidence bands. Length of vector should correspond to number of values in group variable (e.g., c("#5e9aff", "blue")). If no group variable is specified, pass a single color.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a ggplot2 plot object to further be modified
</p>


<h3>Examples</h3>

<pre><code class="language-R">lme4_model &lt;- lme4::lmer(CO2 ~ 1 + time*condition + (1 + time | id),
data=ecovia_data, REML = FALSE, control = lme4::lmerControl(optimizer = "bobyqa"))
pastaPlot(lme4_model, "time", "id", group = "condition", legend.title = "Condition",
group.labels = c("Control", "Intervention"), ci.int = TRUE, xlab = "Time (days)",
ylab = "CO2")

glmmTMB_model &lt;- glmmTMB::glmmTMB(math_score_y3 ~ 1 + math_score_y1*gender +
(1 + math_score_y1 | school), data=jsp_data, REML = FALSE)
pastaPlot(glmmTMB_model, "math_score_y1", "school", group = "gender",
legend.title = "Gender", group.labels = c("Male", "Female"), ci.int = FALSE,
xlab = "Math score (year 1)", ylab = "Math score (year 3)")
</code></pre>


</div>