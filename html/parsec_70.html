<div class="container">

<table style="width: 100%;"><tr>
<td>merge.wprof</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Merge two sets of profiles.
</h2>

<h3>Description</h3>

<p>Method of the function <code>merge</code> of package <code>base</code> to merge two objects of class <code>wprof</code> generated through functions <code>var2prof</code> or <code>pop2prof</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'wprof'
merge(x, y, support = FALSE, FUN = "+", all = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>

<p>objects of class <code>wprof</code> to be coerced to one.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>support</code></td>
<td>

<p>boolean variables specifying whether <code>y</code> is the support of <code>x</code> (<code>FALSE</code> by default).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>

<p>function to be applied to the profiles' frequencies (by default, FUN = <code>sum</code>). It is ignored if <code>support</code> is <code>TRUE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>

<p>same argument of function <code>merge</code>, by default set to <code>TRUE</code>, to get all possible profiles. If a profile is not observed in the data, its frequency is set to 0.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments to be passed to method <code>merge.data.frame</code> of the package <code>base</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Objects of class <code>wprof</code> are composed of a <code>data.frame</code> of profiles and a vector of frequencies. This method applies method <code>merge.data.frame</code> to the profiles and applies function <code>FUN</code> to the frequencies.
</p>
<p>If <code>support</code> is <code>TRUE</code>, function <code>merge.data.frame</code> is not used and the output corresponds to the object <code>y</code>, but with its frequencies modified. These are set equal to the frequencies of the corresponding profiles in <code>x</code>, or to 0 for profiles not contained in <code>x</code>.
</p>


<h3>Author(s)</h3>

<p>Arcagni A.
</p>


<h3>See Also</h3>


<p><code>merge</code>, <code>var2prof</code>, <code>pop2prof</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 5
v1 &lt;- as.ordered(c("a", "b", "c", "d"))
v2 &lt;- 1:3
set.seed(0)
pop &lt;- data.frame(
	v1 = sample(v1, n, replace = TRUE),
	v2 = sample(v2, n, replace = TRUE)
)

survey_weights &lt;- round(runif(5)*10)

prof1 &lt;- pop2prof(pop, weights = survey_weights)
prof2 &lt;- var2prof(varmod = list(v1 = as.ordered(c("a", "b", "c", "d")), v2 = 1:3))

# prof2 is the support of prof1
merge(prof1, prof2, support = TRUE)

# union between the two sets of profiles and their frequencies are added
merge(prof1, prof2)

# intersection of the sets of profiles with the assumption
# that the minimum number of observations is shared
# between the two distributions
merge(prof1, prof2, all = FALSE, FUN = min)

prof2$freq &lt;- prof2$freq*10
# to remove from prof2 the observations in prof1
distribution &lt;- merge(prof2, prof1, FUN = "-"); distribution
</code></pre>


</div>