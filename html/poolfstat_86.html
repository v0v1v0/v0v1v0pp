<div class="container">

<table style="width: 100%;"><tr>
<td>pooldata2diyabc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a pooldata object into DIYABC input files.</h2>

<h3>Description</h3>

<p>Convert a pooldata object into DIYABC data file for pool-seq data. A file containing SNP details is also printed out. Options to generate sub-samples  (e.g., for large number of SNPs) are also available. Note that DIYABC SNP filtering criterion is based on MRC (minimal read count) which may be more stringent than usual MAF-based filtering criterion. It is recommended to parse vcf files and pooldata objects without any MAF criterion or to prefilter pooldata objects with the desired MRC (using option snp.index <code>pooldata.subset</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">pooldata2diyabc(
  pooldata,
  writing.dir = getwd(),
  prefix = "",
  diyabc.mrc = 1,
  subsamplesize = -1,
  subsamplingmethod = "thinning"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pooldata</code></td>
<td>
<p>A pooldata object containing Pool-Seq information (see <code>vcf2pooldata</code> and <code>popsync2pooldata</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>writing.dir</code></td>
<td>
<p>Directory where to create the files  (e.g., set writing.dir=getwd() to copy in the current working directory)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>Prefix used for output file names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diyabc.mrc</code></td>
<td>
<p>MRC to be applied by DIYABC (note that no filtering based on MRC is done by the function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsamplesize</code></td>
<td>
<p>Size of the sub-samples. If &lt;=1 (default), all the SNPs are considered in the output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsamplingmethod</code></td>
<td>
<p>If sub-sampling is activated (argument subsamplesize), define the method used for subsampling that might be either i) "random" (A single data set consisting of randmly chosen SNPs is generated) or ii) "thinning", sub-samples are generated by taking SNPs one every nsub=floor(nsnp/subsamplesize) in the order of the map (a suffix ".subn" is added to each sub-sample files where n varies from 1 to nsub).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>DIYABC data file for pool-seq data
</p>


<h3>See Also</h3>

<p>To generate pooldata object, see <code>vcf2pooldata</code>, <code>popsync2pooldata</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> make.example.files(writing.dir=tempdir())
 pooldata=popsync2pooldata(sync.file=paste0(tempdir(),"/ex.sync.gz"),poolsizes=rep(50,15))
 pooldata2diyabc(pooldata=pooldata,writing.dir=tempdir())
</code></pre>


</div>