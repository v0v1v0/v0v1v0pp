<div class="container">

<table style="width: 100%;"><tr>
<td>btmix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Finite Mixtures of Bradley-Terry Models</h2>

<h3>Description</h3>

<p>Fit finite mixtures of Bradley-Terry models for paired comparisons data via
maximum likelihood with the EM algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">btmix(formula, data, k, subset, weights,
         nrep = 3, cluster = NULL, control = NULL,
         verbose = TRUE, drop = TRUE, unique = FALSE, which = NULL,
         type = c("loglin", "logit"), ref = NULL, undecided = NULL,
         position = NULL, ...)

FLXMCbtreg(formula = . ~ ., type = c("loglin", "logit"), ref = NULL,
  undecided = NULL, position = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Symbolic description of the model (of type <code>y ~ 1</code>
or <code>y ~ x</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data, subset</code></td>
<td>
<p>Arguments controlling formula processing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>A vector of integers indicating the number of components of
the finite mixture; passed in turn to the <code>k</code> argument
of <code>stepFlexmix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>An optional vector of weights to be used in the fitting
process; passed in turn to the <code>weights</code> argument of
<code>flexmix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrep</code></td>
<td>
<p>Number of runs of the EM algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>Either a matrix with <code>k</code> columns of initial
cluster membership probabilities for each observation; or a factor
or integer vector with the initial cluster assignments of
observations at the start of the EM algorithm. Default is random
assignment into <code>k</code> clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>An object of class <code>"FLXcontrol"</code> or a named list;
controls the EM algorithm and passed in turn to the <code>control</code>
argument of <code>flexmix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical; if <code>TRUE</code> progress information is shown
for different starts of the EM algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>A logical; if <code>TRUE</code> and <code>k</code> is of length 1,
then a single <code>raschmix</code> object is returned instead of a
<code>stepRaschmix</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique</code></td>
<td>
<p>A logical; if <code>TRUE</code>, then <code>unique()</code> is
called on the result; for details see
<code>stepFlexmix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>number of model to get if <code>k</code> is a vector of
integers longer than one. If character, interpreted as
number of components or name of an information criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character. Should an auxiliary log-linear Poisson model or
logistic binomial be employed for estimation? The latter is only
available if not undecided effects are estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>Character or numeric. Which object parameter should be the
reference category, i.e., constrained to zero?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>undecided</code></td>
<td>
<p>Logical. Should an undecided parameter be estimated?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>Logical. Should a position effect be estimated?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Currently not used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Internally <code>stepFlexmix</code>
is called with suitable arguments to fit the finite mixture model with
the EM algorithm.
</p>
<p><code>FLXMCbtreg</code> is the <code>flexmix</code>-driver for
Bradley-Terry mixture models.
</p>
<p>The interface is designed along the same lines as <code>raschmix</code>
which is introduced in detail in Frick et al. (2012). However, the
<code>btmix</code> function has not yet been fully tested and may change in
future versions.  
</p>


<h3>Value</h3>

<p>Either an object of class <code>"btmix"</code> containing the best model
with respect to the log-likelihood (if <code>k</code> is a scalar) or the
one selected according to <code>which</code> (if specified and <code>k</code> is a
vector of integers longer than 1) or an object of class
<code>"stepBTmix"</code> (if <code>which</code> is not specified and <code>k</code> is a
vector of integers longer than 1).
</p>


<h3>References</h3>

<p>Bradley, R.A., and Terry, M.E. (1952). Rank Analysis of Incomplete
Block Designs. I. The Method of Paired Comparisons. <em>Biometrika</em>,
<b>39</b>(3/4), 324–345.
</p>
<p>Dörr, M. (2011). Bradley Terry Mixture Models: Theory, Implementation
in R and Validation. Diploma Thesis, Ludwig-Maximilians-Universität
München.
</p>
<p>Frick, H., Strobl, C., Leisch, F., and Zeileis, A. (2012).
Flexible Rasch Mixture Models with Package psychomix.
<em>Journal of Statistical Software</em>, <b>48</b>(7), 1–25.
<a href="https://doi.org/10.18637/jss.v048.i07">doi:10.18637/jss.v048.i07</a>.
</p>
<p>Grün, B., and Leisch, F. (2008). FlexMix Version 2: Finite Mixtures
with Concomitant Variables and Varying and Constant Parameters.
<em>Journal of Statistical Software</em>, <b>28</b>(4), 1–35.
<a href="https://doi.org/10.18637/jss.v028.i04">doi:10.18637/jss.v028.i04</a>.
</p>
<p>Leisch, F. (2004). FlexMix: A General Framework for Finite Mixture
Models and Latent Class Regression in R.
<em>Journal of Statistical Software</em>, <b>11</b>(8), 1–18.
<a href="https://doi.org/10.18637/jss.v011.i08">doi:10.18637/jss.v011.i08</a>.
</p>


<h3>See Also</h3>

<p><code>flexmix</code>, <code>stepFlexmix</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Data
data("GermanParties2009", package = "psychotools")

## omit single observation with education = 1
gp &lt;- subset(GermanParties2009, education != "1")
gp$education &lt;- factor(gp$education)

## Bradley-Terry mixture models
suppressWarnings(RNGversion("3.5.0"))
set.seed(1)
## fit models for k = 1, ..., 4 with concomitant variables
cm &lt;- btmix(preference ~ gender + education + age + crisis,
  data = gp, k = 1:4, nrep = 3)

## inspect results
plot(cm)

## select model
cm4 &lt;- getModel(cm, which = "4")

## inspect mixture and effects
library("lattice")
xyplot(cm4)
effectsplot(cm4)
effectsplot(cm4, selection = "education")

## vis effects package directly
if(require("effects")) {
eff4 &lt;- allEffects(cm4)
plot(eff4)
}


</code></pre>


</div>