<div class="container">

<table style="width: 100%;"><tr>
<td>DR_coxph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>(Deviance) Residuals Computation</h2>

<h3>Description</h3>

<p>This function computes the Residuals for a Cox-Model fitted with an
intercept as the only explanatory variable. Default behaviour gives the
Deviance residuals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">DR_coxph(
  time,
  time2,
  event,
  type,
  origin,
  typeres = "deviance",
  collapse,
  weighted,
  scaleY = TRUE,
  plot = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>for right censored data, this is the follow up time. For
interval data, the first argument is the starting time for the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time2</code></td>
<td>
<p>The status indicator, normally 0=alive, 1=dead. Other choices
are <code>TRUE/FALSE</code> (<code>TRUE</code> = death) or 1/2 (2=death). For interval
censored data, the status indicator is 0=right censored, 1=event at
<code>time</code>, 2=left censored, 3=interval censored. Although unusual, the
event indicator can be omitted, in which case all subjects are assumed to
have an event.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>ending time of the interval for interval censored or counting
process data only. Intervals are assumed to be open on the left and closed
on the right, <code>(start, end]</code>. For counting process data, event
indicates whether an event occurred at the end of the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character string specifying the type of censoring. Possible
values are <code>"right"</code>, <code>"left"</code>, <code>"counting"</code>,
<code>"interval"</code>, or <code>"interval2"</code>. The default is <code>"right"</code> or
<code>"counting"</code> depending on whether the <code>time2</code> argument is absent
or present, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>for counting process data, the hazard function origin. This
option was intended to be used in conjunction with a model containing time
dependent strata in order to align the subjects properly when they cross
over from one strata to another, but it has rarely proven useful.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typeres</code></td>
<td>
<p>character string indicating the type of residual desired.
Possible values are <code>"martingale"</code>, <code>"deviance"</code>, <code>"score"</code>,
<code>"schoenfeld"</code>, <code>"dfbeta"</code>, <code>"dfbetas"</code>, and
<code>"scaledsch"</code>. Only enough of the string to determine a unique match is
required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>vector indicating which rows to collapse (sum) over. In
time-dependent models more than one row data can pertain to a single
individual. If there were 4 individuals represented by 3, 1, 2 and 4 rows of
data respectively, then <code>collapse=c(1,1,1,2,3,3,4,4,4,4)</code> could be used
to obtain per subject rather than per observation residuals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>if <code>TRUE</code> and the model was fit with case weights, then
the weighted residuals are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleY</code></td>
<td>
<p>Should the <code>time</code> values be standardized ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Should the survival function be plotted ?)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed on to <code>survival::coxph</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>Named num</code></td>
<td>
<p>Vector of the residual values.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Frédéric Bertrand<br><a href="mailto:frederic.bertrand@utt.fr">frederic.bertrand@utt.fr</a><br><a href="http://www-irma.u-strasbg.fr/~fbertran/">http://www-irma.u-strasbg.fr/~fbertran/</a>
</p>


<h3>References</h3>

<p>plsRcox, Cox-Models in a high dimensional setting in R, Frederic
Bertrand, Philippe Bastien, Nicolas Meyer and Myriam Maumy-Bertrand (2014).
Proceedings of User2014!, Los Angeles, page 152.<br></p>
<p>Deviance residuals-based sparse PLS and sparse kernel PLS regression for
censored data, Philippe Bastien, Frederic Bertrand, Nicolas Meyer and Myriam
Maumy-Bertrand (2015), Bioinformatics, 31(3):397-404,
doi:10.1093/bioinformatics/btu660.
</p>


<h3>See Also</h3>

<p><code>coxph</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(micro.censure)
Y_train_micro &lt;- micro.censure$survyear[1:80]
C_train_micro &lt;- micro.censure$DC[1:80]

DR_coxph(Y_train_micro,C_train_micro,plot=TRUE)
DR_coxph(Y_train_micro,C_train_micro,scaleY=FALSE,plot=TRUE)
DR_coxph(Y_train_micro,C_train_micro,scaleY=TRUE,plot=TRUE)

rm(Y_train_micro,C_train_micro)

</code></pre>


</div>