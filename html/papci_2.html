<div class="container">

<table style="width: 100%;"><tr>
<td>papciUI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>papciUI

</h2>

<h3>Description</h3>


<p>This function will automatically launch the PA interactive user interface in a web browser.
The user interface can also be accessed by https://kate-yueyi-li.shinyapps.io/shiny . Neither R nor any packages are required in this online version.
</p>


<h3>Usage</h3>

<pre><code class="language-R">papciUI()
</code></pre>


<h3>Details</h3>

<p>The definitions of PPA, NPA, PPV and NPA in this package are
</p>

<ul>
<li> <p><code class="reqn">PPA= Pr(comparator+|baseline+)</code>, <code class="reqn">NPA= Pr(comparator-|baseline-)</code>
</p>
</li>
<li> <p><code class="reqn">PPV= Pr(baseline+|comparator+)</code>, <code class="reqn">NPV= Pr(baseline-|comparator-)</code>
</p>
</li>
</ul>
<p>The point estimations are <code class="reqn">x/m</code> for PPA and and <code class="reqn">(n-y)/n</code> for NPA. By ignoring enrollment biases, PPV and NPV are estimated as <code class="reqn">x/(x+y)</code> and <code class="reqn">(n-y)/(m+n-x-y)</code>, respectively. When samples are not enrolled randomly or selected based on baseline results, PPV and NPV are obtained by the Bayes theorem and not binomially distributed. They are defined as
</p>
<p style="text-align: center;"><code class="reqn">PPV = prev*PPA / [ prev*PPA + (1-prev)*(1-NPA) ]</code>
</p>

<p style="text-align: center;"><code class="reqn">NPV = (1-prev)*NPA / [ (1-prev)*NPA + prev*(1-PPA) ]</code>
</p>

<p>Nine methods are allowed for constructing the confidence interval(s) for PPA and NPA referring to <code>binom.confint</code>. Six methods are allowed for constructing the confidence interval(s) for PPV based on the risk-ratio <code class="reqn">R1=(1-NPA)/PPA</code>.
</p>

<ul>
<li>
<p>Koopman (1984) - derived the <code class="reqn">(1-\alpha)</code>100% CI for <code class="reqn">R1</code> by using Chi-squared method.
</p>
</li>
<li>
<p>Katz et al.(1978) - derived the <code class="reqn">(1-\alpha)</code>100% CI for <code class="reqn">R1</code> by assuming that the <code class="reqn">log(R1)</code> is approximately normally distributed.

</p>
</li>
<li>
<p>Noether (1957) - developed the <code class="reqn">(1-\alpha)</code>100% CI for <code class="reqn">R1</code> using an explicit solution.
</p>
</li>
<li>
<p>Gart and Nam (1988) - improved Koopman's method by correcting the asymptotic skewness.
</p>
</li>
<li>
<p>Bootstrap - derived the risk ratio CI using Bootstrap method from multiple random samples.
</p>
</li>
<li>
<p>Plug-In - derived the 95% CI for PPA and NPA as (PPA_l,PPA_u) and (NPA_l,NPA_u). Applied all four combinations (i.e., (PPA_l, NPA_l); (PPA_l, NPA_u); (PPA_u, NPA_l); (PPA_u, NPA_u)) into above PPV formulas by Bayes theorem, and the minimum and maximum values are determined as the lower and upper bound of 95% CIs of PPV.
</p>
</li>
</ul>
<p>Given the CIs for the risk-ratio <code class="reqn">R1</code>, denoted as [<code class="reqn">R1_l</code>, <code class="reqn">R1_u</code>], the CIs for PPV can be directly contained by
</p>
<p style="text-align: center;"><code class="reqn"> [p/(p + (1-p)*R1_u),  p/(p + (1-p)*R1_l)]</code>
</p>

<p>CIs of NPV can be derived in the same way.
</p>


<h3>Value</h3>

<p>A <code>list</code> of <code>data.frame</code> containing the estimated agreements (ppa, npa, ppv, npv) and the lower and upper bounds of the confidence interval for all the methods in <code>methods_pa</code> or <code>methods_pv</code>.
</p>


<h3>Author(s)</h3>

<p>Lei Yang, Cui Guo, Kate Li, Chang Xu (cuguo@foundationmedicine.com) </p>


<h3>References</h3>


<p>1. Gart John J and Nam Jun-mo (1988). Approximate interval estimation of the ratio of binomial parameters: a review and corrections for skewness, <em>Biometrics</em>, 323-338.
</p>
<p>2. Katz DJSM, Baptista J, Azen SP and Pike MC (1978). Obtaining confidence intervals for the risk ratio in cohort studies, <em>Biometrics</em>, 469-474.
</p>
<p>3. Koopman PAR (1984). Confidence intervals for the ratio of two binomial proportions, <em>Biometrics</em>, 513-517.
</p>
<p>4. Noether Gottfried E (1957). Two confidence intervals for the ratio of two probabilities and some measures of effectiveness, <em>Journal of the American Statistical Association</em>, <b>52</b>: 36-45.
</p>


<h3>See Also</h3>

<p><code>binom.confint</code> for different methods to obtain a confidence interval on the binomial probability like PPA and NPA.
</p>


<h3>Examples</h3>

<pre><code class="language-R">agreement(x = 90, y = 10, m = 100, n = 80, prev = 0.3)
agreement(x = 84, y = 0, m = 84, n = 97, prev = 0.096)
</code></pre>


</div>