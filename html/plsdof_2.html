<div class="container">

<table style="width: 100%;"><tr>
<td>benchmark.pls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Comparison of model selection criteria for Partial Least Squares Regression.</h2>

<h3>Description</h3>

<p>This function computes the test error over several runs for different model
selection strategies.
</p>


<h3>Usage</h3>

<pre><code class="language-R">benchmark.pls(
  X,
  y,
  m = ncol(X),
  R = 20,
  ratio = 0.8,
  verbose = TRUE,
  k = 10,
  ratio.samples = 1,
  use.kernel = FALSE,
  criterion = "bic",
  true.coefficients = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>matrix of predictor observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>vector of response observations. The length of <code>y</code> is the same
as the number of rows of <code>X</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>maximal number of Partial Least Squares components. Default is
<code>m=ncol(X)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>number of runs. Default is 20.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>ratio no of training examples/(no of training examples + no of
test examples). Default is 0.8</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code>, the functions plots the progress of the
function. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number of cross-validation splits. Default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio.samples</code></td>
<td>
<p>Ratio of (no of training examples + no of test
examples)/<code>nrow(X)</code>. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.kernel</code></td>
<td>
<p>Use kernel representation? Default is
<code>use.kernel=FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>Choice of the model selection criterion. One of the three
options aic, bic, gmdl. Default is "bic".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true.coefficients</code></td>
<td>
<p>The vector of true regression coefficients (without
intercept), if available. Default is <code>NULL</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function estimates the optimal number of PLS components based on four
different criteria: (1) cross-validation, (2) information criteria with the
naive Degrees of Freedom DoF(m)=m+1, (3) information criteri with the
Degrees of Freedom computed via a Lanczos represenation of PLS and (4)
information criteri with the Degrees of Freedom computed via a Krylov
represenation of PLS. Note that the latter two options only differ with
respect to the estimation of the model error.
</p>
<p>In addition, the function computes the test error of the "zero model", i.e.
<code>mean(y)</code> on the training data is used for prediction.
</p>
<p>If <code>true.coefficients</code> are available, the function also computes the
model error for the different methods, i.e. the sum of squared differences
between the true and the estimated regression coefficients.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>MSE</code></td>
<td>
<p>data frame of size R x 5. It contains the test error for
the five different methods for each of the R runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>data frame of
size R x 5. It contains the optimal number of components for the five
different methods for each of the R runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DoF</code></td>
<td>
<p>data frame of size R x
5. It contains the Degrees of Freedom (corresponding to <code>M</code>) for the
five different methods for each of the R runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TIME</code></td>
<td>
<p>data frame of
size R x 4. It contains the runtime for all methods (apart from the zero
model) for each of the R runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M.CRASH</code></td>
<td>
<p>data frame of size R x 2. It
contains the number of components for which the Krylov representation and
the Lanczos representation return negative Degrees of Freedom, hereby
indicating numerical problems.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ME</code></td>
<td>
<p>if <code>true.coefficients</code> are
available, this is a data frame of size R x 5. It contains the model error
for the five different methods for each of the R runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SIGMAHAT</code></td>
<td>
<p>data
frame of size R x 5. It contains the estimation of the noise level provided
by the five different methods for each of the R runs.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Nicole Kraemer
</p>


<h3>References</h3>

<p>Kraemer, N., Sugiyama M. (2011). "The Degrees of Freedom of Partial Least
Squares Regression". Journal of the American Statistical Association 106
(494) <a href="https://www.tandfonline.com/doi/abs/10.1198/jasa.2011.tm10107">https://www.tandfonline.com/doi/abs/10.1198/jasa.2011.tm10107</a>
</p>


<h3>See Also</h3>

<p><code>pls.ic</code>, <code>pls.cv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# generate artificial data
n&lt;-50 # number of examples
p&lt;-5 # number of variables
X&lt;-matrix(rnorm(n*p),ncol=p)
true.coefficients&lt;-runif(p,1,3)
y&lt;-X%*%true.coefficients + rnorm(n,0,5)
my.benchmark&lt;-benchmark.pls(X,y,R=10,true.coefficients=true.coefficients)

</code></pre>


</div>