<div class="container">

<table style="width: 100%;"><tr>
<td>finspace_create_kx_changeset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates a changeset for a kdb database</h2>

<h3>Description</h3>

<p>Creates a changeset for a kdb database. A changeset allows you to add and delete existing files by using an ordered list of change requests.
</p>
<p>See <a href="https://www.paws-r-sdk.com/docs/finspace_create_kx_changeset/">https://www.paws-r-sdk.com/docs/finspace_create_kx_changeset/</a> for full documentation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">finspace_create_kx_changeset(
  environmentId,
  databaseName,
  changeRequests,
  clientToken
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>environmentId</code></td>
<td>
<p>[required] A unique identifier of the kdb environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>databaseName</code></td>
<td>
<p>[required] The name of the kdb database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>changeRequests</code></td>
<td>
<p>[required] A list of change request objects that are run in order. A change request
object consists of <code>changeType</code> , <code>s3Path</code>, and <code>dbPath</code>. A changeType
can have the following values:
</p>

<ul>
<li>
<p> PUT – Adds or updates files in a database.
</p>
</li>
<li>
<p> DELETE – Deletes files in a database.
</p>
</li>
</ul>
<p>All the change requests require a mandatory <code>dbPath</code> attribute that
defines the path within the database directory. All database paths must
start with a leading / and end with a trailing /. The <code>s3Path</code> attribute
defines the s3 source file path and is required for a PUT change type.
The <code>s3path</code> must end with a trailing / if it is a directory and must
end without a trailing / if it is a file.
</p>
<p>Here are few examples of how you can use the change request object:
</p>

<ol>
<li>
<p> This request adds a single sym file at database root location.
</p>
<p><code style="white-space: pre;">⁠{ "changeType": "PUT", "s3Path":"s3://bucket/db/sym", "dbPath":"/"}⁠</code>
</p>
</li>
<li>
<p> This request adds files in the given <code>s3Path</code> under the 2020.01.02
partition of the database.
</p>
<p><code style="white-space: pre;">⁠{ "changeType": "PUT", "s3Path":"s3://bucket/db/2020.01.02/", "dbPath":"/2020.01.02/"}⁠</code>
</p>
</li>
<li>
<p> This request adds files in the given <code>s3Path</code> under the <em>taq</em> table
partition of the database.
</p>
<p><code style="white-space: pre;">⁠[ { "changeType": "PUT", "s3Path":"s3://bucket/db/2020.01.02/taq/", "dbPath":"/2020.01.02/taq/"}]⁠</code>
</p>
</li>
<li>
<p> This request deletes the 2020.01.02 partition of the database.
</p>
<p><code style="white-space: pre;">⁠[{ "changeType": "DELETE", "dbPath": "/2020.01.02/"} ]⁠</code>
</p>
</li>
<li>
<p> The <em>DELETE</em> request allows you to delete the existing files under
the 2020.01.02 partition of the database, and the <em>PUT</em> request adds
a new taq table under it.
</p>
<p><code style="white-space: pre;">⁠[ {"changeType": "DELETE", "dbPath":"/2020.01.02/"}, {"changeType": "PUT", "s3Path":"s3://bucket/db/2020.01.02/taq/", "dbPath":"/2020.01.02/taq/"}]⁠</code>
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clientToken</code></td>
<td>
<p>[required] A token that ensures idempotency. This token expires in 10 minutes.</p>
</td>
</tr>
</table>
</div>