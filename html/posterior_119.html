<div class="container">

<table style="width: 100%;"><tr>
<td>ess_tail</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tail effective sample size (tail-ESS)</h2>

<h3>Description</h3>

<p>Compute a tail effective sample size estimate (tail-ESS) for a single
variable. Tail-ESS is useful as a diagnostic for the sampling efficiency in
the tails of the posterior. It is defined as the minimum of the effective
sample sizes for 5% and 95% quantiles. For the bulk effective sample
size see <code>ess_bulk()</code>. See Vehtari (2021) for an in-depth
comparison of different effective sample size estimators.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ess_tail(x, ...)

## Default S3 method:
ess_tail(x, ...)

## S3 method for class 'rvar'
ess_tail(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(multiple options) One of:
</p>

<ul>
<li>
<p> A matrix of draws for a single variable (iterations x chains). See
<code>extract_variable_matrix()</code>.
</p>
</li>
<li>
<p> An <code>rvar</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to individual methods (if applicable).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If the input is an array, returns a single numeric value. If any of the draws
is non-finite, that is, <code>NA</code>, <code>NaN</code>, <code>Inf</code>, or <code>-Inf</code>, the returned output
will be (numeric) <code>NA</code>. Also, if all draws within any of the chains of a
variable are the same (constant), the returned output will be (numeric) <code>NA</code>
as well. The reason for the latter is that, for constant draws, we cannot
distinguish between variables that are supposed to be constant (e.g., a
diagonal element of a correlation matrix is always 1) or variables that just
happened to be constant because of a failure of convergence or other problems
in the sampling process.
</p>
<p>If the input is an <code>rvar</code>, returns an array of the same dimensions as the
<code>rvar</code>, where each element is equal to the value that would be returned by
passing the draws array for that element of the <code>rvar</code> to this function.
</p>


<h3>References</h3>

<p>Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, and
Paul-Christian Bürkner (2021). Rank-normalization, folding, and
localization: An improved R-hat for assessing convergence of
MCMC (with discussion). <em>Bayesian Data Analysis</em>. 16(2), 667-–718.
doi:10.1214/20-BA1221
</p>
<p>Aki Vehtari (2021). Comparison of MCMC effective sample size estimators.
Retrieved from https://avehtari.github.io/rhat_ess/ess_comparison.html
</p>


<h3>See Also</h3>

<p>Other diagnostics: 
<code>ess_basic()</code>,
<code>ess_bulk()</code>,
<code>ess_quantile()</code>,
<code>ess_sd()</code>,
<code>mcse_mean()</code>,
<code>mcse_quantile()</code>,
<code>mcse_sd()</code>,
<code>pareto_diags()</code>,
<code>pareto_khat()</code>,
<code>rhat()</code>,
<code>rhat_basic()</code>,
<code>rhat_nested()</code>,
<code>rstar()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">mu &lt;- extract_variable_matrix(example_draws(), "mu")
ess_tail(mu)

d &lt;- as_draws_rvars(example_draws("multi_normal"))
ess_tail(d$Sigma)

</code></pre>


</div>