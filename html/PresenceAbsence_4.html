<div class="container">

<table style="width: 100%;"><tr>
<td>calibration.plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Calibration Plot </h2>

<h3>Description</h3>

<p><code>calibration.plot</code> produces a goodness-of-fit plot for Presence/Absence data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calibration.plot(DATA, which.model = 1, na.rm = FALSE, alpha = 0.05, N.bins = 5, 
xlab = "Predicted Probability of Occurrence", 
ylab = "Observed Occurrence as Proportion of Sites Surveyed", 
main = NULL, color= NULL, model.names= NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DATA</code></td>
<td>
<p>a matrix or dataframe of observed and predicted values where each row represents one plot and where columns are:
</p>

<table>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>DATA[,1]</code> </td>
<td style="text-align: left;"> plot ID </td>
<td style="text-align: left;"> text</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>DATA[,2]</code> </td>
<td style="text-align: left;"> observed values </td>
<td style="text-align: left;"> zero-one values</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>DATA[,3]</code> </td>
<td style="text-align: left;"> predicted probabilities from first model </td>
<td style="text-align: left;"> numeric (between 0 and 1)</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>DATA[,4]</code> </td>
<td style="text-align: left;"> predicted probabilities from second model, etc... </td>
<td style="text-align: left;">  </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which.model</code></td>
<td>
<p>a number indicating which model from <code>DATA</code> should be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p> alpha value for confidence intervals </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N.bins</code></td>
<td>
<p> number of bins to split predicted probabilities into </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p> a title for the x axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p> a title for the y axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p> an overall title for the plot </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p> a logical or a vector of color codes </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.names</code></td>
<td>
<p> a vector of the names of each model included in <code>DATA</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Takes a single model and creates a goodness-of-fit plot of observed verses predicted values. The plots are grouped into bins based on their predicted values, and then the bin prevalence (the ratio of plots in this bin with observed values of present verses the total number of plots in this bin) is calculated for each bin. The confidence interval for each bin is also plotted, and the total number of plots is labeled above each the bin.
</p>
<p>Confidence intervals are calculated for the binomial bin counts using the F distribution.
</p>
<p>Unlike a typical goodness-of-fit plot from a linear regression model, with Presence/Absence data having all the points lay along the diagonal does not necessarily imply a good quality model. The ideal calibration plot for Presence/Absence data depends on the intended use of the model.
</p>
<p>If the model is to be used to produce probability maps, then it is indeed desirable that (for example) 80 percent of plots with predicted probability of 0.8 actually do have observed Presence. In this case, having all the bins along the diagonal does indicate a good model.
</p>
<p>However, if model is to be used simply to predict species presence, then all that is required is that some threshold exists (not necessarily 0.5) where every plot with a lower predicted probability is observed Absent, and every plot with a higher predicted probability is observed Present. In this case, a good model will not necessarily (in fact, will rarely) have all the bins along the diagonal. (Note: for this purpose <code>presence.absence.hist</code> may produce more useful diagnostics.)
</p>
<p>If all the bins lie above the diagonal, or all the bins lie below the diagonal, it may indicate that the training and test datasets have different prevalence. In this case, it may be worthwhile to re-examine the initial data selection.
</p>


<h3>Value</h3>

<p>creates a graphical plot 
</p>
<p>returns a dataframe of information about the bins where:
</p>

<table>
<tr>
<td style="text-align: left;">
  <code>[,1]</code> </td>
<td style="text-align: left;"> <code>BinCenter</code> </td>
<td style="text-align: left;"> center of bin </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>[,2]</code> </td>
<td style="text-align: left;"> <code>NBin</code> </td>
<td style="text-align: left;"> Number of plots in Bin </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>[,3]</code> </td>
<td style="text-align: left;"> <code>BinObs</code> </td>
<td style="text-align: left;"> Proportion of Bin observed as Present </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>[,4]</code> </td>
<td style="text-align: left;"> <code>BinPred</code> </td>
<td style="text-align: left;"> Average prediction for Bin </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>[,5]</code> </td>
<td style="text-align: left;"> <code>BinObsCIlower</code> </td>
<td style="text-align: left;"> Lower bound of confidence Interval for <code>BinObs</code> </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>[,6]</code> </td>
<td style="text-align: left;"> <code>BinObsCIupper</code> </td>
<td style="text-align: left;"> Upper bound of confidence Interval for <code>BinObs</code>  </td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Elizabeth Freeman <a href="mailto:eafreeman@fs.fed.us">eafreeman@fs.fed.us</a>  </p>


<h3>References</h3>

 
<p>Vaughan, I. P., Ormerod, S. J. 2005. The continuing challenges of testing species distribution models.  J. Appl. Ecol., 42:720-730.
</p>
<p>Reineking, B. and Schr√∂der, B. 2006. Constrain to perform: regularization of habitat models. Ecological Modelling 193: 675-690.
</p>


<h3>See Also</h3>

 <p>presence.absence.summary, presence.absence.hist </p>


<h3>Examples</h3>

<pre><code class="language-R">data(SIM3DATA)

calibration.plot(SIM3DATA)

calibration.plot(	DATA=SIM3DATA,
			which.model=3,
			na.rm=TRUE,
			alpha=0.05,
			N.bins=10,
			xlab="Predicted Probability of Occurence",
			ylab="Observed occurence as proportion of sites surveyed",
			model.names=NULL,
			main=NULL)
</code></pre>


</div>