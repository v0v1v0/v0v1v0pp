<div class="container">

<table style="width: 100%;"><tr>
<td>pbi_auth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Authenticate to Power BI</h2>

<h3>Description</h3>

<p>This function authenticates your Power BI session using a service principal
that represents an application registered in Azure Active Directory.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pbi_auth(
  tenant = Sys.getenv("PBI_TENANT"),
  app = Sys.getenv("PBI_APP"),
  password = Sys.getenv("PBI_PW")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tenant</code></td>
<td>
<p>Your Microsoft tenant ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>app</code></td>
<td>
<p>Your Microsoft app ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>password</code></td>
<td>
<p>Your Microsoft app password (client secret).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function returns an authentication token invisibly and makes it available
to other functions in this package. The token is automatically refreshed upon
expiration.
</p>
<p>To auto-authenticate, you can specify credentials in environment variables
via an <span class="env">.Renviron</span> file or using <code>Sys.setenv</code> (see example
below).
</p>
<p>pbi_auth() is a wrapper for AzureAuth::get_azure_token(). Currently, only
non-interactive authentication is supported. You therefore need to register
an Azure Active Directory service-principal application and obtain tenant ID,
app ID and app password (client secret).
</p>
<p>For reasons of CRAN policy, the first time AzureAuth is loaded, it will
prompt you for permission to create a user-specific directory in order to
cache the token. The prompt only appears in an interactive session, not in a
batch script. For more details, see
<a href="https://github.com/cloudyr/AzureAuth">AzureAuth</a>.
</p>


<h3>Value</h3>

<p>Returns a token invisibly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

# Basic authentications
pbi_auth(
tenant = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx", # The tenant ID
app = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",    # The app ID
password = "****"                                # The client secret
)

# Using environment variables
Sys.setenv(
  PBI_TENANT = "my_tenant_id",
  PBI_APP = "my_app_id",
  PBI_PW = "my_app_client_secret"
  )

pbi_auth()

## End(Not run)
</code></pre>


</div>