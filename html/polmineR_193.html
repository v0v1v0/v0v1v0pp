<div class="container">

<table style="width: 100%;"><tr>
<td>dispersion</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dispersion of a query or multiple queries.</h2>

<h3>Description</h3>

<p>The method returns a <code>data.table</code> with the number of matches of a query
or multiple queries (optionally frequencies) in a corpus or subcorpus as
partitioned by one or two s-attributes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dispersion(.Object, ...)

## S4 method for signature 'slice'
dispersion(
  .Object,
  query,
  s_attribute,
  cqp = FALSE,
  p_attribute = getOption("polmineR.p_attribute"),
  freq = FALSE,
  fill = TRUE,
  mc = FALSE,
  progress = FALSE,
  verbose = FALSE,
  ...
)

## S4 method for signature 'partition'
dispersion(
  .Object,
  query,
  s_attribute,
  cqp = FALSE,
  p_attribute = getOption("polmineR.p_attribute"),
  freq = FALSE,
  fill = TRUE,
  mc = FALSE,
  progress = TRUE,
  verbose = FALSE,
  ...
)

## S4 method for signature 'subcorpus'
dispersion(
  .Object,
  query,
  s_attribute,
  cqp = FALSE,
  p_attribute = getOption("polmineR.p_attribute"),
  freq = FALSE,
  fill = FALSE,
  mc = FALSE,
  progress = TRUE,
  verbose = FALSE,
  ...
)

## S4 method for signature 'corpus'
dispersion(
  .Object,
  query,
  s_attribute,
  cqp = is.cqp,
  p_attribute = getOption("polmineR.p_attribute"),
  freq = FALSE,
  fill = TRUE,
  mc = FALSE,
  progress = FALSE,
  verbose = FALSE,
  ...
)

## S4 method for signature 'character'
dispersion(
  .Object,
  query,
  s_attribute,
  cqp = is.cqp,
  p_attribute = getOption("polmineR.p_attribute"),
  freq = FALSE,
  fill = TRUE,
  mc = FALSE,
  progress = TRUE,
  verbose = TRUE,
  ...
)

## S4 method for signature 'hits'
dispersion(
  .Object,
  source,
  s_attribute,
  freq = FALSE,
  fill = TRUE,
  verbose = TRUE,
  ...
)

## S4 method for signature 'remote_corpus'
dispersion(.Object, ...)

## S4 method for signature 'remote_subcorpus'
dispersion(.Object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.Object</code></td>
<td>
<p>A <code>corpus</code>, <code>subcorpus</code> or <code>partition</code> object
or a corpus provided by a character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>A <code>character</code> vector stating one or multiple queries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s_attribute</code></td>
<td>
<p>A <code>character</code> vector (length 1 or 2) providing s-attributes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cqp</code></td>
<td>
<p>If <code>logical</code>, whether the query is a CQP query, if it is a
function that is passed in, the function will be applied to the query to
guess whether query is a CQP query</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_attribute</code></td>
<td>
<p>Length one <code>character</code> vector, the p-attribute that
will be looked up (typically 'word' or 'lemma').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>A <code>logical</code> value, whether to calculate normalized frequencies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>A <code>logical</code> value, whether to report zero matches. Defaults
to <code>TRUE</code>. But note that if there are few matches and many values of
the s-attribute(s), the resulting data structure is sparse and potentially
bloated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mc</code></td>
<td>
<p>A <code>logical</code> value, whether to use multicore.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>A <code>logical</code> value, whether to show progress.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A <code>logical</code> value, whether to be verbose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>The source of the evaluation the hits reported in
<code>.Object</code> are based on, a <code>corpus</code>, <code>subcorpus</code> or
<code>partition</code> object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Augmenting the <code>data.table</code> with zeros for subcorpora that do
not yield query matches (argument <code>fill</code> = <code>TRUE</code>) may require
adding many new columns. A respective warning issued by the
<code>data.table</code> package is supplemented an additional explanatory note
of the polmineR package.
</p>


<h3>Value</h3>

<p>A <code>data.table</code>.
</p>
<p>A <code>data.table</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Blaette
</p>


<h3>See Also</h3>

<p>The worker behind the <code>dispersion</code>-method is the <code>hits</code>-method.
</p>
<p>count
</p>


<h3>Examples</h3>

<pre><code class="language-R">use("polmineR")
dispersion("GERMAPARLMINI", query = "Integration", s_attribute = "date")

test &lt;- partition("GERMAPARLMINI", date = ".*", p_attribute = NULL, regex = TRUE)
integration &lt;- dispersion(
  test, query = "Integration",
  p_attribute = "word", s_attribute = "date"
)
integration &lt;- dispersion(test, "Integration", s_attribute = c("date", "party"))
integration &lt;- dispersion(test, '"Integration.*"', s_attribute = "date", cqp = TRUE)
</code></pre>


</div>