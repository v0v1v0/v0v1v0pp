<div class="container">

<table style="width: 100%;"><tr>
<td>powerscale-gradients</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Power-scale gradients</h2>

<h3>Description</h3>

<p>Calculate the numerical derivative of posterior
quantities/divergence with respect to power-scaling the specified
component (prior or likelihood). This is done using importance
sampling (and optionally moment matching).
</p>


<h3>Usage</h3>

<pre><code class="language-R">powerscale_gradients(x, ...)

## Default S3 method:
powerscale_gradients(x, ...)

## S3 method for class 'priorsense_data'
powerscale_gradients(
  x,
  variable = NULL,
  component = c("prior", "likelihood"),
  type = c("quantities", "divergence"),
  lower_alpha = 0.99,
  upper_alpha = 1.01,
  div_measure = "cjs_dist",
  measure_args = list(),
  moment_match = FALSE,
  k_threshold = 0.5,
  resample = FALSE,
  transform = NULL,
  prediction = NULL,
  scale = FALSE,
  prior_selection = NULL,
  likelihood_selection = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Model fit or draws object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>Variables to compute sensitivity of. If NULL
(default) sensitivity is computed for all variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>component</code></td>
<td>
<p>Component to power-scale (prior or likelihood).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of sensitivity to measure ("distance",
"quantity").  Multiple options can be specified at the same
time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower_alpha</code></td>
<td>
<p>lower power to scale component by, should be &lt;
1 (default is 0.9).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper_alpha</code></td>
<td>
<p>upper power to scale component by, should be &gt;
1 (default is 1.1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>div_measure</code></td>
<td>
<p>The divergence measure to use. The
following methods are implemented:
</p>

<ul>
<li> <p><code>"cjs_dist"</code>: Cumulative Jensen-Shannon distance. Default
method. See function <code>cjs_dist</code> for more details.
</p>
</li>
<li> <p><code>"js_dist"</code>: Jensen-Shannon distance.
</p>
</li>
<li> <p><code>"js_div"</code>: Jensen-Shannon divergence.
</p>
</li>
<li> <p><code>"hellinger_dist"</code>: Hellinger distance.
</p>
</li>
<li> <p><code>"kl_dist"</code>: Kullback-Leibler distance.
</p>
</li>
<li> <p><code>"kl_div"</code>: Kullback-Leibler divergence.
</p>
</li>
<li> <p><code>"ks_dist"</code>: Kolmogorov-Smirnov distance.
</p>
</li>
<li> <p><code>"hellinger_dist"</code>: Hellinger distance.
</p>
</li>
<li> <p><code>"ws_dist"</code>: Wassterstein distance (pass <code>measure_args = list(p = N)</code>)
for a different order, where N is the order.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure_args</code></td>
<td>
<p>Named list of further arguments passed to divergence measure functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moment_match</code></td>
<td>
<p>Logical; Indicate whether or not moment
matching should be performed. Can only be TRUE if <code>is_method</code> is
"psis".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_threshold</code></td>
<td>
<p>Threshold value for Pareto k values above which
the moment matching algorithm is used. Default is 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resample</code></td>
<td>
<p>Logical; Indicate whether or not draws should be
resampled based on calculated importance weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>Indicate a transformation of posterior draws to
perform before sensitivity analysis. Either "scale" or "whiten".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>Function taking the model fit and returning a
draws_df of predictions to be appended to the posterior draws</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>logical scale quantity gradients by base posterior
standard deviation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior_selection</code></td>
<td>
<p>Numeric vector specifying which priors to
consider.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>likelihood_selection</code></td>
<td>
<p>Numeric vector specifying which likelihoods to
consider.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Maximum of the absolute derivatives above and below alpha
= 1.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ex &lt;- example_powerscale_model()
drw &lt;- ex$draws

powerscale_gradients(drw)
</code></pre>


</div>