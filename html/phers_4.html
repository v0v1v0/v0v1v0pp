<div class="container">

<table style="width: 100%;"><tr>
<td>getDxStatus</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify cases and controls for Mendelian diseases</h2>

<h3>Description</h3>

<p>This function is useful for verifying that raw or residual phenotype risk
scores of diagnosed individuals (cases) tend to be higher than scores of
undiagnosed individuals (controls).
</p>


<h3>Usage</h3>

<pre><code class="language-R">getDxStatus(
  demos,
  icdOccurrences,
  minUniqueAges = 2L,
  diseaseDxIcdMap = phers::diseaseDxIcdMap
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>demos</code></td>
<td>
<p>A data.table having one row per person in the cohort. Must have
a column <code>person_id</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>icdOccurrences</code></td>
<td>
<p>A data.table of occurrences of ICD codes for each
person in the cohort. Must have columns <code>person_id</code>, <code>icd</code>, <code>flag</code>, and
<code>occurrence_age</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minUniqueAges</code></td>
<td>
<p>Integer indicating the minimum number of unique
ICD code entry ages required to classify a person as a case. Persons with
at least one, but fewer than <code>minUniqueAges</code> entry ages, are assigned as
neither cases nor controls.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diseaseDxIcdMap</code></td>
<td>
<p>A data.table of the mapping between diseases and
the corresponding ICD codes that indicate a diagnosis. Must have columns
<code>disease_id</code>, <code>icd</code>, and <code>flag</code>. Default is diseaseDxIcdMap.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data.table with columns <code>person_id</code>, <code>disease_id</code>, and <code>dx_status</code>
(1 indicates a case, 0 indicates a control, -1 indicates neither).
</p>


<h3>Examples</h3>

<pre><code class="language-R">library('data.table')


icdSample1 = merge(icdSample, demoSample[, .(person_id, dob)], by = 'person_id')
icdSample1[, occurrence_age := as.numeric((entry_date - dob)/365.25)]
icdSample1[, `:=`(entry_date = NULL, dob = NULL)]

dxStatus = getDxStatus(demoSample, icdSample1)
</code></pre>


</div>