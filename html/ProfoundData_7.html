<div class="container">

<table style="width: 100%;"><tr>
<td>plotData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A function to plot data</h2>

<h3>Description</h3>

<p>A function to plot data of a site
from the PROFOUND database.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotData(
  dataset,
  site,
  location = NULL,
  forcingDataset = NULL,
  forcingCondition = NULL,
  species = NULL,
  variables = NULL,
  period = NULL,
  aggregated = NULL,
  FUN = mean,
  automaticPanels = T,
  quality = NULL,
  decreasing = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>a character string providing the name of a dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site</code></td>
<td>
<p>a character string providing the name of a site.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>location</code></td>
<td>
<p>deprecated argument. Please use site instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forcingDataset</code></td>
<td>
<p>a character string providing the name of a forcingDataset.
Only relevant for ISIMIP datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forcingCondition</code></td>
<td>
<p>a character string providing the name of a forcingCondition.
Only relevant for ISIMIP datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>a character string providing the species name or species id.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>a character array holding the variables to be plotted. Default  is all variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>a character array with either start or start and end of the subset.
It must have the format "YYYY-MM-DD", or c("YYYY-MM-DD", "YYYY-MM-DD").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregated</code></td>
<td>
<p>a boolean indicating whether data should be aggregated for display.
Possible values are date, day, month and year.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>a function to use for aggregating the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>automaticPanels</code></td>
<td>
<p>a boolean indicating whether the function automatically creates panels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quality</code></td>
<td>
<p>a number indicating the quality threshold to be used. Default is none.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decreasing</code></td>
<td>
<p>a boolean indicating whether the quality threshold should be applied up- or downwards</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Plotting is not supported for the following datasets: OVERVIEW, SITES, SOIL(more). The aggregation of data
relies on the function <code>aggregate</code> for <code>zoo</code> objects. The FUN parameter
is passed to FUN from <code>aggregate</code>. Please check the help files of  <code>aggregate</code>
for further information. For handling NAs we recommend to pass self-defined functions (see examples).
</p>


<h3>Value</h3>

<p>plots for the specified dataset, site and variables
</p>


<h3>Note</h3>

<p>To report errors in the package or the data, please use the issue tracker
in the GitHub repository of ProfoundData <a href="https://github.com/COST-FP1304-PROFOUND/ProfoundData">https://github.com/COST-FP1304-PROFOUND/ProfoundData</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># example requires that a sql DB is registered via setDB(dbfile)
# when run without a registered DB, you will get a file query (depending on OS)

## Not run: 
# Normal plotting
plotData(dataset = "CLIMATE_LOCAL", site = "le_bray", automaticPanels = TRUE)
plotData(dataset = "TREE", site = "solling_beech",   automaticPanels = TRUE)
plotData(dataset = "CLIMATE_LOCAL", site = "le_bray", automaticPanels = FALSE)
plotData(dataset = "TREE", site = "solling_beech",   automaticPanels = FALSE)

# Plot specific forcing datasets and conditions
plotData(dataset ="CLIMATE_ISIMIP2B", site ="soro", forcingDataset="GFDLESM2M",
         forcingCondition ="rcp2p6", automaticPanels = TRUE)

# Plot specific variables
plotData(dataset ="CLIMATE_ISIMIP2B",site ="soro", forcingDataset="GFDLESM2M",
         forcingCondition ="rcp2p6", variables = "p_mm")
plotData(dataset ="TREE",site ="solling_beech", variables = "dbh1_cm")

# Plot specific species
plotData(dataset ="TREE", site ="hyytiala", species = "Pinus sylvestris",
         automaticPanels = TRUE)

# Plot specific period
plotData(dataset = "CLIMATE_LOCAL", site =  "soro",
         period = c("2011-01-01","2012-12-31"))

# Set quality threshold
plotData(dataset = "CLIMATE_LOCAL", site = "soro",
         period = c("2011-01-01","2012-12-31"), quality = 1, decreasing = FALSE)
plotData(dataset = "FLUX", site = "soro", period = c("2011-01-01","2012-12-31"),
         quality = 0, decreasing = TRUE)

# Plot aggregated data
plotData(dataset = "CLIMATE_ISIMIP2B", site ="soro",  forcingDataset= "GFDLESM2M",
         forcingCondition="rcp2p6", variables = "tmax_degC",
         period = c("2020-01-01", "2022-01-01"),
         aggregate = "month", FUN =median)
plotData(dataset = "CLIMATE_ISIMIP2B", site ="soro",  forcingDataset= "GFDLESM2M",
         forcingCondition="rcp2p6", variables = "p_mm",
         period = c("2020-01-01", "2022-01-01"),
         aggregate = "month", FUN =sum)

# Plot aggregated data with self-defined function. In this case, compare month
# mean temperature of one year to mean of all period
data &lt;- getData(dataset = "CLIMATE_ISIMIP2B", site ="soro",  forcingDataset= "GFDLESM2M",
                forcingCondition="rcp2p6", variables = "tmax_degC")
meanTemperature &lt;- mean(data$tmax_degC, na.rm = TRUE)
difference &lt;- function(x) {mean(x, na.rm = TRUE) -meanTemperature}

plotData(dataset = "CLIMATE_ISIMIP2B", site ="soro",  forcingDataset= "GFDLESM2M",
         forcingCondition="rcp2p6", variables = "tmax_degC",
         period = c("2020-01-01", "2021-01-01"),
         aggregate = "month", FUN =difference)
abline(h = 0, col = "red")

## End(Not run)
</code></pre>


</div>