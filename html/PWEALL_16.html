<div class="container">

<table style="width: 100%;"><tr>
<td>PWEALL-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Design and Monitoring of Survival Trials Accounting for Complex
Situations
</h2>

<h3>Description</h3>

<p>Calculates various functions needed for design and monitoring survival trials
    accounting for complex situations such as delayed treatment effect, treatment crossover, non-uniform accrual,
    and different censoring distributions between groups. The event time distribution is assumed to be
    piecewise exponential (PWE) distribution and the entry time is assumed to be piecewise uniform distribution.
    As compared with Version 1.2.1, two more types of hybrid crossover are added. 
    A bug is corrected in the function "pwecx" that calculates the crossover-adjusted survival, distribution, 
    density, hazard and cumulative hazard functions. 
    Also, to generate the crossover-adjusted event time random variable,  a more efficient 
    algorithm is used and the output includes crossover indicators. 
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
<td style="text-align: left;">
Package: </td>
<td style="text-align: left;"> PWEALL</td>
</tr>
<tr>
<td style="text-align: left;">
Type: </td>
<td style="text-align: left;"> Package</td>
</tr>
<tr>
<td style="text-align: left;">
Version: </td>
<td style="text-align: left;"> 1.3.0.1</td>
</tr>
<tr>
<td style="text-align: left;">
Date: </td>
<td style="text-align: left;"> 2018-10-18</td>
</tr>
<tr>
<td style="text-align: left;">
Title: </td>
<td style="text-align: left;"> Design and Monitoring of Survival Trials Accounting for Complex
Situations</td>
</tr>
<tr>
<td style="text-align: left;">
Description: </td>
<td style="text-align: left;"> Calculates various functions needed for design and monitoring survival trials
    accounting for complex situations such as delayed treatment effect, treatment crossover, non-uniform accrual,
    and different censoring distributions between groups. The event time distribution is assumed to be
    piecewise exponential (PWE) distribution and the entry time is assumed to be piecewise uniform distribution.
    As compared with Version 1.2.1, two more types of hybrid crossover are added. 
    A bug is corrected in the function "pwecx" that calculates the crossover-adjusted survival, distribution, 
    density, hazard and cumulative hazard functions. 
    Also, to generate the crossover-adjusted event time random variable,  a more efficient 
    algorithm is used and the output includes crossover indicators. </td>
</tr>
<tr>
<td style="text-align: left;">
Authors@R: </td>
<td style="text-align: left;"> c(
    person(given="Xiaodong", family="Luo", email = "Xiaodong.Luo@sanofi.com", role =c("aut", "cre")),
    person(given="Xuezhou", family="Mao",  role = "ctb"),
    person(given="Xun", family="Chen",  role = "ctb"),
    person(given="Hui", family="Quan",  role = "ctb"),
    person("Sanofi", role = "cph"))</td>
</tr>
<tr>
<td style="text-align: left;">
Depends: </td>
<td style="text-align: left;"> R (&gt;= 3.1.2)</td>
</tr>
<tr>
<td style="text-align: left;">
Imports: </td>
<td style="text-align: left;"> survival, stats</td>
</tr>
<tr>
<td style="text-align: left;">
License: </td>
<td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
<td style="text-align: left;">
RoxygenNote: </td>
<td style="text-align: left;"> 5.0.1</td>
</tr>
<tr>
<td style="text-align: left;">
LazyData: </td>
<td style="text-align: left;"> true</td>
</tr>
<tr>
<td style="text-align: left;">
NeedsCompilation: </td>
<td style="text-align: left;"> yes</td>
</tr>
<tr>
<td style="text-align: left;">
Packaged: </td>
<td style="text-align: left;"> 2018-10-18 03:31:00 UTC; Administrator</td>
</tr>
<tr>
<td style="text-align: left;">
Author: </td>
<td style="text-align: left;"> Xiaodong Luo [aut, cre],
  Xuezhou Mao [ctb],
  Xun Chen [ctb],
  Hui Quan [ctb],
  Sanofi [cph]</td>
</tr>
<tr>
<td style="text-align: left;">
Maintainer: </td>
<td style="text-align: left;"> Xiaodong Luo &lt;Xiaodong.Luo@sanofi.com&gt;</td>
</tr>
<tr>
<td style="text-align: left;">
Repository: </td>
<td style="text-align: left;"> CRAN</td>
</tr>
<tr>
<td style="text-align: left;">
Date/Publication: </td>
<td style="text-align: left;"> 2018-10-18 11:30:13 UTC</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Index of help topics:
</p>
<pre>
PWEALL-package          Design and Monitoring of Survival Trials
                        Accounting for Complex Situations
cp                      Conditional power given observed log hazard
                        ratio
cpboundary              The stopping boundary based on the conditional
                        power criteria
cpstop                  The stopping probability based on the stopping
                        boundary
fourhr                  A utility functon
hxbeta                  A function to calculate the beta-smoothed
                        hazard rate
innercov                A utility function to calculate the inner
                        integration of the overall covariance
innervar                A utility function to calculate the inner
                        integration of the overall variance
instudyfindt            calculate the timeline in study when some or
                        all subjects have entered
ovbeta                  calculate the overall log hazard ratio
overallcov              calculate the overall covariance
overallcovp1            calculate the first part of the overall
                        covariance
overallcovp2            calculate the other parts of the overall
                        covariance
overallvar              calculate the overall variance
pwe                     Piecewise exponential distribution: hazard,
                        cumulative hazard, density, distribution,
                        survival
pwecx                   Various function for piecewise exponential
                        distribution with crossover effect
pwecxcens               Integration of the density of piecewise
                        exponential distribution with crossover effect
                        and the censoring function
pwecxpwu                Integration of the density of piecewise
                        exponential distribution with crossover effect,
                        censoring and recruitment function
pwecxpwufindt           calculate the timeline when certain number of
                        events accumulates
pwecxpwuforvar          calculate the utility function used for
                        varaince calculation
pwefv2                  A utility function
pwefvplus               A utility functon
pwepower                Calculating the powers of various the test
                        statistics for superiority trials
pwepowereq              Calculating the powers of various the test
                        statistics for equivalence trials
pwepowerfindt           Calculating the timepoint where a certain power
                        of the specified test statistics is obtained
pwepowerni              Calculating the powers of various the test
                        statistics for non-inferiority trials
pwesim                  simulating the test statistics
pwu                     Piecewise uniform distribution: distribution
qpwe                    Piecewise exponential distribution: quantile
                        function
qpwu                    Piecewise uniform distribution: quantile
                        function
rmstcov                 Calculation of the variance and covariance of
                        estimated restricted mean survival time
rmsth                   Estimate the restricted mean survival time
                        (RMST) and its variance from data
rmstpower               Calculate powers at different cut-points based
                        on difference of restricted mean survival times
                        (RMST)
rmstpowerfindt          Calculating the timepoint where a certain power
                        of mean difference of RMSTs is obtained
rmstsim                 simulating the restricted mean survival times
rmstutil                A utility function to calculate the true
                        restricted mean survival time (RMST) and its
                        variance account for delayed treatment,
                        discontinued treatment and non-uniform entry
rpwe                    Piecewise exponential distribution: random
                        number generation
rpwecx                  Piecewise exponential distribution with
                        crossover effect: random number generation
rpwu                    Piecewise uniform distribution: random number
                        generation
spf                     A utility function
wlrcal                  A utility function to calculate the weighted
                        log-rank statistics and their varainces given
                        the weights
wlrcom                  A function to calculate the various weighted
                        log-rank statistics and their varainces
wlrutil                 A utility function to calculate some common
                        functions in contructing weights
</pre>
<p>There are 5 types of crossover considered in the package: (1) Markov crossover, (2) Semi-Markov crosover, (3) Hybrid crossover-1, (4) Hybrid crossover-2 and (5) Hybrid crossover-3. The first 3 types are described in Luo et al. (2018). The fourth and fifth types are added for Version 1.3.0. The crossover type is determined by the hazard function after crossover <code class="reqn">\lambda_2^{\bf x}(t\mid u)</code>. For Type (1), the Markov crossover,
</p>
<p style="text-align: center;"><code class="reqn">\lambda_2^{\bf x}(t\mid u)=\lambda_2(t).</code>
</p>
 
<p>For Type (2), the Semi-Markov crossover,
</p>
<p style="text-align: center;"><code class="reqn">\lambda_2^{\bf x}(t\mid u)=\lambda_2(t-u).</code>
</p>

<p>For Type (3), the hybrid crossover-1,
</p>
<p style="text-align: center;"><code class="reqn">\lambda_2^{\bf x}(t\mid u)=\pi_2\lambda_2(t-u)+(1-\pi_2)\lambda_4(t).</code>
</p>

<p>For Type (4), the hazard after crossover is 
</p>
<p style="text-align: center;"><code class="reqn">\lambda_2^{\bf x}(t\mid u)=\frac{\pi_2\lambda_2(t-u)S_2(t-u)+(1-\pi_2)\lambda_4(t)S_4(t)/S_4(u)}{\pi_2 S_2(t-u)+(1-\pi_2)S_4(t)/S_4(u)}.</code>
</p>

<p>For Type (5), the hazard after crossover is 
</p>
<p style="text-align: center;"><code class="reqn">\lambda_2^{\bf x}(t\mid u)=\frac{\pi_2\lambda_2(t-u)S_2(t-u)+(1-\pi_2)\lambda_4(t-u)S_4(t-u)}{\pi_2 S_2(t-u)+(1-\pi_2)S_4(t-u)}.</code>
</p>

<p>The types (4) and (5) are more closely related to "re-randomization", i.e. when a patient crosses, (s)he will have probability <code class="reqn">\pi_2</code> to have hazard <code class="reqn">\lambda_2</code> and probability <code class="reqn">1-\pi_2</code> to have hazard <code class="reqn">\lambda_4</code>. The types (4) and (5) differ in having <code class="reqn">\lambda_4</code> as Markov or Semi-markov.  
</p>


<h3>Author(s)</h3>

<p>Xiaodong Luo [aut, cre],
  Xuezhou Mao [ctb],
  Xun Chen [ctb],
  Hui Quan [ctb],
  Sanofi [cph]
</p>
<p>Maintainer: Xiaodong Luo &lt;Xiaodong.Luo@sanofi.com&gt;
</p>


<h3>References</h3>

<p>Luo et al. (2018) Design and monitoring of survival trials in complex scenarios, Statistics in Medicine &lt;doi: https://doi.org/10.1002/sim.7975&gt;.
</p>


</div>