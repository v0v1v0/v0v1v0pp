<div class="container">

<table style="width: 100%;"><tr>
<td>prolific_study</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prolific study</h2>

<h3>Description</h3>

<p>Class that represents Prolific studies, such that they can be transferred to or from the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>.
This allows to create, review and update studies.<br><em>The fields and methods are available as in RefClass or S4 objects (see examples and the <a href="../doc/prolificapi-package.html">prolific.api package vignette</a>).</em>
</p>
<p>API access to interact with the Prolific platform is done by using objects from the <code>api_access class</code>, i.e.
<code>prolific_studies</code> are intended to be transferred as bodies in calls to the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a> (see examples).
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>character</code>):<br>
The study's ID on Prolific.<br><strong>Note: This ID is set by Prolific and can not be changed by the user</strong><br> (see the '<em>Further (read-only) fields</em>' section below).</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>(<code>character</code>):<br>
Public name or title of the study <em>(will be publicly visible when publishing the study).</em></p>
</dd>
<dt><code>internal_name</code></dt>
<dd>
<p>(<code>character</code>):<br>
Internal name of the study <em>(not shown to participants)</em>.</p>
</dd>
<dt><code>description</code></dt>
<dd>
<p>(<code>character</code>):<br>
Description of the study <em>(will be publicly visible when publishing the study).</em></p>
</dd>
<dt><code>external_study_url</code></dt>
<dd>
<p>(<code>character</code>):<br>
URL of the survey or experiment the participants will be redirected to <em>(will be publicly visible when publishing the study).</em><br><strong>Note:</strong>
</p>

<ul>
<li>
<p>The URL must be valid at the time the study is created on the Prolific platform.
</p>
</li>
<li>
<p>For the use of URL parameters, see field <code>url_parameters</code>.
</p>
</li>
</ul>
</dd>
<dt><code>url_parameters</code></dt>
<dd>
<p>(<code>list</code>):<br>
A named list of URL parameters that is appended to <code>external_study_url</code>.
The default
</p>
<pre>list(
     prolific_id = "{%PROLIFIC_PID%}",
     study_id = "{%STUDY_ID%}",
     session_id = "{%SESSION_ID%}"
)
</pre>
<p>is used for passing the participant's, study's and session's ID from Prolific to the data collection website.</p>
</dd>
<dt><code>prolific_id_option</code></dt>
<dd>
<p>(<code>character</code>):<br>
This determines the method of passing the respondent's Prolific ID.<br><strong>Valid options are:</strong>
</p>

<ul>
<li>
<p><code>"url_parameters"</code> for passing the ID as URL parameter <code>{%PROLIFIC_PID%}</code>
</p>
</li>
<li>
<p><code>"question"</code> for letting the respondents enter their ID (e.g. via copy &amp; paste), or
</p>
</li>
<li>
<p><code>"not_required"</code> if the Prolific ID is not to be passed.
</p>
</li>
</ul>
</dd>
<dt><code>completion_code</code></dt>
<dd>
<p>(<code>character</code>):<br>
The completion code that is provided to participants after completing the study.
This code is used to prove that a participant completed the study.
It is therefore <em>visible for participants after completing the study.</em></p>
</dd>
<dt><code>completion_option</code></dt>
<dd>
<p>(<code>character</code>):<br>
This determines the method for passing the <code>completion_code</code>.<br><strong>Valid options are:</strong>
</p>

<ul>
<li>
<p><code>"url"</code>for passing the code as URL parameter when redirecting participants back to Prolific after completing the study, or
</p>
</li>
<li>
<p><code>"code"</code>for providing a code for copy and paste.
</p>
</li>
</ul>
</dd>
<dt><code>total_available_places</code></dt>
<dd>
<p>(<code>integer</code>):<br>
The number of participant you would like to recruit
in the study <em>(will be publicly visible when publishing the study).</em></p>
</dd>
<dt><code>estimated_completion_time</code></dt>
<dd>
<p>(<code>integer</code>):<br>
The estimated time it takes to complete the study, <em>in minutes</em> <em>(will be publicly visible when publishing the study).</em></p>
</dd>
<dt><code>maximum_allowed_time</code></dt>
<dd>
<p>(<code>integer</code>):<br>
The maximum allowed time for participants to complete the study, <em>in minutes</em>.</p>
</dd>
<dt><code>reward</code></dt>
<dd>
<p>(<code>integer</code>):<br>
The amount of money (in pence)
you pay for completing the study <em>(will be publicly visible when publishing the study).</em><br><strong>Note:</strong> Compensation...</p>
</dd>
<dt><code>eligibility_requirements</code></dt>
<dd>
<p>(<code>list</code>):<br>
A list containing <code>prolific_prescreener objects</code> that characterize the participants to be recruited.
<strong>Note:</strong>
</p>

<ul>
<li>
<p><code>NULL</code> means that every participant can see and complete the study.
</p>
</li>
<li>
<p><strong>Only persons fulfiling these requirements will be able to participate in the study.</strong>
</p>
</li>
</ul>
</dd>
<dt><code>device_compatibility</code></dt>
<dd>
<p>(<code>character</code>):<br><strong>Note:</strong> <code>NULL</code> means that all options are available.</p>
</dd>
<dt><code>peripheral_requirements</code></dt>
<dd>
<p>(<code>character</code>):<br>
A vector of technical requirements that participants have to fulfill to complete the study.
One or multiple values from
</p>
<pre>   c("audio", "camera", "download", "microphone")</pre>
<p><strong>Note:</strong> <code>NULL</code> means that none of the requirements is needed.</p>
</dd>
<dt><code>naivety_distribution_rate</code></dt>
<dd>
<p>(<code>numeric</code>):<br>
A value between <code>1</code> and <code>0</code> that controls the balance between speed of your study and the naivety of the participants.<br>
Prolific's description of this field is rather vague, but it seems to imply that
</p>

<ul>
<li>
<p><code>1</code> means that less trained or 'professional' participants will have access to the study.
</p>
</li>
<li>
<p><code>0</code> means that all eligible participants will have access to the study at the same time.
</p>
</li>
<li>
<p><code>values between 0 and 1</code> represent a tradeoff between both options.
</p>
</li>
</ul>
</dd>
<dt><code>further_fields</code></dt>
<dd>
<p>(<code>list</code>):<br>
Prolific studies can have various further fields, which (if used) are stored in <code>further_fields</code>.
These fields are read-only,  and determined by Prolific.
See the '<em>Further (read-only) fields</em>' section below for a list of these read-only fields.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>(further arguments):<br>
Will be added to the <code>further_fields</code> field of the <code>prolific_study</code>
(see above).</p>
</dd>
</dl>
<h3>Types of fields</h3>


<dl>
<dt>Required fields</dt>
<dd>
<p>are required for creating a study on Prolific.<br><strong>The values for all of these except <code>completion_option</code> and <code>prolific_id_option</code> should be specified before publishing a study. Default values are only placeholders.</strong>
</p>
</dd>
</dl>
<dl>
<dt>Optional fields</dt>
<dd>
<p>are writable, but optional for Prolific.<br>
The user can but does not have to set these fields when creating a study.<br>
The required and optional fields are:
</p>
</dd>
</dl>
<table>
<tr>
<td style="text-align: left;">
<code style="white-space: pre;">⁠           ⁠</code>
</td>
<td style="text-align: left;"> <strong>Required fields</strong>		</td>
<td style="text-align: left;">	<strong>Optional fields</strong>		</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>completion_code</code>		</td>
<td style="text-align: left;">	<code>device_compatibility</code>		</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>completion_option</code>		</td>
<td style="text-align: left;">	<code>internal_name</code>		</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>description</code>		</td>
<td style="text-align: left;">	<code>maximum_allowed_time</code>		</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>eligibility_requirements</code>		</td>
<td style="text-align: left;">	<code>naivety_distribution_rate</code>		</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>estimated_completion_time</code>		</td>
<td style="text-align: left;">	<code>peripheral_requirements</code>		</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>external_study_url</code>		</td>
<td style="text-align: left;">	<code>url_parameters</code>		</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>name</code>				</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>prolific_id_option</code>				</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>reward</code>				</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>total_available_places</code>				</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<dl>
<dt>Further (read-only) fields</dt>
<dd>
<p>contain information that is determined internally by Prolific and read-only.<br>
The <code>id</code>-field
is of particular relevance.
Once a study is created via <a href="https://docs.prolific.co/docs/api-docs/public/">API</a> access, it is <strong>obtained from the <a href="https://docs.prolific.co/docs/api-docs/public/">API</a> and
stored in the <code>prolific_study</code> object</strong>, since it can be used to update, manage or delete a study.<br>
To fully represent the information that is obtainable from the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>,
the <code>further_fields</code> list can contain some or all of the entries listed below.
The corresponding overview provided in the
<a href="https://docs.prolific.co/docs/api-docs/public/#tag/Studies/paths/~1api~1v1~1studies~1%7Bid%7D~1/get">Prolific API documentation</a>
currently seems to be work in progress.
</p>
</dd>
</dl>
<table>
<tr>
<td style="text-align: left;">
<code style="white-space: pre;">⁠           ⁠</code> </td>
<td style="text-align: left;"> <code>_links </code>	</td>
<td style="text-align: left;">	<code>average_reward_per_hour</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>average_reward_per_hour_without_adjustment</code>	</td>
<td style="text-align: left;">	<code>average_time_taken</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>currency_code</code>	</td>
<td style="text-align: left;">	<code>date_created</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>device_compatibility</code>	</td>
<td style="text-align: left;">	<code>discount_from_coupons</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>eligible_participant_count</code>	</td>
<td style="text-align: left;">	<code>estimated_reward_per_hour</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>fees_per_submission</code>	</td>
<td style="text-align: left;">	<code>fees_percentage</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>has_had_adjustment</code>	</td>
<td style="text-align: left;">	<code>internal_name</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>is_pilot</code>	</td>
<td style="text-align: left;">	<code>is_underpaying</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>last_email_update_sent_datetime</code>	</td>
<td style="text-align: left;">	<code>maximum_allowed_time</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>minimum_reward_per_hour</code>	</td>
<td style="text-align: left;">	<code>naivety_distribution_rate</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>number_of_submissions</code>	</td>
<td style="text-align: left;">	<code>peripheral_requirements</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>pilot_test_steps_state</code>	</td>
<td style="text-align: left;">	<code>places_taken</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>project</code>	</td>
<td style="text-align: left;">	<code>publish_at</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>published_at</code>	</td>
<td style="text-align: left;">	<code>publisher</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>quota_requirements</code>	</td>
<td style="text-align: left;">	<code>receipt</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>representative_sample</code>	</td>
<td style="text-align: left;">	<code>representative_sample_fee</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>researcher</code>	</td>
<td style="text-align: left;">	<code>reward_level</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>share_id</code>	</td>
<td style="text-align: left;">	<code>stars_remaining</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>status</code>	</td>
<td style="text-align: left;">	<code>study_type</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>total_cost</code>	</td>
<td style="text-align: left;">	<code>total_participant_pool</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>vat_percentage</code>	</td>
<td style="text-align: left;">	<code>workspace</code>			</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Methods</h3>



<h4><code>validity_check</code></h4>

<p>Check whether the study is valid in terms of the <a href="https://docs.prolific.co/docs/api-docs/public/">Prolific API</a>.<br><strong>Note:</strong> For checking the validity of the <code>eligibility_requirements</code>,
an <code>api_access object</code> that passes <code>check_authorization()</code> needs to be available.
It suffices if any such <code>api_access object</code> is specified, since the reference to it is determined automatically.
</p>


<h5><strong>Return Value</strong></h5>


<ul>
<li>
<p>If the study is valid: A <code>logical</code> value indicating that the study is valid
</p>
</li>
<li>
<p>If the study is not valid: A <code>character</code> vector that lists the studie's issues.
</p>
</li>
</ul>
<h5><strong>Usage</strong></h5>

<pre>
     prolific_study$validity_check()
</pre>




<h3>Examples</h3>

<pre><code class="language-R">library(prolific.api)

prolific_api_access &lt;- api_access(api_token = "&lt;api_token&gt;")

# Create a new study
fancy_new_study &lt;- prolific_study(
    name = "A fancy study on Prolific",
    external_study_url = "https://www.my_fancy_study_url.com",
    completion_code = "123ab456cd78",
    eligibility_requirements = list(),
    estimated_completion_time = 1,
    reward = 1,
    total_available_places = 0
)

# Check the study's validity
print(fancy_new_study$validity_check())

# Whoops, better add a description and change the total_available_places,
# using RefClass and S4 methods for illustration
# both are equivalent, so only one of the two commands is required in practice
# RefClass variant
fancy_new_study$total_available_places &lt;- 1L
# S4 variant
total_available_places(fancy_new_study) &lt;- 1L

# RefClass variant
fancy_new_study$description &lt;- "A fancy description"
# S4 variant
description(fancy_new_study) &lt;- "A fancy description"

# Re-Check the study's validity
print(fancy_new_study$validity_check())

# Note: For the following code to work,
# you have to replace &lt;api_token&gt; in the code above by the actual API token

## Not run: 
# Post the 'fancy_new_study' to Prolific - i.e. create it as a draft study on the platform
output_of_post &lt;- prolific_api_access$access(
    endpoint = "studies",
    method = "post",
    data = fancy_new_study
)

# Success: fancy_new_study got an ID - it is now a draft study on Prolific!
fancy_new_study$id

# Note: The output of the access() command with a prolific_study object as `data` argument
# is a pointer to this prolific_study object.
# The prolific_study object is updated by reference
print(tracemem(output_of_post) == tracemem(fancy_new_study))

# Change the study's name
name(fancy_new_study) &lt;- "A NEW name for 'fancy_new_study'"

# Update (patch) the study on Prolific,
# using S4 methods for illustration
output_of_patch &lt;- access(
    prolific_api_access,
    endpoint = c("studies", id(fancy_new_study)),
    method = "patch",
    data = fancy_new_study
)

# Note: As above, the output of the access() command is a pointer to the prolific_study object.
print(tracemem(output_of_post) == tracemem(fancy_new_study))

# Delete fancy_new_study
prolific_api_access$access(
    endpoint = c("studies", id(fancy_new_study)),
    method = "delete",
    as_list = FALSE
)

## End(Not run)
</code></pre>


</div>