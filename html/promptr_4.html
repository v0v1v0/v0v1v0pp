<div class="container">

<table style="width: 100%;"><tr>
<td>format_prompt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Format an LLM prompt</h2>

<h3>Description</h3>

<p>Format a text prompt for a Large Language Model. Particularly useful for few-shot text classification tasks. Note that if you are planning to use one of OpenAI's chat models, like ChatGPT or GPT-4, you will want to use the <code>format_chat()</code> function instead.
</p>


<h3>Usage</h3>

<pre><code class="language-R">format_prompt(
  text,
  instructions = "",
  examples = data.frame(),
  template = "Text: {text}\nClassification: {label}",
  prompt_template = "{instructions}{examples}{input}",
  separator = "\n\n"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>The text to be classified. Can be a character vector or a single string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>instructions</code></td>
<td>
<p>Instructions to be included in the prompt (format them like you would format instructions to a human research assistant).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>examples</code></td>
<td>
<p>A dataframe of "few-shot" examples. Must include one column called 'text' with the example text(s) and another column called "label" with the correct label(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>template</code></td>
<td>
<p>The template for how examples and completions should be formatted, in <code>glue</code> syntax. If you are including few-shot examples in the prompt, this must contain the {text} and {label} placeholders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prompt_template</code></td>
<td>
<p>The template for the entire prompt. Defaults to instructions, followed by few-shot examples, followed by the input to be classified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>separator</code></td>
<td>
<p>A character that separates examples. Defaults to two carriage returns.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a formatted prompt that can be used as input for <code>complete_prompt()</code> or <code>openai::create_completion()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(scotus_tweets_examples)

format_prompt(text = "I am disappointed with this ruling.",
              instructions = "Decide if the sentiment of this statement is Positive or Negative.",
              examples = scotus_tweets_examples,
              template = "Statement: {text}\nSentiment: {label}")

format_prompt(text = 'I am sad about the Supreme Court',
              examples = scotus_tweets_examples,
              template = '"{text}" is a {label} statement',
              separator = '\n')
</code></pre>


</div>