<div class="container">

<table style="width: 100%;"><tr>
<td>ce_plot.predictNMBsim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a cost-effectiveness plot.</h2>

<h3>Description</h3>

<p>Create a cost-effectiveness plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'predictNMBsim'
ce_plot(
  object,
  ref_col,
  wtp,
  show_wtp = TRUE,
  methods_order = NULL,
  rename_vector,
  shape = 21,
  wtp_linetype = "dashed",
  add_prop_ce = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>predictNMBsim</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_col</code></td>
<td>
<p>Which cutpoint method to use as the reference strategy
when calculating the incremental net monetary benefit. Often sensible to use
a "all" or "none" approach for this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wtp</code></td>
<td>
<p>A <code>numeric</code>. The willingness to pay (WTP) value used to create a
WTP threshold line on the plot (if <code>show_wtp = TRUE</code>). Defaults to the
WTP stored in the <code>predictNMBsim</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_wtp</code></td>
<td>
<p>A <code>logical</code>. Whether or not to show the WTP threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>methods_order</code></td>
<td>
<p>The order (within the legend) to display the
cutpoint methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rename_vector</code></td>
<td>
<p>A named vector for renaming the methods in the summary.
The values of the vector are the default names and the names given are the
desired names in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>The <code>shape</code> used for <code>ggplot2::geom_point()</code>.
Defaults to 21 (hollow circles). If <code>shape = "method"</code> or
<code>shape = "cost-effective"</code> (only applicable when <code>show_wtp = TRUE</code>)
, then the shape will be mapped to that aesthetic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wtp_linetype</code></td>
<td>
<p>The <code>linetype</code> used for <code>ggplot2::geom_abline()</code>
when making the WTP. Defaults to <code>"dashed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_prop_ce</code></td>
<td>
<p>Whether to append the proportion of simulations for that
method which were cost-effective (beneath the WTP threshold)
to their labels in the legend. Only applicable when <code>show_wtp = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional (unused) arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This plot method works with <code>predictNMBsim</code> objects that are created
using <code>do_nmb_sim()</code>. Can be used to visualise the simulations on a
cost-effectiveness plot (costs vs effectiveness)
</p>


<h3>Value</h3>

<p>Returns a <code>ggplot</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
get_nmb_evaluation &lt;- get_nmb_sampler(
  qalys_lost = function() rnorm(1, 0.33, 0.03),
  wtp = 28000,
  high_risk_group_treatment_effect = function() exp(rnorm(n = 1, mean = log(0.58), sd = 0.43)),
  high_risk_group_treatment_cost = function() rnorm(n = 1, mean = 161, sd = 49)
)

sim_obj &lt;- do_nmb_sim(
  sample_size = 200, n_sims = 50, n_valid = 10000, sim_auc = 0.7,
  event_rate = 0.1, fx_nmb_training = get_nmb_evaluation, fx_nmb_evaluation = get_nmb_evaluation
)

ce_plot(sim_obj, ref_col = "all")

</code></pre>


</div>