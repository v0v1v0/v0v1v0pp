<div class="container">

<table style="width: 100%;"><tr>
<td>as_ped_cr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Competing risks trafo</h2>

<h3>Description</h3>

<p>This is the general data transformation function provided by the
<code>pammtools</code> package. Two main applications must be distinguished:
</p>

<ol>
<li>
<p> Transformation of standard time-to-event data.
</p>
</li>
<li>
<p> Transformation of left-truncated time-to-event data.
</p>
</li>
<li>
<p> Transformation of time-to-event data with time-dependent covariates (TDC).
</p>
</li>
</ol>
<p>For the latter, the type of effect one wants to estimate is also
important for the data transformation step.
In any case, the data transformation is specified by a two sided formula.
In case of TDCs, the right-hand-side of the formula can contain formula specials
<code>concurrent</code> and <code>cumulative</code>.
See the <a href="https://adibender.github.io/pammtools//articles/data-transformation.html">data-transformation</a>
vignette for details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_ped_cr(
  data,
  formula,
  cut = NULL,
  max_time = NULL,
  tdc_specials = c("concurrent", "cumulative"),
  censor_code = 0L,
  combine = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Either an object inheriting from data frame or in case of
time-dependent covariates a list of data frames (of length 2), where the first data frame
contains the time-to-event information and static covariates while the second
(and potentially further data frames) contain information on time-dependent
covariates and the times at which they have been observed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A two sided formula with a <code>Surv</code> object
on the left-hand-side and covariate specification on the right-hand-side (RHS).
The RHS can be an extended formula, which specifies how TDCs should be transformed
using specials <code>concurrent</code> and <code>cumulative</code>. The left hand-side can
be in start-stop-notation. This, however, is only used to create left-truncated
data and does not support the full functionality.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cut</code></td>
<td>
<p>Split points, used to partition the follow up into intervals.
If unspecified, all unique event times will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_time</code></td>
<td>
<p>If <code>cut</code> is unspecified, this will be the last
possible event time. All event times after <code>max_time</code>
will be administratively censored at <code>max_time</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tdc_specials</code></td>
<td>
<p>A character vector. Names of potential specials in
<code>formula</code> for concurrent and or cumulative effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censor_code</code></td>
<td>
<p>Specifies the value of the status variable that indicates censoring.
Often this will be <code>0</code>, which is the default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to the <code>data.frame</code> method and
eventually to <code>survSplit</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame class <code>ped</code> in piece-wise exponential data format.
</p>


<h3>Examples</h3>

<pre><code class="language-R">tumor[1:3, ]
tumor[1:3, ] %&gt;% as_ped(Surv(days, status)~ age + sex, cut = c(0, 500, 1000))
tumor[1:3, ] %&gt;% as_ped(Surv(days, status)~ age + sex)
## Not run: 
data("cgd", package = "frailtyHL")
cgd2 &lt;- cgd %&gt;%
 select(id, tstart, tstop, enum, status, age) %&gt;%
 filter(enum %in% c(1:2))
ped_re &lt;- as_ped_multistate(
  formula = Surv(tstart, tstop, status) ~ age + enum,
  data = cgd2,
 transition = "enum",
 timescale = "calendar")

## End(Not run)
</code></pre>


</div>