<div class="container">

<table style="width: 100%;"><tr>
<td>fit_preference_summary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit Preference Model from Summary Data</h2>

<h3>Description</h3>

<p>Computes the test statistics and p-values for the preference, 
selection, and treatment effects in a two-stage randomized trial using 
summary data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fit_preference_summary(
  x1mean,
  x1var,
  m1,
  x2mean,
  x2var,
  m2,
  y1mean,
  y1var,
  n1,
  y2mean,
  y2var,
  n2,
  xi = 1,
  nstrata = 1,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x1mean</code></td>
<td>
<p>mean of responses for patients choosing treatment 1. If study
is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1var</code></td>
<td>
<p>variance of responses for patients choosing treatment 1. If 
study is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m1</code></td>
<td>
<p>number of patients choosing treatment 1. If study
is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2mean</code></td>
<td>
<p>mean of responses for patients choosing treatment 2. If study
is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2var</code></td>
<td>
<p>variance of responses for patients choosing treatment 2. If 
study is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m2</code></td>
<td>
<p>number of patients choosing treatment 2. If study
is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y1mean</code></td>
<td>
<p>mean of responses for patients randomized to treatment 1. If 
study is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y1var</code></td>
<td>
<p>variance of responses for patients randomized to treatment 1. 
If study is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>number of patients randomized to treatment 1. If study is 
stratified, should be vector with length equal to the number of 
strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y2mean</code></td>
<td>
<p>mean of responses for patients randomized to treatment 2. If 
study is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y2var</code></td>
<td>
<p>variance of responses for patients randomized to treatment 2. 
If study is stratified, should be vector with length equal to the
number of strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>number of patients randomized to treatment 2. If study is 
stratified, should be vector with length equal to the number of 
strata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xi</code></td>
<td>
<p>a numeric vector of the proportion of patients in each stratum. 
Length of vector should equal the number of strata in the study and 
sum of vector should be 1. All vector elements should be numeric 
values between 0 and 1. Default is 1 (i.e. unstratified design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstrata</code></td>
<td>
<p>number of strata. Default is 1 (i.e. unstratified design).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Type I error rate, used to determine confidence interval level 
for the effect estimates. Default is 0.05 (i.e. 95% confidence interval)</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Rucker G (1989). "A two-stage trial design for testing treatment,
self-selection and treatment preference effects." <em>Stat Med</em>, 
<strong>8</strong>(4):477-485. 
(<a href="https://pubmed.ncbi.nlm.nih.gov/2727471">PubMed</a>)
</p>
<p>Cameron B, Esserman D (2016). "Sample Size and Power for a 
Stratified Doubly Randomized Preference Design." 
<em>Stat Methods Med Res</em>. 
(<a href="https://pubmed.ncbi.nlm.nih.gov/27872194">PubMed</a>)
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Unstratified

x1mean &lt;- 5
x1var &lt;- 1
m1 &lt;- 15
x2mean &lt;- 7
x2var &lt;- 1.1
m2 &lt;- 35
y1mean &lt;- 6
y1var &lt;- 1
n1 &lt;- 25
y2mean &lt;- 8
y2var &lt;- 1.2
n2 &lt;- 25
fit_preference_summary(x1mean, x2var, m1, x2mean, x2var, m2, y1mean, y1var,
               n1, y2mean, y2var, n2)

# Stratified

x1mean &lt;- c(5, 3)
x1var &lt;- c(1, 1)
m1 &lt;- c(15, 30)
x2mean &lt;- c(7, 7)
x2var &lt;- c(1.1, 3.1)
m2 &lt;- c(35, 40)
y1mean &lt;- c(6, 4)
y1var &lt;- c(1, 2)
n1 &lt;- c(25, 35)
y2mean &lt;- c(8, 12)
y2var &lt;- c(1.2, 1)
n2 &lt;- c(25, 20)
fit_preference_summary(x1mean, x2var, m1, x2mean, x2var, m2, y1mean, y1var,
                       n1, y2mean, y2var, n2, alpha=0.1)
</code></pre>


</div>