<div class="container">

<table style="width: 100%;"><tr>
<td>as.top_ordering</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coercion into top-ordering datasets</h2>

<h3>Description</h3>

<p>Attempt to coerce the input data into a top-ordering dataset.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.top_ordering(data, format_input = NULL, aggr = NULL,
  freq_col = NULL, ties_method = "random", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An object containing the partial sequences to be coerced into an object of class <code>top_ordering</code>. The following classes are admissible for <code>data</code>: numeric <code>matrix</code>, <code>data.frame</code>, <code>RandData</code> from the <code>rankdist</code> package and <code>rankings</code> from the <code>PlackettLuce</code> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format_input</code></td>
<td>
<p>Character string indicating the format of the <code>data</code> input, namely <code>"ordering"</code> or <code>"ranking"</code>. Used only when the class of the <code>data</code> argument is matrix or data frame. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggr</code></td>
<td>
<p>Logical: whether the <code>data</code> argument collects the distinct observed sequences with the corresponding frequencies (aggregated format). Used only when the class of the <code>data</code> aargument is matrix or data frame. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq_col</code></td>
<td>
<p>Integer indicating the column of the <code>data</code> argument containing the frequencies of the distinct observed sequences. Used only when the class of the <code>data</code> argument is matrix or data frame and <code>aggr</code> argument is <code>TRUE</code>. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ties_method</code></td>
<td>
<p>Character string indicating the treatment of sequences with ties (not used for data of class <code>RankData</code>). If <code>"remove"</code>, the sequences with ties are removed before acting the coercion; if <code>"random"</code> (default), tied positions are re-assigned at random before acting the coercion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to or from other methods (not used).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The coercion function <code>as.top_ordering</code> tries to coerce the input data into an object of class <code>top_ordering</code> after checking for possible partial sequences that do not satisfy the top-ordering requirements. If none of the supplied sequences satisfies the top-ordering conditions, an error message is returned. <code>NA</code>'s in the input <code>data</code> are tacitly converted into zero entries.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>c("top_ordering","matrix")</code>.
</p>


<h3>Author(s)</h3>

<p>Cristina Mollica and Luca Tardella
</p>


<h3>References</h3>

<p>Turner, H., Kormidis, I. and Firth, D. (2018). PlackettLuce: Plackett-Luce Models for Rankings. R package version 0.2-3. <a href="https://CRAN.R-project.org/package=PlackettLuce">https://CRAN.R-project.org/package=PlackettLuce</a>
</p>
<p>Qian, Z. (2018). rankdist: Distance Based Ranking Models. R package version 1.1.3. <a href="https://CRAN.R-project.org/package=rankdist">https://CRAN.R-project.org/package=rankdist</a>
</p>


<h3>See Also</h3>

<p><code>is.top_ordering</code>, <code>as.rankings</code> and <code>rankings</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Coerce an object of class 'rankings' into an object of class 'top_ordering'
library(PlackettLuce)
RR &lt;- matrix(c(1, 2, 0, 0,
4, 1, 2, 3,
2, 1, 1, 1,
1, 2, 3, 0,
2, 1, 1, 0,
1, 0, 3, 2), nrow = 6, byrow = TRUE) 
RR_rank=as.rankings(RR)
RR_rank
as.top_ordering(RR_rank, ties_method="random")

## Coerce an object of class 'RankData' into an object of class 'top_ordering'
library(rankdist) 
data(apa_partial_obj)
d_apa_top_ord=as.top_ordering(data=apa_partial_obj)
identical(d_apa,d_apa_top_ord)

## Coerce a data frame from the package prefmod into an object of class 'top_ordering'
library(prefmod)
data(carconf)
carconf_rank=carconf[,1:6]
carconf_top_ord=as.top_ordering(data=carconf_rank,format_input="ranking",aggr=FALSE)
identical(d_carconf,carconf_top_ord)

## Coerce a data frame from the package pmr into an object of class 'top_ordering'
library(pmr)
data(big4)
head(big4)
big4_top_ord=as.top_ordering(data=big4,format_input="ranking",aggr=TRUE,freq_col=5)
head(big4_top_ord)

</code></pre>


</div>