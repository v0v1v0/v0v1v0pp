<div class="container">

<table style="width: 100%;"><tr>
<td>keyword_search</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search a pdf file for keywords</h2>

<h3>Description</h3>

<p>This uses the pdf_text from the pdftools package to perform keyword searches. 
Keyword locations indicating the line of the text as well as the page number 
that the keyword is found are returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">keyword_search(x, keyword, path = FALSE, split_pdf = FALSE,
  surround_lines = FALSE, ignore_case = FALSE, remove_hyphen = TRUE,
  token_results = TRUE, heading_search = FALSE, heading_args = NULL,
  convert_sentence = TRUE, split_pattern = "\\p{WHITE_SPACE}{3,}",
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Either the text of the pdf read in with the pdftools package or a 
path for the location of the pdf file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keyword</code></td>
<td>
<p>The keyword(s) to be used to search in the text. Multiple 
keywords can be specified with a character vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>An optional path designation for the location of the pdf to be 
converted to text. The pdftools package is used for this conversion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_pdf</code></td>
<td>
<p>TRUE/FALSE indicating whether to split the pdf using white 
space. This would be most useful with multicolumn pdf files. 
The split_pdf function attempts to recreate the column layout of the text 
into a single column starting with the left column and proceeding to the 
right.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surround_lines</code></td>
<td>
<p>numeric/FALSE indicating whether the output should 
extract the surrouding lines of text in addition to the matching line. 
Default is FALSE, if not false, include a numeric number that indicates 
the additional number of surrounding lines that will be extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_case</code></td>
<td>
<p>TRUE/FALSE/vector of TRUE/FALSE, indicating whether the 
case of the keyword matters. Default is FALSE meaning that case of the 
keyword is literal. If a vector, must be same length as the keyword 
vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_hyphen</code></td>
<td>
<p>TRUE/FALSE indicating whether hyphenated words should
be adjusted to combine onto a single line. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token_results</code></td>
<td>
<p>TRUE/FALSE indicating whether the results text returned
should be split into tokens. See the tokenizers package and 
<code>convert_tokens</code> for more details. Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heading_search</code></td>
<td>
<p>TRUE/FALSE indicating whether to search for headings 
in the pdf.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heading_args</code></td>
<td>
<p>A list of arguments to pass on to the 
<code>heading_search</code> function. See <code>heading_search</code> 
for more details on arguments needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convert_sentence</code></td>
<td>
<p>TRUE/FALSE indicating if individual lines of PDF file
should be collapsed into a single large paragraph to perform keyword 
searching. Default is TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_pattern</code></td>
<td>
<p>Regular expression pattern used to split multicolumn 
PDF files using <code>stringi::stri_split_regex</code>. 
Default pattern is "\pWHITE_SPACE3," which can be interpreted as: 
split based on three or more consecutive white space characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>token_function to pass to <code>convert_tokens</code> 
function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble data frame that contains the keyword, location of match, 
the line of text match, and optionally the tokens associated with the line
of text match.
</p>


<h3>Examples</h3>

<pre><code class="language-R">file &lt;- system.file('pdf', '1501.00450.pdf', package = 'pdfsearch')

keyword_search(file, keyword = c('repeated measures', 'mixed effects'),
  path = TRUE)
  
# Add surrounding text
keyword_search(file, keyword = c('variance', 'mixed effects'),
  path = TRUE, surround_lines = 1)
  
# split pdf
keyword_search(file, keyword = c('repeated measures', 'mixed effects'),
  path = TRUE, split_pdf = TRUE, remove_hyphen = FALSE)

</code></pre>


</div>