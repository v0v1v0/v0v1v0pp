<div class="container">

<table style="width: 100%;"><tr>
<td>portfolioBasic-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "portfolioBasic"</h2>

<h3>Description</h3>

<p>An object of the lightweight class "portfolioBasic" contains a data frame
of weights and a data frame of supplementary information.</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("portfolioBasic", ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>name</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
the name of this portfolio. </p>
</dd>
<dt>
<code>instant</code>:</dt>
<dd>
<p>Object of class <code>"ANY"</code> containing an
instant to which this portfolio pertains.</p>
</dd>
<dt>
<code>data</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> containing
supplementary information about the positions in this portfolio.
Must include a unique column specified in the <code>id.var</code> slot. </p>
</dd>
<dt>
<code>id.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>
containing the name of the column in the <code>data</code> slot to be used as
a unique identifier. </p>
</dd>
<dt>
<code>symbol.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>
containing the name of the column in the <code>data</code> slot to be used as
a descriptive symbol. </p>
</dd>
<dt>
<code>in.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
the name of the column in the <code>data</code> slot to be used as a rank
vector in calls to <code>create</code>.</p>
</dd>
<dt>
<code>weight.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>
containing the name of the column in the <code>data</code> slot to be used as
weight overrides in calls to <code>create</code>. </p>
</dd>
<dt>
<code>ret.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
the name of the column in the <code>data</code> slot to be used as the return
in calls to <code>performance</code>.</p>
</dd>
<dt>
<code>type</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> containing
the type of weight formation to use in calls to <code>create</code>.
May be one of "relative", "equal", "linear", "sigmoid",
"centroid", or "complex".
Defaults to <code>equal</code>. </p>
</dd>
<dt>
<code>size</code>:</dt>
<dd>
<p>Object of class <code>"characterOrNumeric"</code>
containing the size of the portfolio to use in calls to
<code>create</code>.  May either contain the number of securities per
side or one of "decile", "quintile", "quartile", "tercile", or
"demile".  Defaults to <code>quintile</code>. </p>
</dd>
<dt>
<code>weights</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code>
containing the data frame of weights for this portfolio's
positions.  Must contain a unique column called "id". </p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>+</dt>
<dd>
<p><code>signature(e1 = "portfolioBasic", e2 = "portfolioBasic")</code></p>
</dd>
<dt>all.equal</dt>
<dd>
<p><code>signature(target = "portfolioBasic", current
	= "portfolioBasic")</code>: Compare two <code>portfolioBasic</code> objects for
"near equality".  Two <code>portfolioBasic</code> objects are
<code>all.equal</code> iff their <code>weights</code> slots contain exactly
the same set of securities and weight vectors that are <code>all.equal</code>.</p>
</dd>
<dt>balance</dt>
<dd>
<p><code>signature(object = "portfolioBasic", in.var = "character")</code>:
balances the positions in portfolio <code>object</code> to be neutral to
the categories specified by column <code>in.var</code> in the <code>data</code> slot.</p>
</dd>
<dt>contribution</dt>
<dd>
<p><code>signature(object = "portfolioBasic",
	contrib.var = "character")</code>: returns one data.frame with
contribution analysis for each element of <code>contrib.var</code>.  All
results are returned in a list.</p>
</dd>
<dt>create</dt>
<dd>
<p><code>signature(object = "portfolioBasic")</code>: use this
object's creation parameters (such as in slots <code>size</code> and
<code>type</code>) to create and return a new object of class
<code>portfolioBasic</code>.</p>
</dd>
<dt>exposure</dt>
<dd>
<p><code>signature(object = "portfolioBasic", exp.var
	= "character")</code>: returns one data.frame with
exposure analysis for each element of <code>contrib.var</code>.  All
results are returned in a list. </p>
</dd>
<dt>matching</dt>
<dd>
<p><code>signature(object = "portfolioBasic",
	covariates = "character"</code>: returns a <code>matchedPortfolio</code> object
containing <code>n.matches</code> matched portfolios.  <code>object</code> is the
<code>portfolioBasic</code> to be matched.  <code>covariates</code> is a
character vector of the attributes on which to match.  
</p>
</dd>
<dt>performance</dt>
<dd>
<p><code>signature(object = "portfolioBasic")</code>:
returns a list containing performance results. </p>
</dd>
<dt>plot</dt>
<dd>
<p><code>signature(x = "portfolioBasic", y = "missing")</code>: Plot
this object. </p>
</dd>
<dt>portfolioDiff</dt>
<dd>
<p><code>signature(object = "portfolioBasic", x =
	"portfolioBasic")</code>: computes the difference, as a
<code>portfolioBasic</code> object, between two portfolios. </p>
</dd>
<dt>scaleWeights</dt>
<dd>
<p><code>signature(object = "portfolioBasic")</code>:
scale weights to the weights supplied in the <code>target</code>
parameter.  To restrict the set of positions whose weights are
scaled, use the <code>condition</code> argument. </p>
</dd>
<dt>show</dt>
<dd>
<p><code>signature(object = "portfolioBasic")</code>: display
this object, briefly. </p>
</dd>
<dt>summary</dt>
<dd>
<p><code>signature(object = "portfolioBasic")</code>: display
descriptive information about this portfolio. </p>
</dd>
<dt>initialize</dt>
<dd>
<p><code>signature(object = "portfolioBasic")</code>:
initialize the portfolio by calling <code>create</code>. </p>
</dd>
<dt>mapMarket</dt>
<dd>
<p><code>signature(object = "portfolioBasic")</code>: create
a map of the market plot of the portfolio. </p>
</dd>
</dl>
<h3>Matched portfolios</h3>

<p>The <code>matching</code> method allows one to benchmark a portfolio against
a similar portfolio formed from other stocks in the universe.  The
universe consists of all the stocks in the <code>data</code> slot of
<code>original</code>.
</p>
<p><code>matching</code> calculates a propensity score for each stock in the
universe.  <code>covariates</code> determines which attributes are used to
calculate the propensity score.  <code>covariates</code> must refer to the
names of columns in the <code>data</code> slot of <code>original</code>.
</p>
<p>Matching accepts an optional argument, <code>method</code>, which sets the
algorithm for determining the best match for each
stock.  There are 2 available algorithms, <code>"greedy"</code> and
<code>"sample"</code>.  <code>"greedy"</code> is the default and generates 1
matched portfolio.  <code>"sample"</code> randomly matches each stock
in <code>original</code> with one of the stocks in the universe.  Although the matching is random,
stocks in <code>original</code> are most likely to be matched with stocks
having similar propensity scores.
</p>
<p><code>n.matches</code> is another optional argument to <code>matching</code> which
determines the number of matched portfolios to generate.  Requesting
more than 1 matched portfolio.  (<code>n.matches &gt; 1</code>) while using
<code>greedy</code> is not allowed.  When using <code>sample</code>, there is
no bound on <code>n.matches</code>.
</p>


<h3>Author(s)</h3>

<p>Jeff Enos <a href="mailto:jeff@kanecap.com">jeff@kanecap.com</a> with contributions from
Daniel Gerlanc <a href="mailto:dgerlanc@gmail.com">dgerlanc@gmail.com</a></p>


<h3>Examples</h3>

<pre><code class="language-R">data(dow.jan.2005)

p &lt;- new("portfolioBasic",
         id.var = "symbol",
         in.var = "price",
         sides = "long",
         ret.var = "month.ret",
         data = dow.jan.2005)

summary(p)

exposure(p, exp.var = c("price", "sector"))
performance(p)
contribution(p, contrib.var = c("cap.bil", "sector"))

p &lt;- new("portfolioBasic",
         id.var = "symbol",
         in.var = "price",
         type = "linear",
         sides = c("long", "short"),
         ret.var = "month.ret",
         data = dow.jan.2005)

summary(p)

exposure(p, exp.var = c("price", "sector"))
performance(p)
contribution(p, contrib.var = c("cap.bil","sector"))
</code></pre>


</div>