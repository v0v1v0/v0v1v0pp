<div class="container">

<table style="width: 100%;"><tr>
<td>psw.aug</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Propensity score weighting with augmented estimation</h2>

<h3>Description</h3>

<p><code>psw.aug</code> is the function to estimate the augmented estimator for mean difference
(mean outcome difference for <code>"gaussian"</code> family and risk difference for <code>"binomial"</code> family).
The augmented estimator is consistent for the estimand defined by the corresponding propensity score model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">psw.aug(data, form.ps, weight, form.outcome, family = "gaussian", K = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>form.ps</code></td>
<td>
<p>propensity score model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>weighting method to be used. Available methods are <code>"ATE"</code>,  <code>"ATT"</code>, <code>"ATC"</code>, <code>"MW"</code>, <code>"OVERLAP"</code>, and <code>"TRAPEZOIDAL"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>form.outcome</code></td>
<td>
<p>outcome model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>outcome family, either <code>"gaussian"</code> or <code>"binomial"</code>. <code>family="gaussian"</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>value of <code class="reqn">K</code> in <code class="reqn">\omega(e_i) = min(1, K min(e_i, 1-e_i)) </code> for <code>"TRAPEZOIDAL"</code> weight. The estimand is
closer to the average treatment effect (ATE) with larger value of <code>K</code>. <code>K=4</code> by default.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>psw.aug</code> is used to estimate the augmented estimator, <code class="reqn">\hat{\Delta}_{aug}</code>,
and make inference using the sandwich variance that adjusts for the sampling variability in the estimated propensity score.
</p>


<h3>Value</h3>

<p>A list of weighting method, fitted propensity score model, estimated propenstity scores, estimated propensity score weights,
augmented estimator and associated standard error.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>weighting method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ps.model</code></td>
<td>
<p>object returned by fitting the propensity score model using <code>glm</code> with <code>"binomial"</code> family.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ps.hat</code></td>
<td>
<p>estimated propensity score.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>estimated propensity score weight.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est.aug</code></td>
<td>
<p>augmented estimator for mean difference when <code>family = "gaussian"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std.aug</code></td>
<td>
<p>standard error for <code>est.aug</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est.risk.aug</code></td>
<td>
<p>augmented estimator for risk difference when <code>family = "binomial"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std.risk.aug</code></td>
<td>
<p>standard error for <code>est.risk.aug</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># Load the test data set
data(test_data);
# Propensity score model
form.ps &lt;- "Z ~ X1 + X2 + X3 + X4";
# Outcome model
form.out &lt;- "Y ~ X1 + X2 + X3 + X4";
tmp &lt;- psw.aug( data = test_data, form.ps = form.ps, weight = "ATE",
form.outcome = form.out, family="gaussian" );

</code></pre>


</div>