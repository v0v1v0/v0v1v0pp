<div class="container">

<table style="width: 100%;"><tr>
<td>dropg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Flow rate drop in pipe</h2>

<h3>Description</h3>

<p>Calculate <em>drop</em> or <em>recovery</em> of flow rate in pipe using
geometric factors.
</p>
<p>The calculated value may be positive or negative. When it is positive they
have the <em>drop</em>, i.e. the decrease of flow rate in the outlet of pipe
under consideration. When the calculated value is negative they have the
<em>recovery</em>, i.e. the increase of flow rate in the outlet of pipe under
consideration. In both cases to calculate flow rate on the outlet of pipe
under consideration simply subtract the calculated value from the
sensor-measured flow rate on the inlet.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dropg(adj = 0, d = 700, flow_rate = 250)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>adj</code></td>
<td>
<p>diameters of adjacent pipes through which discharges to and recharges from
network occur, [<em>mm</em>].
</p>
<p>Types:
</p>

<dl>
<dt><code>assert_double</code></dt>
<dd>
<p>total diameter of all adjacent pipes (total diameter case)</p>
</dd>
<dt>
<code>assert_list</code> of <code>assert_double</code>
</dt>
<dd>
<p>a set of
diameters of adjacent pipes (particular diameter case)</p>
</dd>
</dl>
<p>Positive values of diameters of adjacent pipes correspond to discharging
process through those pipe, whereas negative values of diameters mean
recharging. See <strong>Details</strong> and <strong>Examples</strong> for further explanations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>diameter of pipe under consideration, [<em>mm</em>]. Type: <code>assert_double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flow_rate</code></td>
<td>
<p>sensor-measured amount of heat carrier (water) that is transferred through
the inlet of pipe during a period, [<em>ton/hour</em>]. Type: <code>assert_double</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is common that sensor-measured flow rate undergoes discharges to
network and recharges from it. For calculation of flow rate <em>drop</em> or
<em>recovery</em> the next configuration of district heating network segment is
assumed:
</p>
<p><img src="../help/figures/dropg.png" alt="dropg.png"></p>
<p>Usually, there are no additional sensors that could measure flow rate in
each flow fork. In that case they only may operate with geometric
factors, i.e. assuming that flow rate is proportional to square of pipe
diameter.
</p>
<p>The simple summation of flow rates over all adjacent pipes produces
the required flow rate <em>drop</em> or <em>recovery</em> located on the
outlet of the pipe under consideration. Since there is concurrency between
discharges and recharges the diameters of discharge pipes are regarded
positive whereas diameters of recharge pipes must be negative.
</p>
<p>Be careful when dealing with geometric factors for large amount of recharges
from network: there are no additional physical constraints and thus the
calculated value of <em>recovery</em> may have non-sense.
</p>


<h3>Value</h3>

<p>flow rate <em>drop</em> or <em>recovery</em> at the outlet of pipe,
[<em>ton/hour</em>], numeric vector. The value is positive for <em>drop</em>,
whereas for <em>recovery</em> it is negative. In both cases to calculate
flow rate on the outlet of pipe under consideration simply subtract the
calculated value from the sensor-measured flow rate on the inlet.
Type: <code>assert_double</code>.
</p>


<h3>See Also</h3>

<p>Other district heating: 
<code>dropp()</code>,
<code>dropt()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> library(pipenostics)

# Let consider pipes according to network segment scheme depicted in figure
# in [?dropg] help-page.

# Typical large diameters of pipes under consideration, [mm]:
d &lt;- as.double(unique(subset(pipenostics::m325nhldata, diameter &gt; 700)$diameter))

# Let sensor-measured flow rate in the inlet of pipe
# under consideration be proportional to d, [ton/hour]:
flow_rate &lt;- .125*d

# Let consider total diameter case when total diameters of adjacent pipes are no
# more than d, [mm]:
adj &lt;- c(450, -400, 950, -255, 1152)

# As at may be seen for the second and fourth cases they predominantly have
# recharges from network.
# Let calculate flow rate on the outlet of the pipe under consideration,
# [ton/hour]

result &lt;- flow_rate - dropg(adj, d, flow_rate)
print(result)

# [1]  75.96439 134.72222  65.70302 180.80580  78.05995

# For more clarity they may perform calculations in `data.table`.
</code></pre>


</div>