<div class="container">

<table style="width: 100%;"><tr>
<td>read_preflib</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read Ordinal Preference Data From PrefLib</h2>

<h3>Description</h3>

<p>Read orderings from <code>.soc</code>, <code>.soi</code>, <code>.toc</code> or <code>.toi</code> files storing
ordinal preference data format as defined by
<a href="https://www.preflib.org/">{PrefLib}: A Library for Preferences</a>
into a <code>preferences</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_preflib(
  file,
  from_preflib = FALSE,
  preflib_url = "https://www.preflib.org/static/data"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>A preferential data file, conventionally with extension <code>.soc</code>,
<code>.soi</code>, <code>.toc</code> or <code>.toi</code> according to data type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from_preflib</code></td>
<td>
<p>A logical which, when <code>TRUE</code> will attempt to source
the file from PrefLib by adding the database <code>HTTP</code> prefix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preflib_url</code></td>
<td>
<p>The URL which will be preprended to <code>file</code>, if
<code>from_preflib</code> is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that PrefLib refers to the items being ordered by "alternatives".
</p>
<p>The file types supported are
</p>

<dl>
<dt>.soc</dt>
<dd>
<p>Strict Orders - Complete List</p>
</dd>
<dt>.soi</dt>
<dd>
<p>Strict Orders - Incomplete List</p>
</dd>
<dt>.toc</dt>
<dd>
<p>Orders with Ties - Complete List</p>
</dd>
<dt>.toi</dt>
<dd>
<p>Orders with Ties - Incomplete List</p>
</dd>
</dl>
<p>The numerically coded orderings and their frequencies are read into a
data frame, storing the item names as an attribute. The
<code>as.aggregated_preferences</code> method converts these to an
<code>aggregated_preferences</code> object with the
items labelled by name.
</p>
<p>A PrefLib file may be corrupt, in the sense that the ordered alternatives do
not match their names. In this case, the file can be read in as a data
frame (with a warning), but <code>as.aggregated_preferences</code> will throw an error.
</p>


<h3>Value</h3>

<p>An <code>aggregated_preferences</code> object
containing the PrefLib data.
</p>


<h3>Note</h3>

<p>The Netflix and cities datasets used in the examples are from
Caragiannis et al (2017) and Bennet and Lanning (2007) respectively. These
data sets require a citation for re-use.
</p>


<h3>References</h3>

<p>Mattei, N. and Walsh, T. (2013) PrefLib: A Library of Preference Data.
<em>Proceedings of Third International Conference on Algorithmic Decision
Theory (ADT 2013)</em>. Lecture Notes in Artificial Intelligence, Springer.
</p>
<p>Bennett, J. and Lanning, S. (2007) The Netflix Prize.
<em>Proceedings of The KDD Cup and Workshops</em>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Can take a little while depending on speed of internet connection


# strict complete orderings of four films on Netflix
netflix &lt;- read_preflib("netflix/00004-00000138.soc", from_preflib = TRUE)
head(netflix)
names(netflix$preferences)

# strict incomplete orderings of 6 random cities from 36 in total
cities &lt;- read_preflib("cities/00034-00000001.soi", from_preflib = TRUE)

</code></pre>


</div>