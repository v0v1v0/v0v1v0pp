<div class="container">

<table style="width: 100%;"><tr>
<td>imsn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create minimum spanning networks interactively</h2>

<h3>Description</h3>

<p>This function will launch an interactive interface that allows you to create,
plot, manipulate, and save minimum spanning networks. It runs using the
<span class="pkg">shiny</span> R package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">imsn()
</code></pre>


<h3>Details</h3>

<p>Creating and plotting MSNs requires three steps:
</p>

<ol>
<li>
<p> Create a distance matrix from your data
</p>
</li>
<li>
<p> Create a minimum spanning network with your data and the matrix
</p>
</li>
<li>
<p> Visualize the minimum spanning network</p>
</li>
</ol>
<p>The function <code>plot_poppr_msn</code> is currently the most flexible way
of visualizing your minimum spanning network, but with 20 parameters, it can
become pretty intimidating trying to find the right display for your MSN. 
</p>
<p>With this function, all three steps are combined into one interactive 
interface that will allow you to intuitively modify your minimum spanning 
network and even save the results to a pdf or png file.
</p>


<h3>Value</h3>

<p>NULL, invisibly
</p>


<h3>Interface</h3>



<h4>Buttons</h4>

<p>In the left hand panel, there are three buttons to execute the functions.
These allow you to run the data set after you manipulate all of the
parameters.
</p>

<ul>
<li> <p><strong>GO!</strong> - This button will start the application with the
specified parameters
</p>
</li>
<li> <p><strong>reData</strong> - Use this button when you have changed any parameters
under the section <strong>Data Parameters</strong>. This involves recalculating the
distance matrix and msn.
</p>
</li>
<li> <p><strong>reGraph</strong> - Use this button when you have changed any parameters
under the section <strong>Graphical Parameters</strong>. This involves superficial
changes to the display of the minimum spanning network.
</p>
</li>
</ul>
<h4>Tabs</h4>

<p>The right hand panel contains different tabs related to your data set of
choice.
</p>

<ul>
<li> <p><strong>Plot</strong> - The minimum spanning network itself
</p>
</li>
<li> <p><strong>Data</strong> - A display of your data set
</p>
</li>
<li> <p><strong>Command</strong> - The commands used to create the plot. You can copy
and paste this to an R file for reproducibility.
</p>
</li>
<li> <p><strong>Save Plot</strong> - This provides a tool for you to save the plot to a
PDF or PNG image.
</p>
</li>
<li> <p><strong>Session Information</strong> - displays the result of
<code>sessionInfo</code> for reproducibility.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Zhian N. Kamvar
</p>


<h3>See Also</h3>

<p><code>plot_poppr_msn</code> <code>diss.dist</code>
<code>bruvo.dist</code> <code>bruvo.msn</code> <code>poppr.msn</code>
<code>nei.dist</code> <code>popsub</code> <code>missingno</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Set up some data
library("poppr")
library("magrittr")
data(monpop)
splitStrata(monpop) &lt;- ~Tree/Year/Symptom
summary(monpop)
monpop_ssr &lt;- c(CHMFc4 = 7, CHMFc5 = 2, CHMFc12 = 4, 
                SEA = 4, SED = 4, SEE = 2, SEG = 6, 
                SEI = 3, SEL = 4, SEN = 2, SEP = 4, 
                SEQ = 2, SER = 4)
t26 &lt;- monpop %&gt;% setPop(~Tree) %&gt;% popsub("26") %&gt;% setPop(~Year/Symptom)
t26
if (interactive()) {
  imsn() # select Bruvo's distance and enter "monpop_ssr" into the Repeat Length field.
  
  # It is also possible to run this from github if you are connected to the internet.
  # This allows you to access any bug fixes that may have been updated before a formal
  # release on CRAN

  shiny::runGitHub("grunwaldlab/poppr", subdir = "inst/shiny/msn_explorer")

  # You can also use your own distance matrices, but there's a small catch.
  # in order to do so, you must write a function that will subset the matrix
  # to whatever populations are in your data. Here's an example with the above

  mondist &lt;- bruvo.dist(monpop, replen = monpop_ssr)
  myDist &lt;- function(x, d = mondist){
   dm &lt;- as.matrix(d)          # Convert the dist object to a square matrix
   xi &lt;- indNames(x)           # Grab the sample names that exist
   return(as.dist(dm[xi, xi])) # return only the elements that have the names
                               # in the data set
  }
  # After executing imsn, choose:
  # Distance: custom
  # myDist
  imsn() 
}

## End(Not run)
</code></pre>


</div>