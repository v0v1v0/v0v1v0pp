<div class="container">

<table style="width: 100%;"><tr>
<td>filterbygroup_na</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter proteins by group level missing data</h2>

<h3>Description</h3>

<p>This function filters out proteins based on missing data
at the group level.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filterbygroup_na(raw_df, set_na = 0.34, filter_condition = "either")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>raw_df</code></td>
<td>
<p>A <code>raw_df</code> object (output of <code>create_df</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set_na</code></td>
<td>
<p>The proportion of missing data allowed.
Default is 0.34 (one third of the samples in the group).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter_condition</code></td>
<td>
<p>If set to <code>"each"</code>, proteins that exceed
the missing value proportion threshold set by <code>set_na</code> in each group
will be removed (lenient).
If set to <code>"either"</code>(default), proteins that exceed the missing value
proportion threshold set by <code>set_na</code> in at least one group will be
removed (stringent).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<ul>
<li>
<p> This function first
extracts group or condition information from the <code>raw_df</code> object and
assigns samples to their groups.
</p>
</li>
<li>
<p> If <code>filter_condition = "each"</code>, it then removes proteins (rows)
from the data frame if the proportion of NAs in <strong>each</strong> group exceeds the
threshold indicated by <code>set_na</code> (default is 0.34). This option is
more lenient in comparison to <code>filter_condition = "either"</code>, where
proteins that exceeds the missing data threshold in <strong>either</strong> group gets
removed from the data frame.</p>
</li>
</ul>
<h3>Value</h3>

<p>A <code>raw_df</code> object.
</p>


<h3>Author(s)</h3>

<p>Chathurani Ranathunge
</p>


<h3>See Also</h3>

<p><code>create_df</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Generate a raw_df object with default settings. No technical replicates.
raw_df &lt;- create_df(
prot_groups = "https://raw.githubusercontent.com/caranathunge/promor_example_data/main/pg1.txt",
exp_design = "https://raw.githubusercontent.com/caranathunge/promor_example_data/main/ed1.txt"
)

## Remove proteins that exceed 34% NAs in either group (default)
rawdf_filt1 &lt;- filterbygroup_na(raw_df)

## Remove proteins that exceed 34% NAs in each group
rawdf_filt2 &lt;- filterbygroup_na(raw_df, filter_condition = "each")

## Proportion of samples with NAs allowed in each group = 0.5
rawdf_filt3 &lt;- filterbygroup_na(raw_df, set_na = 0.5, filter_condition = "each")


</code></pre>


</div>