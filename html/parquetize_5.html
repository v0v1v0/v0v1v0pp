<div class="container">

<table style="width: 100%;"><tr>
<td>download_extract</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>download and uncompress file if needed</h2>

<h3>Description</h3>

<p>This function will download the file if the file is remote and
unzip it if it is zipped.  It will just return the input path argument if
it's neither. <br></p>
<p>If the zip contains multiple files, you can use 'filename_in_zip' to set the file you want to unzip and use.
</p>
<p>You can pipe output on all '*_to_parquet' functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">download_extract(path, filename_in_zip)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>the input  file's path or url.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename_in_zip</code></td>
<td>
<p>name of the csv file in the zip. Required if
several csv are included in the zip.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the path to the usable (uncompressed) file, invisibly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# 1. unzip a local zip file
# 2. parquetize it

file_path &lt;- download_extract(system.file("extdata","mtcars.csv.zip", package = "readr"))
csv_to_parquet(
  file_path,
  path_to_parquet = tempfile(fileext = ".parquet")
)

# 1. download a remote file
# 2. extract the file census2021-ts007-ctry.csv
# 3. parquetize it

file_path &lt;- download_extract(
  "https://www.nomisweb.co.uk/output/census/2021/census2021-ts007.zip",
  filename_in_zip = "census2021-ts007-ctry.csv"
)
csv_to_parquet(
  file_path,
  path_to_parquet = tempfile(fileext = ".parquet")
)

# the file is local and not zipped so :
# 1. parquetize it

file_path &lt;- download_extract(parquetize_example("region_2022.csv"))
csv_to_parquet(
  file_path,
  path_to_parquet = tempfile(fileext = ".parquet")
)

</code></pre>


</div>