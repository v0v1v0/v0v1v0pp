<div class="container">

<table style="width: 100%;"><tr>
<td>bb_pi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simple uncalibrated prediction intervals for beta-binomial data</h2>

<h3>Description</h3>

<p><code>bb_pi()</code> is a helper function that is internally called by <code>beta_bin_pi()</code>. It
calculates simple uncalibrated prediction intervals for binary
data with overdispersion changing between the clusters (beta-binomial).
</p>


<h3>Usage</h3>

<pre><code class="language-R">bb_pi(
  newsize,
  histsize,
  pi,
  rho,
  q = qnorm(1 - 0.05/2),
  alternative = "both",
  newdat = NULL,
  histdat = NULL,
  algorithm = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>newsize</code></td>
<td>
<p>number of experimental units in the historical clusters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>histsize</code></td>
<td>
<p>number of experimental units in the future clusters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pi</code></td>
<td>
<p>binomial proportion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>intra class correlation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>quantile used for interval calculation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>either "both", "upper" or "lower"
<code>alternative</code> specifies, if a prediction interval or
an upper or a lower prediction limit should be computed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdat</code></td>
<td>
<p>additional argument to specify the current data set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>histdat</code></td>
<td>
<p>additional argument to specify the historical data set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm</code></td>
<td>
<p>used to define the algorithm for calibration if called via
<code>beta_bin_pi()</code>. This argument is not of interest for the calculation
of simple uncalibrated intervals</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function returns a simple uncalibrated prediction interval
</p>
<p style="text-align: center;"><code class="reqn">[l,u]_m = n^*_m \hat{\pi} \pm q \sqrt{n^*_m \hat{\pi} (1- \hat{\pi}) [1 + (n^*_m -1) \hat{\rho}] +
[\frac{n^{*2}_m \hat{\pi} (1- \hat{\pi})}{\sum_h n_h} + \frac{\sum_h n_h -1}{\sum_h n_h} n^{*2}_m \hat{\pi} (1- \hat{\pi}) \hat{\rho}]}</code>
</p>

<p>with <code class="reqn">n^*_m</code> as the number of experimental units in the <code class="reqn">m=1, 2, ... , M</code> future clusters,
<code class="reqn">\hat{\pi}</code> as the estimate for the binomial proportion obtained from the
historical data, <code class="reqn">\hat{\rho}</code> as the estimate for the intra class correlation
and <code class="reqn">n_h</code> as the number of experimental units per historical cluster. <br></p>
<p>The direct application of this uncalibrated prediction interval to real life data
is not recommended. Please use <code>beta_bin_pi()</code> for real life applications.  <br></p>


<h3>Value</h3>

<p><code>bb_pi()</code> returns an object of class <code>c("predint", "betaBinomialPI")</code>
with prediction intervals or limits in the first entry (<code>$prediction</code>).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Pointwise uncalibrated PI
bb_pred &lt;- bb_pi(newsize=c(50), pi=0.3, rho=0.05, histsize=rep(50, 20), q=qnorm(1-0.05/2))
summary(bb_pred)

</code></pre>


</div>