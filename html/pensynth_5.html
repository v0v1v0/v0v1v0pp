<div class="container">

<table style="width: 100%;"><tr>
<td>placebo_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Placebo permutation test for pensynth</h2>

<h3>Description</h3>

<p>Perform a permutation test on a pensynth object, in the sense
of Abadie, Diamond, and Hainmueller (2010). The pensynth
method is performed multiple times, treating each donor as the
treated unit and the treated unit with the remaining donors as
the donor units.
</p>


<h3>Usage</h3>

<pre><code class="language-R">placebo_test(object, Y1, Y0)

## S3 method for class 'pensynth'
placebo_test(object, Y1, Y0)

## S3 method for class 'cvpensynth'
placebo_test(object, Y1, Y0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a fitted <code>pensynth</code> or <code>cvpensynth</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y1</code></td>
<td>
<p>the post-intervention outcome of the treated unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y0</code></td>
<td>
<p>the post-intervention outcome of the donor units
(with N_donors columns)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that this function updates the original call in order to
re-estimate the synthetic control on the permuted data.
Ensure that the data is available to the placebo test function
(i.e., avoid complex environment functions such as <code>with()</code>),
and ensure that the data does not change between estimating the
original object and calling this function.
</p>


<h3>Value</h3>

<p>A list with two elements
</p>

<ul>
<li>
<p> E1, the treated unit effect, computed as <code>Y1 - Y0 %*% w</code>
</p>
</li>
<li>
<p> E0, the donor unit effects, computed in the same way but
using the permutation test's weights.
</p>
</li>
<li>
<p> ATE1, the estimated ATE of the treated unit
</p>
</li>
<li>
<p> ATE0, the estimated ATE of the donor units
</p>
</li>
</ul>
<h3>References</h3>

<p>Abadie, A., Diamond, A., &amp; Hainmueller, J. (2010).
Synthetic control methods for comparative case studies:
Estimating the effect of Californiaâ€™s tobacco control program.
Journal of the American statistical Association, 105(490),
493-505.
</p>


<h3>See Also</h3>

<p><code>pensynth()</code>, <code>cv_pensynth()</code>, <code>plot.pensynthtest()</code>, <code>stats::update()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(45)

# simulate data with an effect of 0.8 SD
dat &lt;- simulate_data(treatment_effect = .8)

# fit a model
fit &lt;- pensynth(dat$X1, dat$X0, lambda = 1e-5)

# Perform placebo test
test &lt;- placebo_test(fit, dat$Y1, dat$Y0)
plot(test)
abline(h = .8, lty = 2)
legend("bottomright", lty = 2, legend = "true effect")

# compute a pseudo p-value based on ATE in
# the post-intervention time period
ref_dist &lt;- stats::ecdf(test$ATE0)
1 - ref_dist(test$ATE1)
</code></pre>


</div>