<div class="container">

<table style="width: 100%;"><tr>
<td>ph_ecovolve</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ecovolve</h2>

<h3>Description</h3>

<p>Ecovolve generates a phylogeny via a random birth and death process,
generates a traits file with five randomly evolving, in-dependent traits,
and a sample file with a single sample unit (‘alive’) containing all
extant members of the phylogeny.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ph_ecovolve(
  speciation = 0.05,
  extinction = 0.01,
  time_units = 100,
  out_mode = 3,
  prob_env = "3211000000",
  extant_lineages = FALSE,
  only_extant = FALSE,
  taper_change = NULL,
  competition = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>speciation</code></td>
<td>
<p>(numeric) Probability of speciation per unit time.
Default: 0.05</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extinction</code></td>
<td>
<p>(numeric) Probability of extinction per unit time.
Default: 0.01</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_units</code></td>
<td>
<p>(integer) Time units to simulate over. Default: 100</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_mode</code></td>
<td>
<p>(integer) Output mode (2 = LTT; 3 = newick). Default: 3</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_env</code></td>
<td>
<p>(character) Probability envelope for character change.
must be a string of 10 integers. Default: 3211000000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extant_lineages</code></td>
<td>
<p>(logical) Stop simulation after this number of
extant lineages. Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>only_extant</code></td>
<td>
<p>(logical) Output phylogeny pruned only for extant taxa.
Default: <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taper_change</code></td>
<td>
<p>(numeric/integer) Taper character change by
<code>e^(-time/F)</code>. This produces more conservatism in traits
(see Kraft et al., 2007). Default: <code>NULL</code>, not passed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>competition</code></td>
<td>
<p>(logical) Simulate competition, with trait proximity
increasing extinction. Default: <code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list with three elements:
</p>

<ul>
<li>
<p> phylogeny - a phylogeny as a newick string. In the case of
<code>out_mode = 2</code> gives a Lineage Through Time data.frame instead of a
newick phylogeny
</p>
</li>
<li>
<p> sample - a data.frame with three columns, "sample" (all "alive"),
"abundance" (all 1's), "name" (the species code). In the case of
<code>out_mode = 2</code> gives an empty data.frame
</p>
</li>
<li>
<p> traits - a data.frame with first column with spcies code ("name"),
then 5 randomly evolved and independent traits. In the case of
<code>out_mode = 2</code> gives an empty data.frame
</p>
</li>
</ul>
<h3>Clean up</h3>

<p>Two files, "ecovolve.sample" and "ecovolve.traits" are written to the
current working directory when this function runs - we read these files
in, then delete the files via unlink
</p>


<h3>Failure behavior</h3>

<p>Function occasionally fails with error "call to 'ecovolve' failed
with status 8. only 1 taxon; &gt; 1 required" - this just means that only
1 taxon was created in the random process, so the function can't proceed
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# ph_ecovolve(speciation = 0.05)
# ph_ecovolve(speciation = 0.1)
# ph_ecovolve(extinction = 0.005)
# ph_ecovolve(time_units = 50)
# ph_ecovolve(out_mode = 2)
# ph_ecovolve(extant_lineages = TRUE)
# ph_ecovolve(extant_lineages = FALSE)
# ph_ecovolve(only_extant = FALSE)
# ph_ecovolve(only_extant = TRUE, speciation = 0.1)
# ph_ecovolve(taper_change = 2)
# ph_ecovolve(taper_change = 10)
# ph_ecovolve(taper_change = 500)

if (requireNamespace("ape")) {
  # library(ape)
  # x &lt;- ph_ecovolve(speciation = 0.05)
  # plot(read.tree(text = x$phylogeny))
}


## End(Not run)
</code></pre>


</div>