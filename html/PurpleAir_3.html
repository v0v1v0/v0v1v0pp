<div class="container">

<table style="width: 100%;"><tr>
<td>get_sensors_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Sensors Data</h2>

<h3>Description</h3>

<p>Retrieves the latest data of multiple sensors matching the provided parameters.
Find more details on sensor fields at https://api.purpleair.com/#api-sensors-get-sensors-data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_sensors_data(
  x,
  fields,
  location_type = c("both", "inside", "outside"),
  max_age = as.integer(604800),
  purple_air_api_key = Sys.getenv("PURPLE_AIR_API_KEY"),
  read_keys = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an input object used to define multiple sensors:
</p>

<ul>
<li>
<p> an integer (or numeric or character) vector will select sensors based on <code>sensor_index</code> (API: <code>show_only</code>)
</p>
</li>
<li>
<p> a st_bbox object will select sensors geographically (API: <code>nwlat</code>, <code>nwlon</code>, <code>selat</code>, <code>selon</code>)
</p>
</li>
<li>
<p> a POSIXct object will select sensors modified since the given time (API: <code>modified_since</code>)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>A character vector of which 'sensor data fields' to return</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>location_type</code></td>
<td>
<p>character; restrict to only "outside" or "inside" sensors (Outside: 0, Inside: 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_age</code></td>
<td>
<p>integer; filter results to only include sensors modified or updated within the last number of seconds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>purple_air_api_key</code></td>
<td>
<p>Your PurpleAir API <code>READ</code> key</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>read_keys</code></td>
<td>
<p>A character vector of keys required to read data from private devices</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of sensor data, named by the provided <code>fields</code>
</p>


<h3>See Also</h3>

<p>get_sensor_data
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# get sensors data by integer, numeric, or character vector of `sensor_index`
get_sensors_data(
  x = as.integer(c(175257, 175413)),
  fields = c("name", "last_seen", "pm2.5_cf_1", "pm2.5_atm")
)
get_sensors_data(
  x = c(175257, 175413),
  fields = c("name", "last_seen", "pm2.5_cf_1", "pm2.5_atm")
)
get_sensors_data(
  x = c("175257", "175413"),
  fields = c("name"), location_type = "outside"
)
# get sensors by bounding box around Hamilton County, OH
sf::st_bbox(c("xmin" = -84.82030, "ymin" = 39.02153,
              "xmax" = -84.25633, "ymax" = 39.31206),
            crs = 4326) |&gt;
  get_sensors_data(fields = c("name"))
# sensors modified in the last 60 seconds
get_sensors_data(as.POSIXct(Sys.time()) - 60, fields = "name")

## End(Not run)
</code></pre>


</div>