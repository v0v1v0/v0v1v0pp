<div class="container">

<table style="width: 100%;"><tr>
<td>create_analysis_obj</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compile MCMC sampler using STAN and create analysis object</h2>

<h3>Description</h3>

<p>Compile MCMC sampler using STAN and create analysis object
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_analysis_obj(
  data_matrix,
  outcome,
  borrowing,
  treatment,
  covariates = NULL,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_matrix</code></td>
<td>
<p>matrix. The data matrix, including all covariates to be
adjusted for, all relevant outcome variables, and treatment arm and external
control arm flags.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p><code>Outcome</code>. Object of class <code>Outcome</code> as output by
<code>outcome_surv_exponential()</code>, <code>outcome_surv_weibull_ph()</code>, or <code>outcome_bin_logistic()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>borrowing</code></td>
<td>
<p><code>Borrowing</code>. Object of class <code>Borrowing</code> as output by
<code>borrowing_full()</code>, <code>borrowing_none()</code>, and <code>borrowing_hierarchical_commensurate()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p><code>Treatment</code>. Object of class <code>Treatment</code> as output by
<code>treatment_details()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p><code>Covariates</code>. Object of class <code>Covariates</code> as output by
the function <code>add_covariates()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical. Whether to suppress messages (<code>TRUE</code>) or not (<code>FALSE</code>,
the default)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Object of class <code>Analysis</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (check_cmdstan()) {
  anls &lt;- create_analysis_obj(
    data_matrix = example_matrix,
    outcome = outcome_surv_exponential(
      "time",
      "cnsr",
      baseline_prior = prior_normal(0, 1000)
    ),
    borrowing = borrowing_hierarchical_commensurate(
      "ext",
      prior_exponential(.001)
    ),
    treatment = treatment_details(
      "trt",
      prior_normal(0, 1000)
    ),
    covariates = add_covariates(
      covariates = c("cov1", "cov2"),
      priors = prior_normal(0, 1000)
    )
  )
}

</code></pre>


</div>