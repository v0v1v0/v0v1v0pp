<div class="container">

<table style="width: 100%;"><tr>
<td>rinit_spec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>rinit specification</h2>

<h3>Description</h3>

<p>Specification of the initial-state distribution simulator, rinit.
</p>


<h3>Details</h3>

<p>To fully specify the unobserved Markov state process, one must give its distribution at the zero-time (<code>t0</code>).
One does this by furnishing a value for the <code>rinit</code> argument.
As usual, this can be provided either as a C snippet or as an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function.
In the former case, bear in mind that:
</p>

<ol>
<li>
<p> The goal of a this snippet is the construction of a state vector, i.e., the setting of the dynamical states at time <code class="reqn">t_0</code>.
</p>
</li>
<li>
<p> In addition to the parameters and covariates (if any), the variable <code>t</code>, containing the zero-time, will be defined in the context in which the snippet is executed.
</p>
</li>
<li> <p><strong>NB:</strong> The <code>statenames</code> argument plays a particularly important role when the rinit is specified using a C snippet.
In particular, every state variable must be named in <code>statenames</code>.
<strong>Failure to follow this rule will result in undefined behavior.</strong>
</p>
</li>
</ol>
<p>General rules for writing C snippets can be found here.
</p>
<p>If an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function is to be used, pass
</p>
<pre>
   rinit = f
</pre>
<p>to <code>pomp</code>, where <code>f</code> is a function with arguments that can include the initial time <code>t0</code>, any of the model parameters, and any covariates.
As usual, <code>f</code> may take additional arguments, provided these are passed along with it in the call to <code>pomp</code>.
<code>f</code> must return a named numeric vector of initial states.
It is of course important that the names of the states match the expectations of the other basic components.
</p>
<p>Note that the state-process <code>rinit</code> can be either deterministic (as in the default) or stochastic.
In the latter case, it samples from the distribution of the state process at the zero-time, <code>t0</code>.
</p>


<h3>Default behavior</h3>

<p>By default, <code>pomp</code> assumes that the initial distribution is concentrated on a single point.
In particular, any parameters in <code>params</code>, the names of which end in “<code>_0</code>” or “<code>.0</code>”, are assumed to be initial values of states.
When the state process is initialized, these are simply copied over as initial conditions.
The names of the resulting state variables are obtained by dropping the suffix.
</p>


<h3>Note for Windows users</h3>

<p>Some Windows users report problems when using C snippets in parallel computations.
These appear to arise when the temporary files created during the C snippet compilation process are not handled properly by the operating system.
To circumvent this problem, use the <code>cdir</code> and <code>cfile</code> options to cause the C snippets to be written to a file of your choice, thus avoiding the use of temporary files altogether.
</p>


<h3>See Also</h3>

<p><code>rinit</code>
</p>
<p>More on implementing POMP models: 
<code>Csnippet</code>,
<code>accumvars</code>,
<code>basic_components</code>,
<code>betabinomial</code>,
<code>covariates</code>,
<code>dinit_spec</code>,
<code>dmeasure_spec</code>,
<code>dprocess_spec</code>,
<code>emeasure_spec</code>,
<code>eulermultinom</code>,
<code>parameter_trans()</code>,
<code>pomp-package</code>,
<code>pomp_constructor</code>,
<code>prior_spec</code>,
<code>rmeasure_spec</code>,
<code>rprocess_spec</code>,
<code>skeleton_spec</code>,
<code>transformations</code>,
<code>userdata</code>,
<code>vmeasure_spec</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  ## Starting with an existing pomp object

  verhulst() -&gt; po
  
  ## we add or change the initial-state simulator,
  ## rinit, using the 'rinit' argument in any 'pomp'
  ## elementary or estimation function (or in the
  ## 'pomp' constructor itself).
  ## Here, we pass the rinit specification to 'simulate'
  ## as an R function.

  po |&gt;
    simulate(
      rinit=function (n_0, ...) {
        c(n=rpois(n=1,lambda=n_0))
      }
    ) -&gt; sim

  ## We can also pass it as a C snippet:

  po |&gt;
    simulate(
      rinit=Csnippet("n = rpois(n_0);"),
      paramnames="n_0",
      statenames="n"
    ) -&gt; sim


</code></pre>


</div>