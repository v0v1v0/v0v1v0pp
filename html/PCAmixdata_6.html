<div class="container">

<table style="width: 100%;"><tr>
<td>PCAmix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Principal component analysis of mixed data</h2>

<h3>Description</h3>

<p>Performs principal component analysis of  a set of 
individuals (observations) described by a mixture of qualitative and 
quantitative variables. PCAmix includes ordinary principal component 
analysis (PCA) and multiple correspondence analysis (MCA) as special cases.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PCAmix(X.quanti = NULL, X.quali = NULL, ndim = 5, rename.level = FALSE,
  weight.col.quanti = NULL, weight.col.quali = NULL, graph = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X.quanti</code></td>
<td>
<p>a numeric matrix of data, or an object that can be 
coerced to such a matrix (such as a numeric vector or a data frame with 
all numeric columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X.quali</code></td>
<td>
<p>a categorical matrix of data, or an object that can be 
coerced to such a matrix (such as a character vector, a factor or a data 
frame with all factor columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndim</code></td>
<td>
<p>number of dimensions kept in the results (by default 5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rename.level</code></td>
<td>
<p>boolean, if TRUE all the levels of the qualitative 
variables are renamed as follows: "variable_name=level_name". 
This prevents to have identical names of the levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight.col.quanti</code></td>
<td>
<p>vector  of weights for the quantitative variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight.col.quali</code></td>
<td>
<p>vector of the weights for the qualitative variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>boolean, if TRUE the following graphics are displayed 
for the first two dimensions of PCAmix: component map of the individuals, 
plot of the squared loadings of all the variables (quantitative and 
qualitative), plot of the correlation circle (if  quantitative variables 
are available), component map of the levels (if qualitative variables 
are available).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If X.quali is not specified (i.e. NULL), only quantitative 
variables are available and standard PCA is performed. If X.quanti 
is NULL, only qualitative variables are available and standard MCA 
is performed.
</p>
<p>Missing values are replaced by means for quantitative variables
and by zeros in the indicator matrix for qualitative variables.
</p>
<p>PCAmix performs squared loadings in (<code>sqload</code>). Squared loadings 
for a qualitative variable are correlation ratios between the variable 
and the principal components. For a quantitative variable, 
squared loadings are the squared correlations  between the variable 
and the principal components.
</p>
<p>Note that when all the  p variables are qualitative, the factor 
coordinates (scores) of the n observations are equal to the factor 
coordinates (scores) of standard MCA times square root of p and the 
eigenvalues are then equal to the usual eigenvalues of MCA times p. 
When all the variables are quantitative, PCAmix gives exactly the same 
results as standard PCA.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>eig</code></td>
<td>
<p>a matrix containing the eigenvalues, the percentages of variance and the cumulative percentages of variance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind</code></td>
<td>
<p>a list containing the results for the individuals (observations):
</p>

<ul>
<li> <p><code>$coord</code>: factor coordinates (scores) of the individuals,
</p>
</li>
<li> <p><code>$contrib</code>: absolute contributions of the individuals,
</p>
</li>
<li> <p><code>$contrib.pct</code>: relative contributions of the individuals,
</p>
</li>
<li> <p><code>$cos2</code>: squared cosinus of the individuals.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quanti</code></td>
<td>
<p>a list containing the results for the quantitative variables:
</p>

<ul>
<li> <p><code>$coord</code>: factor coordinates (scores) of the quantitative variables,
</p>
</li>
<li> <p><code>$contrib</code>: absolute contributions of the quantitative variables,
</p>
</li>
<li> <p><code>$contrib.pct</code>: relative contributions of the quantitative variables (in percentage),
</p>
</li>
<li> <p><code>$cos2</code>: squared cosinus of the quantitative variables.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>a list containing the results for the levels of the qualitative variables:
</p>

<ul>
<li> <p><code>$coord</code>: factor coordinates (scores) of the levels,
</p>
</li>
<li> <p><code>$contrib</code>: absolute contributions of the levels,
</p>
</li>
<li> <p><code>$contrib.pct</code>: relative contributions of the levels (in percentage),
</p>
</li>
<li> <p><code>$cos2</code>: squared cosinus of the levels.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quali</code></td>
<td>
<p>a list containing the results for the qualitative variables:
</p>

<ul>
<li> <p><code>$contrib</code>: absolute contributions of the qualitative variables (sum of absolute contributions of the levels of the qualitative variable),
</p>
</li>
<li> <p><code>$contrib.pct</code>: relative contributions (in percentage) of the qualitative variables (sum of relative contributions of the levels of the qualitative variable).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sqload</code></td>
<td>
<p>a matrix of dimension  (<code>p</code>, <code>ndim</code>) containing 
the squared loadings of the quantitative and qualitative variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>the coefficients of the linear combinations used to 
construct the principal components of PCAmix, and to predict coordinates (scores) of new observations in the function <code>predict.PCAmix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>the vector of the weights of the columns used in the Generalized Singular Value Decomposition.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Marie Chavent <a href="mailto:marie.chavent@u-bordeaux.fr">marie.chavent@u-bordeaux.fr</a>, Amaury Labenne.
</p>


<h3>References</h3>

<p>Chavent M., Kuentz-Simonet V., Labenne A., Saracco J., Multivariate analysis of mixed data: The PCAmixdata R package, arXiv:1411.4911 [stat.CO].
</p>


<h3>See Also</h3>

<p><code>print.PCAmix</code>, <code>summary.PCAmix</code>, <code>predict.PCAmix</code>, <code>plot.PCAmix</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#PCAMIX:
data(wine)
str(wine)
X.quanti &lt;- splitmix(wine)$X.quanti
X.quali &lt;- splitmix(wine)$X.quali
pca&lt;-PCAmix(X.quanti[,1:27],X.quali,ndim=4)
pca&lt;-PCAmix(X.quanti[,1:27],X.quali,ndim=4,graph=FALSE)
pca$eig
pca$ind$coord

#PCA:
data(decathlon)
quali&lt;-decathlon[,13]
pca&lt;-PCAmix(decathlon[,1:10])
pca&lt;-PCAmix(decathlon[,1:10], graph=FALSE)
plot(pca,choice="ind",coloring.ind=quali,cex=0.8,
     posleg="topright",main="Scores")
plot(pca, choice="sqload",main="Squared correlations")
plot(pca, choice="cor",main="Correlation circle")
pca$quanti$coord

#MCA
data(flower)
mca &lt;- PCAmix(X.quali=flower[,1:4],rename.level=TRUE)
mca &lt;- PCAmix(X.quali=flower[,1:4],rename.level=TRUE,graph=FALSE)
plot(mca,choice="ind",main="Scores")
plot(mca,choice="sqload",main="Correlation ratios")
plot(mca,choice="levels",main="Levels")
mca$levels$coord

#Missing values
data(vnf)
PCAmix(X.quali=vnf,rename.level=TRUE)
vnf2&lt;-na.omit(vnf)
PCAmix(X.quali=vnf2,rename.level=TRUE)
</code></pre>


</div>