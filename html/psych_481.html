<div class="container">

<table style="width: 100%;"><tr>
<td>superMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Form a super matrix from two sub matrices.  </h2>

<h3>Description</h3>

<p>Given the matrices nXm, and jYk, form the super matrix of dimensions (n+j) and (m+k) with  with elements x and y along the super diagonal. 
Useful when considering structural equations.  The measurement models x and y can be combined into a larger measurement model of all of the variables.  If either x or y is a list of matrices, then recursively form a super matrix of all of those elements.  superCor will form a matrix from two matrices and the intercorrelation of the elements of the two.
</p>


<h3>Usage</h3>

<pre><code class="language-R">superMatrix(x,y)
superCor(x,y=NULL, xy=NULL)
super.matrix(x, y)  #Deprecated
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A n x m matrix or a list of such matrices, or the output object from <code>link{scoreOverlap}</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A j x k matrix or a list of such matrices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p>A n x k matrix</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Several functions, e.g., <code>sim.structural</code>,<code>structure.graph</code>, <code>make.keys</code> use matrices that can be thought of as formed from a set of submatrices.  In particular, when using <code>make.keys</code> in order to score a set of items (<code>scoreItems</code> or <code>scoreOverlap</code>) or to form specified clusters (<code>cluster.cor</code>), it is convenient to define different sets of scoring keys for different sets of items and to combine these scoring keys into one super key.
</p>
<p>When developing scales and examining items using <code>bestScales</code> it is sometimes helpful to combine the matrix output from <code>scoreOverlap</code> with the original correlation matrix.  Thus, let x =  correlation of the scales from <code>scoreOverlap</code>, y = the correlations of the items used to form the scales, and xy = the correlation of the scales with the items.   
</p>


<h3>Value</h3>

<p>A (n+j)  x (m +k) matrix with appropriate row and column names
</p>


<h3>Author(s)</h3>

<p>William Revelle</p>


<h3>See Also</h3>

 <p><code>sim.structural</code>,<code>structure.graph</code>, <code>make.keys</code></p>


<h3>Examples</h3>

<pre><code class="language-R">mx &lt;- matrix(c(.9,.8,.7,rep(0,4),.8,.7,.6),ncol=2)
my &lt;- matrix(c(.6,.5,.4))

colnames(mx) &lt;- paste("X",1:dim(mx)[2],sep="")
rownames(mx) &lt;- paste("Xv",1:dim(mx)[1],sep="")
colnames(my) &lt;- "Y"
rownames(my) &lt;- paste("Yv",1:3,sep="")
mxy &lt;- superMatrix(mx,my)
#show the use of a list to do this as well
key1 &lt;- make.keys(6,list(first=c(1,-2,3),second=4:6,all=1:6))  #make a scoring key
key2 &lt;- make.keys(4,list(EA=c(1,2),TA=c(3,4)))
superMatrix(list(key1,key2))

r &lt;- cor(bfi[1:15],use="pairwise")
bfi.scores &lt;- scoreOverlap(bfi.keys[1:2], r,select=FALSE) #note the select = FALSE
R &lt;- superCor(bfi.scores,r)
lowerMat(R)
#or to just get the scale correlations with the items
R &lt;- superCor(bfi.scores)
round(R,2)
</code></pre>


</div>