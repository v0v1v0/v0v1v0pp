<div class="container">

<table style="width: 100%;"><tr>
<td>parabar-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Progress Bar for Parallel Tasks</h2>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style="float: right" alt="logo" width="120"></p>
<p>A simple interface in the form of R6 classes for executing tasks in parallel, tracking their progress, and displaying accurate progress bars.
</p>


<h3>Details</h3>

<p>The package is aimed at two audiences: (1) end-users who want to execute a
task in parallel in an interactive <code>R</code> session and track the execution
progress, and (2) <code>R</code> package developers who want to use <code>parabar</code>
as a
solution for parallel processing in their packages.
</p>


<h3>Users</h3>

<p>For the first category of users, <code>parabar</code> provides several main
functions of interest:
</p>

<ul>
<li> <p><code>start_backend()</code>: creates a parallel backend for executing tasks
according to the specifications provided.
</p>
</li>
<li> <p><code>stop_backend()</code>: stops an active backend and makes the <code>R6::R6</code>
eligible for garbage collection.
</p>
</li>
<li> <p><code>par_sapply()</code>: is a drop-in replacement for the built-in
<code>base::sapply()</code> function when no backend is provided. However, when a
backend is provided, the function will execute a task in parallel on the
backend, similar to the built-in function <code>parallel::parSapply()</code>.
</p>
</li>
<li> <p><code>par_lapply()</code>: is a drop-in replacement for the built-in
<code>base::lapply()</code> function when no backend is provided. However, when a
backend is provided, the function will execute a task in parallel on the
backend, similar to the built-in function <code>parallel::parLapply()</code>.
</p>
</li>
<li> <p><code>par_apply()</code>: is a drop-in replacement for the built-in
<code>base::apply()</code> function when no backend is provided. However, when a
backend is provided, the function will execute a task in parallel on the
backend, similar to the built-in function <code>parallel::parApply()</code>.
</p>
</li>
<li> <p><code>clear()</code>: removes all variables available on a backend.
</p>
</li>
<li> <p><code>peek()</code>: returns the names of all variables available on a
backend.
</p>
</li>
<li> <p><code>export()</code>: exports objects from a specified environment to a
backend.
</p>
</li>
<li> <p><code>evaluate()</code>: evaluates arbitrary and unquoted expression on a
backend.
</p>
</li>
</ul>
<p><code>parabar</code> also provides a function <code>configure_bar()</code> for
configuring the progress bar, and three functions can be used to get and set
the package options:
</p>

<ul>
<li> <p><code>get_option()</code>: gets the value of a package option.
</p>
</li>
<li> <p><code>set_option()</code>: sets the value of a package option.
</p>
</li>
<li> <p><code>set_default_options()</code>: sets default values for all package
options. This function is automatically called on package load.
</p>
</li>
</ul>
<h3>Developers</h3>

<p>For the second category of users, <code>parabar</code> provides a set of
classes (i.e., <code>R6::R6Class()</code>) that can be used to create backends (i.e.,
synchronous and asynchronous) and interact with them via a simple interface.
From a high-level perspective, the package consists of <strong><code>backends</code></strong> and
<strong><code>contexts</code></strong> in which these backends are employed for executing the tasks
in parallel.
</p>


<h4>Backends</h4>

<p>A <strong><code>backend</code></strong> represents a set of operations, defined by the
<code>Service</code> interface, that can be deployed on a cluster returned by
<code>parallel::makeCluster()</code>. Backends can be synchronous (i.e.,
<code>SyncBackend</code>) or asynchronous (i.e., <code>AsyncBackend</code>).
The former will block the execution of the current <code>R</code> session until the
parallel task is completed, while the latter will return immediately and the
task will be executed in a background <code>R</code> session.
</p>
<p>The <code>Service</code> interface defines the following operations:
<code>start()</code>, <code>stop()</code>,
<code>clear()</code>, <code>peek()</code>,
<code>export()</code>, <code>evaluate()</code>,
<code>sapply()</code>, <code>lapply()</code>,
<code>apply()</code>, and <code>get_output()</code>.
</p>
<p>Check out the documentation for <code>Service</code> for more information on
each method.
</p>



<h4>Contexts</h4>

<p>A <strong><code>context</code></strong> represents the specific conditions in which the backend
operates. The default, regular <code>Context</code> class simply forwards the
call to the corresponding backend method. However, a more complex context can
augment the operation before forwarding the call to the backend. One example
of a complex context is the <code>ProgressTrackingContext</code> class. This
class extends the regular <code>Context</code> class and decorates, for
example, the backend <code>sapply()</code> operation to log the
progress after each task execution and display a progress bar.
</p>
<p>The following are the main classes provided by <code>parabar</code>:
</p>

<ul>
<li> <p><code>Service</code>: interface for backend operations.
</p>
</li>
<li> <p><code>Backend</code>: abstract class that serves as a base class for all
concrete implementations.
</p>
</li>
<li> <p><code>SyncBackend</code>: synchronous backend extending the abstract
<code>Backend</code> class.
</p>
</li>
<li> <p><code>AsyncBackend</code>: asynchronous backend extending the abstract
<code>Backend</code> class.
</p>
</li>
<li> <p><code>Specification</code>: backend specification used when starting a
backend.
</p>
</li>
<li> <p><code>TaskState</code>: determine the state of a task deployed to an
asynchronous backend.
</p>
</li>
<li> <p><code>BackendFactory</code>: factory for creating backend objects.
</p>
</li>
<li> <p><code>Context</code>: default context for executing backend operations.
</p>
</li>
<li> <p><code>ProgressTrackingContext</code>: context for decorating the
<code>sapply()</code>, <code>lapply()</code>, and
<code>apply()</code>
operations to track and display the execution progress.
</p>
</li>
<li> <p><code>ContextFactory</code>: factory for creating context objects.
</p>
</li>
<li> <p><code>UserApiConsumer</code>: opinionated wrapper around the other
<code>R6::R6</code> classes used in by the exported functions for the users.
</p>
</li>
</ul>
<h3>Progress Bars</h3>

<p><code>parabar</code> also exposes several classes for creating and updating
different progress bars, namely:
</p>

<ul>
<li> <p><code>Bar</code>: abstract class defining the pure virtual methods to be
implemented by concrete bar classes.
</p>
</li>
<li> <p><code>BasicBar</code>: a simple, but robust, bar created via
<code>utils::txtProgressBar()</code> extending the <code>Bar</code> abstract class.
</p>
</li>
<li> <p><code>ModernBar</code>: a modern bar created via <code>progress::progress_bar</code>
extending the <code>Bar</code> abstract class.
</p>
</li>
<li> <p><code>BarFactory</code>: factory for creating bar objects.
</p>
</li>
</ul>
<p>Finally, <code>parabar</code> uses several <code>base::options()</code> to configure the
behavior of the functionality it provides. For more information on the
options used and their see default values, see the <code>Options</code>
class.
</p>
<p>For more information about the design of <code>parabar</code>, check out the
documentation and the <code>UML</code> diagram at
<a href="https://parabar.mihaiconstantin.com">parabar.mihaiconstantin.com</a>.
</p>

<div style="display: block; text-align: center">
<div style="display: block; margin-top: 1rem; margin-bottom: 0.5rem">
<p><strong>Software Design</strong>
</p>
</div>
<p><img src="../help/figures/parabar-design.png" style="max-width: 95%;" alt="parabar Software Design"></p>
</div>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Mihai Constantin <a href="mailto:mihai@mihaiconstantin.com">mihai@mihaiconstantin.com</a> (<a href="https://orcid.org/0000-0002-6460-0107">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://parabar.mihaiconstantin.com">https://parabar.mihaiconstantin.com</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/mihaiconstantin/parabar/issues">https://github.com/mihaiconstantin/parabar/issues</a>
</p>
</li>
</ul>
</div>