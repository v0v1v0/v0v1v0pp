<div class="container">

<table style="width: 100%;"><tr>
<td>potential</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the Potential Model</h2>

<h3>Description</h3>

<p>This function computes the potential model as defined
by J.Q. Stewart (1941).
</p>


<h3>Usage</h3>

<pre><code class="language-R">potential(x, y, d, var, fun, span, beta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an sf object (POINT), the set of known observations to
estimate the potentials from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>an sf object (POINT), the set of unknown units for which
the function computes the estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>a distance matrix between known observations and unknown
units for which the function computes the estimates. Row names match the row
names of <code>x</code> and column names match the row names of
<code>y</code>. <code>d</code> can contain any distance metric (time
distance or euclidean distance for example).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>names of the variables in <code>x</code> from which potentials are
computed. Quantitative variables with no negative values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>spatial interaction function. Options are "p"
(pareto, power law) or "e" (exponential).
For pareto the interaction is defined as: (1 + alpha * mDistance) ^ (-beta).
For "exponential" the interaction is defined as:
exp(- alpha * mDistance ^ beta).
The alpha parameter is computed from parameters given by the user
(<code>beta</code> and <code>span</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>distance where the density of probability of the spatial
interaction function equals 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>impedance factor for the spatial interaction function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If only one variable is computed a vector is returned, if more than
one variable is computed a matrix is returned.
</p>


<h3>References</h3>

<p>STEWART, JOHN Q. 1941. "An Inverse Distance Variation for Certain Social
Influences." <em>Science</em> 93 (2404): 89â€“90.
<a href="https://doi.org/10.1126/science.93.2404.89">doi:10.1126/science.93.2404.89</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(sf)
y &lt;- create_grid(x = n3_poly, res = 200000)
d &lt;- create_matrix(n3_pt, y)
pot &lt;- potential(
  x = n3_pt, y = y, d = d, var = "POP19",
  fun = "e", span = 200000, beta = 2
)
y$OUTPUT &lt;- pot
equipot &lt;- equipotential(y, var = "OUTPUT", mask = n3_poly)
plot(equipot["center"], pal = hcl.colors(nrow(equipot), "cividis"))
</code></pre>


</div>