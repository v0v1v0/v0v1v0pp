<div class="container">

<table style="width: 100%;"><tr>
<td>aggregate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate Rankings</h2>

<h3>Description</h3>

<p>Aggregate rankings, returning an <code>"aggregated_rankings"</code> object of the
unique rankings and their frequencies. The frequencies can be extracted via
the function <code>freq()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'rankings'
aggregate(x, freq = NULL, ...)

as.aggregated_rankings(x, ...)

## S3 method for class 'aggregated_rankings'
x[i, j, ..., drop = FALSE, as.aggregated_rankings = TRUE]

freq(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>"rankings"</code> object for <code>aggregate()</code>; an
object that can be coerced to a <code>"aggregated_rankings"</code> object for
<code>as.aggregated_rankings()</code>, otherwise an <code>"aggregated_rankings"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>A vector of frequencies for rankings that have been previously
aggregated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments, currently unused.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>indices specifying rankings to extract, as for <code>[</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>indices specifying items to extract, as for <code>[</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>if <code>TRUE</code> return single row/column matrices as a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.aggregated_rankings</code></td>
<td>
<p>if <code>TRUE</code> create an
<code>"aggregated_rankings"</code> object from the indexed rankings. Otherwise index
the underlying matrix of ranks and return in a data frame with the
corresponding frequencies.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame of class <code>"aggregated_rankings"</code>, with columns
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ranking</code></td>
<td>
<p> A <code>"rankings"</code> object of the unique rankings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>The corresponding frequencies.</p>
</td>
</tr>
</table>
<p>Methods are available for <code>rbind()</code> and <code>as.matrix()</code>.
</p>


<h3>See Also</h3>

<p><code>preflib()</code> for an object that can be coerced to an
<code>"aggregated_rankings"</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create a rankings object with duplicated rankings
R &lt;- matrix(c(1, 2, 0, 0,
              0, 1, 2, 3,
              2, 1, 1, 0,
              1, 2, 0, 0,
              2, 1, 1, 0,
              1, 0, 3, 2), nrow = 6, byrow = TRUE)
colnames(R) &lt;- c("apple", "banana", "orange", "pear")
R &lt;- as.rankings(R)

# aggregate the rankings
A &lt;- aggregate(R)

# subsetting applies to the rankings, e.g. first two unique rankings
A[1:2]

# (partial) rankings of items 2 to 4 only
A[, 2:4]

# convert to a matrix
as.matrix(A)

# frequencies are automatically used as weights by PlackettLuce()
mod &lt;- PlackettLuce(A)
mod$weights
</code></pre>


</div>