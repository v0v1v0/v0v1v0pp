<div class="container">

<table style="width: 100%;"><tr>
<td>heaviness_on_downstream</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Heaviness on all downstream packages
</h2>

<h3>Description</h3>

<p>Heaviness on all downstream packages
</p>


<h3>Usage</h3>

<pre><code class="language-R">heaviness_on_downstream(package, add_values_attr = FALSE, via = NULL,
    total = FALSE, internal = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>package</code></td>
<td>
<p>A package name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_values_attr</code></td>
<td>
<p>Whether to include "values" attribute? Internally used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>via</code></td>
<td>
<p>Whether to only consider downstream packages via a intermediate package?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total</code></td>
<td>
<p>Whether to return the total heaviness?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>internal</code></td>
<td>
<p>Whether to use internally calculated heaviness?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code>pkgndep_opt</code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>The value is the mean heaviness of the package on all its downstream packages. Denote <code>n</code> as the number of all its downstream packages,
<code>k_i</code> as the number of required packages for package i,
<code>v_1</code> as the total number of required packages for all downstream packages, i.e. <code>v_1 = sum_i^n {k_i}</code>. Denote <code>p_i</code> as the number of required packages if moving <code>package</code> to <code>Suggests</code>,
and <code>v_2</code> as the total number of required packages, i.e. <code>v_1 = sum_i^n {p_i}</code>. The final heaviniss on downstream packages is <code>(v_1 - v_2)/n</code>.
</p>
<p>Note since the interaction from <code>package</code> to its downstream packages may go through several intermediate packages, which means, the reduction of required packages
for a downstream package might be joint effects from all its upstream packages, thus, to properly calculate the heaviness of a package to its downstream packages, we first make 
a copy of the package database and move <code>package</code> to <code>Suggests</code> for all packages which depends on <code>package</code>. Then for all downstream packages of <code>package</code>, dependency analysis
by <code>pkgndep</code> is redone with the modified package database. Finally, the heaviness on downstream packages is collected and the mean heaviness is calculated.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
heaviness_on_downstream("ComplexHeatmap")

## End(Not run)
</code></pre>


</div>