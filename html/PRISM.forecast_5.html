<div class="container">

<table style="width: 100%;"><tr>
<td>prism</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PRISM function</h2>

<h3>Description</h3>

<p>A function for nowcasting and forecasting time series.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prism(
  data,
  data.early,
  GTdata,
  stl = TRUE,
  n.history = 700,
  n.training = 156,
  alpha = 1,
  UseGoogle = T,
  nPred.vec = 0:3,
  discount = 0.015,
  sepL1 = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>time series of interest as xts, last element can be NA. (e.g., unemployment initial claim data in the same period as <code>GTdata</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.early</code></td>
<td>
<p>historical time series of response variable before contemporaneous exogenous data, <code>GTdata</code> is available. (e.g., unemployment initial claim prior to 2004)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GTdata</code></td>
<td>
<p>contemporaneous exogenous data as xts. (e.g., Google Trend data)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stl</code></td>
<td>
<p>if TRUE, use STL seasonal decomposition; if FALSE, use classic additive seasonal decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.history</code></td>
<td>
<p>training period for seasonal decomposition. (by default = 700 wks)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.training</code></td>
<td>
<p>length of regression training period (by default = 156)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>penalty between lasso and ridge. alpha=1 represents lasso, alpha=0 represents ridge, alpha=NA represents no penalty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UseGoogle</code></td>
<td>
<p>boolean variable indicating whether to use Google Trend data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nPred.vec</code></td>
<td>
<p>the number of periods ahead for forecast. nPred.vec could be a vector of intergers. e.g. nPred.vec=0:3 gives results from nowcast to 3-week ahead forecast.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discount</code></td>
<td>
<p>exponential weighting: (1-discount)^lag (by default = 0.015).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sepL1</code></td>
<td>
<p>if TRUE, use separate L1 regularization parameters for time series components and exogenous variables (Goolgle Trend data)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of following named objects
</p>

<ul>
<li> <p><code>coef</code> coefficients for Intercept, z.lags, seasonal.lags and exogenous variables.
</p>
</li>
<li> <p><code>pred</code> a vector of prediction with <code>nPred.vec</code> weeks forward.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">prism_data = load_5y_search_data('0610')
data = prism_data$claim.data[1:200] # load claim data from 2006-01-07 to 2009-10-31
data[200] = NA # delete the data for the latest date and try to nowcast it.

data.early = prism_data$claim.earlyData # load claim prior to 2006
GTdata = prism_data$allSearch[1:200] # load Google trend data from 2006-01-07 to 2009-10-31

result = prism(data, data.early, GTdata) # call prism method
result$pred # output 0-3wk forward prediction

</code></pre>


</div>