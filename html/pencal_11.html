<div class="container">

<table style="width: 100%;"><tr>
<td>performance_prc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predictive performance of the PRC-LMM and PRC-MLPMM models</h2>

<h3>Description</h3>

<p>This function computes the naive and optimism-corrected
measures of performance (C index, time-dependent AUC and time-dependent 
Brier score) for the PRC models proposed 
in Signorelli et al. (2021). The optimism
correction is computed based on a cluster bootstrap
optimism correction procedure (CBOCP)
</p>


<h3>Usage</h3>

<pre><code class="language-R">performance_prc(step2, step3, metric = c("tdauc", "c", "brier"),
  times = c(2, 3), n.cores = 1, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>step2</code></td>
<td>
<p>the output of either <code>summarize_lmms</code> 
or <code>summarize_mlpmms</code> (step 2 of the estimation of
PRC)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step3</code></td>
<td>
<p>the output of <code>fit_prclmm</code> or
<code>fit_prcmlpmm</code> (step 3 of PRC)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>the desired performance measure(s). Options include: 'tdauc',
'c' and 'brier'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>numeric vector with the time points at which
to estimate the time-dependent AUC and time-dependent Brier score</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.cores</code></td>
<td>
<p>number of cores to use to parallelize part of
the computations. If <code>ncores = 1</code> (default), 
no parallelization is done. Pro tip: you can use 
<code>parallel::detectCores()</code> to check how many 
cores are available on your computer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>if <code>TRUE</code> (default and recommended value), information
on the ongoing computations is printed in the console</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following objects:
</p>

<ul>
<li> <p><code>call</code>: the function call;
</p>
</li>
<li> <p><code>concordance</code>: a data frame with the naive and
optimism-corrected estimates of the concordance (C) index;
</p>
</li>
<li> <p><code>tdAUC</code>: a data frame with the naive and
optimism-corrected estimates of the time-dependent AUC
at the desired time points;
</p>
</li>
<li> <p><code>Brier</code>: a data frame with the naive and
optimism-corrected estimates of the time-dependent Brier score
at the desired time points;
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Mirko Signorelli
</p>


<h3>References</h3>

<p>Signorelli, M. (2024). pencal: an R Package for the Dynamic 
Prediction of Survival with Many Longitudinal Predictors. 
To appear in: The R Journal. Preprint: arXiv:2309.15600
</p>
<p>Signorelli, M., Spitali, P., Al-Khalili Szigyarto, C, 
The MARK-MD Consortium, Tsonaka, R. (2021). 
Penalized regression calibration: a method for the prediction 
of survival outcomes using complex longitudinal and 
high-dimensional data. Statistics in Medicine, 40 (27), 6178-6196.
DOI: 10.1002/sim.9178
</p>


<h3>See Also</h3>

<p>for the PRC-LMM model: <code>fit_lmms</code> (step 1),
<code>summarize_lmms</code> (step 2) and <code>fit_prclmm</code> (step 3);
for the PRC-MLPMM model: <code>fit_mlpmms</code> (step 1),
<code>summarize_mlpmms</code> (step 2) and <code>fit_prcmlpmm</code> (step 3).
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(fitted_prclmm)

more.cores = FALSE
# IMPORTANT: set more.cores = TRUE to speed computations up!
if (!more.cores) n.cores = 2
if (more.cores) {
   # identify number of available cores on your machine
   n.cores = parallel::detectCores()
   if (is.na(n.cores)) n.cores = 2
}
                   
# compute the time-dependent AUC
perf = performance_prc(fitted_prclmm$step2, fitted_prclmm$step3,
             metric = 'tdauc', times = c(3, 3.5, 4), n.cores = n.cores)
 # use metric = 'brier' for the Brier score and metric = 'c' for the
 # concordance index

# time-dependent AUC estimates:
ls(perf)
perf$tdAUC

</code></pre>


</div>