<div class="container">

<table style="width: 100%;"><tr>
<td>isCRANcheck</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Package Check Utils</h2>

<h3>Description</h3>

<p><code>isCRANcheck</code> <strong>tries</strong> to identify if one is running CRAN-like checks.
</p>


<h3>Usage</h3>

<pre><code class="language-R">isCRANcheck(...)

isCRAN_timing()

isCHECK()
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>each argument specifies a set of tests to do using an AND operator.
The final result tests if any of the test set is true.
Possible values are:
</p>

<dl>
<dt><code>'timing'</code></dt>
<dd>
<p>Check if the environment variable <code>_R_CHECK_TIMINGS_</code> is set,
as with the flag <code>'--timing'</code> was set.</p>
</dd>
<dt><code>'cran'</code></dt>
<dd>
<p>Check if the environment variable <code>_R_CHECK_CRAN_INCOMING_</code> is set,
as with the flag <code>'--as-cran'</code> was set.</p>
</dd>
</dl>
</td>
</tr></table>
<h3>Details</h3>

<p>Currently <code>isCRANcheck</code> returns <code>TRUE</code> if the check is run with
either environment variable <code>_R_CHECK_TIMINGS_</code> (as set by flag <code>'--timings'</code>)
or <code>_R_CHECK_CRAN_INCOMINGS_</code> (as set by flag <code>'--as-cran'</code>).
</p>
<p><strong>Warning:</strong> the checks performed on CRAN check machines are on purpose not always
run with such flags, so that users cannot effectively "trick" the checks.
As a result, there is no guarantee this function effectively identifies such checks.
If really needed for honest reasons, CRAN recommends users rely on custom dedicated environment
variables to enable specific tests or examples.
</p>


<h3>Value</h3>

<p>A logical flag.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>isCRAN_timing()</code>: tells if one is running CRAN check with flag <code>'--timing'</code>.
</p>
</li>
<li> <p><code>isCHECK()</code>: tries harder to test if running under <code>R CMD check</code>.
It will definitely identifies check runs for:
</p>

<ul>
<li>
<p> unit tests that use the unified unit test framework defined by <span class="pkg">pkgmaker</span> (see <code>utest</code>);
</p>
</li>
<li>
<p> examples that are run with option <code>R_CHECK_RUNNING_EXAMPLES_ = TRUE</code>,
which is automatically set for man pages generated with a fork of <span class="pkg">roxygen2</span> (see <em>References</em>).
</p>
</li>
</ul>
<p>Currently, <code>isCHECK</code> checks both CRAN expected flags, the value of environment variable
<code>_R_CHECK_RUNNING_UTESTS_</code>, and the value of option <code>R_CHECK_RUNNING_EXAMPLES_</code>.
It will return <code>TRUE</code> if any of these environment variables is set to
anything not equivalent to <code>FALSE</code>, or if the option is <code>TRUE</code>.
For example, the function <code>utest</code> sets it to the name of the package
being checked (<code>_R_CHECK_RUNNING_UTESTS_=&lt;pkgname&gt;</code>),
but unit tests run as part of unit tests vignettes are run with
<code>_R_CHECK_RUNNING_UTESTS_=FALSE</code>, so that all tests are run and reported when
generating them.
</p>
</li>
</ul>
<h3>References</h3>

<p>Adapted from the function <code>CRAN</code>
in the <span class="pkg">fda</span> package.
</p>
<p><a href="https://github.com/renozao/roxygen">https://github.com/renozao/roxygen</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
isCHECK()

</code></pre>


</div>