<div class="container">

<table style="width: 100%;"><tr>
<td>CalcRemainLifeExp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculating Remaining Life Expectancy.
</h2>

<h3>Description</h3>

<p><code>CalcRemainingLifeExp</code> calculates remaining life expectancy from parametric models of age-specific mortality.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CalcRemainLifeExp (theta, x = NULL, dx = NULL, xmax = NULL,
                              atAllAges = FALSE, model = "GO", 
                              shape = "simple", checkTheta = TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>theta </code></td>
<td>
<p>Numerical vector of age-specific mortality parameters (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x </code></td>
<td>
<p>Numerical vector of ages at which to calculate mortality.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dx </code></td>
<td>
<p>Numerical value for the width of age intervals used for integration. If <code>NULL</code>, default is <code>dx = 0.01</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmax </code></td>
<td>
<p>Numerical value for the maximum age. If <code>NULL</code>, the value is obtain as the age when the surviva</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atAllAges </code></td>
<td>
<p>Logical to indicate whether ageing rates should be provided between ages 0 and <code>xmax</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model </code></td>
<td>
<p>The underlying mortality model to be used. <code>"EX"</code> = exponential,<code>"GO"</code> = Gompertz, <code>"WE"</code> = Weibull and <code>"LO"</code> = logistic (see <code>details</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape </code></td>
<td>
<p>The overall shape of the model. Values are: <code>simple</code> = no extra parameters added; <code>Makeham</code> = a constant parameter is added to the mortality; and <code>bathtub</code> = a Gompertz declining mortality for early ages and a constant parameter are added to the mortality model (see <code>details</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkTheta </code></td>
<td>
<p>Logical to verify that the <code>beta</code> parameters conform with the model's specification (see details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>CalcAgeingRate</code> uses parametric functions to calculate the actuarial (i.e., survival) rate of ageing. The function follows the conventions from package BaSTA (Colchero and Clark 2012, Colchero <em>et al.</em> 2012, Colchero <em>et al.</em> 2021) to select the parametric model of mortality. The mortality function describes how the risk of mortality changes with age, and is defined as 
</p>
<p style="text-align: center;"><code class="reqn">
\mu(x | \theta) = \lim_{\Delta x \rightarrow 0} \frac{\Pr[x &lt; X &lt; x + \Delta x | X &gt; x]}{\Delta x},
</code>
</p>

<p>where <code class="reqn">X</code> is a random variable for ages at death, <code class="reqn">x \geq 0</code> are ages and <code class="reqn">\theta</code> is the vector of mortality parameters. From the mortality function, the survival function is then given by
</p>
<p style="text-align: center;"><code class="reqn">
S(x | \theta) = \exp[-\int_0^x \mu(t | \theta) dt].
</code>
</p>

<p>(For further details on the mortality and survival models see <code>CalcMort</code>). 
</p>
<p>Given a vector of ages <code class="reqn">x_1, x_2, \dots, x_n</code> specified by the user with argument <code>x</code>, the function calculates the remaining life expectancy at age <code class="reqn">x_i</code> as
</p>
<p style="text-align: center;"><code class="reqn">
e_{x_i} = \frac{\int_{x_i}^{\infty} S(t) dt}{S(x_i)}
</code>
</p>

<p>for <code class="reqn">i = 1, 2, \dots, n</code>. 
</p>


<h3>Value</h3>

<p>The function outputs a matrix with the ages from which remaining life expectancies were calculated, and the values for the remaining life expectancy. 
</p>


<h3>Author(s)</h3>

<p>Fernando Colchero <a href="mailto:fernando_colchero@eva.mpg.de">fernando_colchero@eva.mpg.de</a></p>


<h3>See Also</h3>

<p><code>CalcSurv</code> to calculate age-specific survival, <code>CalcMort</code> to calculate age-specific mortality, <code>CalcFert</code> to calculate age-specific fertility.
</p>
<p><code>CalcAgeMaxFert</code> to calculate the age at maximum fertility from parametric models of age-specific fertility. <code>CalcAgeingRateMort</code> to calculate ageing rates from parametric models of age-specific mortality.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Calculate ageing rate from Gompertz model:
rle &lt;- CalcRemainLifeExp(theta = c(b0 = -5, b1 = 0.1), x = 10)

# Calculate ageing rate from Siler model:
rle &lt;- CalcRemainLifeExp(theta = c(a0 = -1, a1 = 1, c = 0.0001, 
                          b0 = -6, b1 = 0.15), x = 10,
                     model = "GO", shape = "bathtub")

</code></pre>


</div>