<div class="container">

<table style="width: 100%;"><tr>
<td>margEff.polywog</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Marginal effects for polywog models</h2>

<h3>Description</h3>

<p>Computes average and observationwise marginal effects from a fitted
<code>polywog</code> model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'polywog'
margEff(object, xvar = NULL, drop = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a fitted model of class <code>"polywog"</code>, typically the output
of <code>polywog</code>.  The object must have a <code>model</code> element,
meaning it was fit with <code>model = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xvar</code></td>
<td>
<p>a character string containing the name of a raw input variable
(from <code>object$varNames</code>).  Partial matches are allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>logical: whether to convert one-column matrices in the output to
vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments, currently ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For input variables that are binary, logical, or factors,
<code>margEff.polywog</code> computes a first difference with comparison to a
reference category.  All other variables are treated as continuous:
the function computes the partial derivative of the fitted value with
respect to the selected variable.
</p>


<h3>Value</h3>

<p>If <code>xvar</code> is specified, a numeric object containing
the marginal effect of the chosen variable at each observation in
<code>object$model</code>.  For factor variables, if there are more than two
levels or <code>drop = FALSE</code>, the returned object is a matrix; otherwise it
is a vector.
</p>
<p>If <code>xvar</code> is <code>NULL</code>, a list of such results for each raw input
variable in the model is returned.
</p>
<p>In either case, the returned object is of class <code>"margEff.polywog"</code>.
</p>


<h3>Author(s)</h3>

<p>Brenton Kenkel and Curtis S. Signorino
</p>


<h3>See Also</h3>

<p>To plot the density of the observationwise marginal effects, see
<code>plot.margEff.polywog</code>.  For a table of average marginal effects
and order statistics, <code>summary.margEff.polywog</code>.
</p>
<p>To compute fitted values, see <code>predict.polywog</code> and
<code>predVals</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Using occupational prestige data
data(Prestige, package = "carData")
Prestige &lt;- transform(Prestige, income = income / 1000)

## Fit a polywog model
## (note: using low convergence threshold to shorten computation time of the
## example, *not* recommended in practice!)
set.seed(22)
fit1 &lt;- polywog(prestige ~ education + income | type,
                data = Prestige,
                degree = 2,
                thresh = 1e-4)

## Compute marginal effects for all variables
me1 &lt;- margEff(fit1)
summary(me1)  # type was included linearly, hence constant effects

## Plotting density of the results
plot(me1)

## Can do the same when just examining a single variable
me2 &lt;- margEff(fit1, xvar = "income")
summary(me2)
plot(me2)
</code></pre>


</div>