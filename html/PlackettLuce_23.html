<div class="container">

<table style="width: 100%;"><tr>
<td>group</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Group Rankings</h2>

<h3>Description</h3>

<p>Create an object of class <code>"grouped_rankings"</code> which associates a
group index with an object of class <code>"rankings"</code>. This allows the
rankings to be linked to covariates with group-specific values as the basis
for model-based recursive partitioning, see <code>pltree</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">group(x, index, ...)

as.grouped_rankings(x, ...)

## S3 method for class 'paircomp'
as.grouped_rankings(x, ...)

## S3 method for class 'grouped_rankings'
x[i, j, ..., drop = TRUE, as.grouped_rankings = TRUE]

## S3 method for class 'grouped_rankings'
format(x, max = 2L, width = 20L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>"rankings"</code> object for <code>group()</code>; an
object that can be coerced to a <code>"grouped_rankings"</code> object for
<code>as.grouped_rankings()</code>, otherwise a <code>"grouped_rankings"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>a numeric vector of length equal to the number of rankings
specifying the subject for each ranking.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed on to <code>as.rankings</code>
by <code>grouped_rankings</code> or <code>as.grouped_rankings</code>; unused by
<code>format</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>indices specifying groups to extract, may be any data type accepted
by <code>[</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>indices specifying items to extract, as for <code>[</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>if <code>TRUE</code> return single row/column matrices as a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.grouped_rankings</code></td>
<td>
<p>if <code>TRUE</code> return a grouped_rankings object,
otherwise return a matrix/vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>the maximum number of rankings to format per subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>the maximum width in number of characters to format each
ranking.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>"grouped_rankings"</code>, which is a vector of
of group IDs with the following attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>rankings</code></td>
<td>
<p> The <code>"rankings"</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p> An index match each ranking to each group ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p> A matrix with items ordered from last to first place, for each
ranking. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S</code></td>
<td>
<p> The rankings matrix with the ranks replaced by the size of the
chosen set for free choices and zero for forced choices. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p> A list with elements of the adjacency matrix that are incremented
by each ranking. </p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>pltree</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# ungrouped rankings (5 rankings, 4 items)
R &lt;- as.rankings(matrix(c(1, 2, 0, 0,
                          0, 2, 1, 0,
                          0, 0, 1, 2,
                          2, 1, 0, 0,
                          0, 1, 2, 3), ncol = 4, byrow = TRUE))
length(R)
R

# group rankings (first three in group 1, next two in group 2)
G &lt;- group(R, c(1, 1, 1, 2, 2))
length(G)

## by default up to 2 rankings are shown per group, "..." indicates if
## there are further rankings
G
print(G, max = 1)

## select rankings from group 1
G[1,]

## exclude item 3 from ranking
G[, -3]

## rankings from group 2, excluding item 3
## - note group 2 becomes the first group
G[2, -3]

## index underlying rankings without creating new grouped_rankings object
G[2, -3, as.grouped_rankings = FALSE]
</code></pre>


</div>