<div class="container">

<table style="width: 100%;"><tr>
<td>make_partial</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Censoring of complete rankings/orderings</h2>

<h3>Description</h3>

<p>Return partial top rankings/orderings from complete sequences obtained either with user-specified censoring patterns or with a random truncation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_partial(data, format_input, nranked = NULL, probcens = rep(1,
  ncol(data) - 1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Numeric <code class="reqn">N</code><code class="reqn">\times</code><code class="reqn">K</code> data matrix of complete sequences to be censored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format_input</code></td>
<td>
<p>Character string indicating the format of the <code>data</code> input, namely <code>"ordering"</code> or <code>"ranking"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nranked</code></td>
<td>
<p>Numeric vector of length <code class="reqn">N</code> with the desired number of items ranked by each sample unit after censoring. If not supplied (<code>NULL</code>), the censoring patterns are randomly generated according to the probabilities in the <code>probcens</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probcens</code></td>
<td>
<p>Numeric vector of length <code class="reqn">(K-1)</code> with the probability of each censoring pattern to be employed for the random truncation of the complete sequences (normalization is not necessary). It works only if <code>nranked</code> argument is <code>NULL</code> (see 'Details'). Default is equal probabilities.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The censoring of the complete sequences can be performed in: (i) a deterministic way, by specifying the number of top positions to be retained for each sample unit in the <code>nranked</code> argument; (ii) a random way, by sequentially specifying the probabilities of the top-1, top-2, <code class="reqn">...</code>, top-<code class="reqn">(K-1)</code> censoring patterns in the <code>probcens</code> argument. Recall that a top-<code class="reqn">(K-1)</code> sequence corresponds to a complete ordering/ranking.
</p>


<h3>Value</h3>

<p>A list of two named objects:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>partialdata</code></td>
<td>
<p> Numeric <code class="reqn">N</code><code class="reqn">\times</code><code class="reqn">K</code> data matrix of partial (censored) sequences with the same format of the input <code>data</code> and missing positions/items denoted with zero entries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nranked</code></td>
<td>
<p> Numeric vector of length <code class="reqn">N</code> with the number of items ranked by each sample unit after censoring.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Cristina Mollica and Luca Tardella
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(d_german)
head(d_german)
d_german_cens &lt;- make_partial(data=d_german, format_input="ordering", 
                              probcens=c(0.3, 0.3, 0.4))  
head(d_german_cens$partialdata)

## Check consistency with the nominal censoring probabilities
round(prop.table(table(d_german_cens$nranked)), 2)

</code></pre>


</div>