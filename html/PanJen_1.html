<div class="container">

<table style="width: 100%;"><tr>
<td>choose.fform</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare a number of user-specified  transformations with a semiparametric smoothing and a model without the variable
</h2>

<h3>Description</h3>

<p>PanJen is built on the idea that the choice of a functional form can be extrapolated from model fit measures. The function provides a  ranking of different transformations according to their Baysian Information Criterion (BIC). The BIC provides a relative goodness-of-fit measure while accounting for the complexity of the model.
The function provides BIC for each transformation, a model without the variable in question and a socalled smoothing of the variable. The models are estimated a Generalized additive model (GAM).A GAM is a special case of the Generalized Linear Model (GLM), where it is possible to include one or more so called smoothing functions. A smoothing function is a non-parametric way to include a continuous independent variable in a parametric model and thus make it semi-parametric. Please see Wood (2006) for an elaboration. 
The printed output is a table with the transformations sorted according to their explanatory power measured by AIC. The table shows both AIC and BIC  for each regression, where BIC penalize for the number of explanatory variables
</p>


<h3>Usage</h3>

<pre><code class="language-R">choose.fform(data,base_form,variable,functionList, distribution=gaussian)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A data.frame
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>

<p>A character-string with the name of the variable to test
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base_form</code></td>
<td>

<p>A formula-object with the regressions without the variable that is tested
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functionList</code></td>
<td>

<p>A list of transformations. Please see the example for an elaboration
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distribution</code></td>
<td>

<p>Assumed distribution, see mgcv-vignette for an elaboration. Default is gaussian
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rank.table </code></td>
<td>
<p>The printed table. The transformations are ranked according to their explanatory power measured by AIC. The table shows both the AIC and BIC value, where the BIC value penalizes for the number of variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models </code></td>
<td>
<p>A list of estimated models</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset </code></td>
<td>
<p>A dataframe with the dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fforms </code></td>
<td>
<p>The formula provided by the user</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Toke Emil Panduro &amp; Cathrine Ulla Jensen
</p>


<h3>References</h3>

<p>Simon Wood, Generalized Additive Models: an introduction with R.,hapman and Hall/CRC,  2006 
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Test a linear specification (x), a log (I(log(x))) and a square I(x^2))
library(PanJen) 
data("hvidovre")
form&lt;-formula(lprice ~brick+roof_tile+roof_cemen+rebuild90+rebuild00+y7+y8+y9)
fxlist= list(
  linear = function(x) x,
  sqr = function(x) x^2,
  log=function(x) log(x)
)
  
PanJenAreaC&lt;-choose.fform(data=hvidovre,variable="area",base_form=form, functionList=fxlist) 
</code></pre>


</div>