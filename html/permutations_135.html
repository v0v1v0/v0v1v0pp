<div class="container">

<table style="width: 100%;"><tr>
<td>perm_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Permutation matrices</h2>

<h3>Description</h3>

<p>Given a permutation, coerce to word form and return the corresponding
permutation matrix
</p>


<h3>Usage</h3>

<pre><code class="language-R">perm_matrix(p,s=size(p))
is.perm_matrix(M)
pm_to_perm(M)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Permutation, coerced to word form, of length 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Size of permutation matrix or permutation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>Permutation matrix</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given a permutation <code>p</code> of size <code class="reqn">s</code>, function
<code>perm_matrix()</code> returns a square matrix with <code class="reqn">s</code> rows and
<code class="reqn">s</code> columns.  Entries are either 0 or 1; each row and each column
has exactly one entry of 1 and the rest zero.
</p>
<p>Row and column names of the permutation matrix are integers; this
makes the printed version more compact.
</p>
<p>Function <code>pm_to_perm()</code> takes a permutation matrix and returns
the equivalent permutation in word form.
</p>


<h3>Note</h3>

<p>Given a word <code>p</code> with size <code>s</code>, the idiom for
<code>perm_matrix()</code> boils down to
</p>
<pre>
    M &lt;- diag(s)
    M[p,]
  </pre>
<p>This is used explicitly in the <code>representations</code> vignette.  There
is another way:
</p>
<pre>
    M &lt;- diag(s)
    M[cbind(seq_len(s),p)] &lt;- 1
    M
  </pre>
<p>which might be useful sometime.
</p>
<p>See also the <code>representation</code> and <code>order_of_ops</code> vignettes, which
discuss permutation matrices.
</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>See Also</h3>

<p><code>permutation</code></p>


<h3>Examples</h3>

<pre><code class="language-R">
perm_matrix(rperm(1,9))


p1 &lt;- rperm(1,40)
M1 &lt;- perm_matrix(p1)
p2 &lt;- rperm(1,40)
M2 &lt;- perm_matrix(p2)

stopifnot(is.perm_matrix(M1))

stopifnot(all(solve(M1) == perm_matrix(inverse(p1))))
stopifnot(all(M1 %*% M2 == perm_matrix(p1*p2)))


stopifnot(p1 == pm_to_perm(perm_matrix(p1)))

data("megaminx")
image(perm_matrix(permprod(megaminx)),asp=1,axes=FALSE)

</code></pre>


</div>