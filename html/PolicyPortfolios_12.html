<div class="container">

<table style="width: 100%;"><tr>
<td>pp_array</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a tidy dataset into a matrix of policy portfolios</h2>

<h3>Description</h3>

<p>Take a tidy dataset containing one or several policy portfolios and convert it into a matrix or an array.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pp_array(D, return_matrix = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>Data frame in a tidy format with the following columns: "Country", "Sector", "Year", "Instrument", "Target" and "covered". "covered" is a binary identificator of whether the portfolio space is covered by policy intervention (1) or not (0). The remaining columns identify the case. Notice that "Year" is a numeric value, while the remaining 4 case identifiers are factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_matrix</code></td>
<td>
<p>Logical value indicating whether the output must be in the form of an array with Country, Sector and Year dimensions present (although equal to one), or a simplified matrix of Instruments and Targets. Defaults to FALSE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An array when return_single is FALSE (the default), or a two-dimensional matrix with Instruments and Targets as first and second dimensions, respectively.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(P.education)
# Returns an array
A &lt;- pp_array(P.education)
dim(A)

# Returns a matrix
M &lt;- pp_array(subset(P.education, Country == "Syldavia" &amp; Year == 2022),
  return_matrix = TRUE)
dim(M)
</code></pre>


</div>