<div class="container">

<table style="width: 100%;"><tr>
<td>chart.Histogram</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>histogram of returns</h2>

<h3>Description</h3>

<p>Create a histogram of returns, with optional curve fits for density and
normal.  This is a wrapper function for <code>hist</code>, see
the help for that function for additional arguments you may wish to pass in.
</p>


<h3>Usage</h3>

<pre><code class="language-R">chart.Histogram(
  R,
  breaks = "FD",
  main = NULL,
  xlab = "Returns",
  ylab = "Frequency",
  methods = c("none", "add.density", "add.normal", "add.centered", "add.cauchy",
    "add.sst", "add.rug", "add.risk", "add.qqplot"),
  show.outliers = TRUE,
  colorset = c("lightgray", "#00008F", "#005AFF", "#23FFDC", "#ECFF13", "#FF4A00",
    "#800000"),
  border.col = "white",
  lwd = 2,
  xlim = NULL,
  ylim = NULL,
  element.color = "darkgray",
  note.lines = NULL,
  note.labels = NULL,
  note.cex = 0.7,
  note.color = "darkgray",
  probability = FALSE,
  p = 0.95,
  cex.axis = 0.8,
  cex.legend = 0.8,
  cex.lab = 1,
  cex.main = 1,
  xaxis = TRUE,
  yaxis = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>one of: 
</p>
 
<ul>
<li>
<p> a vector giving the breakpoints between histogram cells, 
</p>
</li>
<li>
<p> a single number giving the number of cells for the histogram, 
</p>
</li>
<li>
<p> a character string naming an algorithm to compute the number of cells (see ‘Details’), 
</p>
</li>
<li>
<p> a function to compute the number of cells.  
</p>
</li>
</ul>
<p>For the last three the number is a suggestion only.
see <code>hist</code> for details, default "FD"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>set the chart title, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>set the x-axis label, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>set the y-axis label, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>methods</code></td>
<td>
<p>what to graph, one or more of: 
</p>
 
<ul>
<li>
<p> add.density to display the density plot 
</p>
</li>
<li>
<p> add.normal  to display a fitted normal distibution line over the mean 
</p>
</li>
<li>
<p> add.centered to display a fitted normal line over zero 
</p>
</li>
<li>
<p> add.rug to display a rug of the observations
</p>
</li>
<li>
<p> add.risk to display common risk metrics 
</p>
</li>
<li>
<p> add.qqplot to display a small qqplot in the upper corner of the histogram plot 
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.outliers</code></td>
<td>
<p>logical; if TRUE (the default), the histogram will show
all of the data points.  If FALSE, it will show only the first through the
fourth quartile and will exclude outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorset</code></td>
<td>
<p>color palette to use, set by default to rational choices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.col</code></td>
<td>
<p>color to use for the border</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>set the line width, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>set the x-axis limit, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>set the y-axis limits, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>element.color</code></td>
<td>
<p>provides the color for drawing chart elements, such as
the box lines, axis lines, etc. Default is "darkgray"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note.lines</code></td>
<td>
<p>draws a vertical line through the value given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note.labels</code></td>
<td>
<p>adds a text label to vertical lines specified for
note.lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note.cex</code></td>
<td>
<p>The magnification to be used for note line labels relative
to the current setting of 'cex'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note.color</code></td>
<td>
<p>specifies the color(s) of the vertical lines drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probability</code></td>
<td>
<p>logical; if TRUE, the histogram graphic is a
representation of frequencies, the counts component of the result; if FALSE,
probability densities, component density, are plotted (so that the histogram
has a total area of one). Defaults to TRUE if and only if breaks are
equidistant (and probability is not specified). see
<code>hist</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>confidence level for calculation, default p=.99</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axis</code></td>
<td>
<p>The magnification to be used for axis annotation relative to
the current setting of 'cex', same as in <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.legend</code></td>
<td>
<p>The magnification to be used for sizing the legend
relative to the current setting of 'cex'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>The magnification to be used for x- and y-axis labels
relative to the current setting of 'cex'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>The magnification to be used for the main title relative to
the current setting of 'cex'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxis</code></td>
<td>
<p>if true, draws the x axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis</code></td>
<td>
<p>if true, draws the y axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any other passthru parameters to <code>plot</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default for <code>breaks</code> is <code>"FD"</code>. Other names for which
algorithms are supplied are <code>"Sturges"</code> (see
<code>nclass.Sturges</code>), <code>"Scott"</code>, and <code>"FD"</code> /
<code>"Freedman-Diaconis"</code> (with corresponding functions
<code>nclass.scott</code> and <code>nclass.FD</code>).  Case is ignored
and partial matching is used.  Alternatively, a function can be supplied
which will compute the intended number of breaks as a function of <code>R</code>.
</p>


<h3>Note</h3>

<p>Code inspired by a chart on: <br><a href="http://zoonek2.free.fr/UNIX/48_R/03.html">http://zoonek2.free.fr/UNIX/48_R/03.html</a>
</p>


<h3>Author(s)</h3>

<p>Peter Carl
</p>


<h3>See Also</h3>

<p><code>hist</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
    data(edhec)
    chart.Histogram(edhec[,'Equity Market Neutral',drop=FALSE])

    # version with more breaks and the 
	   # standard close fit density distribution
    chart.Histogram(edhec[,'Equity Market Neutral',drop=FALSE], 
			breaks=40, methods = c("add.density", "add.rug") )

    chart.Histogram(edhec[,'Equity Market Neutral',drop=FALSE], 
			methods = c( "add.density", "add.normal") )

    # version with just the histogram and 
    # normal distribution centered on 0
    chart.Histogram(edhec[,'Equity Market Neutral',drop=FALSE], 
			methods = c( "add.density", "add.centered") )

    # add a rug to the previous plot 
	   # for more granularity on precisely where the distribution fell
    chart.Histogram(edhec[,'Equity Market Neutral',drop=FALSE], 
			methods = c( "add.centered", "add.density", "add.rug") )

    # now show a qqplot to give us another view 
    # on how normal the data are
    chart.Histogram(edhec[,'Equity Market Neutral',drop=FALSE], 
			methods = c("add.centered","add.density","add.rug","add.qqplot"))

    # add risk measure(s) to show where those are 
	   # in relation to observed returns
    chart.Histogram(edhec[,'Equity Market Neutral',drop=FALSE], 
			methods = c("add.density","add.centered","add.rug","add.risk"))

</code></pre>


</div>