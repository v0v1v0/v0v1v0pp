<div class="container">

<table style="width: 100%;"><tr>
<td>initials_pin_yz</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Initial parameter sets of Yan and Zhang (2012)</h2>

<h3>Description</h3>

<p>Based on the grid search algorithm of
Yan and Zhang (2012), generates
initial parameter sets for the maximum likelihood estimation of the <code>PIN</code>
model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">initials_pin_yz(data, grid_size = 5, ea_correction = FALSE,
 verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe with 2 variables: the first
corresponds to buyer-initiated trades (buys), and the second corresponds
to seller-initiated trades (sells).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_size</code></td>
<td>
<p>An integer between <code>1</code>, and <code>20</code>;
representing the size of the grid. The default value is <code>5</code>. See
more in details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ea_correction</code></td>
<td>
<p>A binary variable determining whether the
modifications of the algorithm of Yan and Zhang (2012)
suggested by Ersan and Alici (2016) are
implemented. The default value is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>a binary variable that determines whether information messages
about the initial parameter sets, including the number of the initial
parameter sets generated. No message is shown when <code>verbose</code> is set
to <code>FALSE</code>. The default value is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument 'data' should be a numeric dataframe, and contain
at least two variables. Only the first two variables will be considered:
The first variable is assumed to correspond to the total number of
buyer-initiated trades, while the second variable is assumed to
correspond to the total number of seller-initiated trades. Each row or
observation correspond to a trading day. <code>NA</code> values will be ignored.
</p>
<p>The argument <code>grid_size</code> determines the size of the grid of the variables:
<code>alpha</code>, <code>delta</code>, and <code>eps.b</code>. If <code>grid_size</code> is set to a given value <code>m</code>,
the algorithm creates a sequence starting from <code>1/2m</code>, and ending in
<code>1 - 1/2m</code>, with a step of <code>1/m</code>. The default value of <code>5</code> corresponds
to the size of the grid in Yan and Zhang (2012).
In that case, the sequence starts at <code>0.1 = 1/(2 x 5)</code>, and ends in
<code>0.9 = 1 - 1/(2 x 5)</code> with a step of <code>0.2 = 1/m</code>.
</p>
<p>The function <code>initials_pin_yz()</code> implements, by default, the original
Yan and Zhang (2012) algorithm as the default value of
<code>ea_correction</code> takes the value <code>FALSE</code>.
When the value of <code>ea_correction</code> is set to <code>TRUE</code>; then, sets
with irrelevant <code>mu</code> values are excluded, and sets with boundary values are
reintegrated in the initial parameter sets.
</p>


<h3>Value</h3>

<p>Returns a dataframe of initial sets each consisting of five
variables {<code class="reqn">\alpha</code>, <code class="reqn">\delta</code>, <code class="reqn">\mu</code>, <code class="reqn">\epsilon</code><sub>b</sub>, <code class="reqn">\epsilon</code><sub>s</sub>}.
</p>


<h3>References</h3>

<p>Ersan O, Alici A (2016).
“An unbiased computation methodology for estimating the probability of informed trading (PIN).”
<em>Journal of International Financial Markets, Institutions and Money</em>, <b>43</b>, 74–94.
ISSN 10424431.<br><br> Yan Y, Zhang S (2012).
“An improved estimation method and empirical properties of the probability of informed trading.”
<em>Journal of Banking and Finance</em>, <b>36</b>(2), 454–467.
ISSN 03784266.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># There is a preloaded quarterly dataset called 'dailytrades' with 60
# observations. Each observation corresponds to a day and contains the
# total number of buyer-initiated trades ('B') and seller-initiated
# trades ('S') on that day. To know more, type ?dailytrades

xdata &lt;- dailytrades

# The function pin_yz() allows the user to directly estimate the PIN model
# using the full set of initial parameter sets generated using the algorithm
# of Yan and # Zhang (2012).

estimate.1 &lt;- pin_yz(xdata, verbose = FALSE)

# Obtaining the set of initial parameter sets using initials_pin_yz allows
# us to estimate the PIN model using a subset of these initial sets.

initparams &lt;- initials_pin_yz(xdata, verbose = FALSE)

# Use 10 randonly chosen initial sets from the dataframe 'initparams' in
# order to estimate the PIN model using the function pin() with custom
# initial parameter sets

numberofsets &lt;- nrow(initparams)
selectedsets &lt;- initparams[sample(numberofsets, 10),]

estimate.2 &lt;- pin(xdata, initialsets = selectedsets, verbose = FALSE)

# Compare the parameters and the pin values of both specifications

comparison &lt;- rbind(c(estimate.1@parameters, pin = estimate.1@pin),
                    c(estimate.2@parameters, estimate.2@pin))

rownames(comparison) &lt;- c("all", "10")

show(comparison)


</code></pre>


</div>