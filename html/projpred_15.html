<div class="container">

<table style="width: 100%;"><tr>
<td>cv_proportions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Ranking proportions from fold-wise predictor rankings</h2>

<h3>Description</h3>

<p>Calculates the <em>ranking proportions</em> from the fold-wise predictor rankings in
a cross-validation (CV) with fold-wise searches. For a given predictor
<code class="reqn">x</code> and a given submodel size <code class="reqn">j</code>, the ranking proportion is the
proportion of CV folds which have predictor <code class="reqn">x</code> at position <code class="reqn">j</code> of
their predictor ranking. While these ranking proportions are helpful for
investigating variability in the predictor ranking, they can also be
<em>cumulated</em> across submodel sizes. The cumulated ranking proportions are more
helpful when it comes to model selection.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cv_proportions(object, ...)

## S3 method for class 'ranking'
cv_proportions(object, cumulate = FALSE, ...)

## S3 method for class 'vsel'
cv_proportions(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>For <code>cv_proportions.ranking()</code>: an object of class <code>ranking</code>
(returned by <code>ranking()</code>). For <code>cv_proportions.vsel()</code>: an object of class
<code>vsel</code> (returned by <code>varsel()</code> or <code>cv_varsel()</code>) that <code>ranking()</code> will be
applied to internally before then calling <code>cv_proportions.ranking()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For <code>cv_proportions.vsel()</code>: arguments passed to <code>ranking.vsel()</code>
and <code>cv_proportions.ranking()</code>. For <code>cv_proportions.ranking()</code>: currently
ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cumulate</code></td>
<td>
<p>A single logical value indicating whether the ranking
proportions should be cumulated across increasing submodel sizes (<code>TRUE</code>)
or not (<code>FALSE</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A numeric matrix containing the ranking proportions. This matrix has
<code>nterms_max</code> rows and <code>nterms_max</code> columns, with <code>nterms_max</code> as specified
in the (possibly implicit) <code>ranking()</code> call. The rows correspond to the
submodel sizes and the columns to the predictor terms (sorted according to
the full-data predictor ranking). If <code>cumulate</code> is <code>FALSE</code>, then the
returned matrix is of class <code>cv_proportions</code>. If <code>cumulate</code> is <code>TRUE</code>, then
the returned matrix is of classes <code>cv_proportions_cumul</code> and
<code>cv_proportions</code> (in this order).
</p>
<p>Note that if <code>cumulate</code> is <code>FALSE</code>, then the values in the returned matrix
only need to sum to 1 (column-wise and row-wise) if <code>nterms_max</code> (see
above) is equal to the full model size. Likewise, if <code>cumulate</code> is <code>TRUE</code>,
then the value <code>1</code> only needs to occur in each column of the returned
matrix if <code>nterms_max</code> is equal to the full model size.
</p>
<p>The <code>cv_proportions()</code> function is only applicable if the <code>ranking</code> object
includes fold-wise predictor rankings (i.e., if it is based on a <code>vsel</code>
object created by <code>cv_varsel()</code> with <code>validate_search = TRUE</code>). If the
<code>ranking</code> object contains only a full-data predictor ranking (i.e., if it
is based on a <code>vsel</code> object created by <code>varsel()</code> or by <code>cv_varsel()</code>, but
the latter with <code>validate_search = FALSE</code>), then an error is thrown because
in that case, there are no fold-wise predictor rankings from which to
calculate ranking proportions.
</p>


<h3>See Also</h3>

<p><code>plot.cv_proportions()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># For an example, see `?plot.cv_proportions`.

</code></pre>


</div>