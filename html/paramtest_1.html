<div class="container">

<table style="width: 100%;"><tr>
<td>gen_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate data through a factor matrix and effects matrix.</h2>

<h3>Description</h3>

<p><code>gen_data</code> will generate sample data based on a factor structure and
effects structure specified by the user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gen_data(factor_struct, effects_struct, n_cases = 1000, true_scores = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>factor_struct</code></td>
<td>
<p>A matrix describing the measurement model of latent
factors (columns) as measured by observed variables (rows).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effects_struct</code></td>
<td>
<p>A matrix describing the variances and covariances of
the latent variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cases</code></td>
<td>
<p>Number of sample cases to generate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_scores</code></td>
<td>
<p>Whether or not to include the data for each variable as
measured without error. If set to TRUE, the resulting data frame will
include all the variables in the model twice: once with measurement error,
and once without.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a data frame with <code>n_cases</code> rows and columns for each
observed and latent variable. These variables will approximately accord
with the factor structure and effects structure that was specified, within
sampling error.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># two uncorrelated predictors, one criterion, with measurement error in all
# variables
beta1 &lt;- .5
beta2 &lt;- .6
y_resid_var &lt;- sqrt(1 - (beta1^2 + beta2^2))
fmodel &lt;- matrix(
    c(.8, 0, 0,   # x1
      0, .6, 0,   # x2
      0, 0, .5),  # y
    nrow=3, ncol=3, byrow=TRUE, dimnames=list(
    c('x1', 'x2', 'y'), c('x1', 'x2', 'y')))
    # in this case, observed and latent variables are the same
effects &lt;- matrix(
    c(1, 0, beta1,
      0, 1, beta2,
      0, 0, y_resid_var),
    nrow=3, ncol=3, byrow=TRUE, dimnames=list(
    c('x1', 'x2', 'y'), c('x1', 'x2', 'y')))

sample_data &lt;- gen_data(fmodel, effects, n_cases=1000)
round(var(sample_data), 2)
round(cor(sample_data), 2)
summary(lm(y ~ x1 + x2, data=sample_data))
    # note that beta coefficients are much smaller, due to measurement error
</code></pre>


</div>