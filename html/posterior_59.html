<div class="container">

<table style="width: 100%;"><tr>
<td>as_rvar_factor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coerce to a factor random variable</h2>

<h3>Description</h3>

<p>Convert <code>x</code> to an <code>rvar_factor</code> or <code>rvar_ordered</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_rvar_factor(x, dim = NULL, dimnames = NULL, nchains = NULL, ...)

as_rvar_ordered(x, dim = NULL, dimnames = NULL, nchains = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(multiple options) An object that can be converted to an <code>rvar</code>,
such as a vector, array, or an <code>rvar</code> itself.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>(integer vector) One or more integers giving the maximal indices
in each dimension to override the dimensions of the <code>rvar</code> to be created
(see <code>dim()</code>). If <code>NULL</code> (the default), <code>dim</code> is determined by the input.
<strong>NOTE:</strong> This argument controls the dimensions of the <code>rvar</code>, not the
underlying array, so you cannot change the number of draws using this
argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimnames</code></td>
<td>
<p>(list) Character vectors giving the names in each dimension
to override the names of the dimensions of the <code>rvar</code> to be created (see
<code>dimnames()</code>). If <code>NULL</code> (the default), this is determined by the input.
<strong>NOTE:</strong> This argument controls the names of the dimensions of the
<code>rvar</code>, not the underlying array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nchains</code></td>
<td>
<p>(positive integer) The number of chains. The default is <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>base::factor</code>
</p>

<dl>
<dt><code>levels</code></dt>
<dd>
<p>an optional vector of the unique values (as character strings)
that <code>x</code> might have taken.  The default is the unique set of
values taken by <code>as.character(x)</code>, sorted into
increasing order <em>of <code>x</code></em>.  Note that this set can be
specified as smaller than <code>sort(unique(x))</code>.</p>
</dd>
<dt><code>labels</code></dt>
<dd>
<p><em>either</em> an optional character vector of
labels for the levels (in the same order as <code>levels</code> after
removing those in <code>exclude</code>), <em>or</em> a character string of
length 1.  Duplicated values in <code>labels</code> can be used to map
different values of <code>x</code> to the same factor level.</p>
</dd>
<dt><code>exclude</code></dt>
<dd>
<p>a vector of values to be excluded when forming the
set of levels.  This may be factor with the same level set as <code>x</code>
or should be a <code>character</code>.</p>
</dd>
<dt><code>ordered</code></dt>
<dd>
<p>logical flag to determine if the levels should be regarded
as ordered (in the order given).</p>
</dd>
<dt><code>nmax</code></dt>
<dd>
<p>an upper bound on the number of levels; see ‘Details’.</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For objects that are already <code>rvar</code>s, returns them (with modified dimensions
if <code>dim</code> is not <code>NULL</code>), possibly adding levels using the unique values of the draws of
the <code>rvar</code> (if the object is not already factor-like).
</p>
<p>For numeric, logical, factor, or character vectors or arrays, returns an <code>rvar_factor</code>
or <code>rvar_ordered</code> with a single draw and the same dimensions as <code>x</code>. This is in contrast
to the <code>rvar_factor()</code> and <code>rvar_ordered()</code> constructors, which treats the first dimension
of <code>x</code> as the draws dimension. As a result, <code>as_rvar_factor()</code> and <code>as_rvar_ordered()</code>
are useful for creating constants.
</p>


<h3>Value</h3>

<p>An object of class <code>"rvar_factor"</code> or <code>"rvar_ordered"</code> representing a random variable.
</p>


<h3>See Also</h3>

<p><code>rvar()</code>, <code>rvar_factor()</code>, and <code>rvar_ordered()</code> to construct <code>rvar</code>s directly.
See <code>rdo()</code>, <code>rfun()</code>, and <code>rvar_rng()</code> for higher-level interfaces for creating <code>rvar</code>s.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# You can use as_rvar_factor() to create "constant" rvars (having only one draw):
x &lt;- as_rvar_factor("a")
x

# Such constants can be of arbitrary shape:
as_rvar_factor(letters[1:4])
as_rvar_ordered(matrix(letters[1:10], nrow = 5))
as_rvar_factor(array(letters[1:12], dim = c(2, 3, 2)))

</code></pre>


</div>