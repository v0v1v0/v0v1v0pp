<div class="container">

<table style="width: 100%;"><tr>
<td>parscrape</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>parallelize execution of RSelenium</h2>

<h3>Description</h3>

<p>parallelize execution of RSelenium
</p>


<h3>Usage</h3>

<pre><code class="language-R">parscrape(
  scrape_fun,
  scrape_input,
  cores = NULL,
  packages = c("base"),
  browser,
  ports = NULL,
  chunk_size = NULL,
  scrape_tries = 1,
  proxy = NULL,
  extraCapabilities = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>scrape_fun</code></td>
<td>
<p>a function with input x sending instructions to remDr (remote driver)/ scraping function to be parallelized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scrape_input</code></td>
<td>
<p>a data frame, list, or vector where each element is an input to be passed to scrape_fun</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>number of cores to run RSelenium instances on. Defaults to available cores - 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packages</code></td>
<td>
<p>a character vector with package names of packages used in scrape_fun</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>browser</code></td>
<td>
<p>a character vector specifying the browser to be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ports</code></td>
<td>
<p>vector of ports for RSelenium instances. If left at default NULL parscrape will randomly generate ports.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chunk_size</code></td>
<td>
<p>number of scrape_input elements to be processed per round of scrape_fun. parscrape splits scrape_input into chunks and runs scrape_fun in multiple rounds to avoid loosing data due to errors. Defaults to number of cores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scrape_tries</code></td>
<td>
<p>number of times parscrape will re-try to scrape a chunk when encountering an error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proxy</code></td>
<td>
<p>a proxy setting function that runs before scraping each chunk</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extraCapabilities</code></td>
<td>
<p>a list of extraCapabilities options to be passed to rsDriver</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list containing the elements: scraped_results and not_scraped. scraped_results is a list containing the output of scrape_fun. If there are no unscraped input elements then not_scraped is NULL. If there are unscraped elements not_scraped is a data.frame containing the scrape_input id, chunk id and associated error of all unscraped input elements.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
input &lt;- c(".central-textlogo__image",".central-textlogo__image")

scrape_fun &lt;- function(x){
 input_i &lt;- x
 remDr$navigate("https://www.wikipedia.org/")
 element &lt;- remDr$findElement(using = "css", input_i)
 element &lt;- element$getElementText()
 return(element)
}

parsel_out &lt;- parscrape(scrape_fun = scrape_fun,
                       scrape_input = input,
                       cores = 2,
                       packages = c("RSelenium"),
                       browser = "firefox",
                       scrape_tries = 1,
                       chunk_size = 2,
                       extraCapabilities = list(
                        "moz:firefoxOptions" = list(args = list('--headless'))
                        )
                       )

## End(Not run)
</code></pre>


</div>