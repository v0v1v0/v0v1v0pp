<div class="container">

<table style="width: 100%;"><tr>
<td>write_MRTSwath_param_file_mod02nrt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write a parameter control file for MRTSwath</h2>

<h3>Description</h3>

<p>MRTSwath is the "MODIS Reprojection Tool for swath products".  See:
<a href="https://lpdaac.usgs.gov/tools/modis_reprojection_tool_swath">https://lpdaac.usgs.gov/tools/modis_reprojection_tool_swath</a>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">write_MRTSwath_param_file_mod02nrt(prmfn = "tmpMRTparams.prm", tifsdir, modfn,
  geoloc_fn, ul_lon, ul_lat, lr_lon, lr_lat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prmfn</code></td>
<td>
<p>The name of the parameter/control file which will be the input to MRTSwath's <code>swath2grid</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tifsdir</code></td>
<td>
<p>The directory to save the output TIF files in</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modfn</code></td>
<td>
<p>The filename of the MODIS data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geoloc_fn</code></td>
<td>
<p>The filename of the corresponding geolocation file (annoyingly, this is a much larger
file than the data file!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ul_lon</code></td>
<td>
<p>Upper left (ul) longitude (x-coordinate) for subsetting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ul_lat</code></td>
<td>
<p>Upper left (ul) latitude (y-coordinate) for subsetting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lr_lon</code></td>
<td>
<p>Lower right (lr) longitude (x-coordinate) for subsetting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lr_lat</code></td>
<td>
<p>Lower right (lr) latitude (y-coordinate) for subsetting</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you want this function to use MRTSwath tool successfully, you should
add the directory with the MRTSwath executable to the default R PATH
by editing <code>~/.Rprofile</code>.
</p>
<p>This function hard-codes these options into the parameter file:<br>
* all the bands are extracted<br>
* the output file is a GeoTIFF<br>
* the output projection is Geographic (plain unprojected Latitude/Longitude)<br>
* the resampling is Nearest Neighbor (NN), which of course is the only one which makes sense when the pixels encode bytes that encode bits that encode discrete classification results, 0/1 error flags, etc.<br></p>
<p>MRTswath can do many other projections and output formats; users can modify this function to run those options.
</p>


<h3>Value</h3>

<p><code>prmfn</code> The name of the temporary parameter file
</p>


<h3>Author(s)</h3>

<p>Rishabh Gupta <a href="mailto:rishabh.uk@gmail.com">rishabh.uk@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>run_swath2grid_mod02nrt</code>
</p>
<p><a href="http://landweb.nascom.nasa.gov/cgi-bin/QA_WWW/newPage.cgi?fileName=hdf_filename">http://landweb.nascom.nasa.gov/cgi-bin/QA_WWW/newPage.cgi?fileName=hdf_filename</a>
@cite NASA2001
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Source MODIS files (both data and geolocation)
# Code excluded from CRAN check because it depends on modiscdata
## Not run: 
library(devtools)
library(modiscdata)
moddir = system.file("extdata/2002raw/", package="modiscdata")

# Get the matching data/geolocation file pairs
fns_df = check_for_matching_geolocation_files_mod02nrt(moddir, modtxt="MOD02", geoloctxt="MOD03")
fns_df

# Resulting TIF files go in this directory
tifsdir = getwd()


# Box to subset
ul_lat = 13
ul_lon = -87
lr_lat = 8
lr_lon = -82

for (i in 1:nrow(fns_df))
	{

	prmfn = write_MRTSwath_param_file_mod02nrt(prmfn="tmpMRTparams.prm", tifsdir=tifsdir,
	 modfn=fns_df$mod02_fns[i], geoloc_fn=fns_df$mod03_fns[i], ul_lon=ul_lon, ul_lat=ul_lat,
	  lr_lon=lr_lon, lr_lat=lr_lat)
	print(scan(file=prmfn, what="character", sep="\n"))

	}

## End(Not run)

</code></pre>


</div>