<div class="container">

<table style="width: 100%;"><tr>
<td>bttree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bradley-Terry Trees</h2>

<h3>Description</h3>

<p>Recursive partitioning (also known as trees) based on Bradley-Terry models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bttree(formula, data, na.action, cluster,
  type = "loglin", ref = NULL, undecided = NULL, position = NULL, ...)

## S3 method for class 'bttree'
predict(object, newdata = NULL,
  type = c("worth", "rank", "best", "node"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A symbolic description of the model to be fit. This
should be of type <code>y ~ x1 + x2</code>
where <code>y</code> should be an object of class <code>paircomp</code>
and <code>x1</code> and <code>x2</code> are used as partitioning variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame containing the variables in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>A function which indicates what should happen when the data
contain <code>NA</code>s, defaulting to <code>na.pass</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>optional vector (typically numeric or factor) with a
cluster ID to be employed for clustered covariances in the parameter
stability tests.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character indicating the type of auxiliary model in <code>bttree</code> and the
type of predictions in the <code>predict</code> method, respectively. For the auxiliary
model see <code>btmodel</code>. For the <code>predict</code> method, four options are
available: the fitted <code>"worth"</code> parameter for each alternative, the corresponding
<code>"rank"</code>, the <code>"best"</code> alternative or the predicted <code>"node"</code> number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref, undecided, position</code></td>
<td>
<p>arguments for the Bradley-Terry
model passed on to <code>btmodel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to <code>mob_control</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>fitted model object of class <code>"bttree"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>optionally, a data frame in which to look for variables with
which to predict. If omitted, the original observations are used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Bradley-Terry trees are an application of model-based recursive partitioning
(implemented in <code>mob</code>) to Bradley-Terry models for
paired comparison data (implemented in <code>btmodel</code>).
Details about the underlying theory and further explanations of the
illustrations in the example section can be found in
Strobl, Wickelmaier, Zeileis (2011).
</p>
<p>Various methods are provided for <code>"bttree"</code> objects, most of them
inherit their behavior from <code>"mob"</code> objects (e.g., <code>print</code>, <code>summary</code>,
etc.). <code>itempar</code> behaves analogously to <code>coef</code> and extracts the
worth/item parameters from the BT models in the nodes of the tree. The <code>plot</code>
method employs the <code>node_btplot</code> panel-generating function.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>"bttree"</code> inheriting from class <code>"modelparty"</code>.
</p>


<h3>References</h3>

 
<p>Strobl C, Wickelmaier F, Zeileis A (2011). Accounting for
Individual Differences in Bradley-Terry Models by Means of Recursive Partitioning.
<em>Journal of Educational and Behavioral Statistics</em>, <b>36</b>(2), 135â€“153.
<a href="https://doi.org/10.3102/1076998609359791">doi:10.3102/1076998609359791</a>
</p>


<h3>See Also</h3>

<p><code>mob</code>, <code>btmodel</code></p>


<h3>Examples</h3>

<pre><code class="language-R">o &lt;- options(digits = 4)

## Germany's Next Topmodel 2007 data
data("Topmodel2007", package = "psychotree")

## BT tree
tm_tree &lt;- bttree(preference ~ ., data = Topmodel2007, minsize = 5, ref = "Barbara")
plot(tm_tree, abbreviate = 1, yscale = c(0, 0.5))

## parameter instability tests in root node
if(require("strucchange")) sctest(tm_tree, node = 1)

## worth/item parameters in terminal nodes
itempar(tm_tree)

## CEMS university choice data
data("CEMSChoice", package = "psychotree")
summary(CEMSChoice$preference)

## BT tree
cems_tree &lt;- bttree(preference ~ french + spanish + italian + study + work + gender + intdegree,
  data = CEMSChoice, minsize = 5, ref = "London")
plot(cems_tree, abbreviate = 1, yscale = c(0, 0.5))
itempar(cems_tree)

options(digits = o$digits)
</code></pre>


</div>