<div class="container">

<table style="width: 100%;"><tr>
<td>pbdb_map_richness</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a raster showing the richness of taxa</h2>

<h3>Description</h3>

<p>Creates a <code>SpatRaster</code> object and a plot with richness of
species, genera, families, etc. per cell.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pbdb_map_richness(
  data,
  rank = c("species", "genus", "family", "order", "class", "phylum"),
  do_plot = TRUE,
  res = 5,
  col_int = "white",
  col_ocean = "black",
  col_rich = c("light blue", "blue"),
  title = "Taxonomic richness",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Input data frame. This data frame is the output of the
<code>pbdb_occurrences()</code> function using the argument <code>show = c("coords", "classext")</code>. See also Details and Examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank</code></td>
<td>
<p>Taxon rank for which richness is calculated. The
options are: <code>"species"</code>, <code>"genus"</code>, <code>"family"</code>, <code>"order"</code>,
<code>"class"</code> or <code>"phylum"</code>.  The default value is <code>"species"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do_plot</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the function produces a plot in
addition to returning a <code>SpatRaster</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>The resolution of the <code>SpatRaster</code> object (in decimal
degrees). See <code>terra::res()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_int</code></td>
<td>
<p>The colour of the mainland.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_ocean</code></td>
<td>
<p>The colour of the ocean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_rich</code></td>
<td>
<p>Two or more colours that are used to generate the
colour gradient showing the richness per cell in the map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>A title for the plot, to be positioned to the right of
the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters. See <code>par()</code> and <code>map()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument <code>show = c("coords", "classext")</code> in the
<code>pbdb_occurrences()</code> function is required. We recommend the use
of a cairo device (<code>X11()</code>) for better visualization of the
graphs. See Examples.
</p>


<h3>Value</h3>

<p>A <code>SpatRaster</code> object with the richness of the specified
taxon rank per cell. This <code>SpatRaster</code> object has the resolution
that was specified in the <code>res</code> argument. The default is <code>res = 5</code>. Users that wish to work with objects of this type should load
package <code>terra</code>.
</p>


<h3>See Also</h3>

<p>See <code>pbdb_occurrences()</code>, <code>map()</code>, <code>par()</code> and <code>colors()</code>
help pages.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  data &lt;- pbdb_occurrences(
    limit = 1000, vocab = "pbdb", base_name = "mammalia",
    show = c("classext", "coords")
  )
  X11(width = 13, height = 7.8)
  pbdb_map_richness(data, res = 8, rank = "genus")
  pbdb_map_richness(data, res = 8, rank = "family")
  ## Get the raster object without plotting the map
  pbdb_map_richness(data, res = 8, rank = "family", do_plot = FALSE)

## End(Not run)
</code></pre>


</div>