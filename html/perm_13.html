<div class="container">

<table style="width: 100%;"><tr>
<td>permControl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auxiliary for controling permutation tests</h2>

<h3>Description</h3>

<p>A function to create a list of arguments for <code>permTS</code>, <code>permKS</code> or 
<code>permTREND</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">permControl(cm=NULL,nmc=10^3-1,seed=1234321,digits=12,
    p.conf.level=.99,setSEED=TRUE,tsmethod="central")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cm</code></td>
<td>
<p>a choose(n,m) by n matrix, used if method='exact.ce', ignored otherwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmc</code></td>
<td>
<p>number of Monte Carlo replications, used if method='exact.mc', ignored otherwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>value used in <code>set.seed</code> if method='exact.mc', ignored otherwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>setSEED</code></td>
<td>
<p>logical, set to FALSE when performing simulations that use method='exact.mc'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.conf.level</code></td>
<td>
<p>confidence level for p value estimate, used if method='exact.mc', ignored otherwise </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits to use in <code>signif</code> for precision of test statistics</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tsmethod</code></td>
<td>
<p>method for calculating two-sided p-values, character, either 'central' or 'abs' (see details)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>cm</code>=NULL the resulting matrix is created by <code>chooseMatrix</code>, it may be optionally provided here 
only so that <code>chooseMatrix</code> does not need to be repeatedly called in simulations.  Also when doing simulations with
method='exact.mc', use setSEED=FALSE so that the seed is not reset to the same value each time you call the permutation test
function.
</p>
<p>See <code>calcPvalsMC</code> for description of how p.conf.level is used. 
</p>
<p>The two-sided method is given by <code>tsmethod</code>. The default 'central' two-sided method is 
just p=min(1, 2*min(pless,pgreater)), where pless and pgreater are the one-sided 
p-values. The name 'central' follows the convention of the <code>exact2x2</code> and 
<code>exactci</code> packages; so that for example, a two-sample permutation test on a binary
response with tsmethod='central' will match the Central Fisher's Exact test (see 
Fay, 2010). The option tsmethod='abs' defines another method for defining the two-sided p-value. We define it for complete enumeration, 
but the algorithms may differ. Let Tj be the vector of length N of all possible values of the test statistic under each of N possible permutations.
The p-value with tsmethod='abs' is defined as 1/N times the number of times <code>abs(Tj-mean(Tj)) &gt;= abs(T0-mean(Tj))</code>, where T0 is the observed value of the 
test statistic. This option matches the default two-sided method for the <code>coin</code> package. 
</p>


<h3>Value</h3>

<p>An list with the arguments as components.
</p>


<h3>References</h3>

 
<p>Fay, M.P. (2010). Confidence intervals that match Fisher's exact or 
Blaker's exact tests. Biostatistics 11(2):373-373.
</p>


</div>