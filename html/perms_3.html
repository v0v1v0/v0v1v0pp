<div class="container">

<table style="width: 100%;"><tr>
<td>get_log_perms</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>get_log_perms</h2>

<h3>Description</h3>

<p>Computes log permanents associated with simulated latent variables.
Each row of the S x n matrix X contains a random sample of size n from the data model. 
If there is only a single covariate, then the
observed data are represented as (t,y), where t is the observed
values of the covariate and y is the vector of indicator variables.
If there are more covariates or the problem is phrased as binary
classification (see Section 5 in [1]), then t is an S x n matrix
since the threshold values change in each iteration. The function returns
a vector of log permanents corresponding to each sample in X.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_log_perms(X, tt, y, debug = FALSE, parallel = TRUE, num_cores = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>A matrix of dimension S x n, in which each row contains a sample from
the data model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tt</code></td>
<td>
<p>Either: A vector of length n containing the observed values of the covariate,
Or: A matrix of dimension S x n (if there are several covariates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A vector of length n indicating whether x_i&lt;=t_i for each i in the observed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>If <code>TRUE</code>, debug information is printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>If <code>TRUE</code>, computation is run on several cores</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_cores</code></td>
<td>
<p>(Optional) Specifies the number of cores to use if <code>parallel = TRUE</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Vector of log permanents,each element associated to the corresponding row in X.
A zero valued permanent is indicated by a NA value.
</p>


<h3>References</h3>

<p>[1] Christensen, D (2024). Inference for Bayesian nonparametric models with binary response data via permutation counting. Bayesian Analysis, DOI: 10.1214/22-BA1353.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(perms)
set.seed(1996)
n = 100
t = seq(0, 1, length.out=n)
y = c(rep(0, n/2), rep(1, n/2))
S = 200
X = matrix(runif(n*S),nrow = S, ncol = n)

log_perms = get_log_perms(X, t, y, debug = FALSE, parallel = FALSE, num_cores = NULL)

num_nonzero_perms = sum(!is.na(log_perms))
num_nonzero_perms

log_ML = get_log_ML(log_perms, n, FALSE)
log_ML
</code></pre>


</div>