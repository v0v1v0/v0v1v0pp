<div class="container">

<table style="width: 100%;"><tr>
<td>diag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Polynomial matrix Diagonals
Extract or construct a diagonal polynomial matrix.</h2>

<h3>Description</h3>

<p>Polynomial matrix Diagonals
Extract or construct a diagonal polynomial matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">diag(x = 1, nrow, ncol, names = TRUE)

## S4 method for signature 'polynomial'
diag(x, nrow, ncol)

## S4 method for signature 'polyMatrix'
diag(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a polynomial matrix, or a polynomial, or an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow, ncol</code></td>
<td>
<p>optional dimensions for the result when x is not a matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>not used for polynomial matrices</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In case of polynomial objects, <code>diag</code> has 2 distinct usage:
</p>

<ul>
<li> <p><code>x</code> is a polynomial, returns a polynomial matrix the given diagonal
and zero off-diagonal entries.
</p>
</li>
<li> <p><code>x</code> is a polynomial matrix, returns a vector as a polynomial matrix of
diagonal elements
</p>
</li>
</ul>
<p>For polynomial, either <code>nrow</code> or <code>ncol</code> must be provided.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>polynomial</code>: for a polynomial, returns a polynomial matrix with the given diagonal
</p>
</li>
<li> <p><code>polyMatrix</code>: for a polynomial matrix extracts diagonal
</p>
<p>For polynomial matrix, neither <code>nrow</code> nor <code>ncol</code> cannot be provided.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Base <code>base::diag()</code> for numericals and numerical matrices
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# numericals and numerical matrices
diag(matrix(1:12, 3, 4)) ## 1 5 8
diag(9, 2, 2)
##      [,1] [,2]
## [1,]    9    0
## [2,]    0    9



# polynomial
diag(parse.polynomial("1+x+3x^2"), 2, 3)
##                [,1]           [,2]   [,3]
## [1,]   1 + x + 3x^2              0      0
## [2,]              0   1 + x + 3x^2      0


# polynomial matrix
diag(parse.polyMatrix(
  "-3 + x^2, 2 + 4 x,  -x^2",
  "       1,       2, 3 + x",
  "      2x,       0, 2 - 3x"
))
##            [,1]   [,2]     [,3]
## [1,]   -3 + x^2      2   2 - 3x

</code></pre>


</div>