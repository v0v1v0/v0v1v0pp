<div class="container">

<table style="width: 100%;"><tr>
<td>tax_range_time</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the temporal range of fossil taxa</h2>

<h3>Description</h3>

<p>A function to calculate the temporal range of fossil taxa from occurrence
data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tax_range_time(
  occdf,
  name = "genus",
  min_ma = "min_ma",
  max_ma = "max_ma",
  by = "FAD",
  plot = FALSE,
  plot_args = NULL,
  intervals = "periods"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>occdf</code></td>
<td>
<p><code>dataframe</code>. A dataframe of fossil occurrences containing
at least three columns: names of taxa, minimum age and maximum age
(see <code>name</code>, <code>min_ma</code>, and <code>max_ma</code> arguments).
These ages should constrain the age range of the fossil occurrence
and are assumed to be in millions of years before present.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p><code>character</code>. The name of the column you wish to be treated
as the input names, e.g. "genus" (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_ma</code></td>
<td>
<p><code>character</code>. The name of the column you wish to be treated
as the minimum limit of the age range, e.g. "min_ma" (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_ma</code></td>
<td>
<p><code>character</code>. The name of the column you wish to be treated
as the maximum limit of the age range, e.g. "max_ma" (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p><code>character</code>. How should the output be sorted?
Either: "FAD" (first-appearance date; default), "LAD" (last-appearance data),
or "name" (alphabetically by taxon names).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p><code>logical</code>. Should a plot of the ranges be generated?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_args</code></td>
<td>
<p><code>list</code>. A list of optional arguments relevant to
plotting. See Details for options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intervals</code></td>
<td>
<p><code>character</code>. The time interval information used to
plot the x-axis: either A) a <code>character</code> string indicating a rank of
intervals from the built-in <code>GTS2020</code>, B) a <code>character</code>
string indicating a <code>data.frame</code> hosted by
<a href="https://macrostrat.org">Macrostrat</a> (see <code>time_bins</code>), or C)
a custom <code>data.frame</code> of time interval boundaries (see axis_geo
Details). A list of strings or data.frames can be supplied to add
multiple time scales to the same side of the plot (see axis_geo
Details). Defaults to "periods".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The temporal range(s) of taxa are calculated by extracting all
unique taxa (<code>name</code> column) from the input <code>occdf</code>, and checking their
first and last appearance. The temporal duration of each taxon is also
calculated. If the input data columns contain NAs, these must be
removed prior to function call. A plot of the temporal range of each
taxon is also returned if <code>plot = TRUE</code>. Customisable argument options
(i.e. <code>graphics::par()</code>) to pass to <code>plot_args</code> as a list (and their
defaults) for plotting include:
</p>

<ul>
<li>
<p> xlab = "Time (Ma)"
</p>
</li>
<li>
<p> ylab = "Taxon ID"
</p>
</li>
<li>
<p> col = "black"
</p>
</li>
<li>
<p> bg = "black"
</p>
</li>
<li>
<p> pch = 20
</p>
</li>
<li>
<p> cex = 1
</p>
</li>
<li>
<p> lty = 1
</p>
</li>
<li>
<p> lwd = 1
</p>
</li>
</ul>
<p>Note: this function provides output based solely on the user input data.
The true duration of a taxon is likely confounded by uncertainty in
dating occurrences, and incomplete sampling and preservation.
</p>


<h3>Value</h3>

<p>A <code>dataframe</code> containing the following columns:
unique taxa (<code>taxon</code>), taxon ID (<code>taxon_id</code>), first appearance of taxon
(<code>max_ma</code>), last appearance of taxon (<code>min_ma</code>), duration of temporal
range (<code>range_myr</code>), and number of occurrences per taxon (<code>n_occ</code>) is
returned.
</p>


<h3>Developer(s)</h3>

<p>Lewis A. Jones
</p>


<h3>Reviewer(s)</h3>

<p>Bethany Allen, Christopher D. Dean &amp; Kilian Eichenseer
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Grab internal data
occdf &lt;- tetrapods
# Remove NAs
occdf &lt;- subset(occdf, !is.na(order) &amp; order != "NO_ORDER_SPECIFIED")
# Temporal range
ex &lt;- tax_range_time(occdf = occdf, name = "order", plot = TRUE)
# Customise appearance
ex &lt;- tax_range_time(occdf = occdf, name = "order", plot = TRUE,
                     plot_args = list(ylab = "Orders",
                                      pch = 21, col = "black", bg = "blue",
                                      lty = 2),
                     intervals = list("periods", "eras"))
</code></pre>


</div>