<div class="container">

<table style="width: 100%;"><tr>
<td>PrInDTMulab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multiple label classification based on resampling by <code>PrInDT</code>
</h2>

<h3>Description</h3>

<p>Multiple label classification based on resampling by <code>PrInDT</code>. We consider two ways of modeling (Binary relevance modeling, 
dependent binary modeling) and three ways of model evaluation: single assessment, joint assessment, and true prediction  
(see the Value section for more information).<br>
Variables should be arranged in 'datain' according to indices specified in 'indind', 'indaddind', and 'inddep'.<br>
Undersampling is repeated 'N' times.<br>
Undersampling percentages 'percl' for the larger class and 'percs' for the smaller class can be 
specified, one each per dependent class variable.<br></p>
<p><strong>Reference</strong><br> Probst, P., Au, Q., Casalicchio, G., Stachl, C., and Bischl, B. 2017. Multilabel Classification with 
R Package mlr. arXiv:1703.08991v2
</p>


<h3>Usage</h3>

<pre><code class="language-R">PrInDTMulab(datain, classnames, ctestv, conf.level=0.95, percl, percs=1,
       N, indind, indaddind, inddep)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datain</code></td>
<td>
<p>Input data frame with class factor variable 'classname' and the<br>
influential variables, which need to be factors or numericals (transform logicals and character variables to factors)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classnames</code></td>
<td>
<p>names of class variables (character vector)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctestv</code></td>
<td>
<p>Vector of character strings of forbidden split results;<br>
see function <code>PrInDT</code> for details.<br>
If no restrictions exist, the default = NA is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>(1 - significance level) in function <code>ctree</code> (numerical, &gt; 0 and &lt;= 1);<br>
default = 0.95</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percl</code></td>
<td>
<p>list of undersampling percentages of larger class (numerical, &gt; 0 and &lt;= 1): one per dependent class variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percs</code></td>
<td>
<p>list of undersampling percentage of smaller class (numerical, &gt; 0 and &lt;= 1); one per dependent class variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>no. of repetitions (integer &gt; 0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indind</code></td>
<td>
<p>indices of independent variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indaddind</code></td>
<td>
<p>indices of additional independent variables used in the case of dependent binary relevance modeling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inddep</code></td>
<td>
<p>indices of dependent variables</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Standard output can be produced by means of <code>print(name)</code> or just <code> name </code> as well as <code>plot(name)</code>  where 'name' is the output data 
frame of the function.<br>
The plot function will produce a series of more than one plot. If you use R, you might want to specify <code>windows(record=TRUE)</code> before 
<code>plot(name)</code> to save the whole series of plots. In R-Studio this functionality is provided automatically.
</p>


<h3>Value</h3>


<dl>
<dt>accbr</dt>
<dd>
<p>model errors for Binary Relevance (single assessment) - only independent predictors are used for modeling one label at a time,
the other labels are not used as predictors. As the performance measure for the resulting classification rules,
the balanced accuracy of the best model from PrInDT is employed for each individual label.</p>
</dd>
<dt>errbin</dt>
<dd>
<p>combined error for Binary Relevance (joint assessment) - the best prediction models for the different labels are combined  
to assess the combined prediction. The 01-accuracy counts a label combination as correct only if all labels are correctly predicted.
The hamming accuracy corresponds to the proportion of labels whose value is correctly predicted.</p>
</dd>
<dt>accdbr</dt>
<dd>
<p>model errors for Dependent Binary Relevance (Extended Model) (single assessment) - each label is trained by means of an extended model which 
not only includes the independent predictors but also the other labels. For these labels, the truly observed values are used for 
estimation and prediction. In the extended model, other labels, which are not treated as dependent variables, can also be used as additional predictors.</p>
</dd>
<dt>errext</dt>
<dd>
<p>combined errors for Dependent Binary Relevance (Extended Model) (joint assessment)</p>
</dd>
<dt>errtrue</dt>
<dd>
<p>combined errors for Dependent Binary Relevance (True Prediction) - in the prediction phase, the values 
of all modeled labels are first predicted by the independent predictors only and then the predicted labels are used in the estimated  
extended model in a 2nd step to 
ultimately predict the labels.</p>
</dd>
<dt>coldata</dt>
<dd>
<p>column names of input data</p>
</dd>
<dt>inddep</dt>
<dd>
<p>indices of dependent variables (labels to be modeled)</p>
</dd>
<dt>treebr</dt>
<dd>
<p>list of trees from Binary Relevance modeling, one tree for each label; refer to an individual tree as <code>treebr[[i]]</code>, 
i = 1, ..., no. of labels</p>
</dd>
<dt>treedbr</dt>
<dd>
<p>list of trees from Dependent Binary Relevance modeling, one for each label; refer to an individual tree as <code>treedbr[[i]]</code>, 
i = 1, ..., no. of labels</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">data &lt;- PrInDT::data_land # load data
dataclean &lt;- data[,c(1:7,23:24,11:13,22,8:10)]  # only relevant features
indind &lt;- c(1:9) # original predictors
indaddind &lt;- c(10:13) # additional predictors
inddep &lt;- c(14:16) # dependent variables
dataclean &lt;- na.omit(dataclean)
ctestv &lt;- NA
N &lt;- 21  # no. of repetitions
perc &lt;- c(0.45,0.05,0.25)   # percentages of observations of larger class, 
#                             1 per dependent class variable
perc2 &lt;- c(0.75,0.95,0.75)  # percentages of observations of smaller class, 
#                             1 per dependent class variable
##
# Call PrInDT: language by language
##
outmult &lt;- PrInDTMulab(dataclean,colnames(dataclean)[inddep],ctestv=NA,conf.level=0.95,
                  percl=perc,percs=perc2,N,indind,indaddind,inddep)
print(outmult)
plot(outmult)

</code></pre>


</div>