<div class="container">

<table style="width: 100%;"><tr>
<td>circleRemoveOverlaps</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filters a set of circles to remove all overlaps</h2>

<h3>Description</h3>

<p>Given an initial set of circles, this function identifies a subset of
non-overlapping circles using a simple heuristic algorithm. Circle positions
remain fixed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">circleRemoveOverlaps(
  x,
  xysizecols = 1:3,
  sizetype = c("area", "radius"),
  tolerance = 1,
  method = c("maxov", "minov", "largest", "smallest", "random", "lparea", "lpnum")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A matrix or data frame containing circle x-y centre coordinates
and sizes (area or radius).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xysizecols</code></td>
<td>
<p>The integer indices or names of the columns in <code>x</code> for
the centre x-y coordinates and sizes of circles. Default is <code>c(1,2,3)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sizetype</code></td>
<td>
<p>The type of size values: either <code>"area"</code> (default) or 
<code>"radius"</code>. May be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>Controls the amount of overlap allowed. Set to 1 for 
simple exclusion of overlaps. Values lower than 1 allow more overlap.
Values &gt; 1 have the effect of expanding the influence of circles so that
more space is required between them. The input value must be &gt; 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Specifies whether to use linear programming (default) or one of
the variants of the heuristic algorithm. Alternatives are:
<code>"maxov"</code>, <code>"minov"</code>, <code>"largest"</code>, <code>"smallest"</code>,
<code>"random"</code>, <code>"lparea"</code>, <code>"lpnum"</code>. See Details for further
explanation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>method</code> argument specifies whether to use the heuristic algorithm or
linear programming. The following options select the heuristic algorithm and
specify how to choose an overlapping circle for rejection at each iteration: 
</p>

<dl>
<dt>maxov</dt>
<dd>
<p>Choose one of the circles with the greatest number of overlaps.</p>
</dd>
<dt>minov</dt>
<dd>
<p>Choose one of the circle with the least number of overlaps.</p>
</dd>
<dt>largest</dt>
<dd>
<p>Choose one of the largest circles.</p>
</dd>
<dt>smallest</dt>
<dd>
<p>Choose one of the smallest circles.</p>
</dd>
<dt>random</dt>
<dd>
<p>Choose a circle at random.</p>
</dd>
</dl>
<p>At each iteration the number of overlaps is checked for each candidate
circle and any non-overlapping circles added to the selected subset. Then a
single overlapping circle is chosen, based on the method being used, from
among the remainder and marked as rejected. Iterations continue until all
circles have been either selected or rejected. The 'maxov' option (default)
generally seems to perform best at maximizing the number of circles retained.
The other options are provided for comparison and experiment. Beware that
some can perform surprisingly poorly, especially 'minov'.
</p>
<p>Two further options select linear programming:
</p>

<dl>
<dt>lparea</dt>
<dd>
<p>Maximise the total area of circles in the subset.</p>
</dd>
<dt>lpnum</dt>
<dd>
<p>Maximise the total number of circles in the subset.</p>
</dd>
</dl>
<p>The 'lpSolve' package must be installed to use the linear programming options.
These options will find an optimal subset, but for anything other than a small
number of initial circles the running time can be prohibitive.
</p>


<h3>Value</h3>

<p>A data frame with centre coordinates and radii of selected circles.
</p>


<h3>Note</h3>

<p><em>This function is experimental</em> and will almost certainly change before
the next package release. In particular, it will probably return something
other than a data frame.
</p>


</div>