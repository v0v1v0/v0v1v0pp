<div class="container">

<table style="width: 100%;"><tr>
<td>diag_matlab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function written to match MATLAB's diag function</h2>

<h3>Description</h3>

<p>There are some differences between tha MATLAB and the R version of diag.
Specifically, if a 1xN or a Nx1 matrix is supplied to the R
<code>diag</code> function then just the first element of this vector is
returned. This function tries to match the MATLAB version in handling vectors
(matricies with one dimension equal to one), and will return a diagonal
matrix in these situations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">diag_matlab(mat)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>Either a vector to make into a diagonal matrix or a matrix you 
want to extract the diagonal from</p>
</td>
</tr></table>
<h3>Value</h3>

<p>Either a diagonal matrix or the diagonal of a matrix.
</p>


<h3>See Also</h3>

<p>Other MATLAB: 
<code>cell()</code>,
<code>feval()</code>,
<code>fileparts()</code>,
<code>isempty()</code>,
<code>ones()</code>,
<code>rand()</code>,
<code>randn()</code>,
<code>size()</code>,
<code>tic()</code>,
<code>toc()</code>,
<code>zeros()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
diag_matlab(3)
diag_matlab(c(1,2,3))
diag_matlab(cbind(1,2,3))
diag_matlab(rbind(1,2,3))

diag_matlab(matrix(c(1, 2, 3),6,6))

# here is where the R default does something different
diag(cbind(1,2,3))
diag(rbind(1,2,3))

</code></pre>


</div>