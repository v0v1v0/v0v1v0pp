<div class="container">

<table style="width: 100%;"><tr>
<td>read_oo_pidata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read File Saved by Ocean Optics' Raspberry Pi software.</h2>

<h3>Description</h3>

<p>Reads and parses the header of a raw data file as output by the server
running on a Raspberry Pi board to extract the whole header remark field. The
time field is retrieved and decoded. 
The company formerly named Ocean Optics is now called Ocean Insight.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_oo_pidata(
  file,
  date = NULL,
  geocode = NULL,
  label = NULL,
  tz = NULL,
  locale = readr::default_locale(),
  npixels = Inf,
  spectrometer.sn = "FLMS00673"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date</code></td>
<td>
<p>a <code>POSIXct</code> object to use to set the <code>"when.measured"</code>
attribute. If <code>NULL</code>, the default, the date is set to the file
modification date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geocode</code></td>
<td>
<p>A data frame with columns <code>lon</code> and <code>lat</code> used to
set attribute <code>"where.measured"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>character string, but if <code>NULL</code> the value of <code>file</code> is
used, and if <code>NA</code> the "what.measured" attribute is not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>character Time zone is not saved to the file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p>The locale controls defaults that vary from place to place. The
default locale is US-centric (like R), but you can use
<code>locale</code> to create your own locale that controls things
like the default time zone, encoding, decimal mark, big mark, and day/month
names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npixels</code></td>
<td>
<p>integer Number of pixels in spectral data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spectrometer.sn</code></td>
<td>
<p>character The serial number of the spectrometer needs
to be supplied by the user as it is not included in the file header.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A raw_spct object.
</p>


<h3>Note</h3>

<p>The header in these files has very little information.
The file contains a time in milliseconds but as the Raspberry Pi board
contains no real-time clock, it seems to default to number of milliseconds
since the Pi was switched on. The user may wish to supply the date-time as
an argument, but if no argument is passed to <code>date</code> this
attribute is set to the file modification date obtained with <code>file.mtime()</code>.
This date-time gives an upper limit to the real time of measurement as in
some operating systems it is reset when the file is copied or even without
any good apparent reason. The user may need to supply the number of pixels 
in the array although the default of <code>npixels = Inf</code> usually works
and triggers no warnings.
</p>


<h3>References</h3>

<p><a href="https://www.oceanoptics.com/">https://www.oceanoptics.com/</a> <a href="https://www.raspberrypi.org/">https://www.raspberrypi.org/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 file.name &lt;- 
   system.file("extdata", "spectrum.pi", 
               package = "photobiologyInOut", mustWork = TRUE)
                
 oopi.spct &lt;- read_oo_pidata(file = file.name)
 
 oopi.spct
 getWhenMeasured(oopi.spct)
 getWhatMeasured(oopi.spct)
 cat(comment(oopi.spct))

</code></pre>


</div>