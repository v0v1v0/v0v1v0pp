<div class="container">

<table style="width: 100%;"><tr>
<td>penalties</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a penalty</h2>

<h3>Description</h3>

<p>A penalty can be applied to a conservation planning problem to
penalize solutions according to a specific metric. They
directly trade-off with the primary objective of a problem
(e.g., the primary objective when using <code>add_min_set_objective()</code> is
to minimize solution cost).
</p>


<h3>Details</h3>

<p>Both penalties and constraints can be used to modify a problem and
identify solutions that exhibit specific characteristics. Constraints work
by invalidating solutions that do not exhibit specific characteristics.
On the other hand, penalties work by specifying trade-offs against the
primary problem objective and are mediated by a penalty factor.
</p>
<p>The following penalties can be added to a conservation planning
<code>problem()</code>:
</p>

<dl>
<dt><code>add_boundary_penalties()</code></dt>
<dd>
<p>Add penalties to a
conservation problem to favor solutions that have
planning units clumped together into contiguous areas.</p>
</dd>
<dt><code>add_asym_connectivity_penalties()</code></dt>
<dd>
<p>Add penalties to a
conservation problem to account for asymmetric connectivity.</p>
</dd>
<dt><code>add_connectivity_penalties()</code></dt>
<dd>
<p>Add penalties to a
conservation problem to account for
symmetric connectivity.</p>
</dd>
<dt><code>add_linear_penalties()</code></dt>
<dd>
<p>Add penalties to a
conservation problem to favor solutions that avoid selecting
planning units based on a certain variable
(e.g., anthropogenic pressure).</p>
</dd>
</dl>
<h3>See Also</h3>

<p>Other overviews: 
<code>constraints</code>,
<code>decisions</code>,
<code>importance</code>,
<code>objectives</code>,
<code>portfolios</code>,
<code>solvers</code>,
<code>summaries</code>,
<code>targets</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# load data
sim_pu_raster &lt;- get_sim_pu_raster()
sim_features &lt;- get_sim_features()

# create basic problem
p1 &lt;-
  problem(sim_pu_raster, sim_features) %&gt;%
  add_min_set_objective() %&gt;%
  add_relative_targets(0.2) %&gt;%
  add_default_solver(verbose = FALSE)

# create problem with boundary penalties
p2 &lt;- p1 %&gt;% add_boundary_penalties(5, 1)

# create connectivity matrix based on spatial proximity
 scm &lt;- terra::as.data.frame(sim_pu_raster, xy = TRUE, na.rm = FALSE)
 scm &lt;- 1 / (as.matrix(dist(as.matrix(scm))) + 1)

# remove weak and moderate connections between planning units to reduce
# run time
scm[scm &lt; 0.85] &lt;- 0

# create problem with connectivity penalties
p3 &lt;- p1 %&gt;% add_connectivity_penalties(25, data = scm)

# create asymmetric connectivity data by randomly simulating values
acm &lt;- matrix(runif(ncell(sim_pu_raster) ^ 2), ncol = ncell(sim_pu_raster))
acm[acm &lt; 0.85] &lt;- 0

# create problem with asymmetric connectivity penalties
p4 &lt;- p1 %&gt;% add_asym_connectivity_penalties(1, data = acm)

# create problem with linear penalties,
# here the penalties will be based on random numbers to keep it simple

# simulate penalty data
sim_penalty_raster &lt;- simulate_cost(sim_pu_raster)

# plot penalty data
plot(sim_penalty_raster, main = "penalty data", axes = FALSE)

# create problem with linear penalties, with a penalty scaling factor of 100
p5 &lt;- p1 %&gt;% add_linear_penalties(100, data = sim_penalty_raster)

# solve problems
s &lt;- c(solve(p1), solve(p2), solve(p3), solve(p4), solve(p5))
names(s) &lt;- c(
  "basic solution", "boundary penalties", "connectivity penalties",
  "asymmetric penalties", "linear penalties"
)

# plot solutions
plot(s, axes = FALSE)

## End(Not run)
</code></pre>


</div>