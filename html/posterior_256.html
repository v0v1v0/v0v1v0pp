<div class="container">

<table style="width: 100%;"><tr>
<td>resample_draws</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Resample <code>draws</code> objects</h2>

<h3>Description</h3>

<p>Resample <code>draws</code> objects according to provided weights, for example weights
obtained through importance sampling.
</p>


<h3>Usage</h3>

<pre><code class="language-R">resample_draws(x, ...)

## S3 method for class 'draws'
resample_draws(x, weights = NULL, method = "stratified", ndraws = NULL, ...)

## S3 method for class 'rvar'
resample_draws(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(draws) A <code>draws</code> object or another <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object for which the method
is defined.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to individual methods (if applicable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>(numeric vector) A vector of positive weights of length
<code>ndraws(x)</code>. The weights will be internally normalized. If <code>weights</code> is not
specified, an attempt will be made to extract any weights already stored in
the draws object (via <code>weight_draws()</code>). If no weights are stored in the
draws object, equal weight is supplied to each draw. How exactly the
weights influence the resampling depends on the <code>method</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>(string) The resampling method to use:
</p>

<ul>
<li> <p><code>"simple"</code>: simple random resampling with replacement
</p>
</li>
<li> <p><code>"simple_no_replace"</code>: simple random resampling without replacement
</p>
</li>
<li> <p><code>"stratified"</code>: stratified resampling with replacement
</p>
</li>
<li> <p><code>"deterministic"</code>: deterministic resampling with replacement
</p>
</li>
</ul>
<p>Currently, <code>"stratified"</code> is the default as it has comparably low variance
and bias with respect to ideal resampling. The latter would sample perfectly
proportional to the weights, but this is not possible in practice due to the
finite number of draws available. For more details about resampling methods,
see Kitagawa (1996).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndraws</code></td>
<td>
<p>(positive integer) The number of draws to be returned. By
default <code>ndraws</code> is set internally to the total number of draws in <code>x</code> if
sensible.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Upon usage of <code>resample_draws()</code>, chains will automatically be merged
due to subsetting of individual draws (see <code>subset_draws</code> for details).
Also, weights stored in the <code>draws</code> object will be removed in the process,
as resampling invalidates existing weights.
</p>


<h3>Value</h3>

<p>A <code>draws</code> object of the same class as <code>x</code>.
</p>


<h3>References</h3>

<p>Kitagawa, G., Monte Carlo Filter and Smoother for Non-Gaussian Nonlinear '
State Space Models, <em>Journal of Computational and Graphical Statistics</em>,
5(1):1-25, 1996.
</p>


<h3>See Also</h3>

<p><code>resample_draws()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- as_draws_df(example_draws())

# random weights for justr for demonstration
w &lt;- runif(ndraws(x), 0, 10)

# use default stratified sampling
x_rs &lt;- resample_draws(x, weights = w)
summarise_draws(x_rs, default_summary_measures())

# use simple random sampling
x_rs &lt;- resample_draws(x, weights = w, method = "simple")
summarise_draws(x_rs, default_summary_measures())

</code></pre>


</div>