<div class="container">

<table style="width: 100%;"><tr>
<td>yaml_agent_string</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Display <strong>pointblank</strong> YAML using an agent or a YAML file</h2>

<h3>Description</h3>

<p>With <strong>pointblank</strong> YAML, we can serialize an agent's validation plan (with
<code>yaml_write()</code>), read it back later with a new agent (with
<code>yaml_read_agent()</code>), or perform an interrogation on the target data table
directly with the YAML file (with <code>yaml_agent_interrogate()</code>). The
<code>yaml_agent_string()</code> function allows us to inspect the YAML generated by
<code>yaml_write()</code> in the console, giving us a look at the YAML without needing
to open the file directly. Alternatively, we can provide an <em>agent</em> to the
<code>yaml_agent_string()</code> and view the YAML representation of the validation plan
without needing to write the YAML to disk beforehand.
</p>


<h3>Usage</h3>

<pre><code class="language-R">yaml_agent_string(agent = NULL, filename = NULL, path = NULL, expanded = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>agent</code></td>
<td>
<p>An <em>agent</em> object of class <code>ptblank_agent</code>. If an object is
provided here, then <code>filename</code> must not be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>The name of the YAML file that contains fields related to an
<em>agent</em>. If a file name is provided here, then <em>agent</em> object must not be
provided in <code>agent</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>An optional path to the YAML file (combined with <code>filename</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expanded</code></td>
<td>
<p>Should the written validation expressions for an <em>agent</em> be
expanded such that <strong>tidyselect</strong> expressions for columns are evaluated,
yielding a validation function per column? By default, this is <code>FALSE</code>
so expressions as written will be retained in the YAML representation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Nothing is returned. Instead, text is printed to the console.
</p>


<h3>Examples</h3>

<p>There's a YAML file available in the <strong>pointblank</strong> package that's called
<code>"agent-small_table.yml"</code>. The path for it can be accessed through
<code>system.file()</code>:
</p>
<div class="sourceCode r"><pre>yml_file_path &lt;- 
  system.file(
    "yaml", "agent-small_table.yml",
    package = "pointblank"
  )
</pre></div>
<p>We can view the contents of the YAML file in the console with the
<code>yaml_agent_string()</code> function.
</p>
<div class="sourceCode r"><pre>yaml_agent_string(filename = yml_file_path)
</pre></div>
<div class="sourceCode yaml"><pre>type: agent
tbl: ~ tbl_source("small_table", "tbl_store.yml")
tbl_name: small_table
label: A simple example with the `small_table`.
lang: en
locale: en
actions:
  warn_fraction: 0.1
  stop_fraction: 0.25
  notify_fraction: 0.35
steps:
- col_exists:
    columns: vars(date)
- col_exists:
    columns: vars(date_time)
- col_vals_regex:
    columns: vars(b)
    regex: '[0-9]-[a-z]{3}-[0-9]{3}'
- rows_distinct:
    columns: ~
- col_vals_gt:
    columns: vars(d)
    value: 100.0
- col_vals_lte:
    columns: vars(c)
    value: 5.0
</pre></div>
<p>Incidentally, we can also use <code>yaml_agent_string()</code> to print YAML in the
console when supplying an <em>agent object</em> as the input. This can be useful for
previewing YAML output just before writing it to disk with <code>yaml_write()</code>.
</p>


<h3>Function ID</h3>

<p>11-5
</p>


<h3>See Also</h3>

<p>Other pointblank YAML: 
<code>yaml_agent_interrogate()</code>,
<code>yaml_agent_show_exprs()</code>,
<code>yaml_exec()</code>,
<code>yaml_informant_incorporate()</code>,
<code>yaml_read_agent()</code>,
<code>yaml_read_informant()</code>,
<code>yaml_write()</code>
</p>


</div>