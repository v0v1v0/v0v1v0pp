<div class="container">

<table style="width: 100%;"><tr>
<td>PPforest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Projection Pursuit Random Forest</h2>

<h3>Description</h3>

<p><code>PPforest</code> implements a random forest using projection pursuit trees algorithm (based on PPtreeViz package).
</p>


<h3>Usage</h3>

<pre><code class="language-R">PPforest(data, class, std = TRUE, size.tr, m, PPmethod, size.p,
 lambda = .1, parallel = FALSE, cores = 2, rule = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame with the complete data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>A character with the name of the class variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std</code></td>
<td>
<p>if TRUE standardize the data set, needed to compute global importance measure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.tr</code></td>
<td>
<p>is the size proportion of the training if we want to split the data in training and test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>is the number of bootstrap replicates, this corresponds with the number of trees to grow. To ensure that each observation is predicted a few times we have to select this number no too small. <code>m = 500</code> is by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PPmethod</code></td>
<td>
<p>is the projection pursuit index to optimize in each classification tree. The options are <code>LDA</code> and <code>PDA</code>, linear discriminant and penalized linear discriminant. By default it is <code>LDA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.p</code></td>
<td>
<p>proportion of variables randomly sampled in each split.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>penalty parameter in PDA index and is between 0 to 1 . If <code>lambda = 0</code>, no penalty parameter is added and the PDA index is the same as LDA index. If <code>lambda = 1</code> all variables are treated as uncorrelated. The default value is <code>lambda = 0.1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>logical condition, if it is TRUE then  parallelize the function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>number of cores used in the parallelization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rule</code></td>
<td>
<p>split rule 1: mean of two group means 2: weighted mean of two group means - weight with group size 3: weighted mean of two group means - weight with group sd 4: weighted mean of two group means - weight with group se 5: mean of two group medians 6: weighted mean of two group medians - weight with group size 7: weighted mean of two group median - weight with group IQR 8: weighted mean of two group median - weight with group IQR and size</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>PPforest</code> with components.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>prediction.training</code></td>
<td>
<p>predicted values for training data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>training.error</code></td>
<td>
<p>error of the training data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction.test</code></td>
<td>
<p>predicted values for the test data set if <code>testap = TRUE</code>(default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error.test</code></td>
<td>
<p>error of the test data set if <code>testap = TRUE</code>(default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oob.error.forest</code></td>
<td>
<p>out of bag error in the forest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>oob.error.tree</code></td>
<td>
<p>out of bag error for each tree in the forest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot.samp</code></td>
<td>
<p>information of bootrap samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.trees</code></td>
<td>
<p>output from a <code>trees_pp</code> for each bootrap sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proximity</code></td>
<td>
<p>Proximity matrix, if two cases are classified in the same terminal node then the proximity matrix is increased by one in <code>PPforest</code> there are one terminal node per class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>votes</code></td>
<td>
<p> a matrix with one row for each input data point and one column for each class, giving the fraction of (OOB) votes from the <code>PPforest</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.tree</code></td>
<td>
<p>number of trees grown in <code>PPforest</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.var</code></td>
<td>
<p>number of predictor variables selected to use for spliting at each node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>classification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confusion</code></td>
<td>
<p>confusion matrix of the prediction (based on OOB data).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the original call to <code>PPforest</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p>is the training data based on <code>size.tr</code> sample proportion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>is the test data based on <code>1-size.tr</code> sample proportion</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Natalia da Silva, Dianne Cook &amp; Eun-Kyung Lee (2021) 
A Projection Pursuit Forest Algorithm for Supervised Classification, 
Journal of Computational and Graphical Statistics,
DOI: 10.1080/10618600.2020.1870480
</p>


<h3>Examples</h3>

<pre><code class="language-R">#crab example with all the observations used as training

pprf.crab &lt;- PPforest(data = crab, class = 'Type',
 std = FALSE, size.tr = 1, m = 200, size.p = .5, 
 PPmethod = 'LDA' , parallel = TRUE, cores = 2, rule=1)
pprf.crab

</code></pre>


</div>