<div class="container">

<table style="width: 100%;"><tr>
<td>mosaic_prepare</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare a mosaic</h2>

<h3>Description</h3>

<p>Prepare an <code>SpatRaster</code> object to be analyzed in pliman. This includes
cropping the original mosaic, aligning it, and cropping the aligned object.
The resulting object is an object of class <code>Image</code> that can be further
analyzed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mosaic_prepare(
  mosaic,
  r = 3,
  g = 2,
  b = 1,
  re = 4,
  nir = 5,
  crop_mosaic = FALSE,
  align = TRUE,
  crop_aligned = TRUE,
  rescale = TRUE,
  coef = 0,
  viewer = "mapview",
  max_pixels = 5e+05,
  show = "rgb",
  index = "R"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mosaic</code></td>
<td>
<p>A mosaic of class <code>SpatRaster</code>, generally imported with
<code>mosaic_input()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>The layer for the Red band (default: 3).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>The layer for the Green band (default: 2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>The layer for the Blue band (default: 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re</code></td>
<td>
<p>The layer for the Red-edge band (default: 4).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nir</code></td>
<td>
<p>The layer for the Near-infrared band(default: 5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop_mosaic</code></td>
<td>
<p>Logical, whether to crop the mosaic interactively before
aligning it (default: FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align</code></td>
<td>
<p>Logical, whether to align the mosaic interactively (default:
TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop_aligned</code></td>
<td>
<p>Logical, whether to crop the aligned mosaic interactively
(default: TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rescale</code></td>
<td>
<p>Rescale the final values? If <code>TRUE</code> the final values are
rescaled so that the maximum value is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>An addition coefficient applied to the resulting object. This is
useful to adjust the brightness of the final image. Defaults to 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewer</code></td>
<td>
<p>The viewer option. If not provided, the value is retrieved
using <code>get_pliman_viewer()</code>. This option controls the type of viewer to use
for interactive plotting. The available options are "base" and "mapview".
If set to "base", the base R graphics system is used for interactive
plotting. If set to "mapview", the mapview package is used. To set this
argument globally for all functions in the package, you can use the
<code>set_pliman_viewer()</code> function. For example, you can run
<code>set_pliman_viewer("mapview")</code> to set the viewer option to "mapview" for
all functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_pixels</code></td>
<td>
<p>Maximum number of pixels to render in the map or plot
(default: 500000).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show</code></td>
<td>
<p>The display option for the map view. Options are "rgb" for RGB
view and "index" for index view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>The index to use for the index view. Defaults to "B".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A prepared object of class <code>Image</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){
library(pliman)
mosaic &lt;- mosaic_input(system.file("ex/elev.tif", package="terra"))
mosaic_prepare(mosaic)
}

</code></pre>


</div>