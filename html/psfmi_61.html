<div class="container">

<table style="width: 100%;"><tr>
<td>psfmi_stab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to evaluate bootstrap predictor and model stability in multiply imputed datasets.</h2>

<h3>Description</h3>

<p><code>psfmi_stab</code> Stability analysis of predictors and prediction models selected with
the <code>psfmi_lr</code>, <code>psfmi_coxr</code> or <code>psfmi_mm</code> functions of the <code>psfmi</code> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">psfmi_stab(
  pobj,
  boot_method = NULL,
  nboot = 20,
  p.crit = 0.05,
  start_model = TRUE,
  direction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pobj</code></td>
<td>
<p>An object of class <code>pmods</code> (pooled models), produced by a previous call to
<code>psfmi_lr</code>, <code>psfmi_coxr</code> or <code>psfmi_mm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot_method</code></td>
<td>
<p>A single string to define the bootstrap method. Use "single" after a call to
<code>psfmi_lr</code> and <code>psfmi_coxr</code> and "cluster" after a call to <code>psfmi_mm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nboot</code></td>
<td>
<p>A numerical scalar. Number of bootstrap samples to evaluate the stability. Default is 20.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.crit</code></td>
<td>
<p>A numerical scalar. Used as P-value selection criterium during bootstrap model selection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_model</code></td>
<td>
<p>If TRUE the bootstrap evaluation takes place from the start model of object pobj, if
FALSE the final model is used for the evaluation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>The direction of predictor selection, "BW" for backward selection and "FW"
for forward selection.
#'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function evaluates predictor selection frequency in stratified or cluster bootstrap samples.
The stratification factor is the variable that separates the imputed datasets. The same bootstrap cases
are drawn in each bootstrap sample. It uses as input an object of class <code>pmods</code> as a result of a
previous call to the <code>psfmi_lr</code>, <code>psfmi_coxr</code> or <code>psfmi_mm</code> functions.
In combination with the <code>psfmi_mm</code> function a cluster bootstrap method is used where bootstrapping
is used on the level of the clusters only (and not also within the clusters).
</p>


<h3>Value</h3>

<p>A <code>psfmi_stab</code> object from which the following objects can be extracted: bootstrap
inclusion (selection) frequency of each predictor <code>bif</code>, total number each predictor is
included in the bootstrap samples as <code>bif_total</code>, percentage a predictor is selected
in each bootstrap sample as <code>bif_perc</code> and number of times a prediction model is selected in
the bootstrap samples as <code>model_stab</code>.
</p>


<h3>Vignettes</h3>

<p>https://mwheymans.github.io/psfmi/articles/psfmi_StabilityAnalysis.html
</p>


<h3>References</h3>

<p>Heymans MW, van Buuren S. et al. Variable selection under multiple imputation using the bootstrap
in a prognostic study. BMC Med Res Methodol. 2007;13:7-33.
</p>
<p>Eekhout I, van de Wiel MA, Heymans MW. Methods for significance testing of categorical
covariates in logistic regression models after multiple imputation: power and applicability
analysis. BMC Med Res Methodol. 2017;17(1):129.
</p>
<p>Sauerbrei W, Schumacher M. A bootstrap resampling procedure for model building:
application to the Cox regression model. Stat Med. 1992;11:2093–109.
</p>
<p>Royston P, Sauerbrei W (2008) Multivariable model-building – a pragmatic approach to
regression analysis based on fractional polynomials for modelling continuous variables. (2008).
Chapter 8, Model Stability. Wiley, Chichester
</p>
<p>Heinze G, Wallisch C, Dunkler D. Variable selection - A review and
recommendations for the practicing statistician. Biom J. 2018;60(3):431-449.
</p>
<p>http://missingdatasolutions.rbind.io/
</p>


<h3>Examples</h3>

<pre><code class="language-R"> pool_lr &lt;- psfmi_coxr(formula = Surv(Time, Status) ~ Pain + factor(Satisfaction) + 
   rcs(Tampascale,3) + Radiation + Radiation*factor(Satisfaction) + Age + Duration + 
   Previous + Radiation*rcs(Tampascale, 3), data=lbpmicox, p.crit = 0.157, direction="FW",
   nimp=5, impvar="Impnr", keep.predictors = NULL, method="D1")

 pool_lr$RR_Model
 pool_lr$multiparm

## Not run: 
 stab_res &lt;- psfmi_stab(pool_lr, direction="FW", start_model = TRUE,
     boot_method = "single", nboot=20, p.crit=0.05)
 stab_res$bif
 stab_res$bif_perc
 stab_res$model_stab

## End(Not run)

</code></pre>


</div>