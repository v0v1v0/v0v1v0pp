<div class="container">

<table style="width: 100%;"><tr>
<td>barcode_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Barcode plot</h2>

<h3>Description</h3>

<p>Plots a "barcode plot" - a vertical line for each identified peptide. Peptides can be colored based on an additional variable. Also differential
abundance can be displayed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">barcode_plot(
  data,
  start_position,
  end_position,
  protein_length,
  coverage = NULL,
  colouring = NULL,
  fill_colour_gradient = protti::mako_colours,
  fill_colour_discrete = c("#999999", protti::protti_colours),
  protein_id = NULL,
  facet = NULL,
  facet_n_col = 4,
  cutoffs = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing differential abundance, start and end peptide or precursor positions and protein length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_position</code></td>
<td>
<p>a numeric column in the data frame containing the start positions for each peptide or precursor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_position</code></td>
<td>
<p>a numeric column in the data frame containing the end positions for each peptide or precursor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>protein_length</code></td>
<td>
<p>a numeric column in the data frame containing the length of the protein.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coverage</code></td>
<td>
<p>optional, numeric column in the data frame containing coverage in percent. Will appear in the title of the barcode if provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colouring</code></td>
<td>
<p>optional, column in the data frame containing information by which peptide or precursors should
be colored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_colour_gradient</code></td>
<td>
<p>a vector that contains colours that should be used to create a colour gradient
for the barcode plot bars if the <code>colouring</code> argument is continuous. Default is <code>mako_colours</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_colour_discrete</code></td>
<td>
<p>a vector that contains colours that should be used to fill the barcode plot bars
if the <code>colouring</code> argument is discrete. Default is <code>protti_colours</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>protein_id</code></td>
<td>
<p>optional, column in the data frame containing protein identifiers. Required if only one protein
should be plotted and the data frame contains only information for this protein.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet</code></td>
<td>
<p>optional, column in the data frame containing information by which data should be faceted. This can be
protein identifiers. Only 20 proteins are plotted at a time, the rest is ignored. If more should be plotted, a mapper over a
subsetted data frame should be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_n_col</code></td>
<td>
<p>a numeric value that specifies the number of columns the faceted plot should have
if a column name is provided to group. The default is 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoffs</code></td>
<td>
<p>optional argument specifying the log2 fold change and significance cutoffs used for highlighting peptides.
If this argument is provided colouring information will be overwritten with peptides that fulfill this condition.
The cutoff should be provided in a vector of the form c(diff = 2, pval = 0.05). The name of the cutoff should reflect the
column name that contains this information (log2 fold changes, p-values or adjusted p-values).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A barcode plot is returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data &lt;- data.frame(
  start = c(5, 40, 55, 130, 181, 195),
  end = c(11, 51, 60, 145, 187, 200),
  length = rep(200, 6),
  pg_protein_accessions = rep("Protein 1", 6),
  diff = c(1, 2, 5, 2, 1, 1),
  pval = c(0.1, 0.01, 0.01, 0.2, 0.2, 0.01)
)

barcode_plot(
  data,
  start_position = start,
  end_position = end,
  protein_length = length,
  facet = pg_protein_accessions,
  cutoffs = c(diff = 2, pval = 0.05)
)
</code></pre>


</div>