<div class="container">

<table style="width: 100%;"><tr>
<td>RV</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Three measures of the correlations  between sets of variables</h2>

<h3>Description</h3>

<p>How to measure the the correlation between two clusters or groups of variables x and y from the same data set is a recurring problem.  Perhaps the most obvious is simply the unweighted correlation Ru. 
</p>
<p>Consider the matrix M composed of four submatrices
</p>

<table>
<tr>
<td style="text-align: left;">

    </td>
<td style="text-align: left;">   Rx  </td>
<td style="text-align: left;"> Rxy </td>
</tr>
<tr>
<td style="text-align: left;">
 M = </td>
<td style="text-align: left;">  Rxy  </td>
<td style="text-align: left;"> Ry  </td>
</tr>
<tr>
<td style="text-align: left;">
 </td>
</tr>
</table>
<p>The unit weighted correlation, Ru is merely 
</p>
<p><code class="reqn">Ru =\frac{\Sigma{r_{xy}}}{\sqrt{\Sigma{r_x}\Sigma{r_y}} }</code>
<br></p>
<p>A second is the Set correlation (also found in <code>lmCor</code>) by Cohen 1982) which is  <br><code class="reqn">Rset = 1- \frac{det(m)}{det(x)* det(y)}</code>
<br>
Where m is the full matrix (x+y)by (x+y). and det represents the determinant.  
<br></p>
<p>A third approach (the RV coeffiecent) was introduced by  Escoufier (1970) and Robert and Escoufier (1976).
<br><code class="reqn">RV = \frac{tr(xy (xy)')}{\sqrt{(tr(x x') * tr(y  
 y'))}}</code>.
</p>
<p>Where <code>tr</code> is the trace operator.  (The sum of the diagonals).
</p>
<p>The analysis can be done from the raw data or from correlation or covariance matrices. From the raw data, just specify the x and y variables.  If using correlation/covariance matrixes,  the xy matrix must be specified as well.   
</p>
<p>If using raw data, just specify the x and y columns and the data file.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">RV(x, y, xy = NULL, data=NULL, cor = "cor",correct=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> Columns of the data matrix of n rows and p columns, (if data is specified) or a p x p correlation matrix.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Columns of a raw data matrix of n rows and q columns, or a q * q correlation matrix.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xy</code></td>
<td>
<p>A p x q correlation or covariance matrix, if not using the raw data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A matrix or data frame containing the raw data. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor</code></td>
<td>
<p>If xy is NULL,  find the p x p correlations or covariances from x, and the q x q correlations from  y as  well as the p x q covariance/correlation matrix..  Options are "cor" (for Pearson), "spearman" , "cov" for covariances, "tet" for tetrachoric, or "poly" for polychoric correlation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct</code></td>
<td>
<p>The correction for continuity if desired.  </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If using raw data, just specify the  columns in x and y.  If using a correlation matrix or covariance matrix, the inter corrlations/covariances) are specified in xy.  The results match those of the RV function from matrixCalculations and the coeffRV function from  factoMineR. 
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>RV</code></td>
<td>
<p>The RV statistic</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rset</code></td>
<td>
<p>Cohen's set correlation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ru</code></td>
<td>
<p>The unit weighted correlation between x and y.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rx</code></td>
<td>
<p>The correlation matrix of the x variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ry</code></td>
<td>
<p>The correlation matrix of the y variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rxy</code></td>
<td>
<p>The intercorrelations of x and y.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>William Revelle</p>


<h3>References</h3>

<p>P. Robert and Y. Escoufier, 1976, A Unifying Tool for Linear Multivariate Statistical Methods: The RV- Coefficient. Journal of the Royal Statistical Society. Series C (Applied Statistics), Volume 25, pp. 257-265.
</p>
<p>J. Cohen (1982)  Set correlation as a general multivariate data-analytic method. Multivariate Behavioral Research, 17(3):301-341.
</p>


<h3>See Also</h3>

<p><code>lmCor</code>  for unit weighted correlations. 
</p>


<h3>Examples</h3>

<pre><code class="language-R">#from raw data
RV (attitude[1:3],attitude[4:7])  #find the correlations
RV (attitude[1:3],attitude[4:7],cor="cov")

#find the correlations
R &lt;- cor(attitude)
r1 &lt;- R[1:3,1:3]
r2 &lt;- R[4:7,4:7]
r12 &lt;- R[1:3,4:7]
RV(r1,r2,r12)

#or find the covariances
C &lt;- cov(attitude)
c1 &lt;- C[1:3,1:3]
c2 &lt;- C[4:7,4:7]
c12 &lt;- C[1:3,4:7]
RV(c1, c2, c12)

</code></pre>


</div>