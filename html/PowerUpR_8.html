<div class="container">

<table style="width: 100%;"><tr>
<td>bira2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Two-Level Blocked Individual-level Random Assignment Design</h2>

<h3>Description</h3>

<p>For two-level randomized block designs (treatment at level 1, with random effects across level 2 blocks), use <code>mdes.bira2()</code> to calculate the minimum detectable effect size, <code>power.bira2()</code> to calculate the statistical power, and <code>mrss.bira2()</code> to calculate the minimum required sample size (number of blocks).
</p>
<p>For treatment effect moderated by level 1 moderator use <code>power.mod211()</code>, <code>mdesd.mod211()</code>, and <code>mrss.mod211()</code> functions. For treatment effect moderated by level 2 moderator, use <code>power.mod212()</code>, <code>mdesd.mod212()</code>, and <code>mrss.mod212()</code> functions.
</p>
<p>For partially nested blocked individual-level random assignment designs (blocked randomized controlled trial with intervention clusters) use <code>mdes.bira2_pn()</code> to calculate the minimum detectable effect size, <code>power.bira2_pn()</code> to calculate the statistical power, and <code>mrss.bira2_pn()</code> to calculate the minimum required sample size (number of blocks).
</p>


<h3>Usage</h3>

<pre><code class="language-R">mdes.bira2(power=.80, alpha=.05, two.tailed=TRUE,
           rel1=1, rho2, esv2=NULL, omega2=esv2/rho2,
           g2=0, r21=0, r2t2=0, p=.50, n, J)

power.bira2(es=.25, alpha=.05, two.tailed=TRUE,
            rel1=1, rho2, esv2=NULL, omega2=esv2/rho2,
            g2=0, r21=0, r2t2=0, p=.50, n, J)

mrss.bira2(es=.25, power=.80, alpha=.05, two.tailed=TRUE,
           rel1=1, rho2, esv2=NULL, omega2=esv2/rho2,
           r21=0, r2t2=0, J0=10, tol=.10, g2=0, p=.50, n)

power.mod211(es=.25, alpha=.05, two.tailed=TRUE,
             rho2, omega2tm, r21=0,
             p=.50, q=NULL, n, J)

mdesd.mod211(power=.80, alpha=.05, two.tailed=TRUE,
             rho2, omega2tm, g1=0, r21=0,
             p=.50, q=NULL, n, J)

mrss.mod211(es=.25, power=.80, alpha=.05, two.tailed=TRUE,
            n, J0=10, tol=.10, rho2, omega2tm, r21=0,
            p=.50, q=NULL)

power.mod212(es=.25, alpha=.05, two.tailed=TRUE,
             rho2, omega2t, r21=0,
             p=.50, q=NULL, n, J)

mdesd.mod212(power=.80, alpha=.05, two.tailed=TRUE,
             rho2, omega2t, g1=0, r21=0,
             p=.50, q=NULL, n, J)

mrss.mod212(es=.25, power=.80, alpha=.05, two.tailed=TRUE,
            n, J0=10, tol=.10, rho2, omega2t, r21=0,
            p=.50, q=NULL)

mdes.bira2_pn(power=.80, alpha=.05, two.tailed=TRUE, df=NULL,
              rho2_trt=.20, omega2=.50, rho_ic=0,
              p=.50, g2=0, r21=0, n, J, ic_size=1)

power.bira2_pn(es=.25,alpha=.05, two.tailed=TRUE, df=NULL,
               rho2_trt=.20, omega2=.50, rho_ic=0,
               p=.50, g2=0, r21=0, n, J, ic_size=1)

mrss.bira2_pn(es=.25, power=.80, alpha=.05, two.tailed=TRUE,
              z.test=FALSE, rho2_trt=.20, omega2=.50, rho_ic=0,
              p=.50, g2=0, r21=0, n, ic_size=1, J0=10, tol=.10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>statistical power <code class="reqn">(1-\beta)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>es</code></td>
<td>
<p>effect size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>probability of type I error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>two.tailed</code></td>
<td>
<p>logical; <code>TRUE</code> for two-tailed hypothesis testing, <code>FALSE</code> for one-tailed hypothesis testing. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>degrees of freedom.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho_ic</code></td>
<td>
<p>proportion of variance in the outcome (for treatment group) that is between intervention clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho2_trt</code></td>
<td>
<p>proportion of variance in the outcome (for treatment group) that is between level 2 units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rel1</code></td>
<td>
<p>level 1 outcome reliability coefficient (see Cox \&amp; Kelcey, 2019, p. 23).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho2</code></td>
<td>
<p>proportion of variance in the outcome between level 2 units (unconditional ICC2). <code>rho</code> also works.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>esv2</code></td>
<td>
<p>effect size variability as the ratio of the treatment effect variance between level 2 units to the total variance in the outcome (level 1 + level 2). <code>esv</code> also works. Ignored when <code>omega2</code> is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega2</code></td>
<td>
<p>treatment effect heterogeneity as the ratio of the treatment effect variance between level 2 units to the unconditional level 2 residual variance. <code>omega</code> also works.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega2t</code></td>
<td>
<p>standardized treatment effect variability across sites in the model that is not conditional on Level 2 moderator (ratio of the treatment effect variance between level 2 units to the total variance in the outcome.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega2tm</code></td>
<td>
<p>standardized effect variability of the moderation across sites (ratio of the moderated treatment effect variance between level 2 units to the total variance in the outcome.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>average proportion of level 1 units randomly assigned to treatment within level 2 units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>proportion of level 1 (on average) or level 2 units in the moderator subgroup.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g1</code></td>
<td>
<p>number of covariates at level 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g2</code></td>
<td>
<p>number of covariates at level 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r21</code></td>
<td>
<p>proportion of level 1 variance in the outcome explained by level 1 covariates (applies to all levels in partially nested designs).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r2t2</code></td>
<td>
<p>proportion of treatment effect variance among level 2 units explained by level 2 covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>level 1 sample size per block (average or harmonic mean).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>number of blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ic_size</code></td>
<td>
<p>sample size for each intervention cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J0</code></td>
<td>
<p>starting value for <code>J</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>tolerance to end iterative process for finding <code>J</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.test</code></td>
<td>
<p>logical; <code>TRUE</code> for z-test.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>function name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parms</code></td>
<td>
<p>list of parameters used in power calculation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>degrees of freedom.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncp</code></td>
<td>
<p>noncentrality parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>statistical power <code class="reqn">(1-\beta)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mdes</code></td>
<td>
<p>minimum detectable effect size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>number of level 2 units.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Cox, K., \&amp; Kelcey, B. (2019). Optimal design of cluster-and multisite-randomized studies using fallible outcome measures. Evaluation Review, 43(3-4), 189-225. doi: <a href="https://doi.org/10.1177/0193841X19870878">10.1177/0193841X19870878</a>
</p>
<p>Dong, N., Kelcey, B., \&amp; Spybrook, J. (2020). Design considerations in multisite randomized trials probing moderated treatment effects. <em>Journal of Educational and Behavioral Statistics.</em> Advance online publication. doi: <a href="https://doi.org/10.3102/1076998620961492">10.3102/1076998620961492</a>
</p>
<p>Dong, N., \&amp; Maynard, R. (2013). PowerUp!: A tool for calculating minimum detectable effect sizes and minimum required sample sizes for experimental and quasi-experimental design studies. <em>Journal of Research on Educational Effectiveness</em>, <em>6</em>(1), 24-67. doi: <a href="https://doi.org/10.1080/19345747.2012.673143">10.1080/19345747.2012.673143</a>
</p>
<p>Lohr, S., Schochet, P. Z., \&amp; Sanders, E. (2014). Partially nested randomized controlled trials in education research: A guide to design and analysis. NCER 2014-2000. National Center for Education Research. <a href="https://ies.ed.gov/ncer/pubs/20142000/pdf/20142000.pdf">https://ies.ed.gov/ncer/pubs/20142000/pdf/20142000.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># cross-checks
mdes.bira2(rho2=.17, omega2=.50, n=15, J=20)
power.bira2(es=.366, rho2=.17, omega2=.50, n=15, J=20)
mrss.bira2(es=.366, rho2=.17, omega2=.50, n=15)

# cross-checks
power.mod211(es=.248, rho2=.247, omega2tm=.148, r21=.493, n=20, J=35)
mdes.mod211(power=.853, rho2=.247, omega2tm=.148, r21=.493, n=20, J=35)
mrss.mod211(es=.248, power = .853, rho2=.247, omega2tm=.148, r21=.493, n=20)

# cross-checks
power.mod212(es=.248, rho2=.247, omega2t=.148, r21=.493, n=20, J=20)
mdes.mod212(power=.739, rho2=.247, omega2t=.148, r21=.493, n=20, J=20)
mrss.mod212(es=.248, power=.739, rho2=.247, omega2t=.148, r21=.493, n=20)

# cross-checks
mdes.bira2_pn(n=20, J=15, rho_ic=.10, ic_size=5)
power.bira2_pn(es=.357, n=20, J=15, rho_ic=.10, ic_size=5)
mrss.bira2_pn(es=.357, n=20, rho_ic=.10, ic_size=5)
</code></pre>


</div>