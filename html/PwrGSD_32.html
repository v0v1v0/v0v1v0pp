<div class="container">

<table style="width: 100%;"><tr>
<td>wtdlogrank</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Weighted log-rank test</h2>

<h3>Description</h3>

<p>Computes a two sample weighted log-rank statistic with events weighted
according to one of the available weighting function choices</p>


<h3>Usage</h3>

<pre><code class="language-R">  wtdlogrank(formula =formula(data), data =parent.frame(), WtFun = c("FH", "SFH", "Ramp"),
  param = c(0, 0), sided = c(2, 1), subset, na.action, w = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula of the form <code>Surv(Time, Event) ~ arm</code> where <code>arm</code>
is a dichotomous variable with values 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>WtFun</code></td>
<td>
<p>a selection from the available list: “FH” (Fleming-Harrington),
“SFH” (stopped Fleming-Harrington) or “Ramp”.  See <code>param</code> in
the following line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>Weight function parameters. Length and interpretation depends upon
the selected value of <code>WtFun</code>:<br>
If <code>WtFun</code>==“FH” then <code>param</code> is a length 2 vector specifying
the power of the pooled (across arms) kaplan meier estimate and its complement.<br>
If <code>WtFun</code>==“SFH” then <code>param</code> is a length 3 vector with
first two components as in the “FH” case, and third component the time (in
the same units as the time to event) at which the “FH” weight function is
capped off at its current value.<br>
If <code>WtFun</code>==“Ramp” then <code>param</code> is of length 1 specifying the
time (same units as time to event) at which events begin to get equal weight. The
“Ramp” weight function is a linearly increasing deterministic weight function
which is capped off at 1 at the user specified time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sided</code></td>
<td>
<p>One or Two sided test?  Set to 1 or 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Analysis can be applied to a subset of the dataframe based upon a logical
expression in its variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>Method for handling <code>NA</code> values in the covariate, <code>arm</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>currently no effect</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>survtest</code> containing components
</p>
<table>
<tr style="vertical-align: top;">
<td><code>pn</code></td>
<td>
<p>sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wttyp</code></td>
<td>
<p>internal representation of the <code>WtFun</code> argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>internal representation of the <code>param</code> argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>unique times of events accross all arms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrisk</code></td>
<td>
<p>number at risk accross all arms at each event time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrisk1</code></td>
<td>
<p>Number at risk in the experimental arm at each event time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nevent</code></td>
<td>
<p>Number of events accross all arms at each event time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nevent1</code></td>
<td>
<p>Number of events in the experimental arm at each event time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wt</code></td>
<td>
<p>Values of the weight function at each event time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pntimes</code></td>
<td>
<p>Number of event times</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>The un-normalized weighted log-rank statistic, i.e. the summed
weighted observed minus expected differences at each event time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>Variance estimate for the above</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UQt</code></td>
<td>
<p>Cumulative sum of increments in the sum resulting in <code>stat</code> above</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varQt</code></td>
<td>
<p>Cumulative sum of increments in the sum resulting in <code>var</code> above</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var1t</code></td>
<td>
<p>Cumulative sum of increments in the sum resulting in the variance of an
unweighted version of the statistic</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pu0</code></td>
<td>
<p>person units of follow-up time in the control arm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pu1</code></td>
<td>
<p>person units of follow-up time in the intervention arm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n0</code></td>
<td>
<p>events in the control arm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>events in the intervention arm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>sample size, same as <code>pn</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the call that created the object</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Grant Izmirlian &lt;izmirlian@nih.gov&gt;</p>


<h3>References</h3>

<p>Harrington, D. P. and Fleming, T. R. (1982).
A class of rank test procedures for censored survival data.
<em>Biometrika</em>
<b>69</b>, 553-566.</p>


<h3>See Also</h3>

<p><code>IntSurvDiff</code></p>


<h3>Examples</h3>

<pre><code class="language-R">  library(PwrGSD)
  data(lung)
  fit.wlr &lt;-wtdlogrank(Surv(time, I(status==2))~I(sex==2), data=lung, WtFun="SFH", param=c(0,1,300))
</code></pre>


</div>