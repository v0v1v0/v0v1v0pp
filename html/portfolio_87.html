<div class="container">

<table style="width: 100%;"><tr>
<td>tradelist-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class "tradelist"</h2>

<h3>Description</h3>

<p>Note: This class is a rough first pass and will change drastically in
future releases.
</p>
<p>An object of the class "tradelist" containing a data frame of trades
and a data frame of supplementary information.</p>


<h3>Objects from
the Class</h3>

<p> Objects can be created by calls of the form
<code>new("tradelist", orig, target, ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>type</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>
specifying the type of the tradelist.  Must be <code>"all"</code> or
<code>"ranks"</code>.</p>
</dd>
<dt>
<code>id.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>
containing the name of the column in the <code>data</code> slot to be
used as a unique identifier. </p>
</dd>
<dt>
<code>price.var</code>:</dt>
<dd>
<p>Object of class <code>"character"</code>
specifying the column in the <code>data</code> slot to be used as the
reference price.  Defaults to <code>price.usd</code>.</p>
</dd>
<dt>
<code>candidates</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code>
containing one row for each candidate trade.</p>
</dd>
<dt>
<code>ranks</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> where
candidate trades have been interleaved by trade type (B,S,X,C) and
assigned a unique rank, "rank.t".</p>
</dd>
<dt>
<code>chunks</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> that
contains one row for each chunk, a smaller portion of an order.</p>
</dd>
<dt>
<code>swaps</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> where buys
and sells have been matched with other shorts and covers of similar
market value and desirability.</p>
</dd>
<dt>
<code>swaps.actual</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code>
where the least desirable chunks that would exceed if
"turnover" if ordered have been removed.</p>
</dd>
<dt>
<code>actual</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> where the
chunks have been rolled up into one row/order per security.</p>
</dd>
<dt>
<code>final</code>:</dt>
<dd>
<p>Object of class <code>"trades"</code> containing
the most basic information on the set of trades in the tradelist.</p>
</dd>
<dt>
<code>chunks.actual</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code>
where "swaps" have been turned back into chunks and each chunk has
its own row.</p>
</dd>
<dt>
<code>sorts</code>:</dt>
<dd>
<p>Object of class <code>"optionalList"</code> which may
be interpreted as a list of key-value pairs.  The key is the name of
the sort and must exist as a column in the "data" slot.  The numeric
value expresses the relative weight of the sort.</p>
</dd>
<dt>
<code>rank.sorts</code>:</dt>
<dd>
<p>Object of class <code>"list"</code>, where the
names of the elements are the names of the sorts defined in the
"sorts" list and the elements are data frames, each of which
contains a ranking of the candidate trades created by applying an
individual sort.</p>
</dd>
<dt>
<code>regions</code>:</dt>
<dd>
<p>Object of class <code>"character"</code></p>
</dd>
<dt>
<code>chunk.usd</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> that
expresses the minimum unsigned market value in US dollars of a
chunk. Defaults to $10,000.</p>
</dd>
<dt>
<code>trade.usd.min</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> that
expresses the minimum unsigned market value a trade must have in
order to be placed.  Trades of lower market value are removed from
the "candidates" data.frame and appended to the "restricted" data frame.</p>
</dd>
<dt>
<code>restrictions</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> with
1 row for each trade and three columns, "id", "type", and
"reason".  "id" uniquely identifies the trade, "type" accepts a
value of B, S, C, or X (buy, sell, cover, or short), expressing
the type of trade that is prohibited, and "reason" is a label
expressing why the restriction exists.</p>
</dd>
<dt>
<code>restricted</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> that
contains one row for every trade for which a restriction exists</p>
</dd>
<dt>
<code>to.equity</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code>
expressing whether or not the algorithm should trade towards the
value of <code>target.equity</code></p>
</dd>
<dt>
<code>turnover</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> that
expresses the maximum unsigned market value of all trades effected in
one session.</p>
</dd>
<dt>
<code>tca</code>:</dt>
<dd>
<p>Object of class <code>"character"</code> expressing
whether or not to use trade cost adjustment.</p>
</dd>
<dt>
<code>rank.gain.min</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>
specifying the minimum amount of difference between two trades'
rank required in order for the pair to be considered as a swap.</p>
</dd>
<dt>
<code>target.equity</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code>
expressing the unsigned market value of the target portfolio.</p>
</dd>
<dt>
<code>mv.long.orig</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> The
market value of the long side of the original portfolio.</p>
</dd>
<dt>
<code>mv.short.orig</code>:</dt>
<dd>
<p>Object of class <code>"numeric"</code> The
unsigned market value of the short side of the original portfolio</p>
</dd>
<dt>
<code>unrestricted</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code>
specifying whether any restrictions should be applied, including
checks for price and volume.</p>
</dd>
<dt>
<code>data</code>:</dt>
<dd>
<p>Object of class <code>"data.frame"</code> containing
supplementary information about the "tradelist".  Must contain an
"id" column, a "price.usd" column, a "volume" column, and a column
named after each element listed in "sorts".</p>
</dd>
<dt>
<code>verbose</code>:</dt>
<dd>
<p>Object of class <code>"logical"</code> controlling
whether methods on this object should be verbose.  Defaults to FALSE.</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>actualCols</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: Returns a
vector with the following elements: "id", "side", "shares", "mv",
<code>names(object@sorts), and "rank.t"</code></p>
</dd>
<dt>calcActual</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: Rolls up the
chunks calculated in <code>calcChunksActual</code> into single orders and stores the
result as a data frame in the "actual" slot.</p>
</dd>
<dt>calcCandidates</dt>
<dd>
<p><code>signature(object = "tradelist", orig =
	"portfolio", target = "portfolio")</code>: Builds a data frame of
candidate trades with one row per trade by determining which positions
have different numbers of shares in the original and target
portfolios. Removes trades in the "restrictions" data frame,
trades with a market value below "trade.usd.min", and trades that
would cause a side change in one session, and appends these trades
to the "restricted data frame."</p>
</dd>
<dt>calcChunksActual</dt>
<dd>
<p><code>signature(object = "tradelist")</code>:
Turns the swaps calculated in <code>calcSwapsActual</code> back into
chunks and stores the results in a data frame in the
"actual.chunks" slot.</p>
</dd>
<dt>calcChunks</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: Examines
the data frame stored in the "ranks" slot, breaks the
candidate trades into chunks of size "chunk.usd" or
smaller, and stores the results in the "chunks" slot</p>
</dd>
<dt>calcSwapsActual</dt>
<dd>
<p><code>signature(object = "tradelist")</code>:
Examines the data frame stored in the "swaps" slot and removes
swaps, which had they been processed as orders, would have
exceeded the specified "turnover" of the tradelist.  Stores the results as a data
frame in the "swaps.actual" slot.</p>
</dd>
<dt>calcSwaps</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: Using the
"chunks" data frame created by the <code>calcChunks</code> method, pairs
attractive chunks with other attractive chunks of similar market
value and stores the results as a data frame in the <code>swaps</code> slot.</p>
</dd>
<dt>calcRanks</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: Using
information from the <code>candidates</code> data frame, interleaves
the trades and calculates an absolute rank for each trade,
"rank.t".  Stores the results in the <code>ranks</code> slot</p>
</dd>
<dt>candidatesCols</dt>
<dd>
<p><code>signature(object = "tradelist")</code>:
Returns a vector of class <code>character</code> containing the
following elements: "id", "orig", "target", "side", "shares", "mv"</p>
</dd>
<dt>chunksCols</dt>
<dd>
<p><code>signature(object = "tradelist")</code>:  Returns a
vector of class <code>character</code> containing the following
elements: rankCols(object), "tca.rank", "chunk.shares",
"chunk.mv", "chunk".</p>
</dd>
<dt>dummyChunks</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: Creates a
data frame of dummy chunks for a given side and dollar amount
(total.usd).  The supplied dollar amount, together with the tradelist
object's chunk size, determines the number of rows in the resulting
data frame.</p>
</dd>
<dt>initialize</dt>
<dd>
<p><code>signature(.Object = "tradelist")</code>:
Transparently calls <code>calcCandidates</code>, <code>calcRanks</code>, <code>calcChunks</code>,
<code>calcSwaps</code>, <code>calcSwapsActual</code>, <code>calcChunksActual</code>, <code>calcActual</code>
to construct the <code>tradelist</code> object.</p>
</dd>
<dt>ranksCols</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: Returns a
vector of class <code>character</code> containing the following
elements: "id", "orig", "target", "side", "shares", "mv", <code>names(object@sorts)</code>,
"rank.t" </p>
</dd>
<dt>restrictedCols</dt>
<dd>
<p><code>signature(object = "tradelist")</code>:  Returns a
vector of class <code>character</code> containing the following
elements: <code>candidatesCols(object)</code>, "reason".</p>
</dd>
<dt>securityInfo</dt>
<dd>
<p><code>signature(object = "tradelist", id =
	"character")</code>: Returns detailed information regarding a security in
the tradelist.</p>
</dd>
<dt>show</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: Prints a
detailed summary of tradelist attributes.</p>
</dd>
<dt>trimSide</dt>
<dd>
<p><code>signature(object = "tradelist")</code>: If the
market value of the side passed as the "side" parameter to this
function is is greater than market value of the side as specified
by the "value" parameter, excises the least desirable trades on
that side until the the market value of that side is less than
value.  Returns a copy of the data frame stored in the "actual"
slot with the trades that meet the forementioned conditions
removed.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Daniel Gerlanc <a href="mailto:daniel@gerlanc.com">daniel@gerlanc.com</a></p>


</div>