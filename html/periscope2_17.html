<div class="container">

<table style="width: 100%;"><tr>
<td>downloadFile</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>downloadFile module server function</h2>

<h3>Description</h3>

<p>Server-side function for the downloadFileButton.  This is a custom
high-functionality button for file downloads supporting single or multiple
download types.  The server function is used to provide the data for download.
</p>


<h3>Usage</h3>

<pre><code class="language-R">downloadFile(
  id,
  logger = NULL,
  filenameroot = "download",
  datafxns = NULL,
  aspectratio = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>ID of the Module's UI element</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logger</code></td>
<td>
<p>logger to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filenameroot</code></td>
<td>
<p>the base text used for user-downloaded file - can be
either a character string or a reactive expression that returns a character
string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datafxns</code></td>
<td>
<p>a <strong>named</strong> list of functions providing the data as
return values.  The names for the list should be the same names that were used
when the button UI was created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aspectratio</code></td>
<td>
<p>the downloaded chart image width:height ratio (ex:
1 = square, 1.3 = 4:3, 0.5 = 1:2). Where not applicable for a download type
it is ignored (e.g. data downloads).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>no return value, called for downloading selected file type
</p>


<h3>Shiny Usage</h3>

<p>This function is not called directly by consumers - it is accessed in
server.R using the same id provided in <code>downloadFileButton</code>:
</p>
<p><strong><code>downloadFile(id, logger, filenameroot, datafxns)</code></strong>
</p>


<h3>See Also</h3>

<p>downloadFileButton
</p>
<p>downloadFile_ValidateTypes
</p>
<p>downloadFile_AvailableTypes
</p>
<p>logViewerOutput
</p>
<p>downloadablePlot
</p>
<p>downloadableTableUI
</p>
<p>downloadableTable
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
   library(shiny)
   library(periscope2)
   shinyApp(ui = fluidPage(fluidRow(column(width = 6,
     # single download type
     downloadFileButton("object_id1",
                        downloadtypes = c("csv"),
                        hovertext     = "Button 1 Tooltip")),
      column(width = 6,
      # multiple download types
      downloadFileButton("object_id2",
                         downloadtypes = c("csv", "tsv"),
                         hovertext     = "Button 2 Tooltip")))),
     server = function(input, output) {
       # single download type
       downloadFile(id           = "object_id1",
                    logger       = "",
                    filenameroot = "mydownload1",
                    datafxns     = list(csv = reactiveVal(iris)),
                    aspectratio  = 1)
       # multiple download types
       downloadFile(id           = "object_id2",
                    logger       = "",
                    filenameroot = "mydownload2",
                    datafxns     = list(csv = reactiveVal(mtcars),
                    tsv = reactiveVal(mtcars)))
   })
}

</code></pre>


</div>