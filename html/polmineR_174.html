<div class="container">

<table style="width: 100%;"><tr>
<td>cqp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tools for CQP queries.</h2>

<h3>Description</h3>

<p>Test whether a character string is a CQP query, or turn a character
vector into CQP queries.
</p>


<h3>Usage</h3>

<pre><code class="language-R">is.cqp(query)

check_cqp_query(query, warn = TRUE)

as.cqp(
  query,
  normalise.case = FALSE,
  collapse = FALSE,
  check = TRUE,
  warn = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>A <code>character</code> vector with at least one CQP query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>A (length-one) <code>logical</code> value, whether to issue a warning if a
query may be buggy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalise.case</code></td>
<td>
<p>A <code>logical</code> value, if <code>TRUE</code>, a flag will be
added to the query/queries to omit matching case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>A <code>logical</code> value, whether to collapse the queries into one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>A <code>logical</code> value whether to run <code>check_cqp_query()</code> on queries.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>is.cqp()</code> function guesses whether <code>query</code> is a CQP query
and returns the respective logical value (<code>TRUE</code>/<code>FALSE</code>).
</p>
<p>The <code>as.cqp()</code> function takes a character vector as input and converts it
to a CQP query by putting the individual strings in quotation marks.
</p>
<p>The <code>check_cqp_query</code>-function will check that opening
quotation marks are matched by closing quotation marks, to prevent crashes
of CQP and the R session.
</p>


<h3>Value</h3>

<p><code>is.cqp</code> returns a logical value, <code>as.cqp</code> a character
vector, <code>check_cqp_query</code> a logical value that is <code>TRUE</code> if all
queries are valid, or <code>FALSE</code> if not.
</p>


<h3>References</h3>

<p>CQP Query Language Tutorial
(<a href="https://cwb.sourceforge.io/files/CQP_Tutorial.pdf">https://cwb.sourceforge.io/files/CQP_Tutorial.pdf</a>)
</p>


<h3>Examples</h3>

<pre><code class="language-R">is.cqp("migration") # will return FALSE
is.cqp('"migration"') # will return TRUE
is.cqp('[pos = "ADJA"] "migration"') # will return TRUE

as.cqp("migration")
as.cqp(c("migration", "diversity"))
as.cqp(c("migration", "diversity"), collapse = TRUE)
as.cqp("migration", normalise.case = TRUE)

check_cqp_query('"Integration.*"') # TRUE, the query is ok
check_cqp_query('"Integration.*') # FALSE, closing quotation mark is missing
check_cqp_query("'Integration.*") # FALSE, closing quotation mark is missing
check_cqp_query(c("'Integration.*", '"Integration.*')) # FALSE too
</code></pre>


</div>