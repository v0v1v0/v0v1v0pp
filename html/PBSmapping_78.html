<div class="container">

<table style="width: 100%;"><tr>
<td>convUL</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert Coordinates between UTM and Lon/Lat</h2>

<h3>Description</h3>

<p>Convert coordinates between UTM and Lon/Lat.
</p>


<h3>Usage</h3>

<pre><code class="language-R">convUL (xydata, km=TRUE, southern=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xydata</code></td>
<td>
<p><code>numeric</code> – data frame with columns <code>X</code> and <code>Y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>km</code></td>
<td>
<p><code>logical</code> – if <code>TRUE</code>, UTM coordinates within
<code>xydata</code> are in kilometres; otherwise, metres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>southern</code></td>
<td>
<p><code>logical</code> – if <code>TRUE</code>, forces conversions from
UTM to longitude/latitude to produce coordinates within the
southern hemisphere.  For conversions from UTM, this argument defaults to
<code>FALSE</code>. For conversions from LL, the function determines 
<code>southern</code> from <code>xydata</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The object <code>xydata</code> must possess a <code>projection</code> attribute that
identifies the current projection.  If the data frame contains UTM
coordinates, it must also have a <code>zone</code> attribute equal to a
number between 1 and 60 (inclusive).  If it contains
geographic (longitude/latitude) coordinates and the <code>zone</code> attribute is
missing, the function computes the mean longitude and uses that value
to determine the zone.  The longitude range of zone <code class="reqn">i</code> is
<code class="reqn">-186 + 6 i^\circ &lt; x \le -180 + 6 i^\circ</code>.
</p>
<p>This function converts the <code>X</code> and <code>Y</code> columns of
<code>xydata</code> from <code>"LL"</code> to <code>"UTM"</code> or vice-versa.  If the
data span more than <b>one</b> zone to the right or left of the intended
central zone, the underlying algorithm may produce erroneous
results. This limitation means that the user should use 
the most central zone of the mapped region, or allow the function to determine
the central zone when converting from geographic to UTM coordinates.
After the conversion, this routine adjusts the data frame's attributes accordingly.
</p>


<h3>Value</h3>

<p>A data frame identical to <code>xydata</code>, except that the <code>X</code> and
<code>Y</code> columns contain the results of the conversion, and the
<code>projection</code> attribute matches the new projection.
</p>


<h3>Author(s)</h3>

<p><a href="https://github.com/boersn/">Nicholas M. Boers</a>, Software Engineer, Jobber, Edmonton AB<br>
Maintainer: <a href="mailto:rowan.haigh@dfo-mpo.gc.ca">Rowan Haigh</a>, Program Head – Offshore Rockfish<br>
Pacific Biological Station (PBS), Fisheries &amp; Oceans Canada (DFO), Nanaimo BC<br><em>locus opus</em>: Regional Headquarters, Vancouver BC<br>
Last modified <code>Rd: 2022-09-06</code>
</p>


<h3>References</h3>

<p>Ordnance Survey. (2020) 
<a href="https://www.ordnancesurvey.co.uk/documents/resources/guide-coordinate-systems-great-britain.pdf">A guide to coordinate systems in Great Britain</a>.
Copyright Ordnance Survey 2018 <b>(v3.6)</b>. Southampton, UK.
</p>


<h3>See Also</h3>

<p><code>closePolys</code>,
<code>fixBound</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">local(envir=.PBSmapEnv,expr={
  oldpar = par(no.readonly=TRUE)
  #--- load the data
  data(nepacLL,envir=.PBSmapEnv)
  #--- set the zone attribute
  #--- use a zone that is most central to the mapped region
  attr(nepacLL, "zone") &lt;- 6
  #--- convert and plot the result
  nepacUTM &lt;- convUL(nepacLL)
  plotMap(nepacUTM)
  par(oldpar)
})
</code></pre>


</div>