<div class="container">

<table style="width: 100%;"><tr>
<td>prepareDoses</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare the Dose Data Set</h2>

<h3>Description</h3>

<p>Create a dose data set with conforming data, and remove invalid records.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepareDoses(
  doseData,
  drugLevelData,
  drugLevelID = "id",
  drugLevelTimeVar = "date.time",
  drugLevelVar = "fent.level",
  idVar = "id",
  dateVar = "date.dose",
  infusionDoseTimeVar = NULL,
  infusionDoseVar = NULL,
  bolusDoseTimeVar = NULL,
  bolusDoseVar = NULL,
  otherDoseTimeVar = NULL,
  otherDoseVar = NULL,
  otherVars = NULL,
  lookForward = 7
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>doseData</code></td>
<td>
<p>data.frame; data set with dose information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drugLevelData</code></td>
<td>
<p>data.frame; data set with drug level data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drugLevelID</code></td>
<td>
<p>character string; name of ID variable, defaults to id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drugLevelTimeVar</code></td>
<td>
<p>character string; name of date-time variable,
defaults to date.time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drugLevelVar</code></td>
<td>
<p>character string; name of drug level variable, defaults
to fent.level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idVar</code></td>
<td>
<p>character string; name of ID variable, defaults to id</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dateVar</code></td>
<td>
<p>character string; name of date variable, defaults to date.dose</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>infusionDoseTimeVar</code></td>
<td>
<p>character string; name of infusion dose time
variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>infusionDoseVar</code></td>
<td>
<p>character string; name of infusion dose variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bolusDoseTimeVar</code></td>
<td>
<p>character string; name of bolus dose time variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bolusDoseVar</code></td>
<td>
<p>character string; name of bolus dose variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>otherDoseTimeVar</code></td>
<td>
<p>character string; name of additional dose time
variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>otherDoseVar</code></td>
<td>
<p>character string; name of additional dose variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>otherVars</code></td>
<td>
<p>character string; name of other variables within data set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lookForward</code></td>
<td>
<p>integer; initializes the time frame window with the number
of days prior to the first drug level data; defaults to 7</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Wrapper function for <code>conformDoses</code> and <code>trimDoses</code>.
</p>


<h3>Value</h3>

<p>data.frame, containing dose data
</p>


<h3>Author(s)</h3>

<p>Cole Beck
</p>


<h3>Examples</h3>

<pre><code class="language-R">options(pkdata.tz='America/Chicago')
dose.file &lt;- read.csv(system.file('extdata', 'dosage.csv', package = 'pkdata'),
                      stringsAsFactors = FALSE)
drug.level.file &lt;- read.csv(system.file('extdata', 'druglevel.csv', package = 'pkdata'),
                            stringsAsFactors = FALSE)
prepped &lt;- prepareDoses(dose.file, drug.level.file,
     infusionDoseTimeVar='inf.time', infusionDoseVar='inf.dose',
     bolusDoseTimeVar='bol.time', bolusDoseVar='bol.dose',
     otherDoseTimeVar='patch.time', otherDoseVar='patch.dose',
     otherVars=c('gender','weight'))
</code></pre>


</div>