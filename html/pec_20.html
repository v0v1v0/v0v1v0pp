<div class="container">

<table style="width: 100%;"><tr>
<td>plot.pec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting prediction error curves</h2>

<h3>Description</h3>

<p>Plotting prediction error curves for one or more prediction models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'pec'
plot(
  x,
  what,
  models,
  xlim = c(x$start, x$minmaxtime),
  ylim = c(0, 0.3),
  xlab = "Time",
  ylab,
  axes = TRUE,
  col,
  lty,
  lwd,
  type,
  smooth = FALSE,
  add.refline = FALSE,
  add = FALSE,
  legend = ifelse(add, FALSE, TRUE),
  special = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object of class <code>pec</code> obtained with function
<code>pec</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>The name of the entry in <code>x</code>. Defauls to <code>PredErr</code>
Other choices are <code>AppErr</code>, <code>BootCvErr</code>, <code>Boot632</code>,
<code>Boot632plus</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>
<p>Specifies models in <code>x$models</code> for which the prediction
error curves are drawn. Defaults to all models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>Plotting range on the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>Plotting range on the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Label given to the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Label given to the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p>Logical. If <code>FALSE</code> no axes are drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Vector of colors given to the curves of <code>models</code> in the
order determined by <code>models</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>Vector of lty's given to the curves of <code>models</code> in the order
determined by <code>models</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>Vector of lwd's given to the curves of <code>models</code> in the order
determined by <code>models</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Plotting type: either <code>"l"</code> or <code>"s"</code>, see
<code>lines</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>Logical. If <code>TRUE</code> the plotting type for lines is <code>'l'</code> else <code>'s'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.refline</code></td>
<td>
<p>Logical. If <code>TRUE</code> a dotted horizontal line is drawn
as a symbol for the naive rule that predicts probability .5 at all cutpoints
(i.e. time points in survival analysis).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>Logical. If <code>TRUE</code> only lines are added to an existing
device</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>if TRUE a legend is plotted by calling the function legend.
Optional arguments of the function <code>legend</code> can be given in the form
<code>legend.x=val</code> where x is the name of the argument and val the desired
value. See also Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>special</code></td>
<td>
<p>Logical. If <code>TRUE</code> the bootstrap curves of <code>models</code>
are plotted together with <code>predErr</code> of <code>models</code> by invoking the
function <code>Special</code>. Optional arguments of the function <code>Special</code>
can be given in the form <code>special.x=val</code> as with legend. See also
Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments that are passed to <code>plot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>From version 2.0.1 on the arguments legend.text, legend.args, lines.type,
lwd.lines, specials are obsolete and only available for backward
compatibility. Instead arguments for the invoked functions <code>legend</code>,
<code>axis</code>, <code>Special</code> are simply specified as <code>legend.lty=2</code>. The
specification is not case sensitive, thus <code>Legend.lty=2</code> or
<code>LEGEND.lty=2</code> will have the same effect.  The function <code>axis</code> is
called twice, and arguments of the form <code>axis1.labels</code>, <code>axis1.at</code>
are used for the time axis whereas <code>axis2.pos</code>, <code>axis1.labels</code>,
etc. are used for the y-axis.
</p>
<p>These arguments are processed via <code>...{}</code> of <code>plot.pec</code> and
inside by using the function <code>resolveSmartArgs</code>.  Documentation of
these arguments can be found in the help pages of the corresponding
functions.
</p>


<h3>Value</h3>

<p>The (invisible) object.
</p>


<h3>Author(s)</h3>

<p>Ulla B. Mogensen <a href="mailto:ulmo@biostat.ku.dk">ulmo@biostat.ku.dk</a>, Thomas A. Gerds
<a href="mailto:tag@biostat.ku.dk">tag@biostat.ku.dk</a>
</p>


<h3>See Also</h3>

<p><code>pec</code><code>summary.pec</code><code>Special</code><code>prodlim</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# simulate data
# with a survival response and two predictors
library(prodlim)
library(survival)
set.seed(280180)
dat &lt;- SimSurv(100)

# fit some candidate Cox models and
# compute the Kaplan-Meier estimate 

Models &lt;- list("Kaplan.Meier"=survfit(Surv(time,status)~1,data=dat),
               "Cox.X1"=coxph(Surv(time,status)~X1,data=dat,x=TRUE,y=TRUE),
               "Cox.X2"=coxph(Surv(time,status)~X2,data=dat,x=TRUE,y=TRUE),
               "Cox.X1.X2"=coxph(Surv(time,status)~X1+X2,data=dat,x=TRUE,y=TRUE))
Models &lt;- list("Cox.X1"=coxph(Surv(time,status)~X1,data=dat,x=TRUE,y=TRUE),
               "Cox.X2"=coxph(Surv(time,status)~X2,data=dat,x=TRUE,y=TRUE),
               "Cox.X1.X2"=coxph(Surv(time,status)~X1+X2,data=dat,x=TRUE,y=TRUE))


# compute the .632+ estimate of the generalization error 
set.seed(17100)
PredError.632plus &lt;- pec(object=Models,
                         formula=Surv(time,status)~X1+X2,
                         data=dat,
                         exact=TRUE,
                         cens.model="marginal",
                         splitMethod="boot632plus",
                         B=5,
                         keep.matrix=TRUE,
                         verbose=TRUE)

# plot the .632+ estimates of the generalization error 
plot(PredError.632plus,xlim=c(0,30))

# plot the bootstrapped curves, .632+ estimates of the generalization error
# and Apparent error for the Cox model 'Cox.X1' with the 'Cox.X2' model
# as benchmark
plot(PredError.632plus,
     xlim=c(0,30),
     models="Cox.X1",
     special=TRUE,
     special.bench="Cox.X2",
     special.benchcol=2,
     special.addprederr="AppErr")


</code></pre>


</div>