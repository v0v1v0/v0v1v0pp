<div class="container">

<table style="width: 100%;"><tr>
<td>sim.ltrc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate left-truncated (and right-cencored) data from the Cox model.</h2>

<h3>Description</h3>

<p>Various baseline survival functions and truncation distribution are
available. Censoring rate can be designated through tuning the parameter
<code>Cmax</code>; <code>Cmas = Inf</code> means no censoring.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim.ltrc(
  n = 200,
  b = c(1, 1),
  Z.type = c("C", "B"),
  time.dep = FALSE,
  Zv.depA = FALSE,
  A.depZ = FALSE,
  distr.T = "weibull",
  shape.T = 2,
  scale.T = 1,
  meanlog.T = 0,
  sdlog.T = 1,
  distr.A = "weibull",
  shape.A = 1,
  scale.A = 5,
  p.A = 0.3,
  b.A = c(0, 0),
  Cmax = Inf,
  fix.seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>the sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>a numeric vector for true regression coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z.type</code></td>
<td>
<p>a vector indicating the type of the time-invariant covariates;
<code>"C"</code> = uniform[-1, 1], <code>"B"</code> = binary(0.5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.dep</code></td>
<td>
<p>logical, whether there is the time-dependent covariate (only
one indicator function Zv = I(t &gt;= zeta) is supported); the default is
FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Zv.depA</code></td>
<td>
<p>logical, whether the time-dependent covariate <code>Zv</code>
depends on A^* (the only form supported is Zv = I(t &gt;= zeta + A^*)); the
default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A.depZ</code></td>
<td>
<p>logical, whether the truncation times depends on the
covariate Z.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distr.T</code></td>
<td>
<p>the baseline survival time (T*) distribution ("exp" or
"weibull").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape.T</code></td>
<td>
<p>the shape parameter for the Weibull distribution of T*.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.T</code></td>
<td>
<p>the scale parameter for the Weibull distributiof of T*.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meanlog.T</code></td>
<td>
<p>the mean for the log-normal distribution of T*.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdlog.T</code></td>
<td>
<p>the sd for the log-normal distribution of T*.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distr.A</code></td>
<td>
<p>the baseline truncation time (A*) distribution: either of
<code>"weibull"</code> (the default), <code>"unif"</code> (Length-Biased Sampling),
<code>"binomial"</code> or <code>"dunif"</code>). Note: If distribution name other than
these are provided, <code>"unif"</code> will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape.A</code></td>
<td>
<p>the shape parameter for the Weibull distribution of A*.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.A</code></td>
<td>
<p>the scale parameter for the Weibull distribution of A*.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.A</code></td>
<td>
<p>the success probability for the binomial distribution of A*.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b.A</code></td>
<td>
<p>the vector of coefficients for the model of A on the covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cmax</code></td>
<td>
<p>the upper bound of the uniform distribution of the censoring time
(C).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fix.seed</code></td>
<td>
<p>an optional random seed for simulation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list with a data.frame containing the biased sample of
survival times (<code>Ys</code>) and truncation times (<code>As</code>),
the event indicator (<code>Ds</code>) and the covariates (<code>Zs</code>);
a vector of certain quantiles of Ys (<code>taus</code>);
the censoring proportion (<code>PC</code>) and the truncation proportion
(<code>PT</code>).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># With time-invariant covariates only
sim1 = sim.ltrc(n = 40)
head(sim1$dat)
# With one time-dependent covariate
sim2 = sim.ltrc(n = 40, time.dep = TRUE,
         distr.A = "binomial", p.A = 0.8, Cmax = 5)
head(sim2$dat)
# With one time-dependent covariate with dependence on the truncation time
sim3 = sim.ltrc(n = 40, time.dep = TRUE, Zv.depA = TRUE, Cmax = 5)
head(sim3$dat)
</code></pre>


</div>