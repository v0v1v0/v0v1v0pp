<div class="container">

<table style="width: 100%;"><tr>
<td>pdata.frame</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>pdata.frame: a data.frame for panel data</h2>

<h3>Description</h3>

<p>An object of class 'pdata.frame' is a data.frame with an index
attribute that describes its individual and time dimensions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pdata.frame(
  x,
  index = NULL,
  drop.index = FALSE,
  row.names = TRUE,
  stringsAsFactors = FALSE,
  replace.non.finite = FALSE,
  drop.NA.series = FALSE,
  drop.const.series = FALSE,
  drop.unused.levels = FALSE,
  ...
)

## S3 replacement method for class 'pdata.frame'
x$name &lt;- value

## S3 method for class 'pdata.frame'
x[i, j, drop]

## S3 method for class 'pdata.frame'
x[[y]]

## S3 method for class 'pdata.frame'
x$y

## S3 method for class 'pdata.frame'
print(x, ...)

## S3 method for class 'pdata.frame'
as.list(x, keep.attributes = FALSE, ...)

## S3 method for class 'pdata.frame'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  keep.attributes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>data.frame</code> for the <code>pdata.frame</code> function and a
<code>pdata.frame</code> for the methods,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>this argument indicates the individual and time
indexes. See <strong>Details</strong>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.index</code></td>
<td>
<p>logical, indicates whether the indexes are to be
excluded from the resulting pdata.frame,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names</code></td>
<td>
<p><code>NULL</code> or logical, indicates whether "fancy" row
names (combination of individual index and time index) are to
be added to the returned (p)data.frame (<code>NULL</code> and <code>FALSE</code> have
the same meaning for <code>pdata.frame</code>; for
<code>as.data.frame.pdata.frame</code> see Details),</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stringsAsFactors</code></td>
<td>
<p>logical, indicating whether character
vectors are to be converted to factors,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace.non.finite</code></td>
<td>
<p>logical, indicating whether values for
which <code>is.finite()</code> yields <code>TRUE</code> are to be replaced by <code>NA</code>
values, except for character variables (defaults to <code>FALSE</code>),</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.NA.series</code></td>
<td>
<p>logical, indicating whether all-<code>NA</code> columns
are to be removed from the pdata.frame (defaults to <code>FALSE</code>),</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.const.series</code></td>
<td>
<p>logical, indicating whether constant
columns are to be removed from the pdata.frame (defaults to
<code>FALSE</code>),</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop.unused.levels</code></td>
<td>
<p>logical, indicating whether unused levels
of factors are to be dropped (defaults to <code>FALSE</code>) (unused
levels are always dropped from variables serving to construct
the index variables),</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed on to internal usage of  <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>the name of the <code>data.frame</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>the name of the variable to include,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>see <code>Extract()</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>see <code>Extract()</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>see <code>Extract()</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>one of the columns of the <code>data.frame</code>,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.attributes</code></td>
<td>
<p>logical, only for as.list and as.data.frame
methods, indicating whether the elements of the returned
list/columns of the data.frame should have the pdata.frame's
attributes added (default: FALSE for as.list, TRUE for
as.data.frame),</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optional</code></td>
<td>
<p>see <code>as.data.frame()</code>,</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>index</code> argument indicates the dimensions of the panel. It can
be: </p>

<ul>
<li>
<p> a vector of two character strings which
contains the names of the individual and of the time indexes,
</p>
</li>
<li>
<p>a character string which is the name of the individual index
variable. In this case, the time index is created automatically and
a new variable called "time" is added, assuming consecutive and
ascending time periods in the order of the original data,
</p>
</li>
<li>
<p> an integer, the number of individuals. In this case, the data
need to be a balanced panel and be organized as a stacked time series
(successive blocks of individuals, each block being a time series
for the respective individual) assuming consecutive and ascending
time periods in the order of the original data. Two new variables
are added: "id" and "time" which contain the individual and the
time indexes.
</p>
</li>
</ul>
<p>The <code>"[["</code> and <code>"$"</code> extract a series from the <code>pdata.frame</code>.  The
<code>"index"</code> attribute is then added to the series and a class
attribute <code>"pseries"</code> is added. The <code>"["</code> method behaves as for
<code>data.frame</code>, except that the extraction is also applied to the
<code>index</code> attribute.  A safe way to extract the index attribute is to
use the function <code>index()</code> for 'pdata.frames' (and other objects).
</p>
<p><code>as.data.frame</code> removes the index attribute from the <code>pdata.frame</code>
and adds it to each column. For its argument <code>row.names</code> set to
<code>FALSE</code> row names are an integer series, <code>TRUE</code> gives "fancy" row
names; if a character (with length of the resulting data frame),
the row names will be the character's elements.
</p>
<p><code>as.list</code> behaves by default identical to
<code>base::as.list.data.frame()</code> which means it drops the
attributes specific to a pdata.frame; if a list of pseries is
wanted, the attribute <code>keep.attributes</code> can to be set to
<code>TRUE</code>. This also makes <code>lapply</code> work as expected on a pdata.frame
(see also <strong>Examples</strong>).
</p>


<h3>Value</h3>

<p>a <code>pdata.frame</code> object: this is a <code>data.frame</code> with an
<code>index</code> attribute which is a <code>data.frame</code> with two variables,
the individual and the time indexes, both being factors.  The
resulting pdata.frame is sorted by the individual index, then
by the time index.
</p>


<h3>Author(s)</h3>

<p>Yves Croissant
</p>


<h3>See Also</h3>

<p><code>index()</code> to extract the index variables from a
'pdata.frame' (and other objects), <code>pdim()</code> to check the
dimensions of a 'pdata.frame' (and other objects), <code>pvar()</code> to
check for each variable if it varies cross-sectionally and over
time. To check if the time periods are consecutive per
individual, see <code>is.pconsecutive()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Gasoline contains two variables which are individual and time
# indexes
data("Gasoline", package = "plm")
Gas &lt;- pdata.frame(Gasoline, index = c("country", "year"), drop.index = TRUE)

# Hedonic is an unbalanced panel, townid is the individual index
data("Hedonic", package = "plm")
Hed &lt;- pdata.frame(Hedonic, index = "townid", row.names = FALSE)

# In case of balanced panel, it is sufficient to give number of
# individuals data set 'Wages' is organized as a stacked time
# series
data("Wages", package = "plm")
Wag &lt;- pdata.frame(Wages, 595)

# lapply on a pdata.frame by making it a list of pseries first
lapply(as.list(Wag[ , c("ed", "lwage")], keep.attributes = TRUE), lag)


</code></pre>


</div>