<div class="container">

<table style="width: 100%;"><tr>
<td>as_embed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Word vectors data class: <code>wordvec</code> and <code>embed</code>.</h2>

<h3>Description</h3>

<p><code>PsychWordVec</code> uses two types of word vectors data:
<code>wordvec</code> (data.table, with two variables <code>word</code> and <code>vec</code>)
and <code>embed</code> (matrix, with dimensions as columns and words as row names).
Note that matrix operation makes <code>embed</code> much faster than <code>wordvec</code>.
Users are suggested to reshape data to <code>embed</code> before using the other functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_embed(x, normalize = FALSE)

as_wordvec(x, normalize = FALSE)

## S3 method for class 'embed'
x[i, j]

pattern(pattern)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object to be reshaped. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>Normalize all word vectors to unit length?
Defaults to <code>FALSE</code>. See <code>normalize</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i, j</code></td>
<td>
<p>Row (<code>i</code>) and column (<code>j</code>) filter to be used in <code>embed[i, j]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>Regular expression to be used in <code>embed[pattern("...")]</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>wordvec</code> (data.table) or <code>embed</code> (matrix).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>as_embed()</code>: From <code>wordvec</code> (data.table) to <code>embed</code> (matrix).
</p>
</li>
<li> <p><code>as_wordvec()</code>: From <code>embed</code> (matrix) to <code>wordvec</code> (data.table).
</p>
</li>
</ul>
<h3>Download</h3>

<p>Download pre-trained word vectors data (<code>.RData</code>):
<a href="https://psychbruce.github.io/WordVector_RData.pdf">https://psychbruce.github.io/WordVector_RData.pdf</a>
</p>


<h3>See Also</h3>

<p><code>load_wordvec</code> / <code>load_embed</code>
</p>
<p><code>normalize</code>
</p>
<p><code>data_transform</code>
</p>
<p><code>data_wordvec_subset</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dt = head(demodata, 10)
str(dt)

embed = as_embed(dt, normalize=TRUE)
embed
str(embed)

wordvec = as_wordvec(embed, normalize=TRUE)
wordvec
str(wordvec)

df = data.frame(token=LETTERS, D1=1:26/10000, D2=26:1/10000)
as_embed(df)
as_wordvec(df)

dd = rbind(dt[1:5], dt[1:5])
dd  # duplicate words
unique(dd)

dm = as_embed(dd)
dm  # duplicate words
unique(dm)

# more examples for extracting a subset using `x[i, j]`
# (3x faster than `wordvec`)
embed = as_embed(demodata)
embed[1]
embed[1:5]
embed["for"]
embed[pattern("^for.{0,2}$")]
embed[cc("for, in, on, xxx")]
embed[cc("for, in, on, xxx"), 5:10]
embed[1:5, 5:10]
embed[, 5:10]
embed[3, 4]
embed["that", 4]

</code></pre>


</div>