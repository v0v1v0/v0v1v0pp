<div class="container">

<table style="width: 100%;"><tr>
<td>pq_addti</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>adding technical indicators</h2>

<h3>Description</h3>

<p><code>pq_addti</code> creates technical indicators using the functions provided in TTR package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pq_addti(dt, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>a list/dataframe of time series datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>list of technical indicator parameters: sma = list(n=50), macd = list().
</p>

<ol>
<li>
<p> There are four types of parameters.
</p>

<ul>
<li>
<p> set by default and do not required, such as 'OHLC', 'HLC', 'HL' and 'volume'.
</p>
</li>
<li>
<p> set by default and can be modified, such as 'price', 'prices', 'x'. Its default value is 'close' or 'value' column.
</p>
</li>
<li>
<p> always required, such as 'y', 'w'.
</p>
</li>
<li>
<p> numeric parameters, such as 'n', 'sd', 'v', 'nFast', 'nSlow', 'nSig', 'accel'. These parameters should be provided, otherwise using default values in corresponding function.
</p>
</li>
</ul>
</li>
<li>
<p> TTR functions are summarized in below. See TTR package's help document for more detailed parameters.
</p>

<ul>
<li>
<p> moving averages: SMA, EMA, DEMA, WMA, EVWMA, ZLEMA, VWAP, VMA, HMA, ALMA, GMMA
</p>
</li>
<li>
<p> rolling functions: runMin, runMax, runMean, runMedian; runCov, runCor; runVar, runSD, runMAD; runSum, wilderSum
</p>
</li>
<li>
<p> bands / channels: BBands, PBands, DonchianChannel
</p>
</li>
<li>
<p> SAR, ZigZag
</p>
</li>
<li>
<p> trend direction/strength: aroon, CCI, ADX, TDI, VHF, EMV
</p>
</li>
<li>
<p> volatility measures: ATR, chaikinVolatility, volatility, SNR
</p>
</li>
<li>
<p> money flowing into/out: OBV, chaikinAD, CLV, CMF, MFI, williamsAD
</p>
</li>
<li>
<p> rate of change / momentum: ROC, momentum, KST, TRIX
</p>
</li>
<li>
<p> oscillator: MACD, DPO, DVI, ultimateOscillator; RSI, CMO; stoch, SMI, WPR
</p>
</li>
</ul>
</li>
</ol>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
# load data
data('dt_ssec')

# add technical indicators
dt_ti1 = pq_addti(dt_ssec, sma=list(n=20), sma=list(n=50), macd = list())

# specify the price column x
dt_ti11 = pq_addti(dt_ssec, sma=list(n=20, x='open'), sma=list(n=50, x='open'))
dt_ti12 = pq_addti(dt_ssec, x='open', sma=list(n=20), sma=list(n=50))

# only technical indicators
dt_ti2 = pq_addti(
  dt_ssec, sma=list(n=20), sma=list(n=50), macd = list(), 
  col_kp = c('symbol', 'name')
)

dt_ti3 = pq_addti(
  dt_ssec, sma=list(n=20), sma=list(n=50), macd = list(), 
  col_kp = NULL
)

# self-defined technical indicators
bias = function(x, n=50, maType='SMA') {
    library(TTR)
    (x/do.call(maType, list(x=x, n=n))-1)*100
}

dt_ti3 = pq_addti(dt_ssec, bias = list(n = 200))


</code></pre>


</div>