<div class="container">

<table style="width: 100%;"><tr>
<td>filterData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Filter a dataset for records of interest,
for use in the patient profiles.</h2>

<h3>Description</h3>

<p>Data is filtered based on the following workflow:
</p>

<ol>
<li>
<p>The subset dataset (of <code>data</code> if not specified)
is filtered based on subject variable and value (if specified).

</p>
</li>
<li>
<p>If a external subset dataset is specified, only the subject IDs
of this filtered dataset are considered.
</p>
</li>
<li>
<p>The <code>data</code> is filtered based on the selected subjects,
from <code>subjectSubset</code> (if specified) or from step 2.
</p>
</li>
<li>
<p>The data is filtered based on a random selection of subjects, if
<code>subjectSample</code> is specified.
</p>
</li>
</ol>
<p>This filtering workflow is used for all subject profile visualization
functions of the package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filterData(
  data,
  subsetData = NULL,
  subsetVar = NULL,
  subsetValue = NULL,
  subjectVar = "USUBJID",
  subjectSubset = NULL,
  subjectSample = NULL,
  seed = 123
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data.frame with data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsetData</code></td>
<td>
<p>(optional) Data.frame with extra dataset to filter on.
This dataset is filtered, and only records from <code>data</code> 
with common subject IDs will be retained.<br>
If not specified, <code>data</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsetVar</code></td>
<td>
<p>(optional) String with variable of subset data to filter on.
<code>subsetValue</code> should be specified too.<br>
If not specified, all records from the subset data are retained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsetValue</code></td>
<td>
<p>(optional) Character vector with value(s) of interest to
retain in the filtered data.
These values should be available in <code>subsetVar</code>.<br>
Missing values in the subject variable are not retained 
in the filtered data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subjectVar</code></td>
<td>
<p>String, variable of data (and subset data) with subject ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subjectSubset</code></td>
<td>
<p>(optional) Character vector with subjects of interest 
(available in <code>subjectVar</code>), NULL by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subjectSample</code></td>
<td>
<p>(optional) Integer of length 1
with number of random subject(s) that should be considered,
e.g. to check the created patient profiles for a subset of the data.
By default, all specified subjects are considered (set to NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>(optional) Integer of length 1 with seed used to select random subjects 
if <code>subjectSample</code> is specified (123 by default).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>possibly filtered dataset
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(clinUtils)

data(dataSDTMCDISCP01)
dataAll &lt;- dataSDTMCDISCP01

# keep only a subset of subjects
# (e.g. to visualize specified patient profiles
# before creating them for all subject)
filterData(
	data = dataAll$AE,
	subjectSample = 2
)

# filter based on specified variable/value:
# only adverse events possibly related
filterData(
	data = dataAll$AE,
	subsetVar = "AEREL",
	subsetValue = "POSSIBLE"
)

# filter based on a different dataset:
# keep only adverse events for subjects in a specific treatment arm
filterData(
	data = dataAll$AE,
	subsetData = dataAll$DM,
	subsetVar = "ACTARM",
	subsetValue = "Placebo"
)

# filter based on subjects of interest
filterData(
	data = dataAll$AE,
	subjectSubset = c("01-701-1148", "01-701-1211")
)

</code></pre>


</div>