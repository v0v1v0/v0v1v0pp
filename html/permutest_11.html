<div class="container">

<table style="width: 100%;"><tr>
<td>permutation_test_ci</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct confidence interval by inverting permutation tests</h2>

<h3>Description</h3>

<p>This function constructs a confidence interval by inverting permutation tests and applying the method in Glazer and Stark, 2024.
</p>


<h3>Usage</h3>

<pre><code class="language-R">permutation_test_ci(
  df,
  group_col,
  outcome_col,
  strata_col = NULL,
  test_stat = "diff_in_means",
  perm_func = permute_group,
  upper_bracket = NULL,
  lower_bracket = NULL,
  cl = 0.95,
  e = 0.1,
  reps = 10000,
  perm_set = NULL,
  seed = 42
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_col</code></td>
<td>
<p>The name of the column in df that corresponds to the group label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome_col</code></td>
<td>
<p>The name of the column in df that corresponds to the outcome variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_col</code></td>
<td>
<p>The name of the column in df that corresponds to the strata</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_stat</code></td>
<td>
<p>Test statistic function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perm_func</code></td>
<td>
<p>Function to permute group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper_bracket</code></td>
<td>
<p>Array with 2 values that bracket upper confidence bound</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower_bracket</code></td>
<td>
<p>Array with 2 values that bracket lower confidence bound</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>Confidence level, default 0.95</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>Maximum distance from true confidence bound value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>Number of iterations to use when calculating permutation p-value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perm_set</code></td>
<td>
<p>Matrix of group assignments to use instead of reps iterations of perm_func</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>An integer seed value</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the permutation test p-value, and the test statistic distribution if applicable
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- c(35.3, 35.9, 37.2, 33.0, 31.9, 33.7, 36.0, 35.0, 33.3, 33.6, 37.9, 35.6, 29.0, 33.7, 35.7)
y &lt;- c(32.5, 34.0, 34.4, 31.8, 35.0, 34.6, 33.5, 33.6, 31.5, 33.8, 34.6)
df &lt;- data.frame(outcome = c(x, y), group = c(rep(1, length(x)), rep(0, length(y))))
permutation_test_ci(df = df, group_col = "group", outcome_col = "outcome", strata_col = NULL,
                    test_stat = "diff_in_means", perm_func = permute_group,
                    upper_bracket = NULL, lower_bracket = NULL,
                    cl = 0.95, e = 0.01, reps = 10^3, seed = 42)
</code></pre>


</div>