<div class="container">

<table style="width: 100%;"><tr>
<td>make_compositional_variance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Converts a covariance matrix to compositional form

</h2>

<h3>Description</h3>

<p>Given a covariance matrix, removes multiplicative noise 

</p>


<h3>Usage</h3>

<pre><code class="language-R">make_compositional_variance(Sigma)
make_compositional_min_var(Sigma)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>the uncorrected covariance matrix</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The two functions use different
methods. <code>make_compositional_variance</code> calculates the variance of
compositional data that agrees with Sigma (viewed as a bilinear form)
on compositional vectors. That is, the return value Sigma_c is a
symmetric matrix which satisfies <code>t(u)%*%Sigma_c%*%v=t(u)%*%Sigma%*%v</code> 
for any compositional vectors u and v, and also <code>rowSums(Sigma_c)=0</code>.
</p>


<h3>Value</h3>

<p>The compositionally corrected covariance matrix.
</p>


<h3>Author(s)</h3>

<p>Toby Kenney <a href="mailto:tkenney@mathstat.dal.ca">tkenney@mathstat.dal.ca</a> and Tianshu Huang </p>


<h3>Examples</h3>

<pre><code class="language-R">
n&lt;-10
p&lt;-5

X&lt;-rnorm(n*p)

dim(X)&lt;-c(n,p)
Sigma&lt;-t(X)%*%X/(n-1)

SigmaComp&lt;-make_compositional_variance(Sigma)

SigmaCompMin&lt;-make_compositional_min_var(Sigma)

</code></pre>


</div>