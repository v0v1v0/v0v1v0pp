<div class="container">

<table style="width: 100%;"><tr>
<td>as_aggregation_structure</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coerce to an aggregation structure</h2>

<h3>Description</h3>

<p>Coerce an object into an aggregation structure object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_aggregation_structure(x, ...)

## Default S3 method:
as_aggregation_structure(x, ..., weights = NULL)

## S3 method for class 'data.frame'
as_aggregation_structure(x, ...)

## S3 method for class 'matrix'
as_aggregation_structure(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object to coerce into an aggregation structure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to or used by methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>A numeric vector of aggregation weights for the elemental
aggregates. The default is to give each elemental aggregate the same weight.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default method attempts to coerce <code>x</code> into a list prior to calling
<code>aggregation_structure()</code>.
</p>
<p>The data frame and matrix methods treat <code>x</code> as a table with a row for
each elemental aggregate, a column of labels for each level in the
aggregation structure, and a column of weights for the elemental aggregates.
</p>


<h3>Value</h3>

<p>A price index aggregation structure that inherits from
<code>piar_aggregation_structure</code>.
</p>


<h3>See Also</h3>

<p><code>as.matrix()</code> and
<code>as.data.frame()</code> for
coercing an aggregation structure into a tabular form.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A simple aggregation structure
#            1
#      |-----+-----|
#      11          12
#  |---+---|       |
#  111     112     121
#  (1)     (3)     (4)

aggregation_weights &lt;- data.frame(
  level1 = c("1", "1", "1"),
  level2 = c("11", "11", "12"),
  ea     = c("111", "112", "121"),
  weight = c(1, 3, 4)
)

pias &lt;- aggregation_structure(
  aggregation_weights[1:3],
  weights = aggregation_weights[[4]]
)

all.equal(
  pias,
  as_aggregation_structure(aggregation_weights)
)

all.equal(
  pias,
  as_aggregation_structure(as.matrix(aggregation_weights))
)

</code></pre>


</div>