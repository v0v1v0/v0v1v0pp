<div class="container">

<table style="width: 100%;"><tr>
<td>calcArea</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the Areas of Polygons</h2>

<h3>Description</h3>

<p>Calculate the areas of polygons found in a PolySet.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calcArea (polys, rollup = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>polys</code></td>
<td>
<p>PolySet to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rollup</code></td>
<td>
<p>level of detail in the results; <code>1</code> = <code>PID</code>s
only, by summing all the polygons with the same <code>PID</code>, <code>2</code> =
outer contours only, by subtracting holes from their parent, and
<code>3</code> = no roll-up.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>rollup</code> equals <code>1</code>, the results contain an area for each
unique <code>PID</code> only.  When it equals <code>2</code>, they contain entries
for outer contours only.  Finally, setting it to <code>3</code> prevents
roll-up, and they contain areas for each unique (<code>PID</code>,
<code>SID</code>).
</p>
<p>Outer polygons have positive areas and inner polygons negative areas.
When polygons are rolled up, the routine sums the positive and
negative areas and consequently accounts for holes.
</p>
<p>If the PolySet's <code>projection</code> attribute equals
<code>"LL"</code>, the function projects the PolySet in UTM first.
If the PolySet's <code>zone</code> attribute exists, it uses it for
the conversion.  Otherwise, it computes the mean longitude and uses
that value to determine the zone.  The longitude range of zone
<code class="reqn">i</code> is <code class="reqn">-186 + 6 i^\circ &lt; x \le -180 + 6 i^\circ</code>.
</p>


<h3>Value</h3>

<p>PolyData with columns <code>PID</code>, <code>SID</code> (<em>may be
missing</em>), and <code>area</code>.  If the projection equals <code>"LL"</code> or
<code>"UTM"</code>, the units of area are square kilometres.
</p>


<h3>Author(s)</h3>

<p><a href="https://github.com/boersn/">Nicholas M. Boers</a>, Staff Software Engineer<br>
Jobber, Edmonton AB<br>
Last modified <code>Rd: 2022-09-06</code>
</p>


<h3>See Also</h3>

<p><code>calcCentroid</code>,
<code>calcLength</code>,
<code>calcMidRange</code>,
<code>calcSummary</code>,
<code>locatePolys</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">local(envir=.PBSmapEnv,expr={
  #--- load the data (if using R)
  if (!is.null(version$language) &amp;&amp; (version$language == "R"))
    data(nepacLL,envir=.PBSmapEnv)
  #--- convert LL to UTM so calculation makes sense
  attr(nepacLL, "zone") &lt;- 9
  nepacUTM &lt;- convUL(nepacLL)
  #--- calculate and print the areas
  print(calcArea(nepacUTM))
})
</code></pre>


</div>