<div class="container">

<table style="width: 100%;"><tr>
<td>match.tol</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Determine matching observation with a tolerance in time-scale </h2>

<h3>Description</h3>

<p>Determine which observations in a regular time series match observation in an original irregular one, accepting a given tolerance window in the time-scale. This function is internally used for regulation (functions <code>regul()</code>, <code>regul.screen()</code> and <code>regul.adj()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">match.tol(x, table, nomatch=NA, tol.type="both", tol=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> a numerical vector containing seeked values (time-scale of the regular series) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p> a numerical vector containing initial times to look for match in <code>x</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nomatch</code></td>
<td>
<p> the symbol tu use to flag an entry where no match is found. By default, <code>nomatch=NA</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol.type</code></td>
<td>
<p> the type of adjustment to use for the time-tolerance: <code>"left"</code>, <code>"right"</code>, <code>"both"</code> (by default) or <code>"none"</code>. If <code>tol.type="left"</code>, corresponding <code>x</code> values are seeked in a window ]table-tol, table]. If <code>tol.type="right"</code>, they are seeked in the window [table, table+tol[. If <code>tol.type="both"</code>, then they are seeked in the window ]table-tol, table+tol]. If several observations are in this window, the closest one is used. Finally, if <code>tol.type="none"</code>, then the function returns the <code>nomatch</code> symbol for all entries </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p> the tolerance in the time-scale to determine if a value in <code>x</code> matches a value in <code>table</code>. If <code>tol=0</code>, observations in each respective series must match exactly, otherwise observations in the regulated series are interpolated. <code>tol</code> must be a round fraction of the interval between observations in <code>x</code> (x[i+1] - x[i], (x[i+1] - x[i])/2, (x[i+1] - x[i])/3, etc...), and cannot be larger than it, otherwise, <code>tol</code> is automatically adjusted to the closest allowed value. By default, <code>tol=NULL</code>. This is equivalent to <code>tol=0</code>. Warning! </p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a vector of the same length of <code>x</code>, indicating the position of the matching observations in <code>table</code>
</p>


<h3>Author(s)</h3>

<p> Philippe Grosjean (<a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a>), Frédéric Ibanez (<a href="mailto:ibanez@obs-vlfr.fr">ibanez@obs-vlfr.fr</a>) </p>


<h3>See Also</h3>

 <p><code>regul</code>, <code>regul.screen</code>, <code>regul.adj</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">X &lt;- 1:5
Table &lt;- c(1, 3.1, 3.8, 4.4, 5.1, 6)
match.tol(X, Table)
match.tol(X, Table, tol=0.2)
match.tol(X, Table, tol=0.55)
</code></pre>


</div>