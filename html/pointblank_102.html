<div class="container">

<table style="width: 100%;"><tr>
<td>incorporate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Given an <em>informant</em> object, update and incorporate table snippets</h2>

<h3>Description</h3>

<p>When the <em>informant</em> object has a number of snippets available (by using
<code>info_snippet()</code>) and the strings to use them (by using the <code style="white-space: pre;">⁠info_*()⁠</code>
functions and <code style="white-space: pre;">⁠{&lt;snippet_name&gt;}⁠</code> in the text elements), the process of
incorporating aspects of the table into the info text can occur by
using the <code>incorporate()</code> function. After that, the information will be fully
updated (getting the current state of table dimensions, re-rendering the
info text, etc.) and we can print the <em>informant</em> object or use the
<code>get_informant_report()</code> function to see the information report.
</p>


<h3>Usage</h3>

<pre><code class="language-R">incorporate(informant)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>informant</code></td>
<td>
<p><em>The pointblank informant object</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;ptblank_informant&gt;⁠</code> // <strong>required</strong>
</p>
<p>A <strong>pointblank</strong> <em>informant</em> object that is commonly created through the
use of the <code>create_informant()</code> function.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A <code>ptblank_informant</code> object.
</p>


<h3>Examples</h3>

<p>Take the <code>small_table</code> and assign it to <code>changing_table</code> (we'll modify it
later):
</p>
<div class="sourceCode r"><pre>changing_table &lt;- small_table

changing_table
#&gt; # A tibble: 13 x 8
#&gt;    date_time           date           a b             c      d e     f    
#&gt;    &lt;dttm&gt;              &lt;date&gt;     &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;
#&gt;  1 2016-01-04 11:00:00 2016-01-04     2 1-bcd-345     3  3423. TRUE  high 
#&gt;  2 2016-01-04 00:32:00 2016-01-04     3 5-egh-163     8 10000. TRUE  low  
#&gt;  3 2016-01-05 13:32:00 2016-01-05     6 8-kdg-938     3  2343. TRUE  high 
#&gt;  4 2016-01-06 17:23:00 2016-01-06     2 5-jdo-903    NA  3892. FALSE mid  
#&gt;  5 2016-01-09 12:36:00 2016-01-09     8 3-ldm-038     7   284. TRUE  low  
#&gt;  6 2016-01-11 06:15:00 2016-01-11     4 2-dhe-923     4  3291. TRUE  mid  
#&gt;  7 2016-01-15 18:46:00 2016-01-15     7 1-knw-093     3   843. TRUE  high 
#&gt;  8 2016-01-17 11:27:00 2016-01-17     4 5-boe-639     2  1036. FALSE low  
#&gt;  9 2016-01-20 04:30:00 2016-01-20     3 5-bce-642     9   838. FALSE high 
#&gt; 10 2016-01-20 04:30:00 2016-01-20     3 5-bce-642     9   838. FALSE high 
#&gt; 11 2016-01-26 20:07:00 2016-01-26     4 2-dmx-010     7   834. TRUE  low  
#&gt; 12 2016-01-28 02:51:00 2016-01-28     2 7-dmx-010     8   108. FALSE low  
#&gt; 13 2016-01-30 11:23:00 2016-01-30     1 3-dka-303    NA  2230. TRUE  high
</pre></div>
<p>Use <code>create_informant()</code> to generate an informant object with
<code>changing_table</code> given to the <code>tbl</code> argument with a leading <code>~</code> (ensures that
the table will be fetched each time it is needed, instead of being statically
stored in the object). We'll add two snippets with <code>info_snippet()</code>, add
information with the <code>info_columns()</code> and <code>info_section()</code> functions and then
use <code>incorporate()</code> to work the snippets into the info text.
</p>
<div class="sourceCode r"><pre>informant &lt;- 
  create_informant(
    tbl = ~ changing_table,
    tbl_name = "changing_table",
    label = "`informant()` example"
  ) %&gt;%
  info_snippet(
    snippet_name = "row_count",
    fn = ~ . %&gt;% nrow()
  ) %&gt;%
  info_snippet(
    snippet_name = "col_count",
    fn = ~ . %&gt;% ncol()
  ) %&gt;%
  info_columns(
    columns = a,
    info = "In the range of 1 to 10. ((SIMPLE))"
  ) %&gt;%
  info_columns(
    columns = starts_with("date"),
    info = "Time-based values (e.g., `Sys.time()`)."
  ) %&gt;%
  info_columns(
    columns = date,
    info = "The date part of `date_time`. ((CALC))"
  ) %&gt;%
  info_section(
    section_name = "rows",
    row_count = "There are {row_count} rows available."
  ) %&gt;%
  incorporate()
</pre></div>
<p>We can print the resulting object to see the information report.
</p>
<div class="sourceCode r"><pre>informant
</pre></div>


<img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_incorporate_1.png" alt="This image was generated from the first code example in the `incorporate()` help file." style="width:100%;"><p>Let's modify <code>test_table</code> to give it more rows and an extra column.
</p>
<div class="sourceCode r"><pre>changing_table &lt;- 
  dplyr::bind_rows(changing_table, changing_table) %&gt;%
  dplyr::mutate(h = a + c)
</pre></div>
<p>Using <code>incorporate()</code> will cause the snippets to be reprocessed and
accordingly the content of the report will be updated to keep up with the
current state of the <code>changing_table</code>.
</p>
<div class="sourceCode r"><pre>informant &lt;- informant %&gt;% incorporate()
</pre></div>
<p>When printed again, we'll also see that the row and column counts in the
header have been updated to reflect the new dimensions of the target table.
Furthermore, the info text in the <code>ROWS</code> section has updated text
(<code>"There are 26 rows available."</code>).
</p>
<div class="sourceCode r"><pre>informant
</pre></div>


<img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_incorporate_2.png" alt="This image was generated from the second code example in the `incorporate()` help file." style="width:100%;"><h3>Function ID</h3>

<p>7-1
</p>


<h3>See Also</h3>

<p>Other Incorporate and Report: 
<code>get_informant_report()</code>
</p>


</div>