<div class="container">

<table style="width: 100%;"><tr>
<td>polmineR-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>polmineR-package</h2>

<h3>Description</h3>

<p>A library for corpus analysis using the Corpus Workbench (CWB) as an
efficient back end for indexing and querying large corpora.
</p>


<h3>Usage</h3>

<pre><code class="language-R">polmineR()
</code></pre>


<h3>Details</h3>

<p>The package offers functionality to flexibly create partitions and to carry
out basic statistical operations (count, co-occurrences etc.). The original
full text of documents can be reconstructed and inspected at any time. Beyond
that, the package is intended to serve as an interface to packages
implementing advanced statistical procedures. Respective data structures
(document term matrices, term co- occurrence matrices etc.) can be created
based on the indexed corpora.
</p>
<p>A session registry directory (see <code>registry()</code>) combines the registry
files for corpora that may reside in anywhere on the system. Upon loading
'polmineR', the files in the registry directory defined by the
environment variable CORPUS_REGISTRY are copied to the session registry
directory. To see whether the environment variable CORPUS_REGISTRY is set,
use the <code>Sys.getenv()</code>-function. Corpora wrapped in R data packages can be
activated using the function <code>use()</code>.
</p>
<p>The package includes a draft shiny app that can be called using
<code>polmineR()</code>.
</p>


<h3>Package options</h3>


<ul>
<li> <p><em>polmineR.p_attribute</em>: The default positional attribute.
</p>
</li>
<li> <p><em>polmineR.left</em>: Default value for left context.
</p>
</li>
<li> <p><em>polmineR.lineview</em>: A <code>logical</code> value to activate lineview output of
<code>kwic()</code>.
</p>
</li>
<li> <p><em>polmineR.pagelength</em>: Maximum number of lines to show when preparing output
using <code>DT::datatable()</code> (defaults to 10L).
</p>
</li>
<li> <p><em>polmineR.meta</em>: Default metadata (s-attributes) to show.
</p>
</li>
<li> <p><em>polmineR.mc</em>: Whether to use multiple cores.
</p>
</li>
<li> <p><em>polmineR.cores</em>: Number of cores to use. Passed as argument <code>cl</code> into
<code>mclapply()</code>.
</p>
</li>
<li> <p><em>polmineR.browse</em>: Whether to show output in browser.
</p>
</li>
<li> <p><em>polmineR.buttons</em>: A <code>logical</code> value, whether to display buttons when
preparing htmlwidget using <code>DT::datatable()</code>.
</p>
</li>
<li> <p><em>polmineR.specialChars</em>:
</p>
</li>
<li> <p><em>polmineR.cutoff</em>: Maximum number of characters to display when preparing
html output.
</p>
</li>
<li> <p><em>polmineR.mdsub</em>: A list of pairs of character vectors
defining regular expression substitutions applied as part of preprocessing
documents for html display. Intended usage: Remove characters that would be
misinterpreted as markdown formatting instructions.
</p>
</li>
<li> <p><em>polmineR.corpus_registry</em>: The system corpus registry
directory defined by the environment variable CORPUS_REGISTRY before the
polmineR package has been loaded. The polmineR package uses a temporary
registry directory to be able to use corpora stored at multiple
locations in one session. The path to the system corpus registry directory
captures this setting to keep it available if necessary.
</p>
</li>
<li> <p><em>polmineR.shiny</em>: A <code>logical</code> value, whether polmineR is
used in the context of a shiny app. Used to control the apprearance of
progress bars depending on whether shiny app is running, or not.
</p>
</li>
<li> <p><em>polmineR.warn.size</em>: When generating HTML table widgets (e.g.
when preparing kwic output to be displayed in RStudio's Viewe pane), the
function <code>DT::datatable()</code> that is used internally will issue a
warning by default if the object size of the table is greater than 1500000.
The warning adresses a client-server scenario that is not applicable in the
context of a local RStudio session, so you may want to turn it of.
Internally, the warning can be suppressed by setting the option
"DT.warn.size" to <code>FALSE</code>. The polmineR option
"polmineR.warn.size" is processed by functions calling DT::datatable()
to set and reset the value of "DT.warn.size". Please note: The
formulation of the warning does not match the scenario of a local RStudio
session, but it may still be useful to get a warning when tables are large
and slow to process. Therefore, the default value of the setting is
<code>FALSE</code>.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Andreas Blaette (andreas.blaette@uni-due.de)
</p>


<h3>References</h3>

<p>Jockers, Matthew L. (2014): <em>Text Analysis with R for Students of Literature</em>.
Cham et al: Springer.
</p>
<p>Baker, Paul (2006): <em>Using Corpora in Discourse Analysis</em>. London: continuum.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The REUTERS corpus included in the RcppCWB package is used in examples
use(pkg = "RcppCWB", corpus = "REUTERS") # activate REUTERS corpus
r &lt;- corpus("REUTERS")
if (interactive()) show_info(r)

# The package includes GERMAPARLMINI as sample data
use("polmineR") # activate GERMAPARLMINI
gparl &lt;- corpus("GERMAPARLMINI")
if (interactive()) show_info(gparl)

# Core methods

count("REUTERS", query = "oil")
count("REUTERS", query = c("oil", "barrel"))
count("REUTERS", query = '"Saudi" "Arab.*"', breakdown = TRUE, cqp = TRUE)
dispersion("REUTERS", query = "oil", s_attribute = "id")
k &lt;- kwic("REUTERS", query = "oil")
coocs &lt;- cooccurrences("REUTERS", query = "oil")


# Core methods applied to partition

kuwait &lt;- partition("REUTERS", places = "kuwait", regex = TRUE)
C &lt;- count(kuwait, query = "oil")
D &lt;- dispersion(kuwait, query = "oil", s_attribute = "id")
K &lt;- kwic(kuwait, query = "oil", meta = "id")
CO &lt;- cooccurrences(kuwait, query = "oil")


# Go back to full text

p &lt;- partition("REUTERS", id = 127)
if (interactive()) read(p)
h &lt;- html(p) %&gt;%
  highlight(highlight = list(yellow = "oil"))
if (interactive()) h_highlighted


# Generate term document matrix (not run by default to save time)

pb &lt;- partition_bundle("REUTERS", s_attribute = "id")
cnt &lt;- count(pb, p_attribute = "word")
tdm &lt;- as.TermDocumentMatrix(cnt, col = "count")

</code></pre>


</div>