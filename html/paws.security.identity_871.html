<div class="container">

<table style="width: 100%;"><tr>
<td>kms</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>AWS Key Management Service</h2>

<h3>Description</h3>

<p>Key Management Service
</p>
<p>Key Management Service (KMS) is an encryption and key management web
service. This guide describes the KMS operations that you can call
programmatically. For general information about KMS, see the <a href="https://docs.aws.amazon.com/kms/latest/developerguide/"><em>Key Management Service Developer Guide</em></a> .
</p>
<p>KMS has replaced the term <em>customer master key (CMK)</em> with <em>KMS key</em> and
<em>KMS key</em>. The concept has not changed. To prevent breaking changes, KMS
is keeping some variations of this term.
</p>
<p>Amazon Web Services provides SDKs that consist of libraries and sample
code for various programming languages and platforms (Java, Ruby, .Net,
macOS, Android, etc.). The SDKs provide a convenient way to create
programmatic access to KMS and other Amazon Web Services services. For
example, the SDKs take care of tasks such as signing requests (see
below), managing errors, and retrying requests automatically. For more
information about the Amazon Web Services SDKs, including how to
download and install them, see <a href="https://aws.amazon.com/developer/tools/">Tools for Amazon Web Services</a>.
</p>
<p>We recommend that you use the Amazon Web Services SDKs to make
programmatic API calls to KMS.
</p>
<p>If you need to use FIPS 140-2 validated cryptographic modules when
communicating with Amazon Web Services, use the FIPS endpoint in your
preferred Amazon Web Services Region. For more information about the
available FIPS endpoints, see <a href="https://docs.aws.amazon.com/general/latest/gr/kms.html#kms_region">Service endpoints</a>
in the Key Management Service topic of the <em>Amazon Web Services General
Reference</em>.
</p>
<p>All KMS API calls must be signed and be transmitted using Transport
Layer Security (TLS). KMS recommends you always use the latest supported
TLS version. Clients must also support cipher suites with Perfect
Forward Secrecy (PFS) such as Ephemeral Diffie-Hellman (DHE) or Elliptic
Curve Ephemeral Diffie-Hellman (ECDHE). Most modern systems such as Java
7 and later support these modes.
</p>
<p><strong>Signing Requests</strong>
</p>
<p>Requests must be signed using an access key ID and a secret access key.
We strongly recommend that you do not use your Amazon Web Services
account root access key ID and secret access key for everyday work. You
can use the access key ID and secret access key for an IAM user or you
can use the Security Token Service (STS) to generate temporary security
credentials and use those to sign requests.
</p>
<p>All KMS requests must be signed with <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-signing.html">Signature Version 4</a>.
</p>
<p><strong>Logging API Requests</strong>
</p>
<p>KMS supports CloudTrail, a service that logs Amazon Web Services API
calls and related events for your Amazon Web Services account and
delivers them to an Amazon S3 bucket that you specify. By using the
information collected by CloudTrail, you can determine what requests
were made to KMS, who made the request, when it was made, and so on. To
learn more about CloudTrail, including how to turn it on and find your
log files, see the <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/">CloudTrail User Guide</a>.
</p>
<p><strong>Additional Resources</strong>
</p>
<p>For more information about credentials and request signing, see the
following:
</p>

<ul>
<li> <p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html">Amazon Web Services Security Credentials</a> -
This topic provides general information about the types of
credentials used to access Amazon Web Services.
</p>
</li>
<li> <p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp.html">Temporary Security Credentials</a> -
This section of the <em>IAM User Guide</em> describes how to create and use
temporary security credentials.
</p>
</li>
<li> <p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-signing.html">Signature Version 4 Signing Process</a> -
This set of topics walks you through the process of signing a
request using an access key ID and a secret access key.
</p>
</li>
</ul>
<p><strong>Commonly Used API Operations</strong>
</p>
<p>Of the API operations discussed in this guide, the following will prove
the most useful for most applications. You will likely perform
operations other than these, such as creating keys and assigning
policies, by using the console.
</p>

<ul>
<li> <p><code>encrypt</code>
</p>
</li>
<li> <p><code>decrypt</code>
</p>
</li>
<li> <p><code>generate_data_key</code>
</p>
</li>
<li> <p><code>generate_data_key_without_plaintext</code>
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">kms(config = list(), credentials = list(), endpoint = NULL, region = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>config</code></td>
<td>
<p>Optional configuration of credentials, endpoint, and/or region.
</p>

<ul>
<li>
<p><strong>credentials</strong>: </p>

<ul>
<li>
<p><strong>creds</strong>: </p>

<ul>
<li>
<p><strong>access_key_id</strong>: AWS access key ID
</p>
</li>
<li>
<p><strong>secret_access_key</strong>: AWS secret access key
</p>
</li>
<li>
<p><strong>session_token</strong>: AWS temporary session token
</p>
</li>
</ul>
</li>
<li>
<p><strong>profile</strong>: The name of a profile to use. If not given, then the default profile is used.
</p>
</li>
<li>
<p><strong>anonymous</strong>: Set anonymous credentials.
</p>
</li>
</ul>
</li>
<li>
<p><strong>endpoint</strong>: The complete URL to use for the constructed client.
</p>
</li>
<li>
<p><strong>region</strong>: The AWS Region used in instantiating the client.
</p>
</li>
<li>
<p><strong>close_connection</strong>: Immediately close all HTTP connections.
</p>
</li>
<li>
<p><strong>timeout</strong>: The time in seconds till a timeout exception is thrown when attempting to make a connection. The default is 60 seconds.
</p>
</li>
<li>
<p><strong>s3_force_path_style</strong>: Set this to <code>true</code> to force the request to use path-style addressing, i.e. <code style="white-space: pre;">⁠http://s3.amazonaws.com/BUCKET/KEY⁠</code>.
</p>
</li>
<li>
<p><strong>sts_regional_endpoint</strong>: Set sts regional endpoint resolver to regional or legacy <a href="https://docs.aws.amazon.com/sdkref/latest/guide/feature-sts-regionalized-endpoints.html">https://docs.aws.amazon.com/sdkref/latest/guide/feature-sts-regionalized-endpoints.html</a>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>credentials</code></td>
<td>
<p>Optional credentials shorthand for the config parameter
</p>

<ul>
<li>
<p><strong>creds</strong>: </p>

<ul>
<li>
<p><strong>access_key_id</strong>: AWS access key ID
</p>
</li>
<li>
<p><strong>secret_access_key</strong>: AWS secret access key
</p>
</li>
<li>
<p><strong>session_token</strong>: AWS temporary session token
</p>
</li>
</ul>
</li>
<li>
<p><strong>profile</strong>: The name of a profile to use. If not given, then the default profile is used.
</p>
</li>
<li>
<p><strong>anonymous</strong>: Set anonymous credentials.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endpoint</code></td>
<td>
<p>Optional shorthand for complete URL to use for the constructed client.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>Optional shorthand for AWS Region used in instantiating the client.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A client for the service. You can call the service's operations using
syntax like <code>svc$operation(...)</code>, where <code>svc</code> is the name you've assigned
to the client. The available operations are listed in the
Operations section.
</p>


<h3>Service syntax</h3>

<div class="sourceCode"><pre>svc &lt;- kms(
  config = list(
    credentials = list(
      creds = list(
        access_key_id = "string",
        secret_access_key = "string",
        session_token = "string"
      ),
      profile = "string",
      anonymous = "logical"
    ),
    endpoint = "string",
    region = "string",
    close_connection = "logical",
    timeout = "numeric",
    s3_force_path_style = "logical",
    sts_regional_endpoint = "string"
  ),
  credentials = list(
    creds = list(
      access_key_id = "string",
      secret_access_key = "string",
      session_token = "string"
    ),
    profile = "string",
    anonymous = "logical"
  ),
  endpoint = "string",
  region = "string"
)
</pre></div>


<h3>Operations</h3>


<table>
<tr>
<td style="text-align: left;">
cancel_key_deletion </td>
<td style="text-align: left;"> Cancels the deletion of a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
connect_custom_key_store </td>
<td style="text-align: left;"> Connects or reconnects a custom key store to its backing key store</td>
</tr>
<tr>
<td style="text-align: left;">
create_alias </td>
<td style="text-align: left;"> Creates a friendly name for a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
create_custom_key_store </td>
<td style="text-align: left;"> Creates a custom key store backed by a key store that you own and manage</td>
</tr>
<tr>
<td style="text-align: left;">
create_grant </td>
<td style="text-align: left;"> Adds a grant to a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
create_key </td>
<td style="text-align: left;"> Creates a unique customer managed KMS key in your Amazon Web Services account and Region</td>
</tr>
<tr>
<td style="text-align: left;">
decrypt </td>
<td style="text-align: left;"> Decrypts ciphertext that was encrypted by a KMS key using any of the following operations:</td>
</tr>
<tr>
<td style="text-align: left;">
delete_alias </td>
<td style="text-align: left;"> Deletes the specified alias</td>
</tr>
<tr>
<td style="text-align: left;">
delete_custom_key_store </td>
<td style="text-align: left;"> Deletes a custom key store</td>
</tr>
<tr>
<td style="text-align: left;">
delete_imported_key_material </td>
<td style="text-align: left;"> Deletes key material that was previously imported</td>
</tr>
<tr>
<td style="text-align: left;">
derive_shared_secret </td>
<td style="text-align: left;"> Derives a shared secret using a key agreement algorithm</td>
</tr>
<tr>
<td style="text-align: left;">
describe_custom_key_stores </td>
<td style="text-align: left;"> Gets information about custom key stores in the account and Region</td>
</tr>
<tr>
<td style="text-align: left;">
describe_key </td>
<td style="text-align: left;"> Provides detailed information about a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
disable_key </td>
<td style="text-align: left;"> Sets the state of a KMS key to disabled</td>
</tr>
<tr>
<td style="text-align: left;">
disable_key_rotation </td>
<td style="text-align: left;"> Disables automatic rotation of the key material of the specified symmetric encryption KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
disconnect_custom_key_store </td>
<td style="text-align: left;"> Disconnects the custom key store from its backing key store</td>
</tr>
<tr>
<td style="text-align: left;">
enable_key </td>
<td style="text-align: left;"> Sets the key state of a KMS key to enabled</td>
</tr>
<tr>
<td style="text-align: left;">
enable_key_rotation </td>
<td style="text-align: left;"> Enables automatic rotation of the key material of the specified symmetric encryption KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
encrypt </td>
<td style="text-align: left;"> Encrypts plaintext of up to 4,096 bytes using a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
generate_data_key </td>
<td style="text-align: left;"> Returns a unique symmetric data key for use outside of KMS</td>
</tr>
<tr>
<td style="text-align: left;">
generate_data_key_pair </td>
<td style="text-align: left;"> Returns a unique asymmetric data key pair for use outside of KMS</td>
</tr>
<tr>
<td style="text-align: left;">
generate_data_key_pair_without_plaintext </td>
<td style="text-align: left;"> Returns a unique asymmetric data key pair for use outside of KMS</td>
</tr>
<tr>
<td style="text-align: left;">
generate_data_key_without_plaintext </td>
<td style="text-align: left;"> Returns a unique symmetric data key for use outside of KMS</td>
</tr>
<tr>
<td style="text-align: left;">
generate_mac </td>
<td style="text-align: left;"> Generates a hash-based message authentication code (HMAC) for a message using an HMAC KMS key and a MAC algorithm that the key supports</td>
</tr>
<tr>
<td style="text-align: left;">
generate_random </td>
<td style="text-align: left;"> Returns a random byte string that is cryptographically secure</td>
</tr>
<tr>
<td style="text-align: left;">
get_key_policy </td>
<td style="text-align: left;"> Gets a key policy attached to the specified KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
get_key_rotation_status </td>
<td style="text-align: left;"> Provides detailed information about the rotation status for a KMS key, including whether automatic rotation of the key material is enabled for the specified KMS key, the rotation period, and the next scheduled rotation date</td>
</tr>
<tr>
<td style="text-align: left;">
get_parameters_for_import </td>
<td style="text-align: left;"> Returns the public key and an import token you need to import or reimport key material for a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
get_public_key </td>
<td style="text-align: left;"> Returns the public key of an asymmetric KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
import_key_material </td>
<td style="text-align: left;"> Imports or reimports key material into an existing KMS key that was created without key material</td>
</tr>
<tr>
<td style="text-align: left;">
list_aliases </td>
<td style="text-align: left;"> Gets a list of aliases in the caller's Amazon Web Services account and region</td>
</tr>
<tr>
<td style="text-align: left;">
list_grants </td>
<td style="text-align: left;"> Gets a list of all grants for the specified KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
list_key_policies </td>
<td style="text-align: left;"> Gets the names of the key policies that are attached to a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
list_key_rotations </td>
<td style="text-align: left;"> Returns information about all completed key material rotations for the specified KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
list_keys </td>
<td style="text-align: left;"> Gets a list of all KMS keys in the caller's Amazon Web Services account and Region</td>
</tr>
<tr>
<td style="text-align: left;">
list_resource_tags </td>
<td style="text-align: left;"> Returns all tags on the specified KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
list_retirable_grants </td>
<td style="text-align: left;"> Returns information about all grants in the Amazon Web Services account and Region that have the specified retiring principal</td>
</tr>
<tr>
<td style="text-align: left;">
put_key_policy </td>
<td style="text-align: left;"> Attaches a key policy to the specified KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
re_encrypt </td>
<td style="text-align: left;"> Decrypts ciphertext and then reencrypts it entirely within KMS</td>
</tr>
<tr>
<td style="text-align: left;">
replicate_key </td>
<td style="text-align: left;"> Replicates a multi-Region key into the specified Region</td>
</tr>
<tr>
<td style="text-align: left;">
retire_grant </td>
<td style="text-align: left;"> Deletes a grant</td>
</tr>
<tr>
<td style="text-align: left;">
revoke_grant </td>
<td style="text-align: left;"> Deletes the specified grant</td>
</tr>
<tr>
<td style="text-align: left;">
rotate_key_on_demand </td>
<td style="text-align: left;"> Immediately initiates rotation of the key material of the specified symmetric encryption KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
schedule_key_deletion </td>
<td style="text-align: left;"> Schedules the deletion of a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
sign </td>
<td style="text-align: left;"> Creates a digital signature for a message or message digest by using the private key in an asymmetric signing KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
tag_resource </td>
<td style="text-align: left;"> Adds or edits tags on a customer managed key</td>
</tr>
<tr>
<td style="text-align: left;">
untag_resource </td>
<td style="text-align: left;"> Deletes tags from a customer managed key</td>
</tr>
<tr>
<td style="text-align: left;">
update_alias </td>
<td style="text-align: left;"> Associates an existing KMS alias with a different KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
update_custom_key_store </td>
<td style="text-align: left;"> Changes the properties of a custom key store</td>
</tr>
<tr>
<td style="text-align: left;">
update_key_description </td>
<td style="text-align: left;"> Updates the description of a KMS key</td>
</tr>
<tr>
<td style="text-align: left;">
update_primary_region </td>
<td style="text-align: left;"> Changes the primary key of a multi-Region key</td>
</tr>
<tr>
<td style="text-align: left;">
verify </td>
<td style="text-align: left;"> Verifies a digital signature that was generated by the Sign operation</td>
</tr>
<tr>
<td style="text-align: left;">
verify_mac </td>
<td style="text-align: left;"> Verifies the hash-based message authentication code (HMAC) for a specified message, HMAC KMS key, and MAC algorithm
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
svc &lt;- kms()
# The following example cancels deletion of the specified KMS key.
svc$cancel_key_deletion(
  KeyId = "1234abcd-12ab-34cd-56ef-1234567890ab"
)

## End(Not run)

</code></pre>


</div>