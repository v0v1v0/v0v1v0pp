<div class="container">

<table style="width: 100%;"><tr>
<td>blockScale</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Hard or soft block scaling</h2>

<h3>Description</h3>

<p>Hard or soft block scaling of a spectral matrix to constant group variance.
In multivariate calibration, block scaling is used to down-weight variables,
when one block of variables dominates other blocks.
With hard block scaling, the variables in a block are scaled so that the sum
of their variances equals 1. When soft block scaling is used, the variables
are scaled such that the sum of variable variances is equal to the square
root of the number of variables in a particular block.
</p>


<h3>Usage</h3>

<pre><code class="language-R">blockScale(X, type = 'hard', sigma2 = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a numeric matrix or vector to process (optionally a data frame that
can be coerced to a numerical matrix).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>the type of block scaling: 'hard' or 'soft'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma2</code></td>
<td>
<p>the desired total variance of a block (ie sum of the variances
of all variables, default = 1), applicable when <code>type = 'hard'</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>list</code> with <code>Xscaled</code>, the scaled matrix and <code>f</code>, the scaling
factor.
</p>


<h3>Author(s)</h3>

<p>Antoine Stevens
</p>


<h3>References</h3>

<p>Eriksson, L., Johansson, E., Kettaneh, N., Trygg, J.,
Wikstrom, C., and Wold, S., 2006. Multi- and Megavariate Data Analysis.
MKS Umetrics AB.
</p>


<h3>See Also</h3>

<p><code>blockNorm</code>, <code>standardNormalVariate</code>,
<code>detrend</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">X &lt;- matrix(rnorm(100), ncol = 10)
# Hard block scaling
res &lt;- blockScale(X)
# sum of column variances == 1
apply(res$Xscaled, 2, var)
</code></pre>


</div>