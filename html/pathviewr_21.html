<div class="container">

<table style="width: 100%;"><tr>
<td>get_sf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate the spatial frequency of visual stimuli from the subject's
perspective in an experimental tunnel.</h2>

<h3>Description</h3>

<p>Estimate the spatial frequency of visual stimuli from the subject's
perspective in an experimental tunnel.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_sf(obj_name)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>obj_name</code></td>
<td>
<p>The input viewr object; a tibble or data.frame with attribute
<code>pathviewr_steps</code> that includes <code>"viewr"</code> and
<code>vis_angles_calculated</code>.</p>
</td>
</tr></table>
<h3>Details</h3>

<p><code>get_sf()</code> assumes the following:
</p>

<ul>
<li>
<p> The subject's gaze is fixed at the point on the either side of the tunnel
that minimizes the distance to visual stimuli and therefore maximizes visual
angles.
</p>
</li>
<li>
<p> The subject's head is facing parallel to the length axis of the tunnel.
Visual perception functions in future versions of pathviewr will integrate
head orientation coordinates.
Spatial frequency is reported in cycles/degree and is the inverse of visual
angle (degrees/cycle).
</p>
</li>
</ul>
<h3>Value</h3>

<p>A tibble or data.frame with added variables for
<code>sf_pos</code>, <code>sf_neg</code>, and <code>sf_end</code>.
angle.
</p>


<h3>Author(s)</h3>

<p>Eric R. Press
</p>


<h3>See Also</h3>

<p>Other visual perception functions: 
<code>calc_min_dist_box()</code>,
<code>get_vis_angle()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> ## Import sample data from package
motive_data &lt;-
  read_motive_csv(system.file("extdata", "pathviewr_motive_example_data.csv",
                              package = 'pathviewr'))
flydra_data &lt;-
  read_flydra_mat(system.file("extdata", "pathviewr_flydra_example_data.mat",
                              package = 'pathviewr'),
                              subject_name = "birdie_sanders")

 ## Process data up to and including get_vis_angle()
motive_data_full &lt;-
  motive_data %&gt;%
  relabel_viewr_axes() %&gt;%
  gather_tunnel_data() %&gt;%
  trim_tunnel_outliers() %&gt;%
  rotate_tunnel() %&gt;%
  select_x_percent(desired_percent = 50) %&gt;%
  separate_trajectories(max_frame_gap = "autodetect") %&gt;%
  get_full_trajectories(span = 0.95) %&gt;%
  insert_treatments(tunnel_config = "v",
                   perch_2_vertex = 0.4,
                   vertex_angle = 90,
                   tunnel_length = 2,
                   stim_param_lat_pos = 0.1,
                   stim_param_lat_neg = 0.1,
                   stim_param_end_pos = 0.3,
                   stim_param_end_neg = 0.3,
                   treatment = "lat10_end_30") %&gt;%
  calc_min_dist_v(simplify_output = TRUE) %&gt;%
  get_vis_angle() %&gt;%

  ## Now calculate the spatial frequencies
  get_sf()

  flydra_data_full &lt;-
  flydra_data %&gt;%
  redefine_tunnel_center(length_method = "middle",
                        height_method = "user-defined",
                        height_zero = 1.44) %&gt;%
  select_x_percent(desired_percent = 50) %&gt;%
  separate_trajectories(max_frame_gap = "autodetect") %&gt;%
  get_full_trajectories(span = 0.95) %&gt;%
  insert_treatments(tunnel_config = "box",
                   tunnel_length = 3,
                   tunnel_width = 1,
                   stim_param_lat_pos = 0.1,
                   stim_param_lat_neg = 0.1,
                   stim_param_end_pos = 0.3,
                   stim_param_end_neg = 0.3,
                   treatment = "lat10_end_30") %&gt;%
  calc_min_dist_box() %&gt;%
  get_vis_angle() %&gt;%

  ## Now calculate the spatial frequencies
  get_sf()
</code></pre>


</div>