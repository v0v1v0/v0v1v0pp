<div class="container">

<table style="width: 100%;"><tr>
<td>fitcomp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Component Effects for a Model Fit</h2>

<h3>Description</h3>

<p>Determines effects of varying each of the given variables while all
others are held constant. This function is mainly used to produce
plots of residuals versus explanatory variables, also showing
component effects. It can handle a multivariate response fitted by
<code>lm</code>. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">fitcomp(object, data = NULL, vars=NULL, transformed=FALSE, se = FALSE, 
  xm = NULL, xfromdata = FALSE, noexpand=NULL, nxcomp = 51)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a model fit, result of a fitting function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame in which the variables are found.
If not provided, it is obtained from <code>object</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>character vector of names of variables for which
components are required. Only variables that appear in <code>data</code>
will be used. If <code>NULL</code> (the default), all variables in
<code>data</code> are used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transformed</code></td>
<td>
<p>logical: should components be calculated for 
transformed explanatory variables? If <code>TRUE</code>, the variables are
transformed as implied by the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>if TRUE, standard errors will be returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xm</code></td>
<td>
<p>named vector of values of the fixed (central) point from
which the individual variables are varied in turn. <br>
Defaults to the componentwise median of quantitative variables and
the modes of factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xfromdata</code></td>
<td>
<p>if TRUE, the components effects will be evaluated for
the data values in <code>data</code>. Otherwise, the range of each
numerical variable is filled with <code>nxcomp</code> equidistant points,
whereas for factors, all levels are used.
This is useful for residual plots with component effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noexpand</code></td>
<td>
<p>vector determining which variables should not be
“filled in”, probably because they are used like factors.
Either a character vector of variable names or a vector of
logical or numerical values with names, in which case the names
corresponding to positive values will be identified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nxcomp</code></td>
<td>
<p>number of points used for each (quantitative) variable
if <code>xfromdata</code> is <code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The component effect is defined as the curve of fitted values
obtained by varying the explanatory variable or term, keeping all the other
variables (terms) at their "central value" <code>xm</code> (the mean of continuous variables
and the mode of factors).
</p>


<h3>Value</h3>

<p>A list consisting of
</p>
<table>
<tr style="vertical-align: top;">
<td><code>comp</code></td>
<td>
<p>component effects. A matrix, unless the response is
multivariate, in which case it will be a 3-dimensional array.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the values of the x variables for which the effects have been
calculated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xm</code></td>
<td>
<p>the values at which the x variables are held fixed while one
of them is varied</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>standard errors of the component effects, if required by the
argument <code>se</code>. Same structure as <code>comp</code></p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Werner A. Stahel, ETH Zurich</p>


<h3>See Also</h3>

<p><code>predict</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(d.blast)
t.r &lt;- lm(log10(tremor)~location+log10(distance)+log10(charge), data=d.blast)
t.fc &lt;- fitcomp(t.r,se=TRUE)
t.fc$comp[1:10,]
</code></pre>


</div>