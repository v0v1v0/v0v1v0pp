<div class="container">

<table style="width: 100%;"><tr>
<td>getLambda</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculates lambda, the population growth rate, for each species in a quadrat
based on changes in basal cover.</h2>

<h3>Description</h3>

<p>This function calculates the population growth rate (lambda) for
every species in a quadrat. This value is the ratio of basal area or number
of individuals in the next year to basal area or number of individuals in the
current year (basal area in year t+1/ basal area in year t). A lambda value
greater than 1 indicates a population is growing, while a value less than 1
indicates population decline. Lambda is 'infinity' when the basal area or
number of individuals in year t is 0, and is NA when basal area or number of
individuals in year t is zero (i.e. when there are no organims present in
year =t). Note that a lambda value is calculated between of the years when a
quadrat was sampled, even if there is a gap in sampling. For example, a
quadrat is sampled in 1998, 1999, 2001, and 2002 (but skipped in 2000). A
lambda value will be calculated for 1998-1999 and 2001-2002, which is a
transition from year <code>t</code> to year <code>t+1</code>. However, a lambda value is calculated
in the same manner for 1999-2001, which is actually a transition from year
<code>t</code> to year <code>t+2</code>. You can remove these values by subsetting the data.frame
returned by <code>getLambda()</code> for rows when "Year_tplus1"- "Year_t" is equal
to 1.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getLambda(
  dat,
  inv,
  method = "area",
  species = "Species",
  quad = "Quad",
  site = "Site",
  year = "Year",
  geometry = "geometry",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>An sf data.frame in which each row represents a unique polygon
(either a genet or a ramet) in a unique site/quadrat/year combination. A
data.frame returned by <code>trackSpp</code> can be put directly into this
function. However, it is not strictly necessary for 'dat' to have demographic
data or unique identifiers (i.e. 'trackIDs') assigned. If there are not
trackIDs assigned for each individual, then the function assumes that each
row of data repesents one genetic individual.'dat' <em>must</em> have columns that
contain...
</p>

<ul>
<li>
<p> a unique identification for each research site in character format
with no NAs (the default column name is "Site")
</p>
</li>
<li>
<p> species name in character format with no NAs (the default column
name is "Species")
</p>
</li>
<li>
<p> unique quadrat identifier in character format with no NAs (the default
column name is "Quad")
</p>
</li>
<li>
<p> year of data collection in integer format with no NAs (the
default column name is "Year")
</p>
</li>
<li>
<p> an s.f 'geometry' column that contains a polygon or multipolygon data type
for each individual observation (the default column name is "geometry")
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inv</code></td>
<td>
<p>The name of each element of the list is a
quadrat name in 'dat', and the contents of that list element is a numeric
vector of all of the years in which that quadrat (or other unique spatial
area) was sampled. Make sure this is the years the quadrat was actually
sampled, not just the years that have data in the 'dat' argument! This
argument allows the function to differentiate between years when the quadrat
wasn't sampled and years when there just weren't any individuals of a species
present in that quadrat.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A single character argument that determines the method for
calculating lambda. The default value is "area", which means that lambda is
calculated by comparing total basal area for a given species in year t+1 to
year t. If 'method' = "count", then lambda is calculated by comparing total
number of individuals for a given species in year t+1 to year t. If each
individual in 'dat' is mapped as a point, it is best to use
'method' = "count".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>An optional character string argument. Indicates
the name of the column in 'dat' that contains species name data. It is
unnecessary to include a value for this argument if the column name is
"Species" (default value is 'Species').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quad</code></td>
<td>
<p>An optional character string argument. Indicates
the name of the column in 'dat' that contains quadrat name data. It is
unnecessary to include a value for this argument if the column name is
"Quad" (default is 'Quad').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site</code></td>
<td>
<p>An optional character string argument. Indicates
the name of the column in 'dat' that contains site name data. It is
unnecessary to include a value for this argument if the column name is
"Site" (default value is 'Site').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>An optional character string argument. Indicates
the name of the column in 'dat' that contains data for year of sampling. It
is unnecessary to include a value for this argument if the column name is
"Year" (default is 'Year').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geometry</code></td>
<td>
<p>An optional character string argument. Indicates
the name of the column in 'dat' that contains sf geometry data. It is
unnecessary to include a value for this argument if the column name is
"geometry" (default is 'geometry').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed on to methods. Not currently used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function returns a data.frame with columns containing site,
quadrat, and species data, as well as the following columns:
</p>

<dl>
<dt>Year_t</dt>
<dd>
<p>the 'current' year</p>
</dd>
<dt>absolute_basalArea_t</dt>
<dd>
<p>basal area (in the same units as the spatial
elements of 'dat') for this species in this quadrat in year 't'</p>
</dd>
<dt>Year_tplus1</dt>
<dd>
<p>the 'next' year</p>
</dd>
<dt>absolute_basalArea_tplus1</dt>
<dd>
<p>basal area (in the same units as the spatial
elements of 'dat') for this species in this quadrat in year 't+1'</p>
</dd>
<dt>lambda</dt>
<dd>
<p>The population growth rate for this species in this quadrat
from year t to year t+1.</p>
</dd>
</dl>
<h3>See Also</h3>

<p><code>getBasalAreas()</code>, used internally in this function, which
calculates absolute and relative basal areas for each species in each quadrat
for each year of sampling.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat &lt;- grasslandData[grasslandData$Site == "AZ" &amp;
 grasslandData$Year %in% c(1922:1925),]
names(dat)[1] &lt;- "speciesName"
inv &lt;- grasslandInventory[unique(dat$Quad)]
outDat &lt;- trackSpp(dat = dat,
 inv = inv,
 dorm = 1,
 buff = .05,
 buffGenet = 0.005,
 clonal = data.frame("Species" = unique(dat$speciesName),
 "clonal" = c(TRUE,FALSE)),
 species = "speciesName",
 aggByGenet = TRUE
 )
getLambda(dat = outDat, inv = inv, method = "area",
species = "speciesName")
</code></pre>


</div>