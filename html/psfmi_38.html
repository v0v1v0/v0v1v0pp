<div class="container">

<table style="width: 100%;"><tr>
<td>nri_cox</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Net Reclassification Index for Cox Regression Models</h2>

<h3>Description</h3>

<p><code>nri_cox</code> Net Reclassification Index for Cox Regression Models
</p>


<h3>Usage</h3>

<pre><code class="language-R">nri_cox(data, formula0, formula1, t_risk, cutoff, B = FALSE, nboot = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame with relevant predictors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula0</code></td>
<td>
<p>A formula object to specify the reference model as normally used by glm.
See under "Details" and "Examples" how these can be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula1</code></td>
<td>
<p>A formula object to specify the new model as normally used by glm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t_risk</code></td>
<td>
<p>Follow-up value to calculate cases, controls. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>A numerical vector that defines the outcome probability cutoff values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>A logical  scalar. If TRUE bootstrap confidence intervals are calculated, if FALSE only
the NRI estimates are reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nboot</code></td>
<td>
<p>A numerical scalar. Number of bootstrap samples to derive the percentile bootstrap
confidence intervals. Default is 10.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A typical formula object has the form <code>Outcome ~ terms</code>. Categorical variables has to
be defined as <code>Outcome ~ factor(variable)</code>, restricted cubic spline variables as
<code>Outcome ~ rcs(variable, 3)</code>. Interaction terms can be defined as
<code>Outcome ~ variable1*variable2</code> or <code>Outcome ~ variable1 + variable2 + variable1:variable2</code>.
All variables in the terms part have to be separated by a "+". If a formula
object is used set predictors, cat.predictors, spline.predictors or int.predictors
at the default value of NULL.
</p>
<p>Follow-up for which cases nd controls are determined. For censored cases before this follow-up 
the expected risk of being a case is calculated by using the Kaplan-Meier value to calculate
the expected number of cases.These expected numbers are used to calculate the NRI proportions 
but are not shown by function <code>nricens</code>.
</p>


<h3>Value</h3>

<p>An object from which the following objects can be extracted: 
</p>

<ul>
<li>  <p><code>data</code> dataset. 
</p>
</li>
<li>  <p><code>prob_orig</code> outcome risk probabilities at t_risk for reference model.
</p>
</li>
<li>  <p><code>prob_new</code> outcome risk probabilities at t_risk for new model.
</p>
</li>
<li>  <p><code>time</code> name of time variable.
</p>
</li>
<li>  <p><code>status</code> name of status variable.
</p>
</li>
<li>  <p><code>cutoff</code> cutoff value for survival probability. 
</p>
</li>
<li>  <p><code>t_risk</code> follow-up time used to calculate outcome (risk) probabilities.
</p>
</li>
<li>  <p><code>reclass_totals</code> table with total reclassification numbers.
</p>
</li>
<li>  <p><code>reclass_cases</code> table with reclassification numbers for cases.
</p>
</li>
<li>  <p><code>reclass_controls</code> table with reclassification numbers for controls.
</p>
</li>
<li>  <p><code>totals</code> totals of controls, cases, censored cases.
</p>
</li>
<li>  <p><code>km_est</code> totals of cases calculated using Kaplan-Meiers risk estimates.
</p>
</li>
<li>  <p><code>nri_est</code> reclassification measures.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Martijn Heymans, 2023
</p>


<h3>References</h3>

<p>Cook NR, Ridker PM. Advances in measuring the effect of individual predictors of 
cardiovascular risk: the role of reclassification measures. Ann Intern Med. 2009;150(11):795-802.
</p>
<p>Steyerberg EW, Pencina MJ. Reclassification calculations for persons with incomplete 
follow-up. Ann Intern Med. 2010;152(3):195-6; author reply 196-7.
</p>
<p>Pencina MJ, D'Agostino RB Sr, Steyerberg EW. Extensions of net reclassification 
improvement calculations to measure usefulness of new biomarkers. Stat Med. 2011;30(1):11-21
</p>
<p>Inoue E (2018). nricens: NRI for Risk Prediction Models with Time to Event and Binary 
Response Data. R package version 1.6, &lt;https://CRAN.R-project.org/package=nricens&gt;.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  library(survival)
  lbpmicox1 &lt;- subset(psfmi::lbpmicox, Impnr==1) # extract one dataset
  risk_est &lt;- nri_cox(data=lbpmicox1, formula0 = Surv(Time, Status) ~ Duration + Pain,
                   formula1 = Surv(Time, Status) ~ Duration + Pain + Function + Radiation,
                   t_risk = 80, cutoff=c(0.45), B=TRUE, nboot=10)

</code></pre>


</div>