<div class="container">

<table style="width: 100%;"><tr>
<td>pophaz</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expected / Population Hazard Data Sets Usage in <span class="pkg">popEpi</span>
</h2>

<h3>Description</h3>

<p>Several functions in <span class="pkg">popEpi</span> make use of population or expected
hazards in computing the intended estimates (e.g. <code>survtab</code>).
This document explains using such data sets in this package.
</p>


<h3>Details</h3>

<p>Population hazard data sets (pophaz for short) in <span class="pkg">popEpi</span> should
be <code>data.frame</code>s in the "long" format where one of the columns must be
named <code>haz</code> (for hazard), and other columns define the values or 
levels in variables relating to subjects in your data. For example,
<code>popmort</code> contains Finnish population mortality hazards
by sex, calendar year, and 1-year age group.
</p>

<table>
<tr>
<td style="text-align: right;">
<code>sex</code> </td>
<td style="text-align: right;"> <code>year</code> </td>
<td style="text-align: right;"> <code>agegroup</code> </td>
<td style="text-align: right;"> <code>haz</code> </td>
</tr>
<tr>
<td style="text-align: right;">
0 </td>
<td style="text-align: right;"> 1951 </td>
<td style="text-align: right;"> 0 </td>
<td style="text-align: right;"> 0.036363176</td>
</tr>
<tr>
<td style="text-align: right;">  
0 </td>
<td style="text-align: right;"> 1951 </td>
<td style="text-align: right;"> 1 </td>
<td style="text-align: right;"> 0.003616547</td>
</tr>
<tr>
<td style="text-align: right;">
0 </td>
<td style="text-align: right;"> 1951 </td>
<td style="text-align: right;"> 2 </td>
<td style="text-align: right;"> 0.002172384</td>
</tr>
<tr>
<td style="text-align: right;">
0 </td>
<td style="text-align: right;"> 1951 </td>
<td style="text-align: right;"> 3 </td>
<td style="text-align: right;"> 0.001581249</td>
</tr>
<tr>
<td style="text-align: right;">
0 </td>
<td style="text-align: right;"> 1951 </td>
<td style="text-align: right;"> 4 </td>
<td style="text-align: right;"> 0.001180690</td>
</tr>
<tr>
<td style="text-align: right;">
0 </td>
<td style="text-align: right;"> 1951 </td>
<td style="text-align: right;"> 5 </td>
<td style="text-align: right;"> 0.001070595
</td>
</tr>
</table>
<p>The names of the columns should match to the names of the variables
that you have in your subject-level data. Time variables in your pophaz
may also correspond to <code>Lexis</code> time scales; see 
<code>survtab</code>.
</p>
<p>Any time variables (as they usually have) should be coded consistently:
When using fractional years in your data, the time variables in your pophaz
must also be coded in fractional years. When using e.g. <code>Date</code>s in your
data, ensure that the pophaz time variables are coded at the level of days
(or <code>Date</code>s for calendar time). 
</p>
<p>The <code>haz</code> variable in your pophaz should also be coded consistently
with the used time variables. E.g. <code>haz</code> values in life-tables
reported as deaths per person-year should be multiplied by 365.25 when
using day-level time variables. Typically you'll have calendar time and age
expressed in years, which means <code>haz</code> should be expressed as the number
of deaths per person-year.
</p>
<p>If you have your population hazards in a <code>ratetable</code> object
usable by functions in <span class="pkg">survival</span> and <span class="pkg">relsurv</span>, you may
transform them to long-format <code>data.frame</code>s using
<code>ratetable_to_long_dt</code>. Ensure, however, that the
created <code>haz</code> column is coded at the right level (events per
days or years typically).
</p>
<p>National statistical institutions, the WHO, and e.g. the Human
Life-Table Database supply life-table data.
</p>


<h3>Author(s)</h3>

<p>Joonas Miettinen
</p>


</div>