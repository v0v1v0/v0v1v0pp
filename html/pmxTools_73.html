<div class="container">

<table style="width: 100%;"><tr>
<td>plot_scm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualize PsN SCM output.</h2>

<h3>Description</h3>

<p><code>plot_scm</code> returns a visualization of a Perl-speaks-NONMEM (PsN, <a href="https://uupharmacometrics.github.io/PsN/">https://uupharmacometrics.github.io/PsN/</a>) SCM (stepwise covariate modeling)
procedure. It depends on the presence of <code>scmlog.txt</code> and <code>short_scmlog.txt</code> files in the
specified directory.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_scm(
  dir,
  startPhase = "forward",
  fwdSuccessCol = "#66C2A5",
  fwdFailCol = "black",
  bwdSuccessCol = "#FC8D62",
  bwdFailCol = "black",
  defCol = "black",
  fwdSuccessFillCol = "#B3E2CD",
  fwdFailFillCol = "white",
  bwdSuccessFillCol = "#FDCDAC",
  bwdFailFillCol = "white",
  defFillCol = "white",
  fwdSuccessFontCol = "black",
  fwdFailFontCol = "black",
  bwdSuccessFontCol = "black",
  bwdFailFontCol = "black",
  defFontCol = "black",
  fullFwdCol = "#8DA0CB",
  finalCol = "#E78AC3",
  fullFwdFillCol = "#CBD5E8",
  finalFillCol = "#F4CAE4",
  fullFwdFontCol = "black",
  finalFontCol = "black",
  fullFwdWidth = "2px",
  finalWidth = "2px",
  defWidth = "1px",
  nodeStyle = "filled,rounded",
  nodeShape = "box",
  fontname = "helvetica",
  rankdir = "TB",
  layout = "dot",
  lookupDF = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>A PsN SCM folder (containing <code>scmlog.txt</code> and <code>short_scmlog.txt</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startPhase</code></td>
<td>
<p>Where to start collating the output; can be <code>"forward"</code> (the default) or <code>"backward"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fwdSuccessCol</code></td>
<td>
<p>Node outline color for a model fit matching the forward inclusion criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fwdFailCol</code></td>
<td>
<p>Node outline color for a model fit not matching the forward inclusion criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwdSuccessCol</code></td>
<td>
<p>Node outline color for a model fit matching the backward elimination criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwdFailCol</code></td>
<td>
<p>Node outline color for a model fit not matching the backward elimination criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defCol</code></td>
<td>
<p>Default node outline color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fwdSuccessFillCol</code></td>
<td>
<p>Node fill color for a model fit matching the forward inclusion criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fwdFailFillCol</code></td>
<td>
<p>Node fill color for a model fit not matching the forward inclusion criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwdSuccessFillCol</code></td>
<td>
<p>Node fill color for a model fit matching the backward elimination criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwdFailFillCol</code></td>
<td>
<p>Node fill color for a model fit not matching the backward elimination criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defFillCol</code></td>
<td>
<p>Default node fill color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fwdSuccessFontCol</code></td>
<td>
<p>Node font color for a model fit matching the forward inclusion criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fwdFailFontCol</code></td>
<td>
<p>Node font color for a model fit not matching the forward inclusion criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwdSuccessFontCol</code></td>
<td>
<p>Node font color for a model fit matching the backward elimination criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwdFailFontCol</code></td>
<td>
<p>Node font color for a model fit not matching the backward elimination criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defFontCol</code></td>
<td>
<p>Default node font color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fullFwdCol</code></td>
<td>
<p>Node outline color for the full forward model (i.e. the final model before the backward elimination procedure in SCM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>finalCol</code></td>
<td>
<p>Node outline color for the final reduced model (i.e. the final model reached after the backward elimination procedure in SCM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fullFwdFillCol</code></td>
<td>
<p>Node fill color for the full forward model (i.e. the final model before the backward elimination procedure in SCM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>finalFillCol</code></td>
<td>
<p>Node fill color for the final reduced model (i.e. the final model reached after the backward elimination procedure in SCM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fullFwdFontCol</code></td>
<td>
<p>Node font color for the full forward model (i.e. the final model before the backward elimination procedure in SCM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>finalFontCol</code></td>
<td>
<p>Node font color for the final reduced model (i.e. the final model reached after the backward elimination procedure in SCM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fullFwdWidth</code></td>
<td>
<p>Node outline width for the full forward model (i.e. the final model before the backward elimination procedure in SCM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>finalWidth</code></td>
<td>
<p>Node outline width for the final reduced model (i.e. the final model reached after the backward elimination procedure in SCM).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defWidth</code></td>
<td>
<p>Default node outline width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodeStyle</code></td>
<td>
<p>Node style. A string containing a comma-separated list of options (which include "filled", "striped", "wedged", "diagonals" and "rounded"). See the GraphViz documentation for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodeShape</code></td>
<td>
<p>Node shape. Options include "box" (the default), "oval", "diamond", "egg", "plaintext", "point", "square", "triangle" and many more. See the GraphViz documentation for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontname</code></td>
<td>
<p>Font for nodes. Options depend heavily on the local system - see the GraphViz documentation for further details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rankdir</code></td>
<td>
<p>Direction of graph layout. Possible values are "TB" (the default), "LR", "BT", "RL", corresponding to directed graphs drawn from top to bottom, from left to right, from bottom to top, and from right to left, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout</code></td>
<td>
<p>Graph layout. Possible values are "dot" (the default), "neato", "twopi", and "circo". Note that of these, "dot" is the easiest to interpret and the others may produce odd results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lookupDF</code></td>
<td>
<p>A data frame containing a lookup table for node labels. By default, plot_scm will use the PSN model names. If a lookup table containing the fields 'Model' and 'Alias' is provided, model names in 'Model' will be replaced in the output plots by mtaching labels in 'Alias'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed to the underlying <code>SetNodeStyle</code> and <code>SetEdgeStyle</code> functions, which in turn rely on <code>DiagrammeR</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function parses PsN SCM output and displays it as a GraphViz graph (effectively, an HTML widget). It is built on <code>plot.Node</code> - please refer to doucmentation for this function for a more detailed overview of what is possible (a lot). For more specific details, see <a href="http://rich-iannone.github.io/DiagrammeR/docs.html">http://rich-iannone.github.io/DiagrammeR/docs.html</a>.
</p>


<h3>Value</h3>

<p>A <code>grViz</code> object.
</p>


<h3>Author(s)</h3>

<p>Justin Wilkins, <a href="mailto:justin.wilkins@occams.com">justin.wilkins@occams.com</a>
</p>


<h3>See Also</h3>

<p>NONMEM (<a href="https://www.iconplc.com/innovation/nonmem/">https://www.iconplc.com/innovation/nonmem/</a>)
</p>
<p>GraphViz (<a href="https://graphviz.org/Documentation.php">https://graphviz.org/Documentation.php</a>)
</p>
<p>Lindbom L, Ribbing J &amp; Jonsson EN (2004). Perl-speaks-NONMEM (PsN) - A Perl module for NONMEM related programming. Computer Methods and Programs in Biomedicine, 75(2), 85-94. <a href="https://doi.org/10.1016/j.cmpb.2003.11.003">doi:10.1016/j.cmpb.2003.11.003</a>
</p>
<p>Lindbom L, Pihlgren P &amp; Jonsson N (2005). PsN-Toolkit - A collection of computer intensive statistical methods for non-linear mixed effect modeling using NONMEM. Computer Methods and Programs in Biomedicine, 79(3), 241-257. <a href="https://doi.org/10.1016/j.cmpb.2005.04.005">doi:10.1016/j.cmpb.2005.04.005</a>
</p>
<p>Other NONMEM reading: 
<code>read_nm_all()</code>,
<code>read_nm_multi_table()</code>,
<code>read_nmcov()</code>,
<code>read_nmext()</code>,
<code>read_nmtables()</code>,
<code>read_nm()</code>,
<code>read_scm()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
scm &lt;- plot_scm("E:/DrugX/ModelDevelopment/scm310")

## End(Not run)

</code></pre>


</div>