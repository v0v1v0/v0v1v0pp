<div class="container">

<table style="width: 100%;"><tr>
<td>MiniBenchmarkRvsCpp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evaluate the likelihood calculation times for example trees and data</h2>

<h3>Description</h3>

<p>Evaluate the likelihood calculation times for example trees and data
</p>


<h3>Usage</h3>

<pre><code class="language-R">MiniBenchmarkRvsCpp(data = PCMBaseCpp::benchmarkData, includeR = TRUE,
  includeTransformationTime = TRUE, nRepsCpp = 10L,
  listOptions = list(PCMBase.Lmr.mode = 11, PCMBase.Threshold.EV = 0,
  PCMBase.Threshold.SV = 0), doProf = FALSE, RprofR.out = "RprofR.out",
  RprofCpp.out = "RprofCpp.out")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a 'data.frame' with at least the following columns: 
</p>

<ul>
<li>
<p>tree: a list column of phylo objects with an edge.part member set.
</p>
</li>
<li>
<p>X: a list column of k x N numerical matrices.
</p>
</li>
<li>
<p>model: a list column of PCM objects.
</p>
</li>
</ul>
<p>Defaults: to 'benchmarkData', which is small data.table included
with the PCMBaseCpp package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeR</code></td>
<td>
<p>logical (default TRUE) indicating if likelihood calculations
in R should be included in the benchmark (can be slow).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeTransformationTime</code></td>
<td>
<p>logical (default TRUE) indicating if the time for
<code>PCMApplyTransformation</code> should be included in the benchmark.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nRepsCpp</code></td>
<td>
<p>: number of repetitions for the cpp likelihood calculation 
calls: a bigger value increases the precision of time estimation at the 
expense of longer running time for the benchmark. Defaults to 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>listOptions</code></td>
<td>
<p>options to set before measuring the calculation times. 
Defaults to 'list(PCMBase.Lmr.mode = 11, PCMBase.Threshold.EV = 0, PCMBase.Threshold.SV = 0)'. 
'PCMBase.Lmr.mode' corresponds to the parallel traversal mode for the tree 
traversal algorithm (see 
<a href="https://venelin.github.io/SPLITT/articles/SPLITTTraversalModes.html">this page</a>
for possible values).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doProf</code></td>
<td>
<p>logical indicating if profiling should be activated (see Rprof
from the utils R-package). Default: FALSE. Additional arguments to Rprof can 
be specified by assigning lists of arguments to the options 'PCMBaseCpp.ArgsRprofR'
and 'PCMBaseCpp.ArgsRprofCpp'. The default values for both options is
<code>list(append = TRUE, line.profiling = TRUE)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RprofR.out, RprofCpp.out</code></td>
<td>
<p>character strings indicating Rprof.out files 
for the R and Cpp implementations; ignored if doProf is FALSE. Default values:
'RprofR.out' and 'Rprofcpp.out'.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data.frame.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(PCMBase)
library(PCMBaseCpp)
library(data.table)

testData &lt;- PCMBaseCpp::benchmarkData[1]
# original MGPM model
MiniBenchmarkRvsCpp(data = testData)

# original MGPM model and parallel mode
MiniBenchmarkRvsCpp(
data = testData,
listOptions = list(PCMBase.Lmr.mode = 21, PCMBase.Threshold.EV = 1e-9, 
PCMBase.Threshold.SV = 1e-9))

# single-trait data, original MGPM model and single mode and enabled option 
# PCMBase.Use1DClasses
MiniBenchmarkRvsCpp(
data = PCMBaseCpp::benchmarkData[1, list(
 tree, 
 X = lapply(X, function(x) x[1,, drop=FALSE]), 
 model = lapply(model, function(m) PCMExtractDimensions(m, dims = 1)))],
listOptions = list(
  PCMBase.Lmr.mode = 11, 
  PCMBase.Threshold.EV = 1e-9, 
  PCMBase.Threshold.SV = 1e-9,
  PCMBase.Use1DClasses = FALSE))

</code></pre>


</div>