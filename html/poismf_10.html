<div class="container">

<table style="width: 100%;"><tr>
<td>topN</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rank top-N highest-predicted items for an existing user</h2>

<h3>Description</h3>

<p>Rank top-N highest-predicted items for an existing user
</p>


<h3>Usage</h3>

<pre><code class="language-R">topN(
  model,
  user,
  n = 10,
  include = NULL,
  exclude = NULL,
  output_score = FALSE,
  nthreads = parallel::detectCores()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A Poisson factorization model as returned by 'poismf'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user</code></td>
<td>
<p>User for which to rank the items. If 'X' passed to 'poismf' was a
'data.frame', must match with the entries in its first column,
otherwise should match with the rows of 'X' (numeration starting at 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of top-N highest-predicted results to output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include</code></td>
<td>
<p>List of items which will be ranked. If passing this, will only
make a ranking among these items. If 'X' passed to 'poismf' was a
'data.frame', must match with the entries in its second column,
otherwise should match with the columns of 'X' (numeration starting at 1). Can only pass
one of 'include' or 'exclude.' Must not contain duplicated entries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>List of items to exclude from the ranking. If passing this, will
rank all the items except for these. If 'X' passed to 'poismf' was a
'data.frame', must match with the entries in its second column,
otherwise should match with the columns of 'X' (numeration starting at 1). Can only pass
one of 'include' or 'exclude'. Must not contain duplicated entries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_score</code></td>
<td>
<p>Whether to output the scores in addition to the IDs. If passing
'FALSE', will return a single array with the item IDs, otherwise
will return a list with the item IDs and the scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nthreads</code></td>
<td>
<p>Number of parallel threads to use.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Even though the fitted model matrices might be sparse, they are always used
in dense format here. In many cases it might be more efficient to produce the
rankings externally through some library that would exploit the sparseness for
much faster computations. The matrices can be access under 'model$A' and 'model$B'.
</p>


<h3>Value</h3>


<ul>
<li>
<p> If passing 'output_score=FALSE' (the default), will return a vector of size 'n'
with the top-N highest predicted items for this user.If the 'X' data passed to
'poismf' was a 'data.frame', will contain the item IDs from its second column,
otherwise will be integers matching to the columns of 'X' (starting at 1). If
'X' was passed as 'data.frame', the entries in this vector might be coerced to
character regardless of their original type.
</p>
</li>
<li>
<p> If passing 'output_score=TRUE', will return a list, with the first entry
being the vector described above under name 'ix', and the second entry being the
associated scores, as a numeric vector of size 'n'.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>topN.new predict.poismf factors.single
</p>


</div>