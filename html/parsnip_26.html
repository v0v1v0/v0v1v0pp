<div class="container">

<table style="width: 100%;"><tr>
<td>augment.model_fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Augment data with predictions</h2>

<h3>Description</h3>

<p><code>augment()</code> will add column(s) for predictions to the given data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'model_fit'
augment(x, new_data, eval_time = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>model_fit</code> object produced by <code>fit.model_spec()</code> or
<code>fit_xy.model_spec()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_data</code></td>
<td>
<p>A data frame or matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval_time</code></td>
<td>
<p>For censored regression models, a vector of time points at
which the survival probability is estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not currently used.</p>
</td>
</tr>
</table>
<h3>Details</h3>



<h4>Regression</h4>

<p>For regression models, a <code>.pred</code> column is added. If <code>x</code> was created using
<code>fit.model_spec()</code> and <code>new_data</code> contains a regression outcome column, a
<code>.resid</code> column is also added.
</p>



<h4>Classification</h4>

<p>For classification models, the results can include a column called
<code>.pred_class</code> as well as class probability columns named <code style="white-space: pre;">⁠.pred_{level}⁠</code>.
This depends on what type of prediction types are available for the model.
</p>



<h4>Censored Regression</h4>

<p>For these models, predictions for the expected time and survival probability
are created (if the model engine supports them). If the model supports
survival prediction, the <code>eval_time</code> argument is required.
</p>
<p>If survival predictions are created and <code>new_data</code> contains a
<code>survival::Surv()</code> object, additional columns are added for inverse
probability of censoring weights (IPCW) are also created (see <code>tidymodels.org</code>
page in the references below). This enables the user to compute performance
metrics in the <span class="pkg">yardstick</span> package.
</p>



<h3>References</h3>

<p><a href="https://www.tidymodels.org/learn/statistics/survival-metrics/">https://www.tidymodels.org/learn/statistics/survival-metrics/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
car_trn &lt;- mtcars[11:32,]
car_tst &lt;- mtcars[ 1:10,]

reg_form &lt;-
  linear_reg() %&gt;%
  set_engine("lm") %&gt;%
  fit(mpg ~ ., data = car_trn)
reg_xy &lt;-
  linear_reg() %&gt;%
  set_engine("lm") %&gt;%
  fit_xy(car_trn[, -1], car_trn$mpg)

augment(reg_form, car_tst)
augment(reg_form, car_tst[, -1])

augment(reg_xy, car_tst)
augment(reg_xy, car_tst[, -1])

# ------------------------------------------------------------------------------

data(two_class_dat, package = "modeldata")
cls_trn &lt;- two_class_dat[-(1:10), ]
cls_tst &lt;- two_class_dat[  1:10 , ]

cls_form &lt;-
  logistic_reg() %&gt;%
  set_engine("glm") %&gt;%
  fit(Class ~ ., data = cls_trn)
cls_xy &lt;-
  logistic_reg() %&gt;%
  set_engine("glm") %&gt;%
  fit_xy(cls_trn[, -3],
  cls_trn$Class)

augment(cls_form, cls_tst)
augment(cls_form, cls_tst[, -3])

augment(cls_xy, cls_tst)
augment(cls_xy, cls_tst[, -3])

</code></pre>


</div>