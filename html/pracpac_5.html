<div class="container">

<table style="width: 100%;"><tr>
<td>build_image</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a Docker image</h2>

<h3>Description</h3>

<p>Builds a Docker image created by use_docker or add_dockerfile. This function is run as part of use_docker when <code>build = TRUE</code> is set, but can be used on its own.
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_image(
  pkg_path = ".",
  img_path = NULL,
  cache = TRUE,
  tag = NULL,
  build = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pkg_path</code></td>
<td>
<p>Path to the package directory. Default is <code>"."</code> for the current working directory, which assumes developer is working in R package root. However, this can be set to another path as needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img_path</code></td>
<td>
<p>Path to the write the docker image definition contents. The default <code>NULL</code> will use <code style="white-space: pre;">⁠docker/⁠</code> as a subdirectory of the <code>pkg_path</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>Logical; should caching be used? Default <code>TRUE</code>. Set to <code>FALSE</code> to use <code>--no-cache</code> in <code style="white-space: pre;">⁠docker build⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tag</code></td>
<td>
<p>Image tag to use; default is <code>NULL</code> and the image will be tagged with package name version from pkg_info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>build</code></td>
<td>
<p>Logical as to whether or not the image should be built. Default is <code>TRUE</code>, and if <code>FALSE</code> the <code style="white-space: pre;">⁠docker build⁠</code> command will be messaged.  Setting <code>build=FALSE</code> could be useful if additional <code style="white-space: pre;">⁠docker build⁠</code> options or different tags are desired. In either case the <code style="white-space: pre;">⁠docker build⁠</code> command will be returned invisibly.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisibly returns the <code style="white-space: pre;">⁠docker build⁠</code> command. Primarily called for its side effects, which runs the <code style="white-space: pre;">⁠docker build⁠</code> as a system command.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Specify path to example package source and copy to tempdir()
# Note that in practice you do not need to copy to a tempdir()
# And in fact it may be easiest to use pracpac relative to your package directory root
ex_pkg_src &lt;- system.file("hellow", package = "pracpac", mustWork = TRUE)
file.copy(from = ex_pkg_src, to = tempdir(), recursive = TRUE)

# Run use_docker to create Docker directory and assets for the example package
use_docker(pkg_path = file.path(tempdir(), "hellow"))

# Build the image
build_image(pkg_path = file.path(tempdir(), "hellow"))
# Or construct the image build command without building
build_cmd &lt;- build_image(pkg_path = file.path(tempdir(), "hellow"), build=FALSE)
build_cmd

## End(Not run)
</code></pre>


</div>