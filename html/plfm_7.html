<div class="container">

<table style="width: 100%;"><tr>
<td>gendat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data generation</h2>

<h3>Description</h3>

<p>Computation of association probabilities and data generation for disjunctive, conjunctive or additive probabilistic latent feature models.</p>


<h3>Usage</h3>

<pre><code class="language-R">gendat(maprule="disj", N, objpar, attpar)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>maprule</code></td>
<td>
<p>Disjunctive (<code>maprule="disj"</code>), conjunctive (<code>maprule="conj"</code>) or additive (<code>maprule="add"</code>) 
mapping rule of the probabilistic latent feature model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Number of replications for which binary associations are generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objpar</code></td>
<td>
<p>True objectparameters. As object parameters are probabilities they should be between 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attpar</code></td>
<td>
<p>True attributeparameters. As attribute parameters are probabilities they should be between 0 and 1.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>gendat</code> computes for all pairs of <em>J</em> objects and <em>K</em> attributes association probabilities and it generates 
association frequencies (i.e. the number of replications <code>N</code> for which an object is associated to an attribute), 
according to a disjunctive, conjunctive or additive probabilistic latent feature model. In addition, the function computes a matrix with in each cell 
the total number of replications <code>N</code>. 
If the requested number of replications <code>N</code> equals 0, 
the function only computes association probabilities and does not generate new data. 
</p>
<p>To compute association probabilities the function <em>gendat</em> uses a <em>J X F</em> matrix of object parameters and a <em>K X F</em> matrix 
of attribute parameters as input. The <em>F</em> object parameters of object <em>j</em> represent, for each of <em>F</em> features, 
the probability that object <em>j</em> has feature <em>f</em>. 
Similarly, the <em>F</em> attribute parameters of attribute <em>k</em> reflect, for each of <em>F</em> features, 
the probability that attribute <em>k</em> is linked to feature <em>f</em>. 
</p>
<p>According to the <em>disjunctive</em> probabilistic latent feature model, object <em>j</em> is associated
to attribute <em>k</em> if the object and the attribute have at least one feature in common. 
More specifically, the association probability in cell <em>(j,k)</em> for the disjunctive model 
can be computed as: 
</p>
<p style="text-align: center;"><code class="reqn">p(j,k)=1-\prod_f(1-objpar[j,f]*attpar[k,f]).</code>
</p>

<p>According to the <em>conjunctive</em> probabilistic latent feature model, object <em>j</em> and attribute <em>k</em> 
are associated if object <em>j</em> has all the features that are linked to attribute <em>k</em>. 
For the conjunctive model the association probability in cell <em>(j,k)</em> is computed as:
</p>
<p style="text-align: center;"><code class="reqn">p(j,k)=\prod_f(1-(1-objpar[j,f])*attpar[k,f]).</code>
</p>

<p>The <em>additive</em> mapping rule states that an object and attribute are more likely to associated if they have more common features. More specifically, 
the association probability for the additive model is computed as:
</p>
<p style="text-align: center;"><code class="reqn">p(j,k)= \frac{1}{F}*\sum_f (objpar[j,f])*attpar[k,f]).</code>
</p>



<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>Parameters used to call the function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob1</code></td>
<td>
<p><em>J X K</em> matrix of association probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq1</code></td>
<td>
<p><em>J X K</em> matrix of association frequencies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freqtot</code></td>
<td>
<p><em>J X K</em> matrix with number of replications.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michel Meulders</p>


<h3>References</h3>

<p>Maris, E., De Boeck, P., and Van Mechelen, I. (1996). Probability matrix decomposition models. <em>Psychometrika, 61</em>, 7-29.
</p>
<p>Meulders, M., De Boeck, P., Van Mechelen, I., Gelman, A., and Maris, E. (2001). Bayesian inference with probability matrix decomposition models. 
<em>Journal of Educational and Behavioral Statistics, 26</em>, 153-179.
</p>
<p>Meulders, M., De Boeck, P., Van Mechelen, I., &amp; Gelman, A. (2005). Probabilistic feature analysis of facial perception of emotions. 
<em>Applied Statistics, 54</em>, 781-793.
</p>


<h3>See Also</h3>

<p><code>plfm</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## define constants
J&lt;-20
K&lt;-15
F&lt;-2

## generate true parameters
set.seed(43565)
objectparameters&lt;-matrix(runif(J*F),nrow=J)
attributeparameters&lt;-matrix(runif(K*F),nrow=K)

## compute association probabilities for a conjunctive model
probconj&lt;-gendat(maprule="conj",N=0,
             objpar=objectparameters,attpar=attributeparameters)

## generate data for a disjunctive model using N=200 replications
gdat&lt;-gendat(maprule="disj",N=200,
             objpar=objectparameters,attpar=attributeparameters)

## generate data for a additive model using N=200 replications
gdat&lt;-gendat(maprule="add",N=200,
             objpar=objectparameters,attpar=attributeparameters)
</code></pre>


</div>