<div class="container">

<table style="width: 100%;"><tr>
<td>details_proportional_hazards_survival</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Proportional hazards regression</h2>

<h3>Description</h3>

<p><code>survival::coxph()</code> fits a Cox proportional hazards model.
</p>


<h3>Details</h3>

<p>For this engine, there is a single mode: censored regression
</p>


<h4>Tuning Parameters</h4>

<p>This model has no tuning parameters.
</p>



<h4>Translation from parsnip to the original package</h4>

<p>The <strong>censored</strong> extension package is required to fit this model.
</p>
<div class="sourceCode r"><pre>library(censored)

proportional_hazards() %&gt;% 
  set_engine("survival") %&gt;% 
  set_mode("censored regression") %&gt;% 
  translate()
</pre></div>
<div class="sourceCode"><pre>## Proportional Hazards Model Specification (censored regression)
## 
## Computational engine: survival 
## 
## Model fit template:
## survival::coxph(formula = missing_arg(), data = missing_arg(), 
##     weights = missing_arg(), x = TRUE, model = TRUE)
</pre></div>



<h4>Other details</h4>

<p>The model does not fit an intercept.
</p>
<p>The main interface for this model uses the formula method since the
model specification typically involved the use of
<code>survival::Surv()</code>.
</p>
<p>The model formula can include <em>special</em> terms, such as
<code>survival::strata()</code>. The allows the baseline
hazard to differ between groups contained in the function. The column
used inside <code>strata()</code> is treated as qualitative no matter its type. To
learn more about using special terms in formulas with tidymodels, see
<code>?model_formula</code>.
</p>
<p>For example, in this model, the numeric column <code>rx</code> is used to estimate
two different baseline hazards for each value of the column:
</p>
<div class="sourceCode r"><pre>library(survival)

proportional_hazards() %&gt;% 
  fit(Surv(futime, fustat) ~ age + strata(rx), data = ovarian) %&gt;% 
  extract_fit_engine() %&gt;% 
  # Two different hazards for each value of 'rx'
  basehaz()
</pre></div>
<div class="sourceCode"><pre>##        hazard time strata
## 1  0.02250134   59   rx=1
## 2  0.05088586  115   rx=1
## 3  0.09467873  156   rx=1
## 4  0.14809975  268   rx=1
## 5  0.30670509  329   rx=1
## 6  0.46962698  431   rx=1
## 7  0.46962698  448   rx=1
## 8  0.46962698  477   rx=1
## 9  1.07680229  638   rx=1
## 10 1.07680229  803   rx=1
## 11 1.07680229  855   rx=1
## 12 1.07680229 1040   rx=1
## 13 1.07680229 1106   rx=1
## 14 0.05843331  353   rx=2
## 15 0.12750063  365   rx=2
## 16 0.12750063  377   rx=2
## 17 0.12750063  421   rx=2
## 18 0.23449656  464   rx=2
## 19 0.35593895  475   rx=2
## 20 0.50804209  563   rx=2
## 21 0.50804209  744   rx=2
## 22 0.50804209  769   rx=2
## 23 0.50804209  770   rx=2
## 24 0.50804209 1129   rx=2
## 25 0.50804209 1206   rx=2
## 26 0.50804209 1227   rx=2
</pre></div>
<p>Note that columns used in the <code>strata()</code> function will not be estimated
in the regular portion of the model (i.e., within the linear predictor).
</p>
<p>Predictions of type <code>"time"</code> are predictions of the mean survival time.
</p>



<h4>Linear predictor values</h4>

<p>Since risk regression and parametric survival models are modeling
different characteristics (e.g. relative hazard versus event time),
their linear predictors will be going in opposite directions.
</p>
<p>For example, for parametric models, the linear predictor <em>increases with
time</em>. For proportional hazards models the linear predictor <em>decreases
with time</em> (since hazard is increasing). As such, the linear predictors
for these two quantities will have opposite signs.
</p>
<p>tidymodels does not treat different models differently when computing
performance metrics. To standardize across model types, the default for
proportional hazards models is to have <em>increasing values with time</em>. As
a result, the sign of the linear predictor will be the opposite of the
value produced by the <code>predict()</code> method in the engine package.
</p>
<p>This behavior can be changed by using the <code>increasing</code> argument when
calling <code>predict()</code> on a model object.
</p>



<h4>Case weights</h4>

<p>This model can utilize case weights during model fitting. To use them,
see the documentation in case_weights and the examples
on <code>tidymodels.org</code>.
</p>
<p>The <code>fit()</code> and <code>fit_xy()</code> arguments have arguments called
<code>case_weights</code> that expect vectors of case weights.
</p>



<h4>References</h4>


<ul><li>
<p> Andersen P, Gill R. 1982. Cox’s regression model for counting
processes, a large sample study. <em>Annals of Statistics</em> 10, 1100-1120.
</p>
</li></ul>
</div>