<div class="container">

<table style="width: 100%;"><tr>
<td>plr_kmeans_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Statistical k-means Test</h2>

<h3>Description</h3>

<p>The method builds linear models by day, identifies outliers,
and performs 2-means clustering by slopes. If the lower identified
cluster is significantly less than the higher mean, and constitutes less
than 25% of the data, it is identified as soiled and returned. Otherwise, the
outlier points are identified as soiled and returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plr_kmeans_test(
  df,
  var_list,
  mean_ratio = 0.7,
  plot = FALSE,
  file_path,
  file_name,
  set_cutoff = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A df containing pv data. Should be 'cleaned' by <code>plr_cleaning</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_list</code></td>
<td>
<p>A list of the dataframe's standard variable names, obtained from
the output of <code>plr_variable_check</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_ratio</code></td>
<td>
<p>This scales the higher identified cluster's mean for comparison.
Higher values will be more likely to identify the second mean as soiled, and vice versa.
Values should range from 0 to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>optional; Boolean; whether to return the box plot generated by the method
to identify outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_path</code></td>
<td>
<p>optional; location to store the boxplot if plot is set TRUE.
Note this is not necessary if you select to plot - only if you wish to save it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p>optional; name of file to save boxplot if plot is set to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set_cutoff</code></td>
<td>
<p>Defaults to FALSE; pass a numeric value to cut off all slopes
less than the cutoff value. This bypasses entirely the outlier and clustering
calculuations to remove slope values you believe to be soiled.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The method returns a dataframe containing the values that should be
removed. If you want to discard them, try using dplyr::filter().
</p>


</div>