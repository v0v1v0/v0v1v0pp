<div class="container">

<table style="width: 100%;"><tr>
<td>proj_trans</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform coordinates</h2>

<h3>Description</h3>

<p>Transforms all coordinates in <code>x</code> using <code>wk::wk_handle()</code> and <code>proj_trans_create()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">proj_trans(x, target_crs, source_crs = NULL, ..., use_z = NA, use_m = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Input geometry/geography. May take any of the following forms:
</p>

<ul>
<li>
<p> A coordinate matrix containing 2, 3 or 4 columns.
If named, expects column names "x", "y" and optionally "z" and/or "m". If
not named, columns are assumed in xyzm order. Non-coordinate columns are
removed.
</p>
</li>
<li>
<p> A data.frame containing coordinates as columns. Expects names "x", "y" and
optionally "z" and/or "m". Non-coordinate columns are retained.
</p>
</li>
<li>
<p> A data.frame containing a geometry vector which is readable by
<code>wk::wk_handle()</code>, including <code>sfc</code> columns.
</p>
</li>
<li>
<p> A geometry vector which is readable by <code>wk::wk_handle()</code>, including <code>sfc</code>
columns.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source_crs, target_crs</code></td>
<td>
<p>Source/Target CRS definition, coerced with <code>wk::wk_crs_proj_definition()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters forwarded to <code>wk::wk_handle()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_z, use_m</code></td>
<td>
<p>Used to declare the output type. Use <code>TRUE</code> to
ensure the output has that dimension, <code>FALSE</code> to ensure it does not,
and <code>NA</code> to leave the dimension unchanged.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Values that are detected out of bounds by library PROJ are allowed, we return <code>Inf</code>
in this case, rather than the error "tolerance condition error".
</p>


<h3>Value</h3>

<p>Transformed geometries whose format is dependent on input.
</p>


<h3>References</h3>

<p>see the <a href="https://proj.org/development/reference/functions.html#coordinate-transformation">PROJ library documentation</a>
for details on the underlying functionality
</p>


<h3>Examples</h3>

<pre><code class="language-R">proj_trans(cbind(147, -42), "+proj=laea +type=crs", "EPSG:4326")
proj_trans(cbind(147, -42, -2), "+proj=laea +type=crs", "EPSG:4326")
proj_trans(cbind(147, -42, -2, 1), "+proj=laea +type=crs", "EPSG:4326")
proj_trans(wk::xy(147, -42, crs = "EPSG:4326"), "+proj=laea +type=crs")
proj_trans(wk::wkt("POLYGON ((1 1, 0 1, 0 0, 1 0, 1 1))", crs = "EPSG:4326"), 3112)

</code></pre>


</div>