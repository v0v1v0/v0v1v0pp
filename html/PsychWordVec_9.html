<div class="container">

<table style="width: 100%;"><tr>
<td>data_wordvec_subset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract a subset of word vectors data (with S3 methods).</h2>

<h3>Description</h3>

<p>Extract a subset of word vectors data (with S3 methods).
You may specify either a <code>wordvec</code> or <code>embed</code> loaded by <code>data_wordvec_load</code>)
or an .RData file transformed by <code>data_transform</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">data_wordvec_subset(
  x,
  words = NULL,
  pattern = NULL,
  as = c("wordvec", "embed"),
  file.save,
  compress = "bzip2",
  compress.level = 9,
  verbose = TRUE
)

## S3 method for class 'wordvec'
subset(x, ...)

## S3 method for class 'embed'
subset(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Can be:
</p>

<ul>
<li>
<p>a <code>wordvec</code> or <code>embed</code> loaded by <code>data_wordvec_load</code>
</p>
</li>
<li>
<p>an .RData file transformed by <code>data_transform</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>words</code></td>
<td>
<p>[Option 1] Character string(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>[Option 2] Regular expression (see <code>str_subset</code>).
If neither <code>words</code> nor <code>pattern</code> are specified (i.e., both are <code>NULL</code>),
then all words in the data will be extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as</code></td>
<td>
<p>Reshape to
<code>wordvec</code> (data.table) or
<code>embed</code> (matrix).
Defaults to the original class of <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.save</code></td>
<td>
<p>File name of to-be-saved R data (must be .RData).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress</code></td>
<td>
<p>Compression method for the saved file. Defaults to <code>"bzip2"</code>.
</p>
<p>Options include:
</p>

<ul>
<li> <p><code>1</code> or <code>"gzip"</code>: modest file size (fastest)
</p>
</li>
<li> <p><code>2</code> or <code>"bzip2"</code>: small file size (fast)
</p>
</li>
<li> <p><code>3</code> or <code>"xz"</code>: minimized file size (slow)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compress.level</code></td>
<td>
<p>Compression level from <code>0</code> (none) to <code>9</code>
(maximal compression for minimal file size). Defaults to <code>9</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print information to the console? Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Parameters passed to <code>data_wordvec_subset</code>
when using the S3 method <code>subset</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A subset of <code>wordvec</code> or <code>embed</code> of valid (available) words.
</p>


<h3>Download</h3>

<p>Download pre-trained word vectors data (<code>.RData</code>):
<a href="https://psychbruce.github.io/WordVector_RData.pdf">https://psychbruce.github.io/WordVector_RData.pdf</a>
</p>


<h3>See Also</h3>

<p><code>as_wordvec</code> / <code>as_embed</code>
</p>
<p><code>load_wordvec</code> / <code>load_embed</code>
</p>
<p><code>get_wordvec</code>
</p>
<p><code>data_transform</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## directly use `embed[i, j]` (3x faster than `wordvec`):
d = as_embed(demodata)
d[1:5]
d["people"]
d[c("China", "Japan", "Korea")]

## specify `x` as a `wordvec` or `embed` object:
subset(demodata, c("China", "Japan", "Korea"))
subset(d, pattern="^Chi")

## specify `x` and `pattern`, and save with `file.save`:
subset(demodata, pattern="Chin[ae]|Japan|Korea",
       file.save="subset.RData")

## load the subset:
d.subset = load_wordvec("subset.RData")
d.subset

## specify `x` as an .RData file and save with `file.save`:
data_wordvec_subset("subset.RData",
                    words=c("China", "Chinese"),
                    file.save="new.subset.RData")
d.new.subset = load_embed("new.subset.RData")
d.new.subset

unlink("subset.RData")  # delete file for code check
unlink("new.subset.RData")  # delete file for code check

</code></pre>


</div>