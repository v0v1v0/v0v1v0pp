<div class="container">

<table style="width: 100%;"><tr>
<td>simcode</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate Weibull survival data from a model, perform reduction to remove infinite estimates, and calculate p values.</h2>

<h3>Description</h3>

<p>Operating characteristics for the approximate conditional inferential approach to proportional hazards.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simcode(
  dataset,
  myformula,
  iv,
  ctime,
  nsamp = 10000,
  add = NULL,
  nobs = NA,
  half = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>the data set to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>myformula</code></td>
<td>
<p>the formula for the Cox regression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iv</code></td>
<td>
<p>name of the variable of interest, as a character string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctime</code></td>
<td>
<p>fixed censoring time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsamp</code></td>
<td>
<p>number of samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>preliminary results, if any.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nobs</code></td>
<td>
<p>number of observations in target models, if different from that of dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>half</code></td>
<td>
<p>logical flag triggering a less extreme simulation by dividing the Weibull regression parameters in half.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical flag triggering intermediate messaging.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is intended to verify the operating characteristics of the approximate conditional inferential approach of Kolassa and Zhang (2019) to proportional hazards regression.  A Weibull regression model, corresponding to the proportional hazards regression model, is fit to the data, and new data sets are simulated from this model.  P-values are calculated for these new data sets, and their empirical distribution is compared to the theoretical uniform distribution.
</p>


<h3>Value</h3>

<p>a list with components
</p>

<ul>
<li>
<p> out matrix with columns corresponding to p-values.
</p>
</li>
<li>
<p> seed random seed
</p>
</li>
<li>
<p> bad unused.
</p>
</li>
<li>
<p> srreg parametric lifetime regression
</p>
</li>
</ul>
<h3>References</h3>

<p>Kolassa JE, Zhang J (2019).
<a href="https://higherlogicdownload.s3.amazonaws.com/AMSTAT/fa4dd52c-8429-41d0-abdf-0011047bfa19/UploadedImages/NCB_Conference/Presentations/2019/kolassa_toxslides.pdf">https://higherlogicdownload.s3.amazonaws.com/AMSTAT/fa4dd52c-8429-41d0-abdf-0011047bfa19/UploadedImages/NCB_Conference/Presentations/2019/kolassa_toxslides.pdf</a>.
Accessed: 2019-07-14.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(breast)

breasttestp&lt;-simcode(breast,Surv(TIME,CENS)~ T+ N+ G+ CD,"T",72,nsamp=100,verbose=TRUE)

</code></pre>


</div>