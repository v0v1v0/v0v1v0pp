<div class="container">

<table style="width: 100%;"><tr>
<td>xdistResdiff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Residual Differences for Near Replicates: Tabulate and Test
</h2>

<h3>Description</h3>

<p>A test for the completeness of a linear regression model can be
performed based on comparing the differences of residuals for
pairs of observations that are close to each other to the
estimated standard deviation of the model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">xdistResdiff(object, perc = c(3, 10, 80), trim = 0.1,
  nmax = 100, out = "aggregate")
xdistResscale(x, perc = c(3, 10, 90), trim = 1/6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object containing the result of fitting a linear
model by <code>regr</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object produced by <code>xdistResdiff</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perc</code></td>
<td>
<p>Percentage points to define distance classes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>Trimming proportion for calculating means of
absolute residual differences</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmax</code></td>
<td>
<p>maximal number of observations to form pairs</p>
</td>
</tr>
</table>
<table><tr style="vertical-align: top;">
<td><code>out</code></td>
<td>
<p>determines the value of <code>xdistResdiff</code>:
if <code>=="aggregate"</code> (the default), the value will be
produced by calling <code>xdistResscale</code>, otherwise,
all x distances and respective residual differences will be
returned.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>See package vignette.
</p>


<h3>Value</h3>

<p>For <code>xdistResdiff</code> with <code>out="aggregate"</code> and
<code>xdistResscale</code>, a matrix is returned with a row for
each class of x distances and the columns
</p>
<table>
<tr style="vertical-align: top;">
<td><code>xdist</code></td>
<td>
<p>mean x distance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rdiff.mean</code></td>
<td>
<p>absolute differences of residuals for pairs of
observations in the distance class, averaged over the class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rdiff.simmean</code></td>
<td>
<p>mean of (trimmed) means for simulated data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rdiff.se</code></td>
<td>
<p>standard error of (trimmed) means as obtained from
simulation</p>
</td>
</tr>
</table>
<p>The matrix carries along the following attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>perc</code></td>
<td>
<p>given argument <code>perc</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xd.classlim</code></td>
<td>
<p>the actual class limits corresponding to
<code>perc</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>given argument <code>trim</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rdiff.grandmean</code></td>
<td>
<p>overall mean of absolute residual differences</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p-values</code></td>
<td>
<p>p values for the classes as obtained from simulation,
and p-value for the sum of squares statistic</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>The value has S3 class <code>xdistResscale</code> and
<code>matrix</code></p>
</td>
</tr>
</table>
<p>.
</p>
<p>If <code>xdistResdiff</code> with <code>out</code> different from
<code>"aggregate"</code>, then a data.frame is returned containing a row for
each pair of observations and the columns
</p>
<table>
<tr style="vertical-align: top;">
<td><code>id1, id2</code></td>
<td>
<p>the labels of the two observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xdist</code></td>
<td>
<p>the x distance between the two observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resdiff</code></td>
<td>
<p>the difference of residuals for the two observations</p>
</td>
</tr>
</table>
<p>The value has S3 class <code>xdistResdiff</code> and <code>data.frame</code>.
</p>


<h3>Author(s)</h3>

<p>Werner A. Stahel, ETH Zurich</p>


<h3>References</h3>

<p>See package vignette.
</p>


<h3>See Also</h3>

<p><code>plot.xdistResscale</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(d.blast)
rr &lt;- lm(tremor~distance+charge, data=d.blast)
## an inadequate model!
xdrs &lt;- xdistResdiff(rr)
xdrd &lt;- xdistResdiff(rr, out="all")
showd(xdrd)
xdrs &lt;- xdistResscale(xdrd)
## same as first call of  xdiffResdiff
plot(xdrs)
</code></pre>


</div>