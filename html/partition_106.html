<div class="container">

<table style="width: 100%;"><tr>
<td>super_partition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>super_partition</h2>

<h3>Description</h3>

<p><code>super_partition</code> implements the agglomerative, data reduction method Partition for datasets with large numbers of features by first 'super-partitioning' the data into smaller clusters to Partition.
</p>


<h3>Usage</h3>

<pre><code class="language-R">super_partition(
  full_data,
  threshold = 0.5,
  cluster_size = 4000,
  partitioner = part_icc(),
  tolerance = 1e-04,
  niter = NULL,
  x = "reduced_var",
  .sep = "_",
  verbose = TRUE,
  progress_bar = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>full_data</code></td>
<td>
<p>sample by feature data frame or matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>the minimum proportion of information explained by a reduced variable; <code>threshold</code> sets a boundary for information loss because each reduced variable must explain at least as much as <code>threshold</code> as measured by the metric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_size</code></td>
<td>
<p>maximum size of any single cluster; default is 4000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partitioner</code></td>
<td>
<p>a <code>partitioner</code>. See the <code style="white-space: pre;">⁠part_*()⁠</code> functions and <code>as_partitioner()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p>a small tolerance within the threshold; if a reduction is within the threshold plus/minus the tolerance, it will reduce.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>
<p>the number of iterations. By default, it is calculated as 20% of the number of variables or 10, whichever is larger.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the prefix of the new variable names; must not be contained in any existing data names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.sep</code></td>
<td>
<p>a character vector that separates <code>x</code> from the number (e.g. "reduced_var_1").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical for whether or not to display information about super partition step; default is TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress_bar</code></td>
<td>
<p>logical for whether or not to show progress bar; default is TRUE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>super_partition</code> scales up partition with an approximation, using Genie, a fast, hierarchical clustering algorithm with similar qualities of those to Partition, to first super-partition the data into ceiling(N/c) clusters, where N is the number of features in the full dataset and c is the user-defined maximum cluster size (default value = 4,000). Then, if any cluster from the super-partition has a size greater than c, use Genie again on that cluster until all cluster sizes are less than c. Finally, apply the Partition algorithm to each of the super-partitions.
</p>
<p>It may be the case that large super-partitions cannot be easily broken with Genie due to high similarity between features. In this case, we use k-means to break the cluster.
</p>


<h3>Value</h3>

<p>Partition object
</p>


<h3>Author(s)</h3>

<p>Katelyn Queen, <a href="mailto:kjqueen@usc.edu">kjqueen@usc.edu</a>
</p>


<h3>References</h3>

<p>Barrett, Malcolm and Joshua Millstein (2020). partition: A fast and flexible framework for data reduction in R. Journal of Open Source Software, 5(47), 1991, https://doi.org/10.21105/joss.01991Millstein J, Battaglin F, Barrett M, Cao S, Zhang W, Stintzing S, et al. Partition: a surjective mapping approach for dimensionality reduction. <em>Bioinformatics</em> <strong>36</strong> (2019) 676–681. doi:10.1093/bioinformatics/btz661.
</p>
<p>Gagolewski, Marek, Maciej Bartoszuk, and Anna Cena. "Genie: A new, fast, and outlier-resistant hierarchical clustering algorithm." Information Sciences 363 (2016): 8-23.
</p>
<p>Millstein, Joshua, Francesca Battaglin, Malcolm Barrett, Shu Cao, Wu Zhang, Sebastian Stintzing, Volker Heinemann, and Heinz-Josef Lenz. 2020. “Partition: A Surjective Mapping Approach for Dimensionality Reduction.” <em>Bioinformatics</em> 36 (3): https://doi.org/676–81.10.1093/bioinformatics/btz661.
</p>


<h3>See Also</h3>

<p><code>partition()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(123)
df &lt;- simulate_block_data(c(15, 20, 10), lower_corr = .4, upper_corr = .6, n = 100)

#  don't accept reductions where information &lt; .6
prt &lt;- super_partition(df, threshold = .6, cluster_size = 30)
prt

</code></pre>


</div>