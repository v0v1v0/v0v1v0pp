<div class="container">

<table style="width: 100%;"><tr>
<td>get_velocity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get instantaneous velocity for subjects</h2>

<h3>Description</h3>

<p>Velocity (both overall and per-axis) is computed for each row in the data
(see Details)
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_velocity(
  obj_name,
  time_col = "time_sec",
  length_col = "position_length",
  width_col = "position_width",
  height_col = "position_height",
  add_to_viewr = TRUE,
  velocity_min = NA,
  velocity_max = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj_name</code></td>
<td>
<p>The input viewr object; a tibble or data.frame with attribute
<code>pathviewr_steps</code> that includes <code>"viewr"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_col</code></td>
<td>
<p>Name of the column containing time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length_col</code></td>
<td>
<p>Name of the column containing length dimension</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width_col</code></td>
<td>
<p>Name of the column containing width dimension</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height_col</code></td>
<td>
<p>Name of the column containing height dimension</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_to_viewr</code></td>
<td>
<p>Default TRUE; should velocity data be added as new
columns or should this function create a new simpler object?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>velocity_min</code></td>
<td>
<p>Should data below a certain velocity be filtered out of
the object? If so, enter a numeric. If not, keep NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>velocity_max</code></td>
<td>
<p>Should data above a certain velocity be filtered out of
the object? If so, enter a numeric. If not, keep NA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to or from other pathviewr functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Instantaneous velocity is not truly "instantaneous" but rather is
approximated as the change in distance divided by change in time from one
observation (row) to the previous observation (row). Each component of
velocity is computed (i.e. per axis) along with the overall velocity of
the subject.
</p>


<h3>Value</h3>

<p>If <code>add_to_viewr</code> is <code>TRUE</code>, additional columns are
appended to the input viewr object. If <code>FALSE</code>, a standalone tibble is
created. Either way, an "instantaneous" velocity is computed as the
difference in position divided by the difference in time as each successive
row is encountered. Additionally, velocities along each of the three
position axes are computed and provided as additional columns.
</p>


<h3>Author(s)</h3>

<p>Vikram B. Baliga and Melissa S. Armstrong
</p>


<h3>See Also</h3>

<p>Other mathematical functions: 
<code>calc_min_dist_v()</code>,
<code>deg_2_rad()</code>,
<code>find_curve_elbow()</code>,
<code>get_2d_angle()</code>,
<code>get_3d_angle()</code>,
<code>get_3d_cross_prod()</code>,
<code>get_dist_point_line()</code>,
<code>get_traj_velocities()</code>,
<code>rad_2_deg()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Import the example Motive data included in the package
motive_data &lt;-
  read_motive_csv(system.file("extdata", "pathviewr_motive_example_data.csv",
                             package = 'pathviewr'))

## Clean the file. It is generally recommended to clean up to the
## "standarization" step before running get_velocity().
 motive_cleaned &lt;-
   motive_data %&gt;%
   relabel_viewr_axes() %&gt;%
   gather_tunnel_data() %&gt;%
   trim_tunnel_outliers() %&gt;%
   rotate_tunnel()

## Now compute velocity and add as columns
 motive_velocity_added &lt;-
   motive_cleaned %&gt;%
   get_velocity(add_to_viewr = TRUE)

## Or set add_to_viewr to FALSE for a standalone object
 motive_velocity_standalone &lt;-
   motive_cleaned %&gt;%
   get_velocity(add_to_viewr = TRUE)
</code></pre>


</div>