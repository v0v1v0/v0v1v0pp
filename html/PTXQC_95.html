<div class="container">

<table style="width: 100%;"><tr>
<td>qcMetric-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class which can compute plots and generate mzQC output (usually for a single metric).</h2>

<h3>Description</h3>

<p>Reference class which is instanciated with a metric description and a
worker function (at initialization time, i.e. in the package)
and can produce plots and mzQC values (at runtime, when data is provided) using setData().
</p>


<h3>Fields</h3>


<dl>
<dt><code>helpText</code></dt>
<dd>
<p>Description (lengthy) of the metric and plot elements</p>
</dd>
<dt><code>workerFcn</code></dt>
<dd>
<p>Function which generates a result (usually plots). Data is provided using setData().</p>
</dd>
<dt><code>plots</code></dt>
<dd>
<p>List of plots (after setData() was called)</p>
</dd>
<dt><code>qcScores</code></dt>
<dd>
<p>Data.frame of scores from a qcMetric (computed within workerFcn())</p>
</dd>
<dt><code>mzQC</code></dt>
<dd>
<p>An named list of mzQC MzQCqualityMetric's (named by their fc.raw.file for runQuality or concatenated fc.raw.files for setQualities (e.g. "file 1;file4")) (valid after setData() was called)</p>
</dd>
<dt><code>qcCat</code></dt>
<dd>
<p>QC category (LC, MS, or prep)</p>
</dd>
<dt><code>qcName</code></dt>
<dd>
<p>Name of the qcScore in the heatmap</p>
</dd>
<dt><code>orderNr</code></dt>
<dd>
<p>Column index during heatmap generation and for the general order of plots</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">
require(ggplot2)
dd = data.frame(x=1:10, y=11:20)
a = qcMetric$new(helpText="small help text", 
                 ## arbitrary arguments, matched during setData()
                 workerFcn=function(.self, data, gtit)
                 {
                   ## usually some code here to produce ggplots
                   pl = lapply(1:2, function(xx) {
                       ggplot(data) +
                         geom_point(aes(x=x*xx,y=y)) +
                         ggtitle(gtit)
                     })
                   return(list(plots = pl))
                 }, 
                 qcCat="LC", 
                 qcName="MS/MS Peak shape", 
                 orderNr = 30)
## test some output
a$setData(dd, "my title")
a$plots  ## the raw plots
a$getPlots(TRUE) ## same as above
a$getPlots(FALSE) ## plots without title
a$getTitles()  ## get the titles of the all plots
a$helpText
a$qcName



</code></pre>


</div>