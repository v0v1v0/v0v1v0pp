<div class="container">

<table style="width: 100%;"><tr>
<td>presence.absence.summary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Presence/Absence Summary Plots </h2>

<h3>Description</h3>

<p>Produces four types of Presence/Absence accuracy plots for a single set of model Predictions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">presence.absence.summary(DATA, threshold = 101, find.auc = TRUE, which.model = 1, 
na.rm = FALSE, main = NULL, model.names = NULL, alpha = 0.05, N.bins = 5, N.bars = 10, 
truncate.tallest = FALSE, opt.thresholds = NULL, opt.methods = NULL, req.sens, req.spec, 
obs.prev = NULL, smoothing = 1, vert.lines = FALSE, add.legend = TRUE, 
add.opt.legend=TRUE, legend.cex = 0.6, opt.legend.cex = 0.6, pch = NULL, 
FPC, FNC, cost.line = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DATA</code></td>
<td>
<p>a matrix or dataframe of observed and predicted values where each row represents one plot and where columns are:
</p>

<table>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>DATA[,1]</code> </td>
<td style="text-align: left;"> plot ID </td>
<td style="text-align: left;"> text</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>DATA[,2]</code> </td>
<td style="text-align: left;"> observed values </td>
<td style="text-align: left;"> zero-one values</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>DATA[,3]</code> </td>
<td style="text-align: left;"> predicted probabilities from first model </td>
<td style="text-align: left;"> numeric (between 0 and 1)</td>
</tr>
<tr>
<td style="text-align: left;">
	  </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> </td>
<td style="text-align: left;"> <code>DATA[,4]</code> </td>
<td style="text-align: left;"> predicted probabilities from second model, etc... </td>
<td style="text-align: left;">  </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>cutoff values between zero and one used for translating predicted probabilities into 0 /1 values, defaults to 0.5. It can be a single value between zero and one, a vector of values between zero and one, or a positive integer representing the number of evenly spaced thresholds to calculate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>find.auc</code></td>
<td>
<p>a logical indicating if area under the curve should be calculated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which.model</code></td>
<td>
<p>a number indicating which model from <code>DATA</code> should be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p> an overall title for the plot </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.names</code></td>
<td>
<p> a vector of the names of each model included in <code>DATA</code> to be used in the legend box </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p> alpha value for confidence intervals for <code>calibration.plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N.bins</code></td>
<td>
<p> integer giving number of bins for predicted probabilities for <code>calibration.plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N.bars</code></td>
<td>
<p> number of bars in histogram  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncate.tallest</code></td>
<td>
<p> a logical indicating if the tallest bar should be truncated to fit for <code>presence.absence.hist</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opt.thresholds</code></td>
<td>
<p> a logical indicating whether the optimal thresholds should be calculated and plotted </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opt.methods</code></td>
<td>
<p> what methods should be used to optimize thresholds. Argument can be given either as a vector of method names or method numbers. Possible values are:
</p>

<table>
<tr>
<td style="text-align: right;">
  1  </td>
<td style="text-align: left;"> <code>Default</code>   </td>
<td style="text-align: left;"> threshold=0.5 </td>
</tr>
<tr>
<td style="text-align: right;">
  2  </td>
<td style="text-align: left;"> <code>Sens=Spec</code> </td>
<td style="text-align: left;"> sensitivity=specificity </td>
</tr>
<tr>
<td style="text-align: right;">
  3  </td>
<td style="text-align: left;"> <code>MaxSens+Spec</code> </td>
<td style="text-align: left;"> maximizes (sensitivity+specificity)/2 </td>
</tr>
<tr>
<td style="text-align: right;">
  4  </td>
<td style="text-align: left;"> <code>MaxKappa</code>  </td>
<td style="text-align: left;"> maximizes Kappa </td>
</tr>
<tr>
<td style="text-align: right;">
  5  </td>
<td style="text-align: left;"> <code>MaxPCC</code>    </td>
<td style="text-align: left;"> maximizes PCC (percent correctly classified) </td>
</tr>
<tr>
<td style="text-align: right;">
  6  </td>
<td style="text-align: left;"> <code>PredPrev=Obs</code> </td>
<td style="text-align: left;"> predicted prevalence=observed prevalence </td>
</tr>
<tr>
<td style="text-align: right;">
  7  </td>
<td style="text-align: left;"> <code>ObsPrev</code>   </td>
<td style="text-align: left;"> threshold=observed prevalence </td>
</tr>
<tr>
<td style="text-align: right;">
  8 </td>
<td style="text-align: left;"> <code>MeanProb </code> </td>
<td style="text-align: left;"> mean predicted probability </td>
</tr>
<tr>
<td style="text-align: right;"> 
  9  </td>
<td style="text-align: left;"> <code>MinROCdist</code>
</td>
<td style="text-align: left;"> minimizes distance between ROC plot and (0,1)</td>
</tr>
<tr>
<td style="text-align: right;">
  10 </td>
<td style="text-align: left;"> <code>ReqSens</code> </td>
<td style="text-align: left;"> user defined required sensitivity </td>
</tr>
<tr>
<td style="text-align: right;">
  11 </td>
<td style="text-align: left;"> <code>ReqSpec</code> </td>
<td style="text-align: left;"> user defined required specificity </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>req.sens</code></td>
<td>
<p> a value between zero and one giving the user defined required sensitivity. Only used if <code>opt.thresholds</code> = <code>TRUE</code>. Note that <code>req.sens</code> = (1-maximum allowable errors for points with positive observations).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>req.spec</code></td>
<td>
<p> a value between zero and one giving the user defined required sspecificity. Only used if <code>opt.thresholds</code> = <code>TRUE</code>. Note that <code>req.sens</code> = (1- maximum allowable errors for points with negative observations).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs.prev</code></td>
<td>
<p>observed prevalence for <code>opt.method</code> = <code>"PredPrev=Obs"</code> and <code>"ObsPrev"</code>. Defaults to observed prevalence from <code>DATA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smoothing</code></td>
<td>
<p> smoothing factor for maximizing/minimizing. Only used if <code>opt.thresholds</code> = <code>TRUE</code>. Instead of find the threshold that gives the max/min value, function will average the thresholds of the given number of max/min values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vert.lines</code></td>
<td>
<p> a logical where: <code>TRUE</code> means vertical lines added to plot at optimal thresholds; <code>FALSE</code> means no vertical lines, instead optimal thresholds marked along error statistics plots. Only used if <code>opt.thresholds</code> = <code>TRUE</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.legend</code></td>
<td>
<p> logical indicating if a legend should be included on the plot </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.opt.legend</code></td>
<td>
<p> logical indicating if optimization criteria legend should be included on the plot </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.cex</code></td>
<td>
<p> cex for legends </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opt.legend.cex</code></td>
<td>
<p> cex for optimization criteria legend </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p> plotting "character", i.e., symbol to use for the thresholds specified in <code>MARK</code>.  <code>pch</code> can either be a single character or an integer code for one of a set of graphics symbols.  See <code>help(points)</code> for details. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FPC</code></td>
<td>
<p> False Positive Costs, or for C/B ratio C = 'net costs of treating nondiseased individuals'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FNC</code></td>
<td>
<p> False Negative Costs, or for C/B ratio B = 'net benefits of treating diseased individuals'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cost.line</code></td>
<td>
<p> a logical indicating if the line representing the realtive cost ratio should be added to the plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>presence.absence.summary</code> produces a set of summary plots for a single model, along with calculating AUC and optimal thresholds. <code>presence.absence.summary</code> is not quite as flexible as the individual plot functions, as some arguments are preset so that the plots will be comparable, but the remaining arguments have the same meaning. See the individual plot functions error.threshold.plot, auc.roc.plot, calibration.plot, and presence.absence.hist for further details.
</p>


<h3>Value</h3>

<p>creates a graphical plot</p>


<h3>Author(s)</h3>

<p>Elizabeth Freeman <a href="mailto:eafreeman@fs.fed.us">eafreeman@fs.fed.us</a> </p>


<h3>See Also</h3>

<p>optimal.thresholds, error.threshold.plot, auc.roc.plot, calibration.plot, presence.absence.hist</p>


<h3>Examples</h3>

<pre><code class="language-R">data(SIM3DATA)

presence.absence.summary(SIM3DATA)

presence.absence.summary(	SIM3DATA,
					threshold=101,
					find.auc=TRUE,
					which.model=2,
					na.rm=FALSE,
					main=NULL,
					model.names=NULL,
					alpha=0.05,
					N.bins=5,
					N.bars=10,
					truncate.tallest=FALSE,
					opt.thresholds=TRUE,
					opt.methods=c(1,2,4),
					req.sens=0.85,
					req.spec=0.85,
					obs.prev=NULL,
					smoothing=1,
					vert.lines=FALSE,
					add.legend=TRUE,
					add.opt.legend=TRUE,
					legend.cex=0.6,
					opt.legend.cex=0.6,
					pch=NULL)
</code></pre>


</div>