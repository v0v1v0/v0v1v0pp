<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_I_mixed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to calculate incidence from PPS data using a mix of two estimators</h2>

<h3>Description</h3>

<p>A sigmoid function with parameters a and b (see below) is used to get weights
for a combination of the two estimator for x.loi and x.los.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_I_mixed(I.pps.1, I.pps.2, a = 0.01, b = 500,
  method = "pps.mixed")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>I.pps.1</code></td>
<td>
<p>resulting data frame for first estimator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>I.pps.2</code></td>
<td>
<p>resulting data frame for second estimator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>parameter a for the sigmoid function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>parameter b for the sigmoid function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>name of the method</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>is achieved in the following way for estimation of x.loi
alpha = exp(a*(n.noso-b))/(1+exp(a*(n.noso-b)))
x.loi.hat.mixed = alpha*x.loi.hat.1 + (1-alpha)*x.loi.hat.2
</p>
<p>alpha = exp(a*(n-b))/(1+exp(a*(n-b)))
x.los.hat.mixed = alpha*x.los.hat.1 + (1-alpha)*x.los.hat.2
</p>


<h3>Value</h3>

<p>one-row data frame with following columns </p>

<ul>
<li>
<p>n - number of patients sampled 
</p>
</li>
<li>
<p>n.noso - number of HAIs
</p>
</li>
<li>
<p>P.hat - estimate of prevalence P
</p>
</li>
<li>
<p>I.hat - estimate of incidence rate I
</p>
</li>
<li>
<p>I.pp.hat - estimate of incidence proportion per admission I.pp
</p>
</li>
<li>
<p>x.loi.hat - estimate of x.loi
</p>
</li>
<li>
<p>x.los.hat - estimate of x.los
</p>
</li>
<li>
<p>method - name of the method
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
# create example data for PPS
example.dist &lt;- create_dist_vec(function(x) dpois(x-1, 7), max.dist = 70)
example.dist.los &lt;- create_dist_vec(function(x) dpois(x-1, lambda = 12),
                                    max.dist = 70)
data.pps.fast &lt;- simulate_pps_fast(n.sample=200,
                                   P=0.05,
                                   dist.X.loi = example.dist,
                                   dist.X.los = example.dist.los)
head(data.pps.fast)

# estimate of incidence
I.1 &lt;- calculate_I_smooth(data = data.pps.fast,
                   method = "gren")
                   
# estimate incidence based on Rhame-Sudderth formula
I.2 &lt;- calculate_I_rhame(data = data.pps.fast,
                   x.loi.hat = 8,
                   x.los.hat = 13)

# mixed estimator                                      
calculate_I_mixed(I.1, I.2)

</code></pre>


</div>