<div class="container">

<table style="width: 100%;"><tr>
<td>plasma-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Class <code>"plasma"</code>
</h2>

<h3>Description</h3>

<p>The <code>plasma</code> object class is returned after running the <code>plasma</code> function.
The <code>plasma</code> function uses the <code>PLSRCox</code> components from one
dataset as the predictor variables and the <code>PLSRCox</code> components
of another dataset as the response variables to fit a partial least
squares regression (<code>plsr</code>) model. Then, we take the mean of the
predictions to create a final matrix of samples versus components.
</p>
<p>The matrix of components described earlier is then used to fit a Cox
Proportional Hazards (<code>coxph</code>) model with AIC stepwise variable
selection to return a final object of class <code>plasma</code> which
includes a <code>coxph</code> model with a reduced number of predictors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plasma(object, multi)
## S4 method for signature 'plasma,missing'
plot(x, y, ...)
## S4 method for signature 'plasma'
barplot(height, source, n, direction = c("both", "up","down"),
                lhcol = c("cyan", "red"), wt = c("raw", "std"),  ...)
## S4 method for signature 'plasma'
predict(object, newdata = NULL, type = c("components", "risk",
                 "split"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>multi</code></td>
<td>
<p>an object of the <code>MultiplePLSCoxModels</code> class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of the <code>plasma</code> class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>an object of the <code>plasma</code> class for the <code>barplot</code> method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>plasma</code> for plotting the Kaplan-Meier curves.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>An ignored argrument for the plot method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>A length-one character vector; the name of a data set in
a <code>plasma</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>A length-one integer vector; the number of high-weight
features to display.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>A length-one character vector; show features with
positive weights (up), negative (down), or both.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lhcol</code></td>
<td>
<p>A chaacter vector of length 2, indicating the preferred
colors for low (negative) or high (positive) weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wt</code></td>
<td>
<p>A character string indicating whether to plot raw weights or
standardized weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>A <code>MultiOmics</code> object with the same structure as
the training data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>An enumerated character value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional graphical parameters.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The <code>plasma</code> function returns a newly constructed object of the <code>plasma</code> class. The <code>plot</code> method invisibly returns the object on which it was invoked. The <code>predict</code> method returns an object of the <code>plasmaPredictions</code> class.
</p>


<h3>Objects from the Class</h3>

<p>Objects should be defined using the <code>plasma</code> function.
</p>


<h3>Slots</h3>


<dl>
<dt>
<code>traindata</code>:</dt>
<dd>
<p>An object of class <code>MultiOmics</code> used for training the model.</p>
</dd>
<dt>
<code>compModels</code>:</dt>
<dd>
<p>A list containing objects in the form of <code>plsr</code>.</p>
</dd>
<dt>
<code>fullModel</code>:</dt>
<dd>
<p>A coxph object with variables (components) selected via AIC stepwise selection.</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt>
<code>plot</code>:</dt>
<dd>
<p>Plots a Kaplan-Meier curve of the final <code>coxph</code> model that has been categorized into “low risk” and “high risk” based whether it is higher or lower, respectively, than the median value of risk.</p>
</dd>
<dt>
<code>predict</code>:</dt>
<dd>
<p>creates an object of class <code>plasmaPredictions</code>.</p>
</dd>
<dt>
<code>barplot</code>:</dt>
<dd>
<p>Produces a barplot of the <code>n</code> largest
weights assigned to features from the appropriate data <code>source</code>.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Kevin R. Coombes <a href="mailto:krc@silicovore.com">krc@silicovore.com</a>,
Kyoko Yamaguchi <a href="mailto:kyoko.yamaguchi@osumc.edu">kyoko.yamaguchi@osumc.edu</a></p>


<h3>See Also</h3>

<p>plasmaPredictions, plsr</p>


<h3>Examples</h3>

<pre><code class="language-R">fls &lt;- try(loadESCAdata())
if (inherits(fls, "try-error")) {
  stop("Unable to load data from remote server.")
}
# restrict data set size
MO &lt;- with(plasmaEnv, prepareMultiOmics(
    assemble[c("ClinicalBin", "ClinicalCont", "RPPA")], Outcome) )

splitVec &lt;- with(plasmaEnv, rbinom(nrow(Outcome), 1, 0.6))
trainD &lt;- MO[, splitVec == 1]
testD &lt;- MO[, splitVec == 0]

firstPass &lt;- fitCoxModels(trainD, "Days", "vital_status", "dead")
pl &lt;- plasma(object = trainD, multi = firstPass)

plot(pl, legloc = "topright", main = "Training Data")
barplot(pl, "RPPA", 6)
barplot(pl, "RPPA", 10, "up")
</code></pre>


</div>