<div class="container">

<table style="width: 100%;"><tr>
<td>set.up</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sets up the data based on input data and model specifications</h2>

<h3>Description</h3>

<p>This function sets up the data and sets constants that are essentially
the same for all models. This is used within the main wrapper function 
‘ple.lma’, but can also be run independently. If a user wants to run 
the functions ‘fit.independence’, ‘fit.rasch’, ‘fit.gpcm’, or ‘fit.nominal’,
the set up function should be run prior to using these functions to 
create required input. Such an approach can speed up replication studies 
because ‘set.up’ would only need to be run once and the response vector 
(i.e., named ‘y’) in the Master data frame be replaced by a new one.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set.up(
  inData,
  model.type,
  inTraitAdj = NULL,
  inItemTraitAdj = NULL,
  tol = NULL,
  starting.sv = NULL,
  starting.phi = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inData</code></td>
<td>
<p>A person x item Data frame with response patterns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.type</code></td>
<td>
<p>Type of model to be fit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inTraitAdj</code></td>
<td>
<p>Trait x Trait adjacency matrix (NULL for independence)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inItemTraitAdj</code></td>
<td>
<p>Item x Trait adjacency matrix (NULL for independence)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Tolerence for deteriming convergence (default: 1e-06)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>starting.sv</code></td>
<td>
<p>Starting category scale values/fixed scores (default: sum equal to zero and sum of squares equal to 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>starting.phi</code></td>
<td>
<p>optional: Starting phi matrix (default:  identity matrix)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>PersonByItem   inData (rows are response patterns)
</p>
<p>TraitByTrait   Trait x Trait adjacency matrix
</p>
<p>ItemByTrait    Item x Trait adjacency matrix
</p>
<p>item.by.trait  Need for re-scaling phi.mat
</p>
<p>starting.sv		An item by number of category matrix with starting values for scale values for nominal model and fixed category scores for gpcm and rasch models
</p>
<p>ItemNames      Names of items in inData and PersonByItem
</p>
<p>LambdaName     Short list of lambda names needed for item regressions
</p>
<p>NuName         Short list of nu names names needed for item regressions
</p>
<p>LambdaNames    Long list of lambdas using in Master data set
</p>
<p>NuNames        Long list of nu using in Master data set
</p>
<p>PhiNames       Names of the unique phi parameters
</p>
<p>npersons       Number of individual or persons in data
</p>
<p>nitems         Number of items
</p>
<p>ncat         	Number of categories
</p>
<p>nless          Number of unique lambdas and unique nus
</p>
<p>ntraits        Number of traits
</p>
<p>Maxnphi        Number of phis to estimate
</p>
<p>Nstack         Length of master data set
</p>
<p>pq.mat         An array used to computed (weighted) rest-scores
</p>
<p>Phi.mat        A number of traits x number of traits Phi matrix (defual: the identity matrix)
</p>
<p>Master         Master data set formated for input to to mlogit
</p>
<p>tol            Tolerence for deteriming convergence
</p>


<h3>Examples</h3>

<pre><code class="language-R"> data(dass)
 inData &lt;- dass[1:250,c("d1", "d2", "d3", "a1","a2","a3","s1","s2","s3")]

 #--- to set data up for model of independence
 ind.setup &lt;- set.up(inData, model.type="independence")

 #--- for model specification for uni-dimensional models
 inTraitAdj  &lt;- matrix(1, nrow=1, ncol=1)
 inItemTraitAdj &lt;- matrix(1, nrow=9, ncol=1)

 i.setup &lt;- set.up(inData, model.type='independence')
 
 r.setup &lt;- set.up(inData, model.type='rasch', inTraitAdj,
                  inItemTraitAdj)

 g.setup &lt;- set.up(inData, model.type='gpcm', inTraitAdj,
                  inItemTraitAdj)

 n.setup &lt;- set.up(inData, model.type='nominal', inTraitAdj,
                  inItemTraitAdj)

</code></pre>


</div>