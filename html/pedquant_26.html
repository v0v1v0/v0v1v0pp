<div class="container">

<table style="width: 100%;"><tr>
<td>pq_performance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>calculating performance metrics</h2>

<h3>Description</h3>

<p><code>pq_performance</code> calculates performance metrics based on returns of market price or portfolio. The performance analysis functions are calling from <code>PerformanceAnalytics</code> package, which includes many widely used performance metrics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pq_performance(dt, Ra, Rb = NULL, perf_fun, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>a list/dataframe of time series datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ra</code></td>
<td>
<p>the column name of asset returns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rb</code></td>
<td>
<p>the column name of baseline returns, defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perf_fun</code></td>
<td>
<p>performance function from <code>PerformanceAnalytics</code> package, see <code>pq_perf_funs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters, the arguments used in <code>PerformanceAnalytics</code> functions.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"> 
## Not run: 
library(pedquant) 
library(data.table)

# load data
data(dt_banks)
data(dt_ssec)

# calculate returns
datret1 = pq_return(dt_banks, 'close', freq = 'monthly', rcol_name = 'Ra')
datret2 = pq_return(dt_ssec, 'close', freq = 'monthly', rcol_name = 'Rb')

# merge returns of assets and baseline
datRaRb = merge(
    rbindlist(datret1)[, .(date, symbol, Ra)], 
    rbindlist(datret2)[, .(date, Rb)],
    by = 'date', all.x = TRUE
)

# claculate table.CAPM metrics
perf_capm = pq_performance(datRaRb, Ra = 'Ra', Rb = 'Rb', perf_fun = 'table.CAPM')
rbindlist(perf_capm, idcol = 'symbol')

## End(Not run)

</code></pre>


</div>