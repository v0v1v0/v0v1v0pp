<div class="container">

<table style="width: 100%;"><tr>
<td>do_deploy_api</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Deploy or Update an API</h2>

<h3>Description</h3>

<p>Deploys an API from your local machine to make it available on the remote
plumber server.
</p>


<h3>Usage</h3>

<pre><code class="language-R">do_deploy_api(
  droplet,
  path,
  localPath,
  port,
  forward = FALSE,
  docs = FALSE,
  preflight,
  overwrite = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>droplet</code></td>
<td>
<p>The droplet on which to act. It's expected that this droplet
was provisioned using <code>do_provision()</code>.  See <code>analogsea::droplet()</code> to
obtain a reference to a running droplet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>The remote path/name of the application</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>localPath</code></td>
<td>
<p>The local path to the API that you want to deploy. The
entire directory referenced will be deployed, and the <code>plumber.R</code> file
inside of that directory will be used as the root plumber file. The
directory MUST contain a <code>plumber.R</code> file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>port</code></td>
<td>
<p>The internal port on which this service should run. This will not
be user visible, but must be unique and point to a port that is available
on your server. If unsure, try a number around <code>8000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forward</code></td>
<td>
<p>If <code>TRUE</code>, will setup requests targeting the root URL on the
server to point to this application. See the <code>do_forward()</code> function for
more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>docs</code></td>
<td>
<p>If <code>TRUE</code>, will enable the documentation interface for the remotely
deployed API. By default, the interface is disabled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preflight</code></td>
<td>
<p>R commands to run after <code>plumb()</code>ing the <code>plumber.R</code> file,
but before <code>run()</code>ing the plumber service. This is an opportunity to e.g.
add new filters. If you need to specify multiple commands, they should be
semi-colon-delimited.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>if an application is already running for this <code>path</code> name,
and <code>overwrite = TRUE</code>, then <code>do_remove_api</code> will be run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to pass to <code>analogsea::droplet_ssh()</code> or
<code>analogsea::droplet_upload()</code>, such as <code>keyfile</code>.
Cannot contain <code>remote</code>, <code>local</code> as named arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The DigitalOcean droplet, but called for side effects
</p>


</div>