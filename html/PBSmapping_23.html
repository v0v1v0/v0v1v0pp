<div class="container">

<table style="width: 100%;"><tr>
<td>plotMap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a PolySet as a Map</h2>

<h3>Description</h3>

<p>Plot a PolySet as a map, using the correct aspect ratio.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotMap(polys, xlim = NULL, ylim = NULL, projection = TRUE,
        plt = c(0.11, 0.98, 0.12, 0.88), polyProps = NULL,
        border = NULL, lty = NULL, col = NULL, colHoles = NULL,
        density = NA, angle = NULL, bg = 0, axes = TRUE,
        tckLab = TRUE, tck = 0.014, tckMinor = 0.5 * tck, ...)

.plotMaps(polys, xlim, ylim, projection, plt, polyProps,
          border, lty, col, colHoles, density, angle, bg,
          axes, tckLab, tck, tckMinor, isType, ...)

.initPlotRegion(projection, xlim, ylim, plt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>polys</code></td>
<td>
<p><code>data.frame</code> – PolySet to plot (<em>required</em>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p><code>numeric</code> – range of X-coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p><code>numeric</code> – range of Y-coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projection</code></td>
<td>
<p><code>character|logical</code> – desired projection when PolySet
lacks a <code>projection</code> attribute; one of <code>"LL"</code>, <code>"UTM"</code>,
or a numeric value.  If Boolean, specifies whether to check
<code>polys</code> for a <code>projection</code> attribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plt</code></td>
<td>
<p><code>numeric</code> – four element vector <code>(x1, x2, y1, y2)</code> giving
the coordinates of the plot region measured as a fraction of the
figure region. Set to <code>NULL</code> if <code>mai</code> in <code>par</code> is
desired.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polyProps</code></td>
<td>
<p><code>data.frame</code> – PolyData specifying which polygons to plot and their
properties.  <code>par</code> parameters passed as direct arguments
supersede these data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p><code>numeric|character</code> – vector describing edge colours (cycled by <code>PID</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p><code>numeric|character</code> – vector describing line types (cycled by <code>PID</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p><code>numeric|character</code> – vector describing fill colours (cycled by <code>PID</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colHoles</code></td>
<td>
<p><code>numeric|character</code> – vector describing hole colours (cycled by <code>PID</code>).
The default, <code>NULL</code>, should be used in most cases as it renders
holes transparent. <code>colHoles</code> is designed solely to eliminate
retrace lines when images are converted to PDF format. If
<code>colHoles</code> is specified, underlying information (i.e., previously
plotted shapes) will be obliterated.  If <code>NA</code> is specified, only
outer polygons are drawn, consequently filling holes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density</code></td>
<td>
<p><code>numeric</code> – vector describing shading line densities (lines per
inch, cycled by <code>PID</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle</code></td>
<td>
<p><code>numeric</code> – vector describing shading line angles (degrees, cycled by
<code>PID</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p><code>numeric|character</code> – background colour of the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p><code>logical</code> – if <code>TRUE</code>, plot axes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tckLab</code></td>
<td>
<p><code>logical</code> – vector (length 1 or 2); if <code>TRUE</code>,
label the major tick marks.  If given a two-element
vector, the first element describes the tick marks on the
x-axis and the second element describes those on the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tck</code></td>
<td>
<p><code>numeric</code> – vector (length 1 or 2) describing the length
of tick marks as a fraction of the smallest dimension. If
<code>tckLab = TRUE</code>, these tick marks will be automatically
labelled.  If given a two-element vector, the first element
describes the tick marks on the x-axis and the second element
describes those on the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tckMinor</code></td>
<td>
<p><code>numeric</code> – vector (length 1 or 2) describing the length
of tick marks as a fraction of the smallest dimension.  These tick
marks can not be automatically labelled.  If given a two-element vector,
the first element describes the tick marks on the x-axis and
the second element describes those on the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p><code>dots</code> – additional <code>par</code> parameters, or the arguments
<code>main</code>, <code>sub</code>, <code>xlab</code>, or <code>ylab</code> for the
<code>title</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isType</code></td>
<td>
<p><code>character</code> – one of <code>'points'</code>, <code>'polygons'</code>, or <code>'lines'</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function plots a PolySet, where each unique (<code>PID</code>,
<code>SID</code>) describes a polygon.  It connects each polygon's last
vertex to its first.  The function supports both borders
(<code>border</code>, <code>lty</code>) and fills (<code>col</code>, <code>density</code>,
<code>angle</code>).  When supplied with the appropriate arguments, it can
draw only borders or only fills .  Unlike <code>plotLines</code> and
<code>plotPolys</code>, it uses the aspect ratio supplied in the
<code>projection</code> attribute of <code>polys</code>.  If this attribute is
missing, it attempts to use its <code>projection</code> argument.  In the
absence of both, it uses a default aspect ratio of 1:1.  It clips
<code>polys</code> to <code>xlim</code> and <code>ylim</code> before plotting.
</p>
<p>The function creates a blank plot when <code>polys</code> equals
<code>NULL</code>.  In this case, the user must supply both <code>xlim</code> and
<code>ylim</code> arguments.  Alternatively, it accepts the argument
<code>type = "n"</code> as part of ..., which is equivalent to specifying
<code>polys = NULL</code>, but requires a PolySet.  In both cases,
the function's behaviour changes slightly.  To resemble the
<code>plot</code> function, it plots the border, labels, and other
parts according to <code>par</code> parameters such as <code>col</code>.
</p>
<p>For additional help on the arguments <code>border</code>, <code>lty</code>,
<code>col</code>, <code>density</code>, and <code>angle</code>, please see
<code>polygon</code> and <code>par</code>.
</p>


<h3>Value</h3>

<p>PolyData consisting of the <code>PolyProp</code>s used to create the plot.
</p>


<h3>Note</h3>

<p>To satisfy the aspect ratio, this plotting routine resizes the plot
region.  Consequently, <code>par</code> parameters such as
<code>plt</code>, <code>mai</code>, and <code>mar</code> will change.  When the function
terminates, these changes persist to allow for additions to the plot.
</p>
<p>Auxiliary dot function <code>'.initPlotRegion'</code> initialises the plot region,
accounting for the aspect ratio.
</p>


<h3>Author(s)</h3>

<p><a href="https://github.com/boersn/">Nicholas M. Boers</a>,
Software Engineer, Jobber, Edmonton AB
</p>
<p>Maintainer: <a href="mailto:rowan.haigh@dfo-mpo.gc.ca">Rowan Haigh</a>, Program Head – Offshore Rockfish<br>
Pacific Biological Station (PBS), Fisheries &amp; Oceans Canada (DFO), Nanaimo BC<br><em>locus opus</em>: Remote office, Vancouver BC<br>
Last modified <code>Rd: 2024-09-03</code>
</p>


<h3>See Also</h3>

<p>In package <span class="pkg">PBSmapping</span>:<br><code>addLabels</code>,
<code>addPolys</code>,
<code>addStipples</code>,
<code>clipPolys</code>,
<code>closePolys</code>,
<code>fixBound</code>,
<code>fixPOS</code>,
<code>locatePolys</code>,
<code>plotLines</code>,
<code>plotPoints</code>,
<code>thinPolys</code>,
<code>thickenPolys</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">local(envir=.PBSmapEnv,expr={
  oldpar = par(no.readonly=TRUE)
  #--- create a PolySet to plot
  polys &lt;- data.frame(PID=rep(1,4),POS=1:4,X=c(0,1,1,0),Y=c(0,0,1,1))
  #--- plot the PolySet
  plotMap(polys,xlim=c(-.5,1.5),ylim=c(-.5,1.5),density=0,projection=1)
  par(oldpar)
})
</code></pre>


</div>