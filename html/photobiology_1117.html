<div class="container">

<table style="width: 100%;"><tr>
<td>T2Afr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert transmittance into absorptance.</h2>

<h3>Description</h3>

<p>Function that converts transmittance (fraction) into absorptance (fraction).
If reflectance (fraction) is available, it also allows conversions between
internal and total absorptance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">T2Afr(x, action, byref, clean, ...)

## Default S3 method:
T2Afr(x, action = NULL, byref = FALSE, clean = FALSE, ...)

## S3 method for class 'numeric'
T2Afr(x, action = NULL, byref = FALSE, clean = FALSE, Rfr = NA_real_, ...)

## S3 method for class 'filter_spct'
T2Afr(x, action = "add", byref = FALSE, clean = FALSE, ...)

## S3 method for class 'object_spct'
T2Afr(x, action = "add", byref = FALSE, clean = FALSE, ...)

## S3 method for class 'filter_mspct'
T2Afr(
  x,
  action = "add",
  byref = FALSE,
  clean = FALSE,
  ...,
  .parallel = FALSE,
  .paropts = NULL
)

## S3 method for class 'object_mspct'
T2Afr(
  x,
  action = "add",
  byref = FALSE,
  clean = FALSE,
  ...,
  .parallel = FALSE,
  .paropts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an R object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>action</code></td>
<td>
<p>character Allowed values <code>"replace"</code> and <code>"add"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byref</code></td>
<td>
<p>logical indicating if new object will be created by reference
or by copy of <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean</code></td>
<td>
<p>logical replace off-boundary values before conversion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used in current version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rfr</code></td>
<td>
<p>numeric vector. Spectral reflectance o reflectance factor.
Set to zero if <code>x</code> is internal reflectance,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.parallel</code></td>
<td>
<p>if TRUE, apply function in parallel, using parallel backend
provided by foreach</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.paropts</code></td>
<td>
<p>a list of additional options passed into the foreach function
when parallel computation is enabled. This is important if (for example)
your code relies on external data or packages: use the .export and
.packages arguments to supply them so that all cluster nodes have the
correct environment set up for computing.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Absorptance, internal transmittance and total reflectance when expressed as
fractions, add up to one:
</p>
<p style="text-align: center;"><code class="reqn">1 = \alpha + \tau + \rho</code>
</p>

<p>where, <code class="reqn">\alpha</code> is absorptance, <code class="reqn">\tau</code> is internal transmittance and
<code class="reqn">\rho</code> is total reflectance. If any two of these quantities are known,
the third one can be computed from them.
</p>
<p>On the other hand:
</p>
<p style="text-align: center;"><code class="reqn">1 = \alpha\prime + T</code>
</p>

<p>where, <code class="reqn">\alpha\prime = \alpha + \rho</code>, measured together. In this case,
there is not enough information available to compute <code class="reqn">\alpha</code>.
</p>
<p>Thus, method <code>T2Afr()</code> computes
either <code class="reqn">\alpha</code> or <code class="reqn">\alpha\prime</code>,
depending on whether <code class="reqn">\tau</code> or <code class="reqn">T</code> are contained in the argument
passed to <code>x</code>, but neither of them when only <code class="reqn">\tau</code> is known. To
know which quantity has been computed, use <code>getTfrType()</code> to query
whether the computations were based on <code class="reqn">\tau</code> or <code class="reqn">T</code>.
</p>
<p>The R names used are: <code>Tfr</code> for <code class="reqn">\tau</code> and <code class="reqn">T</code> are <code>Tfr</code>,
<code>Afr</code> for <code class="reqn">\alpha</code> and <code class="reqn">\alpha\prime</code>, and <code>Rfr</code> for
<code class="reqn">rho</code>. The distinction between <code class="reqn">\tau</code> and <code class="reqn">T</code> and
between <code class="reqn">\alpha</code> and <code class="reqn">\alpha\prime</code> is made based on metadata
attributes.
</p>


<h3>Value</h3>

<p>A copy of <code>x</code> with a column <code>Afr</code> added and other columns
possibly deleted except for <code>w.length</code>. If <code>action = "replace"</code>,
in all cases, the redundant columns are removed, even when
column <code>Afr</code> was present in the argument passed to <code>x</code>.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>T2Afr(default)</code>: Default method for generic function
</p>
</li>
<li> <p><code>T2Afr(numeric)</code>: Default method for generic function
</p>
</li>
<li> <p><code>T2Afr(filter_spct)</code>: Method for filter spectra
</p>
</li>
<li> <p><code>T2Afr(object_spct)</code>: Method for object spectra
</p>
</li>
<li> <p><code>T2Afr(filter_mspct)</code>: Method for collections of filter spectra
</p>
</li>
<li> <p><code>T2Afr(object_mspct)</code>: Method for collections of object spectra
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other quantity conversion functions: 
<code>A2T()</code>,
<code>Afr2T()</code>,
<code>T2A()</code>,
<code>any2T()</code>,
<code>as_quantum()</code>,
<code>e2q()</code>,
<code>e2qmol_multipliers()</code>,
<code>e2quantum_multipliers()</code>,
<code>q2e()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">T2Afr(Ler_leaf.spct)

</code></pre>


</div>