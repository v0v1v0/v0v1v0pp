<div class="container">

<table style="width: 100%;"><tr>
<td>animate_piece</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Animate board game pieces</h2>

<h3>Description</h3>

<p><code>animate_piece()</code> animates board game pieces.
</p>


<h3>Usage</h3>

<pre><code class="language-R">animate_piece(
  dfs,
  file = "animation.gif",
  ...,
  annotate = TRUE,
  .f = piecepackr::grid.piece,
  cfg = getOption("piecepackr.cfg", NULL),
  envir = getOption("piecepackr.envir", game_systems("sans")),
  n_transitions = 0L,
  n_pauses = 1L,
  fps = n_transitions + n_pauses,
  width = NULL,
  height = NULL,
  ppi = NULL,
  new_device = TRUE,
  annotation_scale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dfs</code></td>
<td>
<p>A list of data frames of game data to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Filename to save animation unless <code>NULL</code>
in which case it uses the current graphics device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to <code>pmap_piece</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotate</code></td>
<td>
<p>If <code>TRUE</code> or <code>"algebraic"</code> annotate the plot
with “algrebraic” coordinates,
if <code>FALSE</code> or <code>"none"</code> don't annotate,
if <code>"cartesian"</code> annotate the plot with “cartesian” coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.f</code></td>
<td>
<p>Low level graphics function to use e.g. <code>grid.piece()</code>, <code>piece3d()</code>, <code>piece()</code>, or <code>piece_mesh()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cfg</code></td>
<td>
<p>A piecepackr configuration list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>Environment (or named list) of piecepackr configuration lists</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_transitions</code></td>
<td>
<p>Integer, if over zero (the default)
how many transition frames to add between moves.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_pauses</code></td>
<td>
<p>Integer, how many paused frames per completed move.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fps</code></td>
<td>
<p>Double, frames per second.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>Width of animation (in inches).  Inferred by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>Height of animation (in inches).  Inferred by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppi</code></td>
<td>
<p>Resolution of animation in pixels per inch.
By default set so image max 600 pixels wide or tall.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_device</code></td>
<td>
<p>If <code>file</code> is <code>NULL</code> should we open up a new graphics device?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotation_scale</code></td>
<td>
<p>Multiplicative factor that scales (stretches) any annotation coordinates.
By default uses <code>attr(df, "scale_factor") %||% 1</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Nothing, as a side effect creates an animation.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Basic tic-tac-toe animation
  dfs &lt;- list()
  d.frame &lt;- function(piece_side = "bit_back", ..., rank = 1L) {
                 data.frame(piece_side = piece_side, ..., rank = rank,
                            cfg = "checkers1", stringsAsFactors = FALSE)
  }
  df &lt;- d.frame("board_back", suit = 2L, rank = 3L, x = 2, y = 2, id = "1")
  dfs[[1L]] &lt;- df
  df &lt;- rbind(df, d.frame(suit = 1L, x = 2, y = 2, id = "2"))
  dfs[[2L]] &lt;- df
  df &lt;- rbind(df, d.frame(suit = 2L, x = 1, y = 2, id = "3"))
  dfs[[3L]] &lt;- df
  df &lt;- rbind(df, d.frame(suit = 1L, x = 3, y = 1, id = "4"))
  dfs[[4L]] &lt;- df
  df &lt;- rbind(df, d.frame(suit = 2L, x = 1, y = 3, id = "5"))
  dfs[[5L]] &lt;- df
  df &lt;- rbind(df, d.frame(suit = 1L, x = 1, y = 1, id = "6"))
  dfs[[6L]] &lt;- df
  df &lt;- rbind(df, d.frame(suit = 2L, x = 3, y = 3, id = "7"))
  dfs[[7L]] &lt;- df
  df &lt;- rbind(df, d.frame(suit = 1L, x = 2, y = 1, id = "8"))
  dfs[[8L]] &lt;- df

  ## Press enter to walk through moves in a "game" in new graphics device
  if (interactive()) {
      animate_piece(dfs, file = NULL)
  }

  ## Save GIF of game with animation transitions
  ## Not run: # May take more than 5 seconds on CRAN servers
  if ((requireNamespace("animation", quietly = TRUE) ||
       requireNamespace("gifski", quietly = TRUE)) &amp;&amp;
      requireNamespace("tweenr", quietly = TRUE)) {
      file &lt;- tempfile("tic-tac-toe", fileext = ".gif")
      animate_piece(dfs, file = file,
                    n_transitions = 5L, n_pauses = 2L, fps = 9)
  }
  
## End(Not run)

</code></pre>


</div>