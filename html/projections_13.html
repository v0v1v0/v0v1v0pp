<div class="container">

<table style="width: 100%;"><tr>
<td>plot.projections</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot projections objects</h2>

<h3>Description</h3>

<p>The <code>plot</code> method of <code>projections</code> objects (output by the function
<code>project</code>) shows quantiles of predicted incidence over time. The
function <code>add_projections</code> can be used to add a similar plot to an
existing <code>incidence</code> plot. This latter function is piping friendly (see
examples).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'projections'
plot(x, ylab = NULL, title = NULL, ...)

add_projections(
  p,
  x,
  quantiles = c(0.01, 0.05, 0.1, 0.5),
  ribbon = TRUE,
  boxplots = FALSE,
  palette = quantile_pal,
  quantiles_alpha = 1,
  linetype = 1,
  linesize = 0.5,
  ribbon_quantiles = NULL,
  ribbon_color = NULL,
  ribbon_alpha = 0.3,
  boxplots_color = "#47476b",
  boxplots_fill = "grey",
  boxplots_alpha = 0.8,
  outliers = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>projections</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>An optional label for the y-axis. If missing will default to
"predicted incidence" or, if cumulative, "predicted cumulative incidence"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>An optional title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed to <code>add_projections</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A previous incidence plot to which projections should be added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>A vector of quantiles to plot, automatically completed to be
symmetric around the median.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ribbon</code></td>
<td>
<p>A logical indicating if a ribbon should be drawn; defaults to
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boxplots</code></td>
<td>
<p>A logical indicating if boxplots should be drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>A color palette to be used for plotting the quantile lines;
defaults to <code>quantile_pal</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles_alpha</code></td>
<td>
<p>A number used to control the transparency of the
quantile lines, from 0 (full transparency) to 1 (full opacity); defaults to
1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linetype</code></td>
<td>
<p>An integer indicating the type of line used for plotting the
quantiles; defaults to 1 for a plain line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linesize</code></td>
<td>
<p>An integer indicating the size of line used for plotting the
quantiles; defaults to 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ribbon_quantiles</code></td>
<td>
<p>A vector of 2 quantiles to be used to determine the
limits of the ribbon; if NULL (default); uses the most extreme quantiles if
available; if quantiles are not provided, the daily range will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ribbon_color</code></td>
<td>
<p>Any valid color, used for the ribbon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ribbon_alpha</code></td>
<td>
<p>A number used to control the transparency of the
ribbon, from 0 (full transparency) to 1 (full opacity); defaults to 0.3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boxplots_color</code></td>
<td>
<p>Any valid color, used for the boxplot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boxplots_fill</code></td>
<td>
<p>Any valid color, used for filling the boxplot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boxplots_alpha</code></td>
<td>
<p>A number used to control the transparency of the
boxplots, from 0 (full transparency) to 1 (full opacity); defaults to 0.8.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outliers</code></td>
<td>
<p>A logical indicating if outliers should be displayed
alongside the boxplots; defaults to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Thibaut Jombart <a href="mailto:thibautjombart@gmail.com">thibautjombart@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>project</code> to generate projections
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (require(outbreaks) &amp;&amp;
    require(distcrete) &amp;&amp;
    require(incidence) &amp;&amp;
    require(magrittr)) {

si &lt;- distcrete("gamma",
                 interval = 1L,
                 shape = 2.4,
                 scale = 4.7,
                 w = 0.5)

i &lt;- incidence(ebola_sim$linelist$date_of_onset)
plot(i)

## add projections after the first 100 days, over 60 days
set.seed(1)
proj &lt;- project(x = i[1:100], R = 1.4, si = si, n_days = 60)

## plotting projections: different options
plot(proj)
plot(proj, quantiles = c(.025, .5)) # 95% CI
plot(proj, ribbon_color = "red", quantiles = FALSE) # range
plot(proj, ribbon_color = "red", quantiles = FALSE,
     ribbon_quantiles = c(.025, .5))
plot(proj, boxplots = TRUE, quantiles = FALSE, ribbon = FALSE)
plot(proj, boxplots = TRUE, quantiles = FALSE, outliers = FALSE)
plot(proj, linetype = 3)

## adding them to incidence plot
plot(i) %&gt;% add_projections(proj)
plot(i[1:160]) %&gt;% add_projections(proj)
plot(i[1:160]) %&gt;% add_projections(proj, boxplots = FALSE)
plot(i[1:160]) %&gt;%
  add_projections(proj, boxplots_alpha = .3, boxplots_color = "red")

## same, with customised quantiles and colors
quantiles &lt;- c(.001, .01, 0.05, .1, .2, .3, .4, .5)
pal &lt;- colorRampPalette(c("#b3c6ff", "#00e64d", "#cc0066"))
plot(i[1:200]) %&gt;%
  add_projections(proj, quantiles, palette = pal)

}

</code></pre>


</div>