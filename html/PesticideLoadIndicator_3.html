<div class="container">

<table style="width: 100%;"><tr>
<td>compute_pesticide_load_indicator</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Pesticide Load Indicator with user supplied information on pesticide properties</h2>

<h3>Description</h3>

<p>Compute Pesticide Load Indicator with user supplied information on pesticide properties
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_pesticide_load_indicator(substances, products)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>substances</code></td>
<td>
<p>Dataframe describing active ingredients of the applied pesticide products, including their ecotoxicity, fate and human health properties.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>products</code></td>
<td>
<p>Dataframe with raw pesticide application data.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Dataframe with pesticide indicators for each pesticide application
indicated in the products dataframe.
Computes Pesticide Load Indicator (L) and its subindicators:
The Human Health Load (HL), Ecotoxicity Load (TL) and Fate Load (FL).
If standard dosages are provided the Standard Treatment Index (STI) and
the Pesticide Load Index (LI=STI*L) are also computed.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# A) Compute Pesticide Load indicator for a complete database

# load the dataframe containing the pesticide use data.
products_user &lt;- products.load()
# load the (user-supplied) dataframe with detailed information on used pesticides.
substances_user &lt;- substances.load()

# Compute the Pesticide Load Indicator and its sub-indicators using the user supplied data.
indicators_user &lt;- compute_pesticide_load_indicator(substances = substances_user,
products= products_user)

# B) Compute Pesticide Load Indicator starting from basic data on products used
# Add properties of pesticides with match_ppdb()

# Step1: load the dataframe containing the basic pesticide use data.
products_basic &lt;- products.load()[,c("product","crop","standard.dosage","formula")]
# Step2: Add information on the year in which the product is used.
# (not neccessary if all data is before 2013 - then just insert a dummy year &gt; 2013)
products_basic$Year &lt;- c(2009,2010,2011,2012)

# Step3: load the (user-supplied) dataframe with basic information on used pesticides
substances_basic &lt;- substances.load()[,c("substance","product","concentration")]

# Step4: Add the CAS number of each active ingredient to link to the Pesticide Properties database.
substances_basic$CAS.number &lt;- c("94361-06-5","141517-21-7","111988-49-9","467-69-6",
                                "1918-00-9","94-74-6","21087-64-9","142459-58-3")

# Step5: Add the Load factors as defined in the Danish Pesticide Load indicator.
# These values are supplied in the package.
# Alternatively supply own values for the Load factor.
Load.factors &lt;- c("Load.Factor.SCI","Load.Factor.BCF","Load.Factor.SoilDT50",
       "Load.Factor.Birds","Load.Factor.Mammals","Load.Factor.Fish",
       "Load.Factor.Aquatic.Invertebrates","Load.Factor.Algae","Load.Factor.Aquatic.Plants",
       "Load.Factor.Earthworms","Load.Factor.Bees","Load.Factor.Fish.Chronic",
       "Load.Factor.Aquatic.Invertebrates.Chronic","Load.Factor.Earthworms.Chronic")
for (i in 1:length(Load.factors)){
  substances_basic[,Load.factors[i]]&lt;- rep(times=dim(substances_basic)[[1]],
                                          substances.load()[1,Load.factors[i]])
}

# Step6: Add pesticide properties from the PPDB using the match_ppdb() function
# Indicate the folder containing the "General","Fate", "Human" and "Ecotox" tables of the PPPDB.
# Excel files (under the exact same name, e.g. Human.xlsx) are required.
# Attention, a licensed access to the PPPDB (Lewis et al., 2016) is required.
# Note that the "Fate" table should include a column indicating the "SCI.GROW" values.
folder &lt;- "path"
matched_data &lt;- match.ppdb (substances=substances_basic, products=products_basic, 
                            folder=folder, healthrisk_off=TRUE)
                            
products_complete&lt;- matched_data[[1]]
substances_complete&lt;- matched_data[[2]]

# Step7(optional): change reference values in the substances_complete data_frame if required.

# Step8: Supply the sum of risk scores based on the product label to compute the Human Health Load.
# Add the reference value for the Human Health Load 
products_complete$sum.risk.score &lt;- c(150,25,20,130)
products_complete$reference.sum.risk.scores &lt;- 350                                                        

# Step9: Compute the Pesticide Load Indicator and its sub-indicators 
indicators_user &lt;- compute_pesticide_load_indicator(substances = substances_complete,
products= products_complete)
# Note that from version 1.3.1 on, the optional Pesticide Load Index
# is computed by first standardizing the Pesticide Load with the standard dosage. 

## End(Not run)
</code></pre>


</div>