<div class="container">

<table style="width: 100%;"><tr>
<td>Plot vowel formant frequencies</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot vowel formant data and a variety of derivative measures.</h2>

<h3>Description</h3>

<p>Generates high-quality plots of provided formant values using
either the default onscreen device (X11, Quartz, or Win32) or
direct-to-file using built-in R file output methods (PDF, SVG, JPG,
PNG, TIFF, or BMP).</p>


<h3>Usage</h3>

<pre><code class="language-R">    plotVowels(f1, f2, vowel=NULL, group=NULL,
               plot.tokens=TRUE, pch.tokens=NULL,
               cex.tokens=NULL, alpha.tokens=NULL,
               plot.means=FALSE, pch.means=NULL,
               cex.means=NULL, alpha.means=NULL,
               hull.line=FALSE, hull.fill=FALSE,
               hull.args=NULL, poly.line=FALSE,
               poly.fill=FALSE, poly.args=NULL,
               poly.order=NA, ellipse.line=FALSE,
               ellipse.fill=FALSE, ellipse.conf=0.6827,
               ellipse.args=NULL, diph.arrows=FALSE,
               diph.args.tokens=NULL, diph.args.means=NULL,
               diph.label.first.only=TRUE,
               diph.mean.timept=1, diph.smooth=FALSE,
               heatmap=FALSE, heatmap.args=NULL,
               heatmap.legend=FALSE, heatmap.legend.args=NULL,
               var.col.by=NULL, var.sty.by=NULL,
               fill.opacity=0.3, label.las=NULL,
               legend.kwd=NULL, legend.args=NULL,
               pretty=FALSE, output='screen', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>f1,f2</code></td>
<td>
<p>Vector or matrix of formant frequency values. To plot multiple
timepoints for each vowel, <code>f1</code> and <code>f2</code> should be
matrices with vowel tokens varying along the rows and
timepoints varying across the columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vowel</code></td>
<td>
<p>Vector of vowel symbols/labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Vector or factor that determines the groups used in calculating
vowel means, e.g., a factor indicating “gender”,
“speaker”, “sociolinguistic register”, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.tokens</code></td>
<td>
<p>Logical; should individual vowel tokens be plotted?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch.tokens</code></td>
<td>
<p>Vector of strings or integers; the symbol(s) to use when
plotting vowel tokens. Integers are interpreted as
standard R <code>pch</code> values (see
<code>points</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.tokens</code></td>
<td>
<p>Numeric; size of individual vowel points relative to
<code>par("cex")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.tokens</code></td>
<td>
<p>Numeric in range [0,1], indicating opacity of plotted
vowel tokens.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.means</code></td>
<td>
<p>Logical; should individual vowel tokens be plotted?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch.means</code></td>
<td>
<p>Vector of strings or integers; the symbol(s) to use when
plotting vowel means. Integers are interpreted as standard
R <code>pch</code> values (see <code>points</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.means</code></td>
<td>
<p>Size of vowel means relative to <code>par("cex")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.means</code></td>
<td>
<p>Numeric in range [0,1], indicating opacity of plotted
vowel means.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hull.line</code></td>
<td>
<p>Logical; should a line be drawn tracing the convex hull
encompassing all tokens (separately for each level of
<code>group</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hull.fill</code></td>
<td>
<p>Logical; should the convex hull(s) have a color fill?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hull.args,poly.args,ellipse.args</code></td>
<td>
<p>Named list of arguments to be passed
to <code>polygon</code>.
Useful for controlling line width,
etc. See “Details” for notes
about color handling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poly.line</code></td>
<td>
<p>Logical; should a line be drawn tracing the polygon
connecting the mean values for each vowel (separately for
each level of <code>group</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poly.fill</code></td>
<td>
<p>Logical; should the polygon(s) connecting mean values for
each vowel have a color fill?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poly.order</code></td>
<td>
<p>Vector or factor indicating the order in which the polygon
vertices should be connected. Should match the levels of
<code>factor(vowel)</code>. If there are values of <code>vowel</code>
not included in <code>poly.order</code>, they will not be
connected to the polygon line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ellipse.line</code></td>
<td>
<p>Logical; should vowel density ellipses be drawn with an
outer line?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ellipse.fill</code></td>
<td>
<p>Logical; should vowel density ellipses be filled?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ellipse.conf</code></td>
<td>
<p>Numeric in range (0,1]; the size of the ellipse
expressed as a confidence level of the estimate of the
true mean (i.e., 0.95 gives a 95% confidence ellipse).
The default value (0.6827) corresponds to plus-or-minus
one sample standard deviation along the major and minor
axes of the bivariate normal density contour.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diph.arrows</code></td>
<td>
<p>Logical; should the last timepoint of each vowel be
marked with an arrowhead?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diph.args.tokens,diph.args.means</code></td>
<td>
<p>List of named arguments to be passed
to <code>points</code> and/or <code>arrows</code>
when plotting tokens or means (ignored if <code>f1</code> and <code>f2</code> are
1-dimensional). Default is to plot bare lines (<code>type="l"</code>) when
<code>pch.tokens</code> is <code>NULL</code>, to draw points and lines overplotted
(<code>type="o"</code>) when <code>diph.arrows=FALSE</code>, and to plot bare
lines with the first timepoint of each diphthong plotted when
<code>diph.arrows=TRUE</code>. When <code>pretty=TRUE</code> and
<code>diph.arrows=TRUE</code>, additional default settings are
<code>length=0.1</code> and <code>angle=20</code>. For <code>diph.args.means</code>,
<code>lwd</code> defaults to <code>2 * par("lwd")</code> when <code>pretty=TRUE</code>.
All of these defaults are overridden by values passed to
<code>diph.args.tokens</code> or <code>diph.args.means</code> in the function
call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diph.label.first.only</code></td>
<td>
<p>Logical; if plotting diphthongs, should a symbol
or label be drawn only at the first timepoint?
Note that if plotting means, the label or symbol
may not correspond to the <em>first</em> timepoint;
it depends on the value of <code>diph.mean.timept</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diph.mean.timept</code></td>
<td>
<p>A strictly positive integer indicating which timepoint
of the diphthongs should be used to calculate means,
ellipses, and polygons. For example, if the <code>f1</code>
and <code>f2</code> arguments are N-by-5 matrices where the
3rd column of each represents the formant measurement
at the vowel midpoint (with the other columns providing
2 onglide and 2 offglide measurements), you can plot the
means, ellipses, and polygons based on the midpoint
measures by specifying <code>diph.mean.timept=3</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diph.smooth</code></td>
<td>
<p>Logical; should a smoothing spline be drawn instead of
segments connecting individual timepoints? This feature
is under development, unstable, unsupported, and to the
extent that it is implemented, it is only implemented for
tokens, not means.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap</code></td>
<td>
<p>Logical; should a repulsive force heatmap be drawn?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap.args</code></td>
<td>
<p>Named list of additional arguments passed to
<code>repulsiveForceHeatmap</code>. The arguments <code>x</code>,
<code>y</code>, and <code>type</code> are passed automatically by
<code>plotVowels</code>; <code>heatmap.args</code> is probably most
useful for controlling <code>resolution</code>, <code>colormap</code>,
and the <code>xform</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap.legend</code></td>
<td>
<p>Logical; should a legend be drawn showing the color scale
used in the repulsive force heatmap?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap.legend.args</code></td>
<td>
<p>Named list of additional arguments passed to
<code>repulsiveForceHeatmapLegend</code>. Parameters
likely to be user-specified here are <code>x</code> and <code>y</code>
for specifying the endpoints of the colorbar, <code>labels</code>
for label text at the two ends of the colorbar, and
<code>smoothness</code> for the number of color steps to display
(limited by the number of levels in the color scale
used). See <code>repulsiveForceHeatmapLegend</code> for
a more complete description of the available arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.col.by</code></td>
<td>
<p>Vector or factor indicating the dimension along which to vary
color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.sty.by</code></td>
<td>
<p>Vector or factor indicating the dimension along which to
vary linetype and plotting symbol.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill.opacity</code></td>
<td>
<p>Number in the range [0, 1] indicating the opacity of
color fills for ellipses, hulls, and polygons (if drawn).
Does not affect <code>force.heatmap</code> colors, which are
specified via <code>force.colmap</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.kwd</code></td>
<td>
<p>Keyword indicating legend placement (see
<code>legend</code>). If <code>NULL</code> (the
default), no legend will be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.las</code></td>
<td>
<p>Controls the orientation of axis labels relative to the axis
line (independently from the axis tick numbers). Possible
values are integers 0-4 (see <code>par</code>),
or <code>NULL</code> (to use the default value of <code>par("las")</code>,
or a value passed to <code>plotVowels</code> as <code>las</code> if
available).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.args</code></td>
<td>
<p>Named list of additional arguments to be passed to
<code>legend</code>, for controlling things
like <code>inset</code>, <code>ncol</code>, <code>seg.len</code>, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pretty</code></td>
<td>
<p>Logical; a switch that sets various graphical parameters:
<code>mar</code>, <code>las</code>, <code>mgp</code>, <code>xpd</code>, <code>fg</code>, and
<code>tcl</code>, as well as arrow parameters like <code>length</code> and
<code>angle</code> and <code>plotVowels</code>-specific parameters such
as <code>color.palette</code>. It is permissible to set
<code>pretty=TRUE</code> and also pass any of these parameters to
<code>plotVowels</code> to override the <code>pretty</code> defaults.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>Graphical device to plot to. Supported values are
“screen”, “pdf”, “svg”, “jpg”,
“tif”, “png”, “bmp”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other graphical parameters passed to methods; e.g., <code>width</code>,
<code>height</code>, <code>units</code>, <code>asp</code>, <code>res</code>, <code>xlim</code>,
<code>xlab</code>, <code>main</code>, etc. Two arguments of <code>plot</code>:
<code>ann</code> and <code>type</code>, are always silently overridden by
<code>plotVowels</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><em>Notes on color handling</em>. If no <code>col</code> or <code>border</code>
arguments are passed to <code>hull.args</code>, <code>poly.args</code>, or
<code>ellipse.args</code>, then color is handled as follows: if
<code>pretty=FALSE</code>, colors default to the values in <code>palette()</code>,
with opacity for fills set by <code>fill.opacity</code>. If <code>pretty=TRUE</code>,
equally-spaced hues of HCL colors are used instead of <code>palette()</code>.
If the values passed to <code>var.col.by</code> and <code>vowel</code> are identical,
hull and polygon lines are drawn in black, and fills are drawn black
with appropriate <code>fill.opacity</code>.
</p>


<h3>Author(s)</h3>

<p>McCloy, Daniel <a href="mailto:drmccloy@uw.edu">drmccloy@uw.edu</a></p>


<h3>See Also</h3>

<p><code>normVowels</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(indoVowels)
with(indo, plotVowels(f1, f2, vowel, group=gender, plot.means=TRUE,
                      pch.means=vowel, ellipse.line=TRUE, poly.line=TRUE,
                      poly.order=c('i','e','a','o','u'), var.col.by=vowel,
                      var.sty.by=gender, pretty=TRUE, alpha.tokens=0.3,
                      cex.means=2))
# simulate some diphthongs
f1delta &lt;- sample(c(-10:-5, 5:15), nrow(indo), replace=TRUE)
f2delta &lt;- sample(c(-15:-10, 20:30), nrow(indo), replace=TRUE)
f1coefs &lt;- matrix(sample(c(2:5), nrow(indo) * 2, replace=TRUE), 
                  nrow=nrow(indo))
f2coefs &lt;- matrix(sample(c(3:6), nrow(indo) * 2, replace=TRUE),
                  nrow=nrow(indo))
indo &lt;- within(indo, {
    f1a &lt;- f1  + f1delta * f1coefs[,1]
    f2a &lt;- f2  + f2delta * f2coefs[,1]
    f1b &lt;- f1a + f1delta * f1coefs[,2]
    f2b &lt;- f2a + f2delta * f2coefs[,2]
    })
with(indo, plotVowels(cbind(f1, f1a, f1b), cbind(f2, f2a, f2b), vowel,
                      group=gender, plot.tokens=TRUE, pch.tokens=NA,
                      alpha.tokens=0.3, plot.means=TRUE, pch.means=vowel,
                      var.col.by=vowel, var.sty.by=gender, pretty=TRUE,
                      diph.arrows=TRUE, diph.args.tokens=list(lwd=0.8),
                      diph.args.means=list(lwd=2)))
</code></pre>


</div>