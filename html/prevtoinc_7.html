<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_I_smooth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate the incidence based on PPS data using monotone estimators for the distribution of A.</h2>

<h3>Description</h3>

<p>Estimate incidence from PPS by the method proposed in the companion paper.
'data' should be supplied as a data frame with at least a column named 'A.loi'
giving lengths of infection up to date of PPS.
Values of zero for 'A.loi' indicate absence of a HAI. Optionally,
the data frame can also contain a column 'A.los' supplying lengths
of stay up to PPS to estimate x.los with the same method as well.
If 'correct.one' is 'TRUE', the number infections on their first day
will be augmented to be at least as high as the number of infections
on their second day for the estimation of x.loi .
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_I_smooth(data, method = "gren", correct.one.loi = "no",
  correct.one.los = "no")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame which contains a column 'A.loi' 
with lengths of nosocomial infections up to survey point ( zero if none) and
possibly a column 'A.los' with length of stay up to survey point</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>method to use for smoothing ("gren" ( Grenander ) or "rear" (rearrangement))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct.one.loi</code></td>
<td>
<p>use correction for underreporting of one day LOIs:
"no" if none, "fill.ones" to set the one-day cases to be at least the number
of two-day cases, "start.two" to only use P(A=2| A &gt; 1) as a proxy for P(A=1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct.one.los</code></td>
<td>
<p>use correction for underreporting of one day LOSs:
"no" if none, "fill.ones" to set the one-day cases to be at least the number
of two-day cases, "start.two" to only use P(A=2| A &gt; 1) as a proxy for P(A=1)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>one-row data frame with following columns </p>

<ul>
<li>
<p>n - number of patients sampled 
</p>
</li>
<li>
<p>n.noso - number of HAIs
</p>
</li>
<li>
<p>P.hat - estimate of prevalence P
</p>
</li>
<li>
<p>I.hat - estimate of incidence rate I
</p>
</li>
<li>
<p>I.pp.hat - estimate of incidence proportion per admission I.pp
</p>
</li>
<li>
<p>x.loi.hat - estimate of x.loi
</p>
</li>
<li>
<p>x.los.hat - estimate of x.los
</p>
</li>
<li>
<p>method - name of the method
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
# create example data for PPS
example.dist &lt;- create_dist_vec(function(x) dpois(x-1, 7), max.dist = 70)
example.dist.los &lt;- create_dist_vec(function(x) dpois(x-1, lambda = 12),
                                    max.dist = 70)
data.pps.fast &lt;- simulate_pps_fast(n.sample=200,
                                   P=0.05,
                                   dist.X.loi = example.dist,
                                   dist.X.los = example.dist.los)
head(data.pps.fast)

# estimate of incidence
calculate_I_smooth(data = data.pps.fast,
                   method = "gren")


</code></pre>


</div>