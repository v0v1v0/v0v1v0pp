<div class="container">

<table style="width: 100%;"><tr>
<td>as.transfun</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>create a transition function</h2>

<h3>Description</h3>

<p>A utility function to enable users to create bespoke transition
functions (<code>transfun</code> objects) for use in <code>transition</code>s.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.transfun(fun, param, type = c("probability", "rate", "dispersal"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>an R function describing the transition. This must take only one
argument: <code>landscape</code> and return a numeric vector (see
<code>details</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>a named list of the parameters of <code>fun</code> (see
<code>details</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>what type of transition this function represents, a probability
or a rate</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>fun</code> must take only one argument, <code>landscape</code>, an object
of class <code>landscape</code>. <code>landscape</code> objects contain three
elements which may be used in the function: <code>population</code>, a dataframe
giving the number of individuals of each stage (columns) in each patch
(rows); <code>area</code>; a numeric vector giving the area of each patch in
square kilometres; and <code>features</code>, a dataframe containing
miscellaneous features (columns) of each habitat patch (rows), such as
measures of patch quality or environmental variables. See examples for an
illustration of how to these objects. Parameters of the transfun should be
passed to <code>as.transfun</code> as a named list. These can then be used in
<code>fun</code> by accessing them from this list. Note that <code>param</code> isn't
an argument to <code>fun</code>, instead it's modified directly in the function's
envirnment (because <em>reasons</em>).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># a very simple (and unnecessary, see ?p) transfun
fun &lt;- function(landscape) param$prob
prob &lt;- as.transfun(fun, param = c(prob = 0.3), type = 'probability')

# a density-dependent probability
dd_fun &lt;- function (landscape) {
    adult_density &lt;- population(landscape, 'adult') / area(landscape)
    param$p * exp(- adult_density/param$range)
}

dd_prob &lt;- as.transfun(dd_fun,
                       param = list(p = 0.8,
                                    range = 10),
                       type = 'probability')

</code></pre>


</div>