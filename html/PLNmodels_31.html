<div class="container">

<table style="width: 100%;"><tr>
<td>PLNfamily</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>An R6 Class to represent a collection of PLNfit</h2>

<h3>Description</h3>

<p>super class for <code>PLNPCAfamily</code> and <code>PLNnetworkfamily</code>.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>responses</code></dt>
<dd>
<p>the matrix of responses common to every models</p>
</dd>
<dt><code>covariates</code></dt>
<dd>
<p>the matrix of covariates common to every models</p>
</dd>
<dt><code>offsets</code></dt>
<dd>
<p>the matrix of offsets common to every models</p>
</dd>
<dt><code>weights</code></dt>
<dd>
<p>the vector of observation weights</p>
</dd>
<dt><code>inception</code></dt>
<dd>
<p>a PLNfit object, obtained when no sparsifying penalty is applied.</p>
</dd>
<dt><code>models</code></dt>
<dd>
<p>a list of PLNfit object, one per penalty.</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>criteria</code></dt>
<dd>
<p>a data frame with the values of some criteria (approximated log-likelihood, BIC, ICL, etc.) for the collection of models / fits
BIC and ICL are defined so that they are on the same scale as the model log-likelihood, i.e. with the form, loglik - 0.5 penalty</p>
</dd>
<dt><code>convergence</code></dt>
<dd>
<p>sends back a data frame with some convergence diagnostics associated with the optimization process (method, optimal value, etc)</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PLNfamily-new"><code>PLNfamily$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PLNfamily-postTreatment"><code>PLNfamily$postTreatment()</code></a>
</p>
</li>
<li> <p><a href="#method-PLNfamily-getModel"><code>PLNfamily$getModel()</code></a>
</p>
</li>
<li> <p><a href="#method-PLNfamily-plot"><code>PLNfamily$plot()</code></a>
</p>
</li>
<li> <p><a href="#method-PLNfamily-show"><code>PLNfamily$show()</code></a>
</p>
</li>
<li> <p><a href="#method-PLNfamily-print"><code>PLNfamily$print()</code></a>
</p>
</li>
<li> <p><a href="#method-PLNfamily-clone"><code>PLNfamily$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-PLNfamily-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a new <code>PLNfamily</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PLNfamily$new(responses, covariates, offsets, weights, control)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>responses</code></dt>
<dd>
<p>the matrix of responses common to every models</p>
</dd>
<dt><code>covariates</code></dt>
<dd>
<p>the matrix of covariates common to every models</p>
</dd>
<dt><code>offsets</code></dt>
<dd>
<p>the matrix of offsets common to every models</p>
</dd>
<dt><code>weights</code></dt>
<dd>
<p>the vector of observation weights</p>
</dd>
<dt><code>control</code></dt>
<dd>
<p>list controlling the optimization and the model</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new <code>PLNfamily</code> object
</p>


<hr>
<a id="method-PLNfamily-postTreatment"></a>



<h4>Method <code>postTreatment()</code>
</h4>

<p>Update fields after optimization
</p>


<h5>Usage</h5>

<div class="r"><pre>PLNfamily$postTreatment(config_post, config_optim)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>config_post</code></dt>
<dd>
<p>a list for controlling the post-treatments (optional bootstrap, jackknife, R2, etc.).</p>
</dd>
<dt><code>config_optim</code></dt>
<dd>
<p>a list for controlling the optimization parameters used during post_treatments</p>
</dd>
</dl>
</div>


<hr>
<a id="method-PLNfamily-getModel"></a>



<h4>Method <code>getModel()</code>
</h4>

<p>Extract a model from a collection of models
</p>


<h5>Usage</h5>

<div class="r"><pre>PLNfamily$getModel(var, index = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>var</code></dt>
<dd>
<p>value of the parameter (<code>rank</code> for PLNPCA, <code>sparsity</code> for PLNnetwork) that identifies the model to be extracted from the collection. If no exact match is found, the model with closest parameter value is returned with a warning.</p>
</dd>
<dt><code>index</code></dt>
<dd>
<p>Integer index of the model to be returned. Only the first value is taken into account.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A <code>PLNfit</code> object
</p>


<hr>
<a id="method-PLNfamily-plot"></a>



<h4>Method <code>plot()</code>
</h4>

<p>Lineplot of selected criteria for all models in the collection
</p>


<h5>Usage</h5>

<div class="r"><pre>PLNfamily$plot(criteria, reverse)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>criteria</code></dt>
<dd>
<p>A valid model selection criteria for the collection of models. Includes loglik, BIC (all), ICL (PLNPCA) and pen_loglik, EBIC (PLNnetwork)</p>
</dd>
<dt><code>reverse</code></dt>
<dd>
<p>A logical indicating whether to plot the value of the criteria in the "natural" direction
(loglik - penalty) or in the "reverse" direction (-2 loglik + penalty). Default to FALSE, i.e use the natural direction, on
the same scale as the log-likelihood.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A <code>ggplot2</code> object
</p>


<hr>
<a id="method-PLNfamily-show"></a>



<h4>Method <code>show()</code>
</h4>

<p>User friendly print method
</p>


<h5>Usage</h5>

<div class="r"><pre>PLNfamily$show()</pre></div>


<hr>
<a id="method-PLNfamily-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>User friendly print method
</p>


<h5>Usage</h5>

<div class="r"><pre>PLNfamily$print()</pre></div>


<hr>
<a id="method-PLNfamily-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PLNfamily$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>See Also</h3>

<p><code>getModel()</code>
</p>


</div>