<div class="container">

<table style="width: 100%;"><tr>
<td>covariates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Covariates</h2>

<h3>Description</h3>

<p>Incorporating time-varying covariates using lookup tables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'numeric'
covariate_table(..., order = c("linear", "constant"), times)

## S4 method for signature 'character'
covariate_table(..., order = c("linear", "constant"), times)

repair_lookup_table(table, t, order)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>numeric vectors or data frames containing time-varying covariates.
It must be possible to bind these into a data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>the order of interpolation to be used.
Options are “linear” (the default) and “constant”.
Setting <code>order="linear"</code> treats the covariates as piecewise linear functions of time;
<code>order="constant"</code> treats them as right-continuous piecewise constant functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>the times corresponding to the covariates.
This may be given as a vector of (non-decreasing, finite) numerical values.
Alternatively, one can specify by name which of the given variables is the time variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>
<p>a ‘covartable’ object created by a call to <code>covariate_table</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>numeric vector;
times at which interpolated values of the covariates in <code>table</code> are required.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the ‘pomp’ object contains covariates (specified via the <code>covar</code> argument), then interpolated values of the covariates will be available to each of the model components whenever it is called.
In particular, variables with names as they appear in the <code>covar</code> covariate table will be available to any C snippet.
When a basic component is defined using an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function, that function will be called with an extra argument, <code>covars</code>, which will be a named numeric vector containing the interpolated values from the covariate table.
</p>
<p>An exception to this rule is the prior (<code>rprior</code> and <code>dprior</code>):
covariate-dependent priors are not allowed.
Nor are parameter transformations permitted to depend upon covariates.
</p>
<p><code>repair_lookup_table</code> applies <code>lookup</code> at the provided values of <code>t</code> and returns the resulting lookup table.
If <code>order</code> is unsupplied, the interpolation-order from <code>table</code> is preserved.
<strong><code>repair_lookup_table</code> should be considered experimental: its interface may change without notice</strong>.
</p>


<h3>Value</h3>

<p><code>covariate_table</code> returns a lookup table suitable for inclusion of covariates in a ‘pomp’ object.
Specifically, this is an object of class ‘covartable’.
</p>
<p><code>repair_lookup_table</code> returns a lookup table with entries at the provided values of <code>t</code>.
</p>


<h3>Extrapolation</h3>

<p>If <code>t</code> is outside the range of the lookup table, the values will be extrapolated, and a warning will be issued.
The type of extrapolation performed will be constant or linear according to the <code>order</code> flag used when creating the table.
</p>


<h3>See Also</h3>

<p>More on implementing POMP models: 
<code>Csnippet</code>,
<code>accumvars</code>,
<code>basic_components</code>,
<code>betabinomial</code>,
<code>dinit_spec</code>,
<code>dmeasure_spec</code>,
<code>dprocess_spec</code>,
<code>emeasure_spec</code>,
<code>eulermultinom</code>,
<code>parameter_trans()</code>,
<code>pomp-package</code>,
<code>pomp_constructor</code>,
<code>prior_spec</code>,
<code>rinit_spec</code>,
<code>rmeasure_spec</code>,
<code>rprocess_spec</code>,
<code>skeleton_spec</code>,
<code>transformations</code>,
<code>userdata</code>,
<code>vmeasure_spec</code>
</p>
<p>More on interpolation:
<code>bsplines</code>,
<code>lookup()</code>
</p>


</div>