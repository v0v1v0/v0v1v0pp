<div class="container">

<table style="width: 100%;"><tr>
<td>write_POMDP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read and write a POMDP Model to a File in POMDP Format</h2>

<h3>Description</h3>

<p>Reads and write a POMDP file suitable for the <code>pomdp-solve</code> program.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write_POMDP(x, file, digits = 7, labels = FALSE)

read_POMDP(file, parse = TRUE, normalize = FALSE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class POMDP.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>a file name. <code>read_POMDP()</code> also accepts connections including URLs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>precision for writing numbers (digits after the decimal
point).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>logical; write original labels or use index numbers? Labels are
restricted to <code style="white-space: pre;">⁠[a-zA-Z0-9_-]⁠</code> and the first character has to be a letter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parse</code></td>
<td>
<p>logical; try to parse the model maotrices.
Solvers still work with unparsed matrices, but helpers for simulation are not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>logical; should the description be normalized for faster access (see <code>normalize_POMDP()</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; report parsed lines. This is useful for debugging a POMDP file.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>POMDP objects read from a POMDP file have an extra element called <code>problem</code> which contains the original
POMDP specification. <strong>The original specification is directly used by external solvers.</strong> In addition, the file
is parsed using an experimental POMDP file parser. The parsed information can be used with auxiliary functions
in this package that use fields like the transition matrix, the observation matrix and the reward structure.
</p>
<p>The range of useful rewards is restricted by the solver. Here the values are restricted to the range
<code style="white-space: pre;">⁠[-1e10, 1e10]⁠</code>.
Unavailable actions have a reward of <code>-Inf</code> which is translated to -2 times the maximum
absolute reward value used in the model.
</p>
<p><strong>Notes:</strong>
The parser for POMDP files is experimental. Please report
problems here: <a href="https://github.com/mhahsler/pomdp/issues">https://github.com/mhahsler/pomdp/issues</a>.
</p>


<h3>Value</h3>

<p><code>read_POMDP()</code> returns a POMDP object.
</p>


<h3>Author(s)</h3>

<p>Hossein Kamalzadeh, Michael Hahsler
</p>


<h3>References</h3>

<p>POMDP solver website: https://www.pomdp.org
</p>


<h3>See Also</h3>

<p>Other POMDP: 
<code>MDP2POMDP</code>,
<code>POMDP()</code>,
<code>accessors</code>,
<code>actions()</code>,
<code>add_policy()</code>,
<code>plot_belief_space()</code>,
<code>projection()</code>,
<code>reachable_and_absorbing</code>,
<code>regret()</code>,
<code>sample_belief_space()</code>,
<code>simulate_POMDP()</code>,
<code>solve_POMDP()</code>,
<code>solve_SARSOP()</code>,
<code>transition_graph()</code>,
<code>update_belief()</code>,
<code>value_function()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Tiger)

## show the POMDP file that would be written.
write_POMDP(Tiger, file = stdout())
</code></pre>


</div>