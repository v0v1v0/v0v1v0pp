<div class="container">

<table style="width: 100%;"><tr>
<td>thicken_cust</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Thicken with a custom spanning</h2>

<h3>Description</h3>

<p>Like <code>thicken</code>, it will find the datetime variable in <code>x</code>
and add a variable of a higher periodicity to it. However, the variable to
which to map the observation is provided by the user. This enables mapping to
time points that are unequally spaced.
</p>


<h3>Usage</h3>

<pre><code class="language-R">thicken_cust(x, spanned, colname, by = NULL, drop = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame containing at least one datetime variable of
class <code>Date</code>, <code>POSIXct</code> or <code>POSIXlt</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spanned</code></td>
<td>
<p>A datetime vector to which the the datetime variable in
<code>x</code> should be mapped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colname</code></td>
<td>
<p>Character, the column name of the added variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Only needs to be specified when <code>x</code> contains multiple
variables of class <code>Date</code>, <code>POSIXct</code> or <code>POSIXlt</code>.
Indicates which to use for thickening.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>Should the original datetime variable be dropped from the
returned data frame? Defaults to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Only rounding down is available for custom thickening.
</p>


<h3>Value</h3>

<p>The data frame <code>x</code> with the variable added to it.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
# analysis of traffic accidents in traffic jam hours and other hours.
accidents &lt;- emergency %&gt;% filter(title == "Traffic: VEHICLE ACCIDENT -")
spanning &lt;- span_time("20151210 16", "20161017 17", tz = "EST") %&gt;%
  subset_span(list(hour = c(6, 9, 16, 19)))
thicken_cust(accidents, spanning, "period") %&gt;%
  count(period) %&gt;%
  pad_cust(spanning)
</code></pre>


</div>