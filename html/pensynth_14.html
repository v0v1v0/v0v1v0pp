<div class="container">

<table style="width: 100%;"><tr>
<td>simulate_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate synthetic control data</h2>

<h3>Description</h3>

<p>This function simulates a basic form of synthetic control
data, mainly for testing purposes. This
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulate_data(
  N_donor = 50,
  N_covar = 5,
  N_pre = 12,
  N_post = 6,
  N_nonzero = 4,
  treatment_effect = 1,
  sd_resid_X1 = 0.1,
  sd_resid_Z1 = 0.1,
  sd_resid_Y1 = 0.1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>N_donor</code></td>
<td>
<p>number of donors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_covar</code></td>
<td>
<p>number of covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_pre</code></td>
<td>
<p>number of pre-intervention timepoints</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_post</code></td>
<td>
<p>number of post-intervention timepoints</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N_nonzero</code></td>
<td>
<p>number of true nonzero weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment_effect</code></td>
<td>
<p>the size of the true treatment effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd_resid_X1</code></td>
<td>
<p>the residual standard deviation of X1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd_resid_Z1</code></td>
<td>
<p>the residual standard deviation of Z1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd_resid_Y1</code></td>
<td>
<p>the residual standard deviation of Y1</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that treatment effect can be a single number, but
it may also be a vector of length N_post, indicating
the effect size at each post-intervention measurement
occasion.
</p>


<h3>Value</h3>

<p>A list with the following elements
</p>

<ul>
<li>
<p> w the true unit weights
</p>
</li>
<li>
<p> X0 the donor unit covariates
</p>
</li>
<li>
<p> X1 the treated unit covariates
</p>
</li>
<li>
<p> Z0 the donor unit pre-intervention outcomes
</p>
</li>
<li>
<p> Z1 the treated unit pre-intervention outcomes
</p>
</li>
<li>
<p> Y0 the donor unit post-intervention outcomes
</p>
</li>
<li>
<p> Y1 the treated unit post-intervention outcomes
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>pensynth()</code>, <code>cv_pensynth()</code>, <code>placebo_test()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># simulate data with an effect of 0.8 SD
dat &lt;- simulate_data(treatment_effect = 0.8)

plot(
  NA,
  ylim = c(-3, 3),
  xlim = c(1, 18),
  main = "Simulated data",
  ylab = "Outcome value"
)
for (n in 1:ncol(dat$Z0))
  lines(1:18, c(dat$Z0[, n], dat$Y0[, n]), col = "grey")
lines(1:18, c(dat$Z1, dat$Y1))
lines(1:18, rbind(dat$Z0, dat$Y0) %*% dat$w, lty = 2)
abline(v = length(dat$Z1) + 0.5, lty = 3)
legend(
  x = "bottomleft",
  legend = c(
    "Donor units",
    "Treated unit",
    "True synth. control",
    "Intervention time"
  ),
  lty = c(1, 1, 2, 3),
  col = c("grey", "black", "black", "black")
)
</code></pre>


</div>