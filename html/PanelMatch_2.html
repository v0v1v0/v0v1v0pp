<div class="container">

<table style="width: 100%;"><tr>
<td>balance_scatter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>balance_scatter</h2>

<h3>Description</h3>

<p>Visualizing the standardized mean differences for covariates via a scatter plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">balance_scatter(
  matched_set_list,
  xlim = c(0, 0.8),
  ylim = c(0, 0.8),
  main = "Standardized Mean Difference of Covariates",
  pchs = c(2, 3),
  covariates,
  data,
  x.axis.label = "Before refinement",
  y.axis.label = "After refinement",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>matched_set_list</code></td>
<td>
<p>a list of one or more <code>matched.set</code> objects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>xlim of the scatter plot. This is the same as the <code>xlim</code> argument in <code>plot()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>ylim of the scatter plot. This is the same as the <code>ylim</code> argument in <code>plot()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>title of the scatter plot. This is the same as the <code>main</code> argument in <code>plot()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pchs</code></td>
<td>
<p>one or more pch indicators for the symbols on the scatter plot. You should specify a pch symbol for each matched.set you specify in matched_set_list. See <code>plot()</code> for more information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>variables for which balance is displayed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the same time series cross sectional data set used to create the matched sets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.axis.label</code></td>
<td>
<p>x axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.axis.label</code></td>
<td>
<p>y axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments to be passed to <code>plot()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>balance_scatter</code> visualizes the standardized mean differences for each covariate.
Although users can use the scatter plot in a variety of ways, it is recommended that
the x-axis refers to balance for covariates before refinement, and y-axis
refers to balance after refinement. Users can utilize parameters powered by <code>plot()</code>
in base R to further customize the figure.
</p>


<h3>Author(s)</h3>

<p>In Song Kim &lt;insong@mit.edu&gt;, Erik Wang
&lt;haixiao@Princeton.edu&gt;, Adam Rauh &lt;amrauh@umich.edu&gt;, and Kosuke Imai &lt;imai@harvard.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">dem.sub &lt;- dem[dem[, "wbcode2"] &lt;= 100, ]
# create subset of data for simplicity
# get a matched set without refinement
sets0 &lt;- PanelMatch(lag = 4, time.id = "year", unit.id = "wbcode2",
                    treatment = "dem", refinement.method = "none",
                    data = dem.sub, match.missing = FALSE,
                    size.match = 5, qoi = "att",
                    outcome.var = "y",
                    lead = 0:4, forbid.treatment.reversal = FALSE)

# get a matched set with refinement using propensity score matching, setting the
# size of matched set to 5
sets1 &lt;- PanelMatch(lag = 4, time.id = "year", unit.id = "wbcode2",
                    treatment = "dem", refinement.method = "ps.match",
                    data = dem.sub, match.missing = FALSE,
                    covs.formula = ~ tradewb,
                    size.match = 5, qoi = "att",
                    outcome.var = "y",
                    lead = 0:4, forbid.treatment.reversal = FALSE)

# get another matched set with refinement using propensity score weighting
sets2 &lt;- PanelMatch(lag = 4, time.id = "year", unit.id = "wbcode2",
                    treatment = "dem", refinement.method = "ps.weight",
                    data = dem.sub, match.missing = FALSE,
                    covs.formula = ~ tradewb,
                    size.match = 10, qoi = "att",
                    outcome.var = "y",
                    lead = 0:4, forbid.treatment.reversal = FALSE)


# use the function to produce the scatter plot
balance_scatter(matched_set_list = list(sets0$att, sets1$att, sets2$att),
              data = dem.sub,
              covariates = c("y", "tradewb"))
# add legend
legend(x = 0, y = 0.8,
legend = c("mahalanobis",
           "PS weighting"),
y.intersp = 0.65,
x.intersp = 0.3,
xjust = 0,
pch = c(1, 3), pt.cex = 1,
bty = "n", ncol = 1, cex = 1, bg = "white")



</code></pre>


</div>