<div class="container">

<table style="width: 100%;"><tr>
<td>defSconcordance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Support for non-Sweave concordances.
</h2>

<h3>Description</h3>

<p>Sweave automatically inserts concordances into the output file,
so they will be embedded in the ‘<span class="file">.dvi</span>’ or ‘<span class="file">.pdf</span>’ output using the LaTeX macro <code style="white-space: pre;">⁠\Sconcordance⁠</code> from
the ‘<span class="file">Sweave.sty</span>’ style file.
Other vignette processing engines (e.g. knitr) do not 
use ‘<span class="file">Sweave.sty</span>’, so <code>defSconcordance</code>
defines the macro explicitly.
</p>
<p>The <code>useknitr</code> function is specific to knitr documents.
If <code>writeMacro</code> is <code>TRUE</code>, it calls <code>defSconcordance</code>
to write the macro definition to the output file.  If <code>writeMacro</code> is not specified, it guesses the value by looking for 
<code style="white-space: pre;">⁠\begin{document}⁠</code> somewhere in the first 100 lines of the 
file.  
It always writes the <code style="white-space: pre;">⁠\input⁠</code> line for the concordances into the file. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">defSconcordance()
useknitr(writeMacro)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>writeMacro</code></td>
<td>

<p>logical; whether to call defSconcordance
</p>
</td>
</tr></table>
<h3>Details</h3>

<p>This function is not necessary when using Sweave, it is only for other vignette engines.
</p>
<p>With knitr, the concordances would be written to a file with a
name typically be of the form ‘<span class="file">basename-concordance.tex</span>’, where
the input file was ‘<span class="file">basename.Rnw</span>’.  You would insert it with code like
</p>
<pre>
&lt;&lt;results="asis"&gt;&gt;=
patchDVI::useknitr()
@
</pre>
<p>If the document does use the ‘<span class="file">Sweave.sty</span>’ style, or if it
is being included in another larger document, do 
not use <code>defSconcorance</code>:  this can be forced by
calling <code>patchDVI::useknitr(writeMacro = FALSE)</code>.
</p>


<h3>Value</h3>

<p>These functions are called for the side effect of writing
out the LaTeX code.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>Examples</h3>

<pre><code class="language-R">defSconcordance()
</code></pre>


</div>