<div class="container">

<table style="width: 100%;"><tr>
<td>intersecting_units</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find intersecting units</h2>

<h3>Description</h3>

<p>Find which of the units in a spatial data object intersect
with the units in another spatial data object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">intersecting_units(x, y)

## S4 method for signature 'Raster,ANY'
intersecting_units(x, y)

## S4 method for signature 'ANY,Raster'
intersecting_units(x, y)

## S4 method for signature 'Spatial,ANY'
intersecting_units(x, y)

## S4 method for signature 'ANY,Spatial'
intersecting_units(x, y)

## S4 method for signature 'SpatRaster,SpatRaster'
intersecting_units(x, y)

## S4 method for signature 'sf,sf'
intersecting_units(x, y)

## S4 method for signature 'SpatRaster,sf'
intersecting_units(x, y)

## S4 method for signature 'sf,SpatRaster'
intersecting_units(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>sf::st_sf()</code> or <code>terra::rast()</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p><code>sf::st_sf()</code> or <code>terra::rast()</code> object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The performance of this function for large <code>terra::rast()</code> objects
can be improved by increasing the GDAL cache size.
The default cache size is 25 MB.
For example, the following code can be used to set the cache size to 4 GB.
</p>
<div class="sourceCode"><pre>terra::gdalCache(size = 4000)
</pre></div>


<h3>Value</h3>

<p>An <code>integer</code> vector of indices of the units in <code>x</code> that intersect
with <code>y</code>.
</p>


<h3>See Also</h3>

<p>See <code>fast_extract()</code> for extracting data from spatial datasets.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# create data
r &lt;- terra::rast(matrix(1:9, byrow = TRUE, ncol = 3))
r_with_holes &lt;- r
r_with_holes[c(1, 5, 9)] &lt;- NA
ply &lt;- sf::st_as_sf(terra::as.polygons(r))
ply_with_holes &lt;- sf::st_as_sf(terra::as.polygons(r_with_holes))

# intersect raster with raster
par(mfrow = c(1, 2))
plot(r, main = "x = SpatRaster", axes = FALSE)
plot(r_with_holes, main = "y = SpatRaster", axes = FALSE)
print(intersecting_units(r, r_with_holes))

# intersect raster with sf
par(mfrow = c(1, 2))
plot(r, main = "x = SpatRaster", axes = FALSE)
plot(ply_with_holes, main = "y = sf", key.pos = NULL, reset = FALSE)
print(intersecting_units(r, ply_with_holes))

# intersect sf with raster
par(mfrow = c(1, 2))
plot(ply, main = "x = sf", key.pos = NULL, reset = FALSE)
plot(r_with_holes, main = "y = SpatRaster")
print(intersecting_units(ply, r_with_holes))

# intersect sf with sf
par(mfrow = c(1, 2))
plot(ply, main = "x = sf", key.pos = NULL, reset = FALSE)
plot(ply_with_holes, main = "y = sf", key.pos = NULL, reset = FALSE)
print(intersecting_units(ply, ply_with_holes))

## End(Not run)

</code></pre>


</div>