<div class="container">

<table style="width: 100%;"><tr>
<td>R2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Explained variation for survival models</h2>

<h3>Description</h3>

<p>This function computes a time-dependent $R^2$ like measure of the variation
explained by a survival prediction model, by dividing the mean squared error
(Brier score) of the model by the mean squared error (Brier score) of a
reference model which ignores all the covariates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">R2(object, models, what, times, reference = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object with estimated prediction error curves obtained with
the function pec</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>
<p>For which of the models in <code>object$models</code> should we
compute $R^2(t). By default all models are used except for the reference
model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>The name of the entry in <code>x</code> to be used. Defauls to
<code>PredErr</code> Other choices are <code>AppErr</code>, <code>BootCvErr</code>,
<code>Boot632</code>, <code>Boot632plus</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>Time points at which the summaries are shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>Position of the model whose prediction error is used as the
reference in the denominator when constructing $R^2$</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In survival analysis the prediction error of the Kaplan-Meier estimator
plays a similar role as the total sum of squares in linear regression.
Hence, it is a sensible reference model for $R^2$.
</p>


<h3>Value</h3>

<p>A matrix where the first column holds the times and the following
columns are the corresponding $R^2$ values for the requested prediction
models.
</p>


<h3>Author(s)</h3>

<p>Thomas A. Gerds <a href="mailto:tag@biostat.ku.dk">tag@biostat.ku.dk</a>
</p>


<h3>References</h3>

<p>E. Graf et al.  (1999), Assessment and comparison of prognostic
classification schemes for survival data. Statistics in Medicine, vol 18,
pp= 2529–2545.
</p>
<p>Gerds TA, Cai T and Schumacher M (2008) The performance of risk prediction
models Biometrical Journal, 50(4), 457–479
</p>


<h3>See Also</h3>

<p><code>pec</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(18713)
library(prodlim)
library(survival)
dat=SimSurv(100)
nullmodel=prodlim(Hist(time,status)~1,data=dat)
pmodel1=coxph(Surv(time,status)~X1+X2,data=dat,x=TRUE,y=TRUE)
pmodel2=coxph(Surv(time,status)~X2,data=dat,x=TRUE,y=TRUE)
perror=pec(list(Cox1=pmodel1,Cox2=pmodel2),Hist(time,status)~1,data=dat,reference=TRUE)
R2(perror,times=seq(0,1,.1),reference=1)

</code></pre>


</div>