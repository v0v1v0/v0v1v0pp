<div class="container">

<table style="width: 100%;"><tr>
<td>cvm_prioritylasso</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>prioritylasso with several block specifications</h2>

<h3>Description</h3>

<p>Runs prioritylasso for a list of block specifications and gives the best results
in terms of cv error.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cvm_prioritylasso(
  X,
  Y,
  weights,
  family,
  type.measure,
  blocks.list,
  max.coef.list = NULL,
  block1.penalization = TRUE,
  lambda.type = "lambda.min",
  standardize = TRUE,
  nfolds = 10,
  foldid,
  cvoffset = FALSE,
  cvoffsetnfolds = 10,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a (nxp) matrix of predictors with observations in rows and predictors in columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>n-vector giving the value of the response (either continuous, numeric-binary 0/1, or <code>Surv</code> object).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>observation weights. Default is 1 for each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>should be "gaussian" for continuous <code>Y</code>, "binomial" for binary <code>Y</code>, "cox" for <code>Y</code> of type <code>Surv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type.measure</code></td>
<td>
<p>accuracy/error measure computed in cross-validation. It should be "class" (classification error) or "auc" (area under the ROC curve) if <code>family="binomial"</code>, "mse" (mean squared error) if <code>family="gaussian"</code> and "deviance" if <code>family="cox"</code> which uses the partial-likelihood.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocks.list</code></td>
<td>
<p>list of the format <code>list(list(bp1=...,bp2=...,), list(bp1=,...,bp2=...,), ...)</code>. For the specification of the entries, see <code>prioritylasso</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.coef.list</code></td>
<td>
<p>list of <code>max.coef</code> vectors. The first entries are omitted if <code>block1.penalization = FALSE</code>. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block1.penalization</code></td>
<td>
<p>whether the first block should be penalized. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.type</code></td>
<td>
<p>specifies the value of lambda used for the predictions. <code>lambda.min</code> gives lambda with minimum cross-validated errors. <code>lambda.1se</code> gives the largest value of lambda such that the error is within 1 standard error of the minimum. Note that <code>lambda.1se</code> can only be chosen without restrictions of <code>max.coef</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize</code></td>
<td>
<p>logical, whether the predictors should be standardized or not. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>the number of CV procedure folds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>foldid</code></td>
<td>
<p>an optional vector of values between 1 and nfold identifying what fold each observation is in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvoffset</code></td>
<td>
<p>logical, whether CV should be used to estimate the offsets. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvoffsetnfolds</code></td>
<td>
<p>the number of folds in the CV procedure that is performed to estimate the offsets. Default is 10. Only relevant if <code>cvoffset=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments that can be passed to the function <code>prioritylasso</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>object of class <code>cvm_prioritylasso</code> with the following elements. If these elements are lists, they contain the results for each penalized block of the best result.
</p>

<dl>
<dt><code>lambda.ind</code></dt>
<dd>
<p>list with indices of lambda for <code>lambda.type</code>.</p>
</dd>
<dt><code>lambda.type</code></dt>
<dd>
<p>type of lambda which is used for the predictions.</p>
</dd>
<dt><code>lambda.min</code></dt>
<dd>
<p>list with values of lambda for <code>lambda.type</code>.</p>
</dd>
<dt><code>min.cvm</code></dt>
<dd>
<p>list with the mean cross-validated errors for <code>lambda.type</code>.</p>
</dd>
<dt><code>nzero</code></dt>
<dd>
<p>list with numbers of non-zero coefficients for <code>lambda.type</code>.</p>
</dd>
<dt><code>glmnet.fit</code></dt>
<dd>
<p>list of fitted <code>glmnet</code> objects.</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>a text string indicating type of measure.</p>
</dd>
<dt><code>block1unpen</code></dt>
<dd>
<p>if <code>block1.penalization = FALSE</code>, the results of either the fitted <code>glm</code> or <code>coxph</code> object.</p>
</dd>
<dt><code>best.blocks</code></dt>
<dd>
<p>character vector with the indices of the best block specification.</p>
</dd>
<dt><code>best.blocks.indices</code></dt>
<dd>
<p>list with the indices of the best block specification ordered by best to worst.</p>
</dd>
<dt><code>best.max.coef</code></dt>
<dd>
<p>vector with the number of maximal coefficients corresponding to <code>best.blocks</code>.</p>
</dd>
<dt><code>best.model</code></dt>
<dd>
<p>complete <code>prioritylasso</code> model of the best solution.</p>
</dd>
<dt><code>coefficients</code></dt>
<dd>
<p>coefficients according to the results obtained with <code>best.blocks</code>.</p>
</dd>
<dt><code>call</code></dt>
<dd>
<p>the function call.</p>
</dd>
</dl>
<h3>Note</h3>

<p>The function description and the first example are based on the R package <code>ipflasso</code>.
</p>


<h3>Author(s)</h3>

<p>Simon Klau <br>
Maintainer: Roman Hornung (<a href="mailto:hornung@ibe.med.uni-muenchen.de">hornung@ibe.med.uni-muenchen.de</a>)
</p>


<h3>References</h3>

<p>Klau, S., Jurinovic, V., Hornung, R., Herold, T., Boulesteix, A.-L. (2018). Priority-Lasso: a simple hierarchical approach to the prediction of clinical outcome using multi-omics data. BMC Bioinformatics 19, 322
</p>


<h3>See Also</h3>

<p><code>pl_data</code>, <code>prioritylasso</code>, <code>cvr2.ipflasso</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">cvm_prioritylasso(X = matrix(rnorm(50*500),50,500), Y = rnorm(50), family = "gaussian",
                  type.measure = "mse", lambda.type = "lambda.min", nfolds = 5,
                  blocks.list = list(list(bp1=1:75, bp2=76:200, bp3=201:500),
                                     list(bp1=1:75, bp2=201:500, bp3=76:200)))
## Not run: 
cvm_prioritylasso(X = pl_data[,1:1028], Y = pl_data[,1029], family = "binomial",
                  type.measure = "auc", standardize = FALSE, block1.penalization = FALSE,
                  blocks.list = list(list(1:4, 5:9, 10:28, 29:1028),
                                     list(1:4, 5:9, 29:1028, 10:28)),
                  max.coef.list = list(c(Inf, Inf, Inf, 10), c(Inf, Inf, 10, Inf)))
## End(Not run)

</code></pre>


</div>