<div class="container">

<table style="width: 100%;"><tr>
<td>post_summ</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Obtain posterior summaries and diagnostics of specific nodes</h2>

<h3>Description</h3>

<p>Allows rapid calculation of summaries and diagnostics from <strong>specific nodes</strong>
stored in <code>mcmc.list</code> objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">post_summ(
  post,
  params,
  digits = NULL,
  probs = c(0.5, 0.025, 0.975),
  Rhat = FALSE,
  neff = FALSE,
  mcse = FALSE,
  by_chain = FALSE,
  auto_escape = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>post</code></td>
<td>
<p>A <code>mcmc.list</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>A vector of regular expressions specifying the nodes to match for summarization.
Accepts multi-element vectors to match more than one node at a time.
See <code>match_params()</code> and <code>vignette("pattern-matching")</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Control rounding of summaries.
Passed to <code>base::round()</code> and defaults to <code>NULL</code>, which produces no rounding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Posterior quantiles to calculate. Passed to <code>stats::quantile()</code>.
Defaults to <code>probs = c(0.5, 0.025, 0.975)</code> (i.e., median and equal-tailed 95 percent credible interval).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rhat</code></td>
<td>
<p>Calculate the Rhat convergence diagnostic using <code>coda::gelman.diag()</code>?
Fair warning: this can take a bit of time to run on many nodes/samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neff</code></td>
<td>
<p>Calculate the number of effective MCMC samples using <code>coda::effectiveSize()</code>?
Fair warning: this can take a bit of time to run on many nodes/samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcse</code></td>
<td>
<p>Calculate the Monte Carlo standard error for the posterior mean and reported quantiles
using the <code>mcmcse::mcse()</code> and <code>mcmcse::mcse.q()</code> functions
(batch means method with batch size automatically calculated)?
Fair warning: this can take a bit of time to run on many nodes/samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_chain</code></td>
<td>
<p>Calculate posterior summaries for each chain
rather than for the aggregate across chains? Defaults to <code>FALSE</code>.
The arguments <code>Rhat</code>, <code>neff</code>, and <code>mcse</code> are ignored if <code>by_chain = TRUE</code>
and a warning will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto_escape</code></td>
<td>
<p>Automatically escape <code>"["</code> and <code>"]"</code> characters for pattern matching?
See <code>match_params()</code> for details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>matrix</code> object with summary statistics as rows and nodes as columns.
If <code>by_chain = TRUE</code>, an <code>array</code> with chain-specific summaries as the third dimension is returned instead.
</p>


<h3>See Also</h3>

<p><code>match_params()</code>, <code>coda::gelman.diag()</code>, <code>coda::effectiveSize()</code>, <code>mcmcse::mcse()</code>, <code>mcmcse::mcse.q()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load example mcmc.list
data(cjs)

# calculate posterior summaries for the "p" nodes
# ("p[1]" doesn't exist in model)
post_summ(cjs, "p")

# do this by chain
post_summ(cjs, "p", by_chain = TRUE)

# calculate Rhat and Neff diagnostic summaries as well
# multiple node names too
post_summ(cjs, c("b0", "p"), Rhat = TRUE, neff = TRUE)

# calculate Monte Carlo SE for mean and quantiles, with rounding
post_summ(cjs, "p", mcse = TRUE, digits = 3)

# summarize different quantiles: median and central 80%
post_summ(cjs, "p", probs = c(0.5, 0.1, 0.9))
</code></pre>


</div>