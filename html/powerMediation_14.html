<div class="container">

<table style="width: 100%;"><tr>
<td>powerMediation.Sobel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Power for testing mediation effect  (Sobel's test)
</h2>

<h3>Description</h3>

<p>Calculate power for testing mediation effect based on Sobel's test.
</p>


<h3>Usage</h3>

<pre><code class="language-R">powerMediation.Sobel(n, 
                     theta.1a, 
                     lambda.a, 
                     sigma.x, 
                     sigma.m,
                     sigma.epsilon, 
                     alpha = 0.05, 
                     verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>sample size.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.1a</code></td>
<td>

<p>regression coefficient for the predictor in the linear regression linking
the predictor <code class="reqn">x</code> to the mediator <code class="reqn">m</code> (<code class="reqn">m_i=\theta_0+\theta_{1a} x_i + e_i, e_i\sim N(0, \sigma^2_e)</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.a</code></td>
<td>

<p>regression coefficient for the mediator in the linear regression linking
the predictor <code class="reqn">x</code> and the mediator <code class="reqn">m</code> to the outcome <code class="reqn">y</code> (<code class="reqn">y_i=\gamma+\lambda_{a} m_i+ \lambda_2 x_i + \epsilon_i, \epsilon_i\sim N(0, \sigma^2_{\epsilon})</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma.x</code></td>
<td>

<p>standard deviation of the predictor.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma.m</code></td>
<td>

<p>standard deviation of the mediator.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma.epsilon</code></td>
<td>

<p>standard deviation of the random error term 
in the linear regression linking
the predictor <code class="reqn">x</code> and the mediator <code class="reqn">m</code> to the outcome <code class="reqn">y</code> (<code class="reqn">y_i=\gamma+\lambda_a m_i+ \lambda_2 x_i + \epsilon_i, \epsilon_i\sim N(0, \sigma^2_{\epsilon})</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>

<p>type I error.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>logical. <code>TRUE</code> means printing power; <code>FALSE</code> means not printing power.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The power is for testing the null hypothesis <code class="reqn">\theta_1\lambda=0</code>
versus the alternative hypothesis <code class="reqn">\theta_{1a}\lambda_a\neq 0</code>
for the linear regressions:
</p>
<p style="text-align: center;"><code class="reqn">m_i=\theta_0+\theta_{1a} x_i + e_i, e_i\sim N(0, \sigma^2_e)</code>
</p>

<p style="text-align: center;"><code class="reqn">y_i=\gamma+\lambda_a m_i+ \lambda_2 x_i + \epsilon_i, \epsilon_i\sim N(0, \sigma^2_{\epsilon})</code>
</p>

<p>Test statistic is based on Sobel's (1982) test:
</p>
<p style="text-align: center;"><code class="reqn">Z=\frac{\hat{\theta}_{1a}\hat{\lambda_a}}{\hat{\sigma}_{\theta_{1a}\lambda_a}}
</code>
</p>

<p>where <code class="reqn">\hat{\sigma}_{\theta_{1a}\lambda_a}</code> is the estimated standard deviation
of the estimate <code class="reqn">\hat{\theta}_{1a}\hat{\lambda_a}</code> using multivariate
delta method: 
</p>
<p style="text-align: center;"><code class="reqn">\sigma_{\theta_{1a}\lambda_a}=\sqrt{\theta_{1a}^2\sigma_{\lambda_a}^2+\lambda_a^2\sigma_{\theta_{1a}}^2}</code>
</p>

<p>and
<code class="reqn">\sigma_{\theta_{1a}}^2=\sigma_e^2/(n\sigma_x^2)</code> is the 
variance
of the estimate <code class="reqn">\hat{\theta}_{1a}</code>, and
<code class="reqn">\sigma_{\lambda_a}^2=\sigma_{\epsilon}^2/(n\sigma_m^2(1-\rho_{mx}^2))</code>
is the variance
of the estimate <code class="reqn">\hat{\lambda_a}</code>, <code class="reqn">\sigma_m^2</code> is the variance of the
mediator <code class="reqn">m_i</code>.
</p>
<p>From the linear regression <code class="reqn">m_i=\theta_0+\theta_{1a} x_i+e_i</code>, we have the
relationship <code class="reqn">\sigma_e^2=\sigma_m^2(1-\rho^2_{mx})</code>. Hence, we can simply
the variance <code class="reqn">\sigma_{\theta_{1a}, \lambda_a}</code> to 
</p>
<p style="text-align: center;"><code class="reqn">\sigma_{\theta_{1a}\lambda_a}=\sqrt{\theta_{1a}^2\frac{\sigma_{\epsilon}^2}{n\sigma_m^2(1-\rho_{mx}^2)}+\lambda_a^2\frac{\sigma_{m}^2(1-\rho_{mx}^2)}{n\sigma_x^2}}</code>
</p>



<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>power </code></td>
<td>
<p>power of the test for the parameter <code class="reqn">\theta_{1a}\lambda_a</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta </code></td>
<td>
<p><code class="reqn">\theta_1\lambda/(sd(\hat{\theta}_{1a})sd(\hat{\lambda}_a))</code></p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The test is a two-sided test. For one-sided tests, please double the 
significance level. For example, you can set <code>alpha=0.10</code>
to obtain one-sided test at 5% significance level.
</p>


<h3>Author(s)</h3>

<p>Weiliang Qiu <a href="mailto:stwxq@channing.harvard.edu">stwxq@channing.harvard.edu</a>
</p>


<h3>References</h3>

<p>Sobel, M. E.
Asymptotic confidence intervals for indirect effects in structural equation models.
<em>Sociological Methodology</em>. 1982;13:290-312.
</p>


<h3>See Also</h3>

<p><code>ssMediation.Sobel</code>, 
<code>testMediation.Sobel</code> 
</p>


<h3>Examples</h3>

<pre><code class="language-R"> powerMediation.Sobel(n=248, theta.1a=0.1701, lambda.a=0.1998, 
   sigma.x=0.57, sigma.m=0.61, sigma.epsilon=0.2, 
   alpha = 0.05, verbose = TRUE)
</code></pre>


</div>