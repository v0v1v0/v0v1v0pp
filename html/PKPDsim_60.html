<div class="container">

<table style="width: 100%;"><tr>
<td>new_ode_model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create new ODE model</h2>

<h3>Description</h3>

<p>Create new ODE model
</p>


<h3>Usage</h3>

<pre><code class="language-R">new_ode_model(
  model = NULL,
  code = NULL,
  pk_code = NULL,
  dose_code = NULL,
  file = NULL,
  func = NULL,
  state_init = NULL,
  parameters = NULL,
  reparametrization = NULL,
  mixture = NULL,
  units = NULL,
  size = NULL,
  lagtime = NULL,
  obs = list(cmt = 1, scale = 1),
  dose = list(cmt = 1),
  covariates = NULL,
  declare_variables = NULL,
  iiv = NULL,
  iov = NULL,
  development = NULL,
  omega_matrix = NULL,
  ruv = NULL,
  ltbs = NULL,
  misc = NULL,
  cmt_mapping = NULL,
  int_step_size = NULL,
  default_parameters = NULL,
  fixed = NULL,
  cpp_show_code = FALSE,
  package = NULL,
  test_file = NULL,
  install = TRUE,
  folder = NULL,
  lib_location = NULL,
  verbose = FALSE,
  as_is = FALSE,
  nonmem = NULL,
  comments = NULL,
  version = "0.1.0",
  quiet = "",
  definition = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>model name from model library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>C++ code specifying ODE system</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pk_code</code></td>
<td>
<p>C++ code called at any event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dose_code</code></td>
<td>
<p>C++ code called at dose event only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>file containing C++ code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>
<p>R function to be used with deSolve library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state_init</code></td>
<td>
<p>vector of state init</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameters</code></td>
<td>
<p>list or vector of parameter values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reparametrization</code></td>
<td>
<p>list of parameters with definitions that reparametrize the linear PK model to a 1-, 2- o4 3-compartment PK with standardized parametrization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mixture</code></td>
<td>
<p>for mixture models, provide a list of the parameter associated with the mixture and it's possible values and probabilities (of the first value), e.g. <code style="white-space: pre;">⁠list(CL = list(value = c(10, 20), probability = 0.3)⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>list or vector of parameter units</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>size of state vector for model. Size will be extracted automatically from supplied code, use this argument to override.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lagtime</code></td>
<td>
<p>lag time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>list with "scale": character string with definition for scale, e.g. "V" or "V*(WT/70)". If NULL, scale defaults to 1., and "cmt" the observation compartment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dose</code></td>
<td>
<p>specify default dose compartment, e.g. list(cmt = 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>specify covariates, either as a character vector or a list. if specified as list, it allows use of timevarying covariates (see <code>new_covariate()</code> function for more info)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>declare_variables</code></td>
<td>
<p>declare variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iiv</code></td>
<td>
<p>inter-individual variability, can optionally be added to library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iov</code></td>
<td>
<p>inter-occasion variability, can optionally be added to library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>development</code></td>
<td>
<p>Information about the model development population, can optionally be added to library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega_matrix</code></td>
<td>
<p>variance-covariance matrix for inter-individual variability, can optionally be added to library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ruv</code></td>
<td>
<p>residual variability, can optionally be added to library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ltbs</code></td>
<td>
<p>log-transform both sides. Not used in simulations, only for fitting (sets attribute <code>ltbs</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>misc</code></td>
<td>
<p>a list of miscellaneous model metadata</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmt_mapping</code></td>
<td>
<p>list indicating which administration routes apply to which compartments. Example: <code>list("oral" = 1, "infusion" = 2)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int_step_size</code></td>
<td>
<p>step size for integrator. Can be pre-specified for model, to override default for <code>sim_ode()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_parameters</code></td>
<td>
<p>population or specific patient values, can optionally be added to library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>parameters that should not have iiv added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cpp_show_code</code></td>
<td>
<p>show generated C++ code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>package</code></td>
<td>
<p>package name when saving as package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_file</code></td>
<td>
<p>optional test file to be included with package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>install</code></td>
<td>
<p>install package after compilation?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder</code></td>
<td>
<p>base folder name to create package in</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lib_location</code></td>
<td>
<p>install into folder (<code>--library</code> argument)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>show more output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_is</code></td>
<td>
<p>use C-code as-is, don't substitute line-endings or shift indices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonmem</code></td>
<td>
<p>add NONMEM code as attribute to model object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comments</code></td>
<td>
<p>comments for model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>number of library</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>passed on to <code>system2</code> as setting for stderr and stdout; how to
output cmd line output. Default (<code>""</code>) is R console, NULL or FALSE discards.
TRUE captures the output and saves as a file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>definition</code></td>
<td>
<p>optional, filename for the JSON file the full definition
for the model. The definition file will be stored as <code>definition.json</code> in the
resulting package.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If package name is NULL, returns the model object. Otherwise has no
return value.
</p>


</div>