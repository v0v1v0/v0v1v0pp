<div class="container">

<table style="width: 100%;"><tr>
<td>import_and_clean_batch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Batch import and clean files</h2>

<h3>Description</h3>

<p>Like <code>clean_viewr_batch()</code>, but with import as the first step too
</p>


<h3>Usage</h3>

<pre><code class="language-R">import_and_clean_batch(
  file_path_list,
  import_method = c("flydra", "motive"),
  file_id = NA,
  subject_name = NULL,
  frame_rate = NULL,
  simplify_marker_naming = TRUE,
  import_messaging = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file_path_list</code></td>
<td>
<p>A list of file paths leading to files to be imported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>import_method</code></td>
<td>
<p>Either "flydra" or "motive"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_id</code></td>
<td>
<p>(Optional) identifier for this file. If not supplied, this
defaults to <code>basename(file_name)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subject_name</code></td>
<td>
<p>For Flydra, the subject name applied to all files</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frame_rate</code></td>
<td>
<p>For Flydra, the frame rate applied to all files</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify_marker_naming</code></td>
<td>
<p>For Motive, if Markers are encountered, should
they be renamed from "Subject:marker" to "marker"? Defaults to TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>import_messaging</code></td>
<td>
<p>Should this function report each time a file has been
processed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to specify how data should be cleaned.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>viewr objects should be in a list, e.g. the object generated by
<code>import_batch()</code>.
</p>
<p>See <code>clean_viewr()</code> for details of how cleaning steps are handled
and/or refer to the corresponding cleaning functions themselves.
</p>


<h3>Value</h3>

<p>A list of viewr objects (tibble or data.frame with attribute
<code>pathviewr_steps</code> that includes <code>"viewr"</code>) that have been passed
through the corresponding cleaning functions.
</p>


<h3>Author(s)</h3>

<p>Vikram B. Baliga
</p>


<h3>See Also</h3>

<p>Other data import functions: 
<code>as_viewr()</code>,
<code>import_batch()</code>,
<code>read_flydra_mat()</code>,
<code>read_motive_csv()</code>
</p>
<p>Other batch functions: 
<code>bind_viewr_objects()</code>,
<code>clean_viewr_batch()</code>,
<code>import_batch()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Since we only have one example file of each type provided
## in pathviewr, we will simply import the same example multiple
## times to simulate batch importing. Replace the contents of
## the following list with your own list of files to be imported.

## Make a list of the same example file 3x
import_list &lt;-
  c(rep(
    system.file("extdata", "pathviewr_motive_example_data.csv",
                package = 'pathviewr'),
    3
  ))

## Batch import
motive_batch_imports &lt;-
  import_batch(import_list,
               import_method = "motive",
               import_messaging = TRUE)

## Batch cleaning of these imported files
## via clean_viewr_batch()
motive_batch_cleaned &lt;-
  clean_viewr_batch(
    file_announce = TRUE,
    motive_batch_imports,
    desired_percent = 50,
    max_frame_gap = "autodetect",
    span = 0.95
  )

## Alternatively, use import_and_clean_batch() to
## combine import with cleaning on a batch of files
motive_batch_import_and_clean &lt;-
  import_and_clean_batch(
    import_list,
    import_method = "motive",
    import_messaging = TRUE,
    motive_batch_imports,
    desired_percent = 50,
    max_frame_gap = "autodetect",
    span = 0.95
  )

## Each of these lists of objects can be bound into
## one viewr object (i.e. one tibble) via
## bind_viewr_objects()
motive_bound_one &lt;-
  bind_viewr_objects(motive_batch_cleaned)

motive_bound_two &lt;-
  bind_viewr_objects(motive_batch_import_and_clean)

## Either route results in the same object ultimately:
identical(motive_bound_one, motive_bound_two)
</code></pre>


</div>