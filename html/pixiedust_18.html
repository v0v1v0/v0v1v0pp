<div class="container">

<table style="width: 100%;"><tr>
<td>index_to_sprinkle</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine the Indices to Sprinkle</h2>

<h3>Description</h3>

<p>The sprinkle methods accept the rows and columns that are
to be modified as matrix coordinates.  The <code>dust</code> object stores
the table data in a long form.  The tabular coordinates are translated
into row indices using this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">index_to_sprinkle(
  x,
  rows = NULL,
  cols = NULL,
  fixed = FALSE,
  part = c("body", "head", "foot", "interfoot"),
  recycle = c("none", "rows", "cols", "columns"),
  coll = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>dust</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>Either a numeric vector of rows in the tabular object to be 
modified or an object of class <code>call</code>.  When a <code>call</code>, 
generated by <code>quote(expression)</code>, the expression resolves to 
a logical vector the same length as the number of rows in the table.
Sprinkles are applied to where the expression resolves to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>Either a numeric vector of columns in the tabular object to
be modified, or a character vector of column names. A mixture of 
character and numeric indices is permissible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p><code>logical(1)</code> indicating if the values in <code>rows</code> and 
<code>cols</code> should be read as fixed coordinate pairs.  See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>part</code></td>
<td>
<p><code>character</code> string.  Specifies if the sprinkles are 
being applied to the head, body, foot, or interfoot of the table. Partial
matching is supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recycle</code></td>
<td>
<p><code>character</code> string. Indicates how recycling is to be
performed.  Partial matching is supported. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coll</code></td>
<td>
<p>An optional <code>AssertCollection</code> object. When <code>NULL</code>,
an <code>AssertCollection</code> object will be created and reported within
the call to this function.  When not <code>NULL</code>, any failed assertions
will be added to the object in reported in the function that called
<code>index_to_sprinkle</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>fixed = FALSE</code>, sprinkles are applied at the 
intersection of <code>rows</code> and <code>cols</code>, meaning that the arguments 
do not have to share the same length.  When <code>fixed = TRUE</code>, they must
share the same length.
</p>
<p>The value of <code>recycle</code> determines how sprinkles are 
managed when the sprinkle input doesn't match the length of the region
to be sprinkled.  By default, recycling is turned off.  Recycling 
may be performed across rows first (left to right, top to bottom), 
or down columns first (top to bottom, left to right).  <code>"cols"</code> 
and <code>"columns"</code> have the same effect. The two choices to specify 
are motivated by the fact that I sometimes get confused about which
it should be. :)
</p>


<h3>Functional Requirements</h3>


<ol>
<li>
<p> Return the indices of the intersection of <code>rows</code> and <code>cols</code>
</p>
</li>
<li>
<p> If <code>rows = NULL</code>, assume all rows.
</p>
</li>
<li>
<p> If <code>rows</code> is an expression where no values resolve to 
<code>TRUE</code>, return <code>x</code> unchanged.
</p>
</li>
<li>
<p> If any value in <code>rows</code> is not a valid row in the table,
cast an error.
</p>
</li>
<li>
<p> If <code>cols = NULL</code>, assume all columns.
</p>
</li>
<li>
<p> If any value in <code>cols</code> does not identify a column in the table,
cast an error.
</p>
</li>
<li>
<p> If <code>fixed = TRUE</code>, <code>length(rows)</code> (or <code>sum(rows),
   if an expression</code>) and <code>cols</code> must have the same length.
</p>
</li>
<li>
<p> Cast an error if <code>fixed</code> is not a <code>logical(1)</code>
</p>
</li>
<li>
<p> Cast an error if <code>part</code> is not one of <code>"body"</code>, 
<code>"head"</code>, <code>"foot"</code>, or <code>"interfoot"</code>.
</p>
</li>
</ol>
<h3>Author(s)</h3>

<p>Benjamin Nutter
</p>


<h3>See Also</h3>

<p><code>sprinkle</code>
</p>


</div>