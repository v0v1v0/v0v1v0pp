<div class="container">

<table style="width: 100%;"><tr>
<td>summarize_rodent_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate summaries of Portal rodent data</h2>

<h3>Description</h3>

<p>This function is a generic interface into creating summaries
of the Portal rodent species data. It contains a number of arguments
to specify the kind of data to summarize (at what level of aggregation)
and various choices for dealing with data quality, and output format.
</p>
<p><code>abundance</code> generates a table of rodent abundance
</p>
<p>* <code>biomass()</code> generates a table of rodent biomass
</p>
<p>* <code>energy()</code> generates a table of rodent energy
(computed as 5.69 * (biomass ^ 0.75) after White et al 2004)
</p>
<p>* <code>rates()</code> generates a table of rodent growth rates
(computed as r=log(N[t+1]/N[t])
</p>


<h3>Usage</h3>

<pre><code class="language-R">summarize_rodent_data(
  path = get_default_data_path(),
  clean = TRUE,
  level = "Site",
  type = "Rodents",
  length = "all",
  plots = length,
  unknowns = FALSE,
  shape = "crosstab",
  time = "period",
  output = "abundance",
  fillweight = (output != "abundance"),
  na_drop = TRUE,
  zero_drop = switch(tolower(level), plot = FALSE, treatment = TRUE, site = TRUE),
  min_traps = 1,
  min_plots = 24,
  effort = FALSE,
  download_if_missing = TRUE,
  quiet = FALSE,
  include_unsampled = FALSE
)

abundance(...)

biomass(...)

energy(...)

rates(...)

summarise_rodent_data(
  path = get_default_data_path(),
  clean = TRUE,
  level = "Site",
  type = "Rodents",
  length = "all",
  plots = length,
  unknowns = FALSE,
  shape = "crosstab",
  time = "period",
  output = "abundance",
  fillweight = (output != "abundance"),
  na_drop = TRUE,
  zero_drop = switch(tolower(level), plot = FALSE, treatment = TRUE, site = TRUE),
  min_traps = 1,
  min_plots = 24,
  effort = FALSE,
  download_if_missing = TRUE,
  quiet = FALSE,
  include_unsampled = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>either the file path that contains the PortalData folder or
"repo", which then pulls data from the PortalData GitHub repository</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean</code></td>
<td>
<p>logical, load only QA/QC rodent data (TRUE) or all data (FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>summarize by "Plot", "Treatment", or "Site"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>specify subset of species; either all "Rodents" or only
"Granivores"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>specify subset of plots; use "All" plots or only "Longterm"
plots (to be deprecated)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plots</code></td>
<td>
<p>specify subset of plots; can be a vector of plots, or specific
sets: "all" plots or "Longterm" plots (plots that have had the same
treatment for the entire time series)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unknowns</code></td>
<td>
<p>either removes all individuals not identified to species
(unknowns = FALSE) or sums them in an additional column (unknowns = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>return data as a "crosstab" or "flat" list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>specify the format of the time index in the output, either
"period" (sequential Portal surveys), "newmoon" (lunar cycle numbering),
"date" (calendar date), or "all" (for all time indices)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>specify whether to return "abundance", or "biomass", or
"energy", or "rates"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillweight</code></td>
<td>
<p>specify whether to fill in unknown weights with other
records from that individual or species, where possible</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_drop</code></td>
<td>
<p>logical, drop NA values (representing insufficient sampling)
filling missing combinations of year-month-treatment/plot-species with NA could
represent one of a few slightly different meanings:
1) that combo doesn't exist
2) that combo was skipped that month, or
3) that combo was trapped, but is unusable (a negative period code))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero_drop</code></td>
<td>
<p>logical, drop 0s (representing sufficient sampling, but no
detection)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_traps</code></td>
<td>
<p>minimum number of traps for a plot to be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_plots</code></td>
<td>
<p>minimum number of plots within a period for an
observation to be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effort</code></td>
<td>
<p>logical as to whether or not the effort columns should be
included in the output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>download_if_missing</code></td>
<td>
<p>if the specified file path doesn't have the
PortalData folder, then download it</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>logical, whether to run without producing messages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_unsampled</code></td>
<td>
<p>logical, overrides settings for 'na_drop' and
'zero_drop', setting both to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to <code>summarize_rodent_data</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data.frame in either "long" or "wide" format, depending on the
value of 'shape'
</p>


</div>