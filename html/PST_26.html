<div class="container">

<table style="width: 100%;"><tr>
<td>pqplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> 
Prediction quality plot
</h2>

<h3>Description</h3>

<p>Plot the predicted probability of each state in a sequence
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'PSTf,stslist'
pqplot(object, data, cdata, L, stcol, plotseq=FALSE, 
	ptype="b", cex.plot=1, space=0,
	measure="prob", pqmax, seqscale, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>a probabilistic suffix tree, i.e., an object of class <code>"PSTf"</code> as returned by the <code>pstree</code>, <code>prune</code> or <code>tune</code> function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>a sequence object, i.e., an object of class <code>'stslist'</code> as created by TraMineR <code>seqdef</code> function, either subsetted with the index of the sequence to predict or containing one sequence. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cdata</code></td>
<td>

<p>Not implemented yet.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>

<p>integer. Maximal context length for sequence prediction. This is the same as pruning the PST by removing all nodes of depth&lt;L before prediction. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stcol</code></td>
<td>

<p>character. Color to use to plot the prediction qualities. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotseq</code></td>
<td>
 
<p>logical. If TRUE, the sequence is displayed separately, and the prediction plot is plotted above.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptype</code></td>
<td>

<p>character. Type of plot, either <code>'b'</code> for barplot or <code>'l'</code> for line.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.plot</code></td>
<td>

<p>numeric. Expansion factor for setting the size of the font for the axis labels and names. The default value is 1. Values lesser than 1 will reduce the size of the font, values greater than 1 will increase the size.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>numeric. Space separating each state in the plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>

<p>character. Measure used for prediction quality. Either <code>'prob'</code> or <code>'logloss'</code>.$
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pqmax</code></td>
<td>

<p>numeric. Maximum coordinate for the prediction quality plot, i.e. the max of the y axis.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seqscale</code></td>
<td>

<p>numeric. If <code>plotseq=TRUE</code>, width of the bar representing the sequence as a proportion of the y axis range.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>optional graphical parameters to be passed to the plot function.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>pqplot()</code> function displays either the predicted probabilities or the log-loss for each position of a single sequence as a series of barplots. For more details, see <cite>Gabadinho 2016</cite>.
</p>


<h3>Author(s)</h3>

<p>Alexis Gabadinho
</p>


<h3>References</h3>

<p>Gabadinho, A. &amp; Ritschard, G. (2016) Analyzing State Sequences with Probabilistic Suffix Trees: The PST R Package. <em>Journal of Statistical Software</em>, <b>72</b>(3), 1-39.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(s1)
s1 &lt;- seqdef(s1)
S1 &lt;- pstree(s1, L=3)

z &lt;- seqdef("a-b-a-a-b")
pqplot(S1, z)
pqplot(S1, z, measure="logloss", plotseq=TRUE)
</code></pre>


</div>