<div class="container">

<table style="width: 100%;"><tr>
<td>pcv.joyplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make Joyplots for multi value trait plantCV data</h2>

<h3>Description</h3>

<p>Make Joyplots for multi value trait plantCV data
</p>


<h3>Usage</h3>

<pre><code class="language-R">pcv.joyplot(
  df = NULL,
  index = NULL,
  group = NULL,
  y = NULL,
  id = NULL,
  bin = "label",
  freq = "value",
  trait = "trait",
  fillx = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Data frame to use. Long or wide format is accepted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>If the data is long then this is a multi value trait as a
character string that must be present in 'trait'.
If the data is wide then this is a string used to find column names to use from the wide data.
In the wide case this should include the entire
trait name (ie, "hue_frequencies" instead of "hue_freq").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A length 1 or 2 character vector.
This is used for faceting the joyplot and identifying groups for testing.
If this is length 1 then no faceting is done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Optionally a variable to use on the y axis. This is useful when you
have three variables to display. This argument will change faceting behavior to
add an additional layer of faceting (single length group will be faceted,
length 2 group will be faceted group1 ~ group2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Optionally a variable to show the outline of different replicates.
Note that ggridges::geom_density_ridges_gradient does not support transparency,
so if fillx is TRUE then only the outer line will show individual IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin</code></td>
<td>
<p>Column containing histogram (multi value trait) bins. Defaults to "label".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>Column containing histogram counts. Defaults to "value"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trait</code></td>
<td>
<p>Column containing phenotype names. Defaults to "trait".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillx</code></td>
<td>
<p>Logical, whether or not to use <code>ggridges::geom_density_ridges_gradient</code>.
Default is T, if F then <code>ggridges::geom_density_ridges</code> is used instead,
with arbitrary fill. Note that <code>ggridges::geom_density_ridges_gradient</code>
may issue a message about deprecated ggplot2 features.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a ggplot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(extraDistr)
dists &lt;- list(
  rmixnorm = list(mean = c(70, 150), sd = c(15, 5), alpha = c(0.3, 0.7)),
  rnorm = list(mean = 90, sd = 20),
  rlnorm = list(meanlog = log(40), sdlog = 0.5)
)
x_wide &lt;- mvSim(dists = dists, n_samples = 5, counts = 1000,
                min_bin = 1, max_bin = 180, wide = TRUE)
pcv.joyplot(x_wide, index = "sim", group = "group")
x_long &lt;- mvSim(dists = dists, n_samples = 5, counts = 1000,
                min_bin = 1, max_bin = 180, wide = FALSE)
x_long$trait &lt;- "x"
p &lt;- pcv.joyplot(x_long, bin = "variable", group = "group")
# we might want to display hues as their hue
p + ggplot2::scale_fill_gradientn(colors = scales::hue_pal(l = 65)(360))
x_long$group2 &lt;- "example"
pcv.joyplot(x_long, bin = "variable", y = "group", fillx = FALSE)

</code></pre>


</div>