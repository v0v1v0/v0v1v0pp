<div class="container">

<table style="width: 100%;"><tr>
<td>KWIC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a KWIC index</h2>

<h3>Description</h3>

<p><code>KWIC</code> creates a Keyword in Context index from PGR passport database
fields.
</p>


<h3>Usage</h3>

<pre><code class="language-R">KWIC(x, fields, min.freq = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame from which KWIC index is to be generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>A character vector with the names of fields(columns) of the
data frame from which KWIC index is to be generated. The first field is
considered as the primary key or identifier (see <strong>Details</strong>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.freq</code></td>
<td>
<p>Frequency of keywords are not computed if below
<code>min.freq</code>. Default is 10.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function generates a Keyword in Context index from a data frame of a PGR
passport database based on the fields(columns) stated in the arguments, using
<code>data.table</code> package.
</p>
<p>The first element of vector <code>fields</code> is considered as the primary key or
identifier which uniquely identifies all rows in the data frame.
</p>
<p>Cleaning of the data the input fields(columns) using the
<code>DataClean</code> function with appropriate arguments is
suggested before running this function.
</p>


<h3>Value</h3>

<p>A list of class <code>KWIC</code> containing the following components:
</p>

<table>
<tr>
<td style="text-align: left;"> <code>KWIC</code> </td>
<td style="text-align: left;"> The KWIC index in the form of a data frame.
  </td>
</tr>
<tr>
<td style="text-align: left;"> <code>KeywordFreq</code> </td>
<td style="text-align: left;"> A data frame of the keywords detected with
  frequency greater than <code>min.freq</code>. </td>
</tr>
<tr>
<td style="text-align: left;"> <code>Fields</code> </td>
<td style="text-align: left;"> A character
  vector with the names of the PGR database fields from which the keywords
  were extracted. </td>
</tr>
<tr>
<td style="text-align: left;"> </td>
</tr>
</table>
<h3>References</h3>

<p>Knüpffer, H. 1988. "The European Barley Database of the ECP/GR:
An Introduction." <em>Die Kulturpflanze</em> 36 (1): 135-62.
<a href="https://doi.org/10.1007/BF01986957">doi:10.1007/BF01986957</a>.
</p>
<p>Knüpffer, H., L. Frese, and M. W. M. Jongen. 1997. "Using Central Crop
Databases: Searching for Duplicates and Gaps." In <em>Central Crop
Databases: Tools for Plant Genetic Resources Management. Report of a
Workshop, Budapest, Hungary, 13-16 October 1996</em>, edited by E. Lipman, M.
W. M. Jongen, T. J. L. van Hintum, T. Gass, and L. Maggioni, 67-77. Rome,
Italy and Wageningen, The Netherlands: International Plant Genetic
Resources Institute and Centre for Genetic Resources.
</p>


<h3>See Also</h3>

<p><code>data.table</code>,
<code>print.KWIC</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">


# Load PGR passport database
GN &lt;- GN1000

# Specify as a vector the database fields to be used
GNfields &lt;- c("NationalID", "CollNo", "DonorID", "OtherID1", "OtherID2")

# Clean the data
GN[GNfields] &lt;- lapply(GN[GNfields], function(x) DataClean(x))

## Not run: 

# Generate KWIC index
GNKWIC &lt;- KWIC(GN, GNfields)
GNKWIC

# Retrieve the KWIC index from the KWIC object
KWIC &lt;- GNKWIC[[1]]

# Retrieve the keyword frequencies from the KWIC object
KeywordFreq &lt;- GNKWIC[[2]]

# Show error in case of duplicates and NULL values
# in the primary key/ID field "NationalID"
GN[1001:1005,] &lt;- GN[1:5,]
GN[1001,3] &lt;- ""
GNKWIC &lt;- KWIC(GN, GNfields)

## End(Not run)



</code></pre>


</div>