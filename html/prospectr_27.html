<div class="container">

<table style="width: 100%;"><tr>
<td>movav</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Moving average</h2>

<h3>Description</h3>

<p>A simple moving average of a matrix or vector using a convolution
function written in C++/Rcpp for fast computing
</p>


<h3>Usage</h3>

<pre><code class="language-R">movav(X, w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a numeric matrix or vector to process (optionally a data frame that can
be coerced to a numerical matrix).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>filter length.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a matrix or vector with the filtered signal(s)
</p>


<h3>Author(s)</h3>

<p>Antoine Stevens
</p>


<h3>See Also</h3>

<p><code>savitzkyGolay</code>, <code>gapDer</code>,
<code>binning</code>, <code>continuumRemoval</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(NIRsoil)
wav &lt;- as.numeric(colnames(NIRsoil$spc))
# adding some noise
NIRsoil$spc_noise &lt;- NIRsoil$spc + rnorm(length(NIRsoil$spc), 0, 0.001)
matplot(wav,
  t(NIRsoil$spc_noise[1:10, ]),
  type = "l",
  lty = 1,
  xlab = "Wavelength /nm",
  ylab = "Absorbance",
  col = "grey"
)

# window size of 11 bands
NIRsoil$spc_mov &lt;- movav(NIRsoil$spc_noise, w = 15)
# smoothed data
matlines(as.numeric(colnames(NIRsoil$spc_mov)),
  t(NIRsoil$spc_mov[1:10, ]),
  type = "l",
  lty = 1
)
</code></pre>


</div>