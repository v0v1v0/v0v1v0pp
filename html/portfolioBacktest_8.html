<div class="container">

<table style="width: 100%;"><tr>
<td>backtestLeaderboard</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Leaderboard of portfolios from the backtest results</h2>

<h3>Description</h3>

<p>Leaderboard of portfolios according to the backtesting results 
and a ranking based on the combination of several performance criteria.
Since the different performance measures hava different ranges and distributions, 
each is first transformed according to its empirical distribution function (along 
the empirical distribution of the portfolios being ranked) to obtain percentile 
scores. After that transformation, each of the measures has an empirical uniform 
distribution in the interval <code>[0, 100]</code> and can be weighted to obtain the final ranking.
</p>


<h3>Usage</h3>

<pre><code class="language-R">backtestLeaderboard(
  bt = NA,
  weights = list(),
  summary_fun = median,
  show_benchmark = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bt</code></td>
<td>
<p>Backtest results as produced by the function <code>portfolioBacktest</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>List of weights for the different performance measures as obtained 
in <code>backtestSummary()$performance</code> (i.e., 
<code>"Sharpe ratio"</code>, <code>"max drawdown"</code>, <code>"annual return"</code>, <code>"annual volatility"</code>, 
<code>"Sterling ratio"</code>, <code>"Omega ratio"</code>, <code>"ROT bps"</code>, as well as
<code>"cpu time"</code> and <code>"failure rate"</code>.
For example: <code>weights = list("Sharpe ratio" = 8, "max drawdown" = 4)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary_fun</code></td>
<td>
<p>Summary function to be employed (e.g., <code>median</code> or <code>mean</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_benchmark</code></td>
<td>
<p>Logical value indicating whether to include benchmarks in the summary (default is <code>TRUE</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>leaderboard_scores</code></td>
<td>
<p>Matrix with the individual scores for the portfolios (as chosen in <code>weights</code>) and the final score.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leaderboard_performance</code></td>
<td>
<p>Matrix with all the performance measures for the portfolios.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_summary</code></td>
<td>
<p>Error messages generated by each portfolio on each dataset. 
Useful for debugging and give feedback to the portfolio managers of the 
different portfolios.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Daniel P. Palomar and Rui Zhou
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 
library(portfolioBacktest)
data(dataset10)  # load dataset

# define your own portfolio function
quintile_portfolio &lt;- function(data, ...) {
  X &lt;- diff(log(data$adjusted))[-1]  
  N &lt;- ncol(X)
  ranking &lt;- sort(colMeans(X), decreasing = TRUE, index.return = TRUE)$ix
  w &lt;- rep(0, N)
  w[ranking[1:round(N/5)]] &lt;- 1/round(N/5)
  return(w)
}

# do backtest
bt &lt;- portfolioBacktest(quintile_portfolio, dataset10,
                        benchmark = c("1/N", "index"))

# see all performance measures available for the ranking
backtestSummary(bt)$performance

# show leaderboard
leaderboard &lt;- backtestLeaderboard(bt, weights = list("Sharpe ratio"  = 6,
                                                      "max drawdown"  = 1,
                                                      "ROT (bps)"     = 1,
                                                      "cpu time"      = 1,
                                                      "failure rate"  = 1))
leaderboard$leaderboard_scores


</code></pre>


</div>