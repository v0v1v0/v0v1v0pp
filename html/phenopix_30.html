<div class="container">

<table style="width: 100%;"><tr>
<td>greenProcess</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Fit a curve and extract thresholds from vegetation index time series
</h2>

<h3>Description</h3>

<p>This is a wrapper function that calls fitting functions and threshold functions 
and returns an object of class <code>phenopix</code>. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">greenProcess(ts, fit, threshold=NULL, plot=TRUE, which='light', 
  uncert=FALSE, nrep=100, 
  envelope='quantiles', quantiles=c(0.1, 0.9), hydro=FALSE, 
  sf=quantile(ts, na.rm=TRUE, prob=c(0.05, 0.95)), ncores='all', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ts</code></td>
<td>

<p>A vector or, better, an univariate ts or zoo object. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>

<p>A character vector of length 1. Available options are: <code>spline</code>, <code>beck</code>, <code>elmore</code>,
<code>klosterman</code>, <code>gu</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>

<p>A character vector of length 1. Available options are: <code>trs</code>, <code>derivatives</code>, 
<code>klosterman</code>, <code>gu</code>.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>

<p>If TRUE a call to <code>PhenoPlot</code> returns fitted values and thresholds. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>

<p>Only relevant if fit == <code>klosterman</code>, available options are <code>light</code> or <code>heavy</code>. 
See <code>FitDoubleLogKlHeavy</code> and <code>FitDoubleLogKlLight</code> for details. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uncert</code></td>
<td>

<p>Should uncertainty be estimated?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrep</code></td>
<td>

<p>Number of replications for the uncertainty estimation. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envelope</code></td>
<td>

<p>One between <code>quantiles</code> and <code>min-max</code>. If <code>quantiles</code>, the uncertainty envelope 
will be computed as quantiles. Quantiles reported in <code>quantiles</code> will be 
computed togheter with the median. If <code>min-max</code> is choosen, min, max and mean of 
the uncertainty envelope will be returned. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>

<p>Quantiles to be calculated if envelope='quantiles'. The notation is the same as 
to specify quantiles in the <code>quantile</code> function, i.e. to get 10th and 90th 
percentile, use c(0.1, 0.9).  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hydro</code></td>
<td>

<p>Hydro determines how days of the year are computed. If hydro = FALSE (default) January 1st is DOY 1. 
If hydro = TRUE October 1st is day 1. This option has been introduced for two purposes. 
First, for water limited or high temperature limited boreal ecosystems (with summer 
dormant season) to process a seasonal trajectory with winter peak. Second, for ecosystems 
in the australian emisphere. If hydro = TRUE all metrics concerned with a day of year must be back 
converted in order to get actual day of year. Conversions and back conversions can be performed 
with the function <code>doy2hydrodoy</code>.    
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sf</code></td>
<td>

<p>Scaling factors used instead of min and max for data normalization.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>

<p>Number of processors to be used in parallel computation, defaults to 'all' which will accidentally slow down any other activity on your computer. Otherwise set the number of processors you want to use in parallelization. 

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>For the plotting function, a number of parameters from generic <code>plot</code> 
can be specified. See examples. 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a wrapper function that allows to fit a curve to a yearly trajectories of greeneess 
and extract phenological thresholds according to a given criterion. Handeling this main function may 
allow the user to forget learning other, rather internal functions. The combination of <code>greenProcess</code> 
and <code>extract</code> allows to use main capabilities of this package. Virtually all other functions included
are called at some points within this function. The object of class <code>phenopix</code> which is created is a rather 
complex list that can be explored via the <code>extract</code> function. Check it out for further details.    
</p>


<h3>Value</h3>

<p>An object of class <code>phenopix</code> with dedicated functions: plot(), print(), summary() and fitted(). 
The structure is actually a list. 
</p>


<h3>Author(s)</h3>

<p>Gianluca Filippa &lt;gian.filippa@gmail.com&gt;

</p>


<h3>References</h3>

<p>Gu L, Post WM, Baldocchi D, Black TA, Suyker AE, Verma SB, Vesala T, 
Wofsy SC. (2009) Characterizing the Seasonal Dynamics of Plant Community 
Photosynthesis Across a Range of Vegetation Types. In: Phenology of Ecosystem 
Processes (Ed: Noormets A, Springer New York), pp 35-58. 
</p>
<p>Klosterman ST, Hufkens K, Gray JM, Melaas E, Sonnentag O, Lavine I, Mitchell L, 
Norman R, Friedl MA, Richardson A D (2014) Evaluating remote sensing of deciduous 
forest phenology at multiple spatial scales using PhenoCam imagery, Biogeosciences, 
11, 4305-4320, doi:10.5194/bg-11-4305-2014.
</p>
<p>Zhang X, Friedl MA, Schaaf CB, Strahler AH, Hodges JCF, Gao F, Reed BC, Huete A (2003) 
Monitoring vegetation phenology using MODIS, Remote Sens. Environ., 84, 471-475.
</p>



<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(bartlett2009.filtered)
fitted &lt;- greenProcess(bartlett2009.filtered, 'klosterman', 
  'klosterman', uncert=TRUE, nrep=5, ncores=2)
  
## End(Not run)
</code></pre>


</div>