<div class="container">

<table style="width: 100%;"><tr>
<td>topPredictors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract Most "Important" Predictors (Experimental)</h2>

<h3>Description</h3>

<p>Extract the most "important" predictors for regression and classification
models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">topPredictors(object, n = 1L, ...)

## Default S3 method:
topPredictors(object, n = 1L, ...)

## S3 method for class 'train'
topPredictors(object, n = 1L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A fitted model object of appropriate class (e.g., <code>"gbm"</code>,
<code>"lm"</code>, <code>"randomForest"</code>, etc.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Integer specifying the number of predictors to return. Default is
<code>1</code> meaning return the single most important predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional optional arguments to be passed onto
<code>varImp</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses the generic function <code>varImp</code> to
calculate variable importance scores for each predictor. After that, they are
sorted at the names of the <code>n</code> highest scoring predictors are returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#
# Regression example (requires randomForest package to run)
#

Load required packages
library(ggplot2)
library(randomForest)

# Fit a random forest to the mtcars dataset
data(mtcars, package = "datasets")
set.seed(101)
mtcars.rf &lt;- randomForest(mpg ~ ., data = mtcars, mtry = 5, importance = TRUE)

# Topfour predictors
top4 &lt;- topPredictors(mtcars.rf, n = 4)

# Construct partial dependence functions for top four predictors
pd &lt;- NULL
for (i in top4) {
  tmp &lt;- partial(mtcars.rf, pred.var = i)
  names(tmp) &lt;- c("x", "y")
  pd &lt;- rbind(pd,  cbind(tmp, predictor = i))
}

# Display partial dependence functions
ggplot(pd, aes(x, y)) +
  geom_line() +
  facet_wrap(~ predictor, scales = "free") +
  theme_bw() +
  ylab("mpg")


## End(Not run)
</code></pre>


</div>