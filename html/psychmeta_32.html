<div class="container">

<table style="width: 100%;"><tr>
<td>correct_r</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correct correlations for range restriction and/or measurement error</h2>

<h3>Description</h3>

<p>Corrects Pearson correlations (<code class="reqn">r</code>) for range restriction and/or measurement error
</p>


<h3>Usage</h3>

<pre><code class="language-R">correct_r(
  correction = c("meas", "uvdrr_x", "uvdrr_y", "uvirr_x", "uvirr_y", "bvdrr", "bvirr"),
  rxyi,
  ux = 1,
  uy = 1,
  rxx = 1,
  ryy = 1,
  ux_observed = TRUE,
  uy_observed = TRUE,
  rxx_restricted = TRUE,
  rxx_type = "alpha",
  k_items_x = NA,
  ryy_restricted = TRUE,
  ryy_type = "alpha",
  k_items_y = NA,
  sign_rxz = 1,
  sign_ryz = 1,
  n = NULL,
  conf_level = 0.95,
  correct_bias = FALSE,
  zero_substitute = .Machine$double.eps
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>
<p>Type of correction to be applied. Options are "meas", "uvdrr_x", "uvdrr_y", "uvirr_x", "uvirr_y", "bvdrr", "bvirr"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rxyi</code></td>
<td>
<p>Vector of observed correlations.
<em>NOTE</em>: Beginning in <span class="pkg">psychmeta</span> version 2.5.2, <code>rxyi</code> values of exactly 0 in individual-correction meta-analyses are replaced with a functionally equivalent value via the <code>zero_substitute</code> argument to facilitate the estimation of effective sample sizes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ux</code></td>
<td>
<p>Vector of u ratios for X.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uy</code></td>
<td>
<p>Vector of u ratios for Y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rxx</code></td>
<td>
<p>Vector of reliability coefficients for X.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ryy</code></td>
<td>
<p>Vector of reliability coefficients for Y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ux_observed</code></td>
<td>
<p>Logical vector in which each entry specifies whether the corresponding ux value is an observed-score u ratio (<code>TRUE</code>) or a true-score u ratio. All entries are <code>TRUE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uy_observed</code></td>
<td>
<p>Logical vector in which each entry specifies whether the corresponding uy value is an observed-score u ratio (<code>TRUE</code>) or a true-score u ratio. All entries are <code>TRUE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rxx_restricted</code></td>
<td>
<p>Logical vector in which each entry specifies whether the corresponding rxx value is an incumbent reliability (<code>TRUE</code>) or an applicant reliability. All entries are <code>TRUE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rxx_type, ryy_type</code></td>
<td>
<p>String vector identifying the types of reliability estimates supplied (e.g., "alpha", "retest", "interrater_r", "splithalf"). See the documentation for <code>ma_r</code> for a full list of acceptable reliability types.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k_items_x, k_items_y</code></td>
<td>
<p>Numeric vector identifying the number of items in each scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ryy_restricted</code></td>
<td>
<p>Logical vector in which each entry specifies whether the corresponding rxx value is an incumbent reliability (<code>TRUE</code>) or an applicant reliability. All entries are <code>TRUE</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sign_rxz</code></td>
<td>
<p>Vector of signs of the relationships between X variables and the selection mechanism.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sign_ryz</code></td>
<td>
<p>Vector of signs of the relationships between Y variables and the selection mechanism.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Optional vector of sample sizes associated with the rxyi correlations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_level</code></td>
<td>
<p>Confidence level to define the width of the confidence interval (default = .95).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct_bias</code></td>
<td>
<p>Logical argument that determines whether to correct error-variance estimates for small-sample bias in correlations (<code>TRUE</code>) or not (<code>FALSE</code>).
For sporadic corrections (e.g., in mixed artifact-distribution meta-analyses), this should be set to <code>FALSE</code>, the default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero_substitute</code></td>
<td>
<p>Value to be used as a functionally equivalent substitute for exactly zero effect sizes to facilitate the estimation of effective sample sizes. By default, this is set to <code>.Machine$double.eps</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The correction for measurement error is:
</p>
<p style="text-align: center;"><code class="reqn">\rho_{TP}=\frac{\rho_{XY}}{\sqrt{\rho_{XX}\rho_{YY}}}</code>
</p>

<p>The correction for univariate direct range restriction is:
</p>
<p style="text-align: center;"><code class="reqn">\rho_{TP_{a}}=\left[\frac{\rho_{XY_{i}}}{u_{X}\sqrt{\rho_{YY_{i}}}\sqrt{\left(\frac{1}{u_{X}^{2}}-1\right)\frac{\rho_{XY_{i}}^{2}}{\rho_{YY_{i}}}+1}}\right]/\sqrt{\rho_{XX_{a}}}</code>
</p>

<p>The correction for univariate indirect range restriction is:
</p>
<p style="text-align: center;"><code class="reqn">\rho_{TP_{a}}=\frac{\rho_{XY_{i}}}{u_{T}\sqrt{\rho_{XX_{i}}\rho_{YY_{i}}}\sqrt{\left(\frac{1}{u_{T}^{2}}-1\right)\frac{\rho_{XY_{i}}^{2}}{\rho_{XX_{i}}\rho_{YY_{i}}}+1}}</code>
</p>

<p>The correction for bivariate direct range restriction is:
</p>
<p style="text-align: center;"><code class="reqn">\rho_{TP_{a}}=\frac{\frac{\rho_{XY_{i}}^{2}-1}{2\rho_{XY_{i}}}u_{X}u_{Y}+\mathrm{sign}\left(\rho_{XY_{i}}\right)\sqrt{\frac{\left(1-\rho_{XY_{i}}^{2}\right)^{2}}{4\rho_{XY_{i}}}u_{X}^{2}u_{Y}^{2}+1}}{\sqrt{\rho_{XX_{a}}\rho_{YY_{a}}}}</code>
</p>

<p>The correction for bivariate indirect range restriction is:
</p>
<p style="text-align: center;"><code class="reqn">\rho_{TP_{a}}=\frac{\rho_{XY_{i}}u_{X}u_{Y}+\lambda\sqrt{\left|1-u_{X}^{2}\right|\left|1-u_{Y}^{2}\right|}}{\sqrt{\rho_{XX_{a}}\rho_{YY_{a}}}}</code>
</p>

<p>where the <code class="reqn">\lambda</code> value allows <code class="reqn">u_{X}</code> and <code class="reqn">u_{Y}</code> to fall on either side of unity so as to function as a two-stage correction for mixed patterns of range restriction and range enhancement. The <code class="reqn">\lambda</code> value is computed as:
</p>
<p style="text-align: center;"><code class="reqn">\lambda=\mathrm{sign}\left[\rho_{ST_{a}}\rho_{SP_{a}}\left(1-u_{X}\right)\left(1-u_{Y}\right)\right]\frac{\mathrm{sign}\left(1-u_{X}\right)\min\left(u_{X},\frac{1}{u_{X}}\right)+\mathrm{sign}\left(1-u_{Y}\right)\min\left(u_{Y},\frac{1}{u_{Y}}\right)}{\min\left(u_{X},\frac{1}{u_{X}}\right)\min\left(u_{Y},\frac{1}{u_{Y}}\right)}</code>
</p>



<h3>Value</h3>

<p>Data frame(s) of observed correlations (<code>rxyi</code>), range-restricted correlations corrected for measurement error in Y only (<code>rxpi</code>), range-restricted correlations corrected for measurement error in X only (<code>rtyi</code>), and range-restricted true-score correlations (<code>rtpi</code>),
range-corrected observed-score correlations (<code>rxya</code>), range-corrected correlations corrected for measurement error in Y only (<code>rxpa</code>), range-corrected correlations corrected for measurement error in X only (<code>rtya</code>), and range-corrected true-score correlations (<code>rtpa</code>).
</p>


<h3>References</h3>

<p>Alexander, R. A., Carson, K. P., Alliger, G. M., &amp; Carr, L. (1987).
Correcting doubly truncated correlations: An improved approximation for correcting the bivariate normal correlation when truncation has occurred on both variables.
<em>Educational and Psychological Measurement, 47</em>(2), 309–315. <a href="https://doi.org/10.1177/0013164487472002">doi:10.1177/0013164487472002</a>
</p>
<p>Dahlke, J. A., &amp; Wiernik, B. M. (2020). Not restricted to selection research:
Accounting for indirect range restriction in organizational research.
<em>Organizational Research Methods, 23</em>(4), 717–749. <a href="https://doi.org/10.1177/1094428119859398">doi:10.1177/1094428119859398</a>
</p>
<p>Hunter, J. E., Schmidt, F. L., &amp; Le, H. (2006).
Implications of direct and indirect range restriction for meta-analysis methods and findings.
<em>Journal of Applied Psychology, 91</em>(3), 594–612. <a href="https://doi.org/10.1037/0021-9010.91.3.594">doi:10.1037/0021-9010.91.3.594</a>
</p>
<p>Le, H., Oh, I.-S., Schmidt, F. L., &amp; Wooldridge, C. D. (2016).
Correction for range restriction in meta-analysis revisited: Improvements and implications for organizational research.
<em>Personnel Psychology, 69</em>(4), 975–1008. <a href="https://doi.org/10.1111/peps.12122">doi:10.1111/peps.12122</a>
</p>
<p>Schmidt, F. L., &amp; Hunter, J. E. (2015).
<em>Methods of meta-analysis: Correcting error and bias in research findings</em> (3rd ed.).
Sage. <a href="https://doi.org/10.4135/9781483398105">doi:10.4135/9781483398105</a>. pp. 43-44, 140–141.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Correction for measurement error only
correct_r(correction = "meas", rxyi = .3, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE)
correct_r(correction = "meas", rxyi = .3, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE, n = 100)

## Correction for direct range restriction in X
correct_r(correction = "uvdrr_x", rxyi = .3, ux = .8, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE)
correct_r(correction = "uvdrr_x", rxyi = .3, ux = .8, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE, n = 100)

## Correction for indirect range restriction in X
correct_r(correction = "uvirr_x", rxyi = .3, ux = .8, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE)
correct_r(correction = "uvirr_x", rxyi = .3, ux = .8, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE, n = 100)

## Correction for direct range restriction in X and Y
correct_r(correction = "bvdrr", rxyi = .3, ux = .8, uy = .8, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE)
correct_r(correction = "bvdrr", rxyi = .3, ux = .8, uy = .8, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE, n = 100)

## Correction for indirect range restriction in X and Y
correct_r(correction = "bvirr", rxyi = .3, ux = .8, uy = .8, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE)
correct_r(correction = "bvirr", rxyi = .3, ux = .8, uy = .8, rxx = .8, ryy = .8,
     ux_observed = TRUE, uy_observed = TRUE, rxx_restricted = TRUE, ryy_restricted = TRUE, n = 100)
</code></pre>


</div>