<div class="container">

<table style="width: 100%;"><tr>
<td>add.interval.col</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add columns for calculations within PKNCA intervals</h2>

<h3>Description</h3>

<p>Add columns for calculations within PKNCA intervals
</p>


<h3>Usage</h3>

<pre><code class="language-R">add.interval.col(
  name,
  FUN,
  values = c(FALSE, TRUE),
  unit_type,
  pretty_name,
  depends = NULL,
  desc = "",
  sparse = FALSE,
  formalsmap = list(),
  datatype = c("interval", "individual", "population")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The column name as a character string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>The function to run (as a character string) or <code>NA</code> if the
parameter is automatically calculated when calculating another parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Valid values for the column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit_type</code></td>
<td>
<p>The type of units to use for assigning and converting units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pretty_name</code></td>
<td>
<p>The name of the parameter to use for printing in summary
tables with units.  (If an analysis does not include units, then the normal
name is used.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depends</code></td>
<td>
<p>Character vector of columns that must be run before this
column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>desc</code></td>
<td>
<p>A human-readable description of the parameter (&lt;=40 characters to
comply with SDTM)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sparse</code></td>
<td>
<p>Is the calculation for sparse PK?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formalsmap</code></td>
<td>
<p>A named list mapping parameter names in the function call
to NCA parameter names.  See the details for information on use of
<code>formalsmap</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datatype</code></td>
<td>
<p>The type of data used for the calculation</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>formalsmap</code> argument enables mapping some alternate formal
argument names to parameters.  It is used to generalize functions that may
use multiple similar arguments (such as the variants of mean residence time).
The names of the list should correspond to function formal parameter names
and the values should be one of the following:
</p>

<ul>
<li>
<p>For the current interval:
</p>

<dl>
<dt>character strings of NCA parameter name</dt>
<dd>
<p>The value of the parameter calculated for the current interval.</p>
</dd>
<dt>"conc"</dt>
<dd>
<p>Concentration measurements for the current interval.</p>
</dd>
<dt>"time"</dt>
<dd>
<p>Times associated with concentration measurements for the current interval (values start at 0 at the beginning of the current interval).</p>
</dd>
<dt>"volume"</dt>
<dd>
<p>Volume associated with concentration measurements for the current interval (typically applies for excretion parameters like urine).</p>
</dd>
<dt>"duration.conc"</dt>
<dd>
<p>Durations associated with concentration measurements for the current interval.</p>
</dd>
<dt>"dose"</dt>
<dd>
<p>Dose amounts assocuated with the current interval.</p>
</dd>
<dt>"time.dose"</dt>
<dd>
<p>Time of dose start associated with the current interval (values start at 0 at the beginning of the current interval).</p>
</dd>
<dt>"duration.dose"</dt>
<dd>
<p>Duration of dose (typically infusion duration) for doses in the current interval.</p>
</dd>
<dt>"route"</dt>
<dd>
<p>Route of dosing for the current interval.</p>
</dd>
<dt>"start"</dt>
<dd>
<p>Time of interval start.</p>
</dd>
<dt>"end"</dt>
<dd>
<p>Time of interval end.</p>
</dd>
<dt>"options"</dt>
<dd>
<p>PKNCA.options governing calculations.</p>
</dd>
</dl>
</li>
<li>
<p>For the current group:
</p>

<dl>
<dt>"conc.group"</dt>
<dd>
<p>Concentration measurements for the current group.</p>
</dd>
<dt>"time.group"</dt>
<dd>
<p>Times associated with concentration measurements for the current group (values start at 0 at the beginning of the current interval).</p>
</dd>
<dt>"volume.group"</dt>
<dd>
<p>Volume associated with concentration measurements for the current interval (typically applies for excretion parameters like urine).</p>
</dd>
<dt>"duration.conc.group"</dt>
<dd>
<p>Durations assocuated with concentration measurements for the current group.</p>
</dd>
<dt>"dose.group"</dt>
<dd>
<p>Dose amounts assocuated with the current group.</p>
</dd>
<dt>"time.dose.group"</dt>
<dd>
<p>Time of dose start associated with the current group (values start at 0 at the beginning of the current interval).</p>
</dd>
<dt>"duration.dose.group"</dt>
<dd>
<p>Duration of dose (typically infusion duration) for doses in the current group.</p>
</dd>
<dt>"route.group"</dt>
<dd>
<p>Route of dosing for the current group.</p>
</dd>
</dl>
</li>
</ul>
<h3>Value</h3>

<p>NULL (Calling this function has a side effect of changing the
available intervals for calculations)
</p>


<h3>See Also</h3>

<p>Other Interval specifications: 
<code>check.interval.deps()</code>,
<code>check.interval.specification()</code>,
<code>choose.auc.intervals()</code>,
<code>get.interval.cols()</code>,
<code>get.parameter.deps()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
add.interval.col("cmax",
                 FUN="pk.calc.cmax",
                 values=c(FALSE, TRUE),
                 unit_type="conc",
                 pretty_name="Cmax",
                 desc="Maximum observed concentration")
add.interval.col("cmax.dn",
                 FUN="pk.calc.dn",
                 values=c(FALSE, TRUE),
                 unit_type="conc_dosenorm",
                 pretty_name="Cmax (dose-normalized)",
                 desc="Maximum observed concentration, dose normalized",
                 formalsmap=list(parameter="cmax"),
                 depends="cmax")

## End(Not run)
</code></pre>


</div>