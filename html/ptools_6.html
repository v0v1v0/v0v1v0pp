<div class="container">

<table style="width: 100%;"><tr>
<td>dist_xy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Distance to nearest based on centroid</h2>

<h3>Description</h3>

<p>Given a base X/Y dataset, calculates distance to nearest for another feature X/Y dataset
</p>


<h3>Usage</h3>

<pre><code class="language-R">dist_xy(base, feat, bxy = c("x", "y"), fxy = c("x", "y"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>base dataset (eg gridcells)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feat</code></td>
<td>
<p>feature dataset (eg another crime generator)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bxy</code></td>
<td>
<p>vector of strings that define what the base xy fields are defined as, defaults <code>c('x','y')</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fxy</code></td>
<td>
<p>vector of strings that define what the base xy fields are defined as, defaults <code>c('x','y')</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This generates a distance to nearest, based on the provided x/y coordinates (so if using polygons pass the centroid).
This uses kd-trees from RANN, so should be reasonably fast. But I do no projection checking, that is on you. You should not
use this with spherical coordinates. Useful for feature engineering for crime generators.
</p>


<h3>Value</h3>

<p>A vector of distances from base dataset xy to the nearest feature xy
</p>


<h3>References</h3>

<p>Caplan, J. M., Kennedy, L. W., &amp; Miller, J. (2011). Risk terrain modeling: Brokering criminological theory and GIS methods for crime forecasting. <em>Justice Quarterly</em>, 28(2), 360-381.
</p>
<p>Wheeler, A. P., &amp; Steenbeek, W. (2021). Mapping the risk terrain for crime using machine learning. <em>Journal of Quantitative Criminology</em>, 37(2), 445-480.
</p>


<h3>See Also</h3>

<p><code>count_xy()</code> for counting points inside of base polygon
</p>
<p><code>dcount_xy()</code> for counting points within distance of base polygon
</p>
<p><code>kern_xy()</code> for estimating gaussian density of points for features at base polygon xy coords
</p>
<p><code>bisq_xy()</code> for estimate bi-square kernel of points for features at base polygon xy coords
</p>
<p><code>idw_xy()</code> for estimate inverese distance weighted of points for features at base polygon xy coords
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(nyc_bor); data(nyc_cafe)
gr_nyc &lt;- prep_grid(nyc_bor,15000,clip_level=0.3)
gr_nyc$dist_cafe &lt;- dist_xy(gr_nyc,nyc_cafe)
head(gr_nyc@data)
sp::spplot(gr_nyc,zcol='dist_cafe')


</code></pre>


</div>