<div class="container">

<table style="width: 100%;"><tr>
<td>getCitation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get public-domain citation data</h2>

<h3>Description</h3>

<p>Get the latest version of the NIH Open Citation Collection from figshare
<a href="https://nih.figshare.com/collections/iCite_Database_Snapshots_NIH_Open_Citation_Collection_/4586573">here</a>,
and optionally write it to the database. This function requires the shell
command <code>unzip</code>, available by default on most Unix systems. This function
should not normally be called directly, as it is called by
<code>modifyPubmedDb()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getCitation(
  localDir,
  filename = "open_citation_collection.zip",
  nrows = Inf,
  tableSuffix = NULL,
  overwrite = FALSE,
  con = NULL,
  checkMd5 = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>localDir</code></td>
<td>
<p>String indicating path to directory containing the citation
file or to which the citation file should be downloaded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>String indicating name of the citation file. This should not
normally be changed from the default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrows</code></td>
<td>
<p>Number indicating how many rows of the citation file to read.
This should not normally be changed from the default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tableSuffix</code></td>
<td>
<p>String indicating suffix, if any, to append to the table
name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical indicating whether to overwrite an existing table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>con</code></td>
<td>
<p>Connection to the database, created using <code>DBI::dbConnect()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkMd5</code></td>
<td>
<p>Logical indicating whether to download the citation file if
the MD5 sums of the local and remote versions do not match. This should not
normally be changed from the default.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>con</code> is <code>NULL</code>, the function returns a data.table with columns
<code>citing_pmid</code> and <code>cited_pmid</code>. Beware this is a large table and could
swamp the machine's memory. If <code>con</code> is not <code>NULL</code>, the function returns
<code>NULL</code> invisibly.
</p>


<h3>See Also</h3>

<p><code>parsePmidStatus()</code>, <code>modifyPubmedDb()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
dCitation = getCitation('.')

## End(Not run)

</code></pre>


</div>