<div class="container">

<table style="width: 100%;"><tr>
<td>predict.wbm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predictions and simulations from within-between models</h2>

<h3>Description</h3>

<p>These methods facilitate fairly straightforward predictions
and simulations from <code>wbm</code> models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'wbm'
predict(
  object,
  newdata = NULL,
  se.fit = FALSE,
  raw = FALSE,
  use.re.var = FALSE,
  re.form = NULL,
  type = c("link", "response"),
  allow.new.levels = TRUE,
  na.action = na.pass,
  ...
)

## S3 method for class 'wbm'
simulate(
  object,
  nsim = 1,
  seed = NULL,
  use.u = FALSE,
  newdata = NULL,
  raw = FALSE,
  newparams = NULL,
  re.form = NA,
  type = c("link", "response"),
  allow.new.levels = FALSE,
  na.action = na.pass,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a fitted model object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>data frame for which to evaluate
predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.fit</code></td>
<td>
<p>Include standard errors with the predictions? Note that
these standard errors by default include only fixed effects variance.
See details for more info. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>
<p>Is <code>newdata</code> a <code>merMod</code> model frame or <code>panel_data</code>? TRUE
indicates a <code>merMod</code>-style newdata, with all of the extra columns
created by <code>wbm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.re.var</code></td>
<td>
<p>If <code>se.fit</code> is TRUE, include random effects variance in
standard errors? Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re.form</code></td>
<td>
<p>(formula, <code>NULL</code>, or <code>NA</code>) specify which random effects to condition on when predicting.  If <code>NULL</code>,
include all random effects; if <code>NA</code> or <code>~0</code>,
include no random effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>character string - either <code>"link"</code>, the default, or
<code>"response"</code> indicating the type of prediction object returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow.new.levels</code></td>
<td>
<p>logical if new levels (or NA values) in
<code>newdata</code> are allowed. If FALSE (default), such new values in
<code>newdata</code> will trigger an error; if TRUE, then the prediction
will use the unconditional (population-level) values for data with
previously unobserved levels (or NAs).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p><code>function</code> determining what should be done
with missing values for fixed effects in <code>newdata</code>.
The default is to predict <code>NA</code>: see <code>na.pass</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>When <code>boot</code> and <code>se.fit</code> are TRUE, any additional arguments are
passed to <code>lme4::bootMer()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>positive integer scalar - the number of responses to simulate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>an optional seed to be used in <code>set.seed</code>
immediately before the simulation so as to generate a reproducible sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.u</code></td>
<td>
<p>(logical) if <code>TRUE</code>, generate a simulation
conditional on the current random-effects estimates; if <code>FALSE</code>
generate new Normally distributed random-effects values. (Redundant
with <code>re.form</code>, which is preferred: <code>TRUE</code> corresponds to
<code>re.form = NULL</code> (condition on all random effects), while
<code>FALSE</code> corresponds to <code>re.form = ~0</code> (condition on none
of the random effects).)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newparams</code></td>
<td>
<p>new parameters to use in evaluating predictions,
specified as in the <code>start</code> parameter for <code>lmer</code> or
<code>glmer</code> â€“ a list with components <code>theta</code> and
<code>beta</code> and (for LMMs or GLMMs that estimate a scale parameter)
<code>sigma</code></p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">data("WageData")
wages &lt;- panel_data(WageData, id = id, wave = t)
model &lt;- wbm(lwage ~ lag(union) + wks, data = wages)
# By default, assumes you're using the processed data for newdata
predict(model)
</code></pre>


</div>