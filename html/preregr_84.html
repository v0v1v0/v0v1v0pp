<div class="container">

<table style="width: 100%;"><tr>
<td>validate_value</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validate a value</h2>

<h3>Description</h3>

<p>This function validates a value. Before validation, it checks
the validation expression and optionally performs replacements, where the
replacement strings (delimited by the validation replacement delimiters,
by default, <code style="white-space: pre;">⁠{{⁠</code> and <code style="white-space: pre;">⁠}}⁠</code>) are
replaced by the first valid corresponding value from the
<code>replacementSources</code> (working through those sources consecutively, i.e.
only looking in the second one of the first one doesn't contain a valid
value for the relevant replacement string, valid being defined as a value
that is not NULL or NA and has, after being trimmed of whitespace, a
nonzero length).
</p>


<h3>Usage</h3>

<pre><code class="language-R">validate_value(
  VALUE,
  validations,
  replacementSources,
  errorMessages,
  convert_bipiped = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>VALUE</code></td>
<td>
<p>The value to validate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>validations</code></td>
<td>
<p>The validations, a vector or list that will be
consecutively searched for the first valid value (valid being defined as
a value that is not NULL or NA and has, after being trimmed of whitespace,
a nonzero length). That value has to be either as an R expression, or a
character value (i.e. a length 1 character vector) that is a valid R
expression, optionally after having performed the specified replacements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replacementSources</code></td>
<td>
<p>A list of named lists (or 1-row data frames) that
will be searched, consecutively, for values to replace the replacement
strings with.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errorMessages</code></td>
<td>
<p>The errormessage to return if validation fails, of which
the first valid one will be returned (valid being defined as a value that is
not NULL or NA and has, after being trimmed of whitespace, a nonzero length).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convert_bipiped</code></td>
<td>
<p>Whether to first run <code>bipiped_value_to_vector()</code> on
the replacment values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To change the validation replacement delimiters, use
<code>preregr::opts$set(validation_replacementDelimiters = c("{{", "}}"));</code>.
</p>


<h3>Value</h3>

<p>The message resulting from the validation (i.e. an error or "").
</p>


<h3>Examples</h3>

<pre><code class="language-R">### Set some validation variables
validationStatement &lt;-
  paste(
    "is.na(VALUE) ||",
    "(VALUE %in% {{validValues}}) ||",
    "(VALUE %in% {{testField}})"
  );
replacementSources &lt;-
  list(
    list(validValues = '"testValue" || "anotherValue"'),
    list(testField = "Yet another testvalue")
  );
errorMessages &lt;-
  "No valid test value passed!";

### Run a passing validation
preregr::validate_value(
  "testValue",
  validations = validationStatement,
  replacementSources = replacementSources,
  errorMessages = errorMessages
);


### Run a failing validation
preregr::validate_value(
  "A testvalue that won't pass",
  validations = validationStatement,
  replacementSources = replacementSources,
  errorMessages = errorMessages
);
</code></pre>


</div>