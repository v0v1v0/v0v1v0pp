<div class="container">

<table style="width: 100%;"><tr>
<td>SimEfftoxContour</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulates trial replications from the Efftox model with desirability optimality function.</h2>

<h3>Description</h3>

<p>Simulates replications from a Bayesian adaptive phase 12 clinical trial design using the Efftox model and a optimality function based on the desirability tradeoff contour.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SimEfftoxContour(
  NSims,
  Dose,
  PE,
  PT,
  corET,
  Nmax,
  cohort,
  Contour,
  CutE,
  CutT,
  AcceptE,
  AcceptT,
  HypermeansEFF,
  HypervarsEFF
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>NSims</code></td>
<td>
<p>Number of trial simulations to run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dose</code></td>
<td>
<p>Logarithm of raw dose levels - the average logarithm of the raw dose levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PE</code></td>
<td>
<p>True efficacy probability for each dose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PT</code></td>
<td>
<p>True toxicity probaiblity for each dose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corET</code></td>
<td>
<p>Correlation parameter between efficacy and toxicity probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nmax</code></td>
<td>
<p>Maximum trial sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohort</code></td>
<td>
<p>Patient cohort size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Contour</code></td>
<td>
<p>Contour vector for desirability function. Contains in order: (pi_1,E,pi_2,T,pi_3,E,pi_4,T).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CutE</code></td>
<td>
<p>Cutoff for efficacy probability acceptability. Dose-efficacy probabilities must be larger than this for patient assignment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CutT</code></td>
<td>
<p>Cutoff for toxicity probability acceptability. Dose-toxicity probabilities must be smaller than this for patient assignment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AcceptE</code></td>
<td>
<p>Posterior probability threshold for efficacy acceptability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AcceptT</code></td>
<td>
<p>Posterior probability threshold for toxicity acceptability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HypermeansEFF</code></td>
<td>
<p>Hypermeans for the Efftox model. In order, entries are hypermeans for (beta_0,E,beta_1,E,beta_2,E,beta_0,T,beta_1,T,psi).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HypervarsEFF</code></td>
<td>
<p>Hypervariances for the Efftox model. In order, entries are hypervariances for (beta_0,E,beta_1,E,beta_2,E,beta_0,T,beta_1,T,psi).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with the first entry corresponding to a matrix with: (1) True toxicity probabilities at each dose, (2) True efficacy probabilities at each dose, (3) True Desirability of each dose, (4) Optimal dose selection probability, (5) Average sample size of patients treated at each dose. The second entry of the list contains a vector with rows corresponding to (1) the true binary bivariate correlation between efficacy and toxicity, (2) Stopping probability of the trial, (3) Average number of efficacy events, (4) Average number of toxicity events, and (5) Delta.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(mvtnorm)
##True toxicity probability
PT=c(.05,.10,.15,.20,.30)
##True Efficacy Probability
PE=c(.2,.4,.6,.65,.7)
#True Correlation
corET=.5
##Number of simulations
NSims=1 ##Increase this when using
##Hypermeans and hypervariances
HypermeansEFF = c(.022,3.45,0,-4.23,3.1,0)
HypervarsEFF = c(2.6761, 2.6852, .2, 3.1304, 3.1165, 1)
HypervarsEFF=HypervarsEFF^2
##Trial Parameters
##Cohort Size, N^F and N_ET
cohort=3
##Starting Dose
DoseStart=1
##Vector of Numerical Doses
Dose = c(1,2,3,3.5,5)
##Dose for Eff-Tox
Dose=log(Dose)-mean(log(Dose))
Nmax=30 ##Max Sample Size
#Acceptability Criterion
CutE=.3
CutT=.4
##Limits on acceptability
AcceptE=.1
AcceptT=.1
##Contour vector
Contour = c(.35, .75,.7,.4)
RESULTS=SimEfftoxContour(NSims, Dose,PE,  PT, corET,
Nmax, cohort, Contour, CutE, CutT, AcceptE,AcceptT,  HypermeansEFF, HypervarsEFF)
RESULTS
</code></pre>


</div>