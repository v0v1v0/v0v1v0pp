<div class="container">

<table style="width: 100%;"><tr>
<td>Ffilter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Formant Filtering
</h2>

<h3>Description</h3>

<p>Perform cascade formant filtering of sounds.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Ffilter (sound, ffs, bwp = 0.06, minbw = 60, fs = 22050, verify = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sound</code></td>
<td>
<p>A numeric vector representing a waveform, or a 'sound' object created with the loadsound() or makesound() functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ffs</code></td>
<td>
<p>A list of vectors of initial and final center frequencies for each formant. Each vector should contain formant frequencies in order of lowest to highest frequency. If only a single vector is provided, formants will remain stable throughout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bwp</code></td>
<td>
<p>A vector of formant bandwidths, one for each formant.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minbw</code></td>
<td>
<p>The minimum permissible formant bandwidth, in Hertz.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs</code></td>
<td>
<p>The sampling frequency of the sound. If a 'sound' object is passed, this does not need to be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verify</code></td>
<td>
<p>If TRUE, before and after spectra are plotted to allow the user to visually verify the process.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows the user to specify one or more formant filters and to pass a signal through said filters. This may be used to create synthetic speech sounds or to modify existing sounds as desired. The given signal is passed through the formant filters in reverse order. Filter bandwidths specify the distance between formant center frequencies and the point at which the output will be 3 dB below peak energy.
</p>
<p>Filter bandwidths may be provided in Hz, or as a percentage of the formant frequencies. To set these as a percent of formant frequencies, all values must be less than 1. If these are not provided they are set to 6 percent of the formant center frequencies by default. If only one value is provided, this is assumed to be the desired value for all formants.
</p>


<h3>Value</h3>

<p>A vector representing the filtered sound.
</p>


<h3>Author(s)</h3>

<p>Santiago Barreda &lt;sbarreda@ucdavis.edu&gt;
</p>


<h3>References</h3>

<p>Klatt, D. H. (1980). Software for a cascade/parallel formant synthesizer. Journal of the Acoustical Society of America 67(3): 971-995.
</p>
<p>http://www.fon.hum.uva.nl/praat/manual/Sound__Filter__one_formant____.html
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## uncomment and run
## Generate half a second of white noise
#sound = rnorm (11025, 0, 1)

## pass this through some formant filters
## two static formants
#filtered1 = Ffilter (sound, ffs = c(4000,7000), bw = 500)
## a single moving formant
#filtered2 = Ffilter (sound, ffs = list(3000,8000), bw = 500)
## two moving formants


## inspect the results
#par (mfrow = c(1,2), mar = c(4,4,1,1))
#spectrogram (filtered1, maxfreq = 11025)
#spectrogram (filtered2, maxfreq = 11025)

</code></pre>


</div>