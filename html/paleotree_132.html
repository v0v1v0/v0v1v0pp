<div class="container">

<table style="width: 100%;"><tr>
<td>plotOccData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting Occurrence Data Across Taxa</h2>

<h3>Description</h3>

<p><code>plotOccData</code> takes occurrence data which has been sorted into a by-taxon list,
such as that output by <code>taxonSortPBDBocc</code> or may be output by simulations using
<code>sampleRanges</code> and produces a plot showing the age uncertainty associated with
individual occurrences, with occurrences of the same taxon grouped by color.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotOccData(
  occList,
  groupLabel = NULL,
  occColors = NULL,
  lineWidth = NULL,
  xlims = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>occList</code></td>
<td>
<p>A list where every element is a table of occurrence data for a different taxon,
such as that returned by <code>taxonSortPBDBocc</code>. The occurrence data can be either a 
two-column matrix composed of the lower and upper age bounds on each taxon occurrence, or has
two named variables which match any of the field names given by the PBDB API under either
the 'pbdb' vocab or 'com' (compact) vocab for early and late age bounds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupLabel</code></td>
<td>
<p>A character vector with a single string giving the name for
the occurrence dataset used, such as the taxonomic name of the group examined.
If not given (the default) a generic plot title is appended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>occColors</code></td>
<td>
<p>A vector of numbers or characters indicating colors on a color
palette for use with the basic <code>plot</code> function. 
Must be the same length as <code>occList</code>. If empty, as with the
default, the colors used are sampled randomly from the <code>rainbow</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lineWidth</code></td>
<td>
<p>A numeric value giving the length to be used for the width of lines
plotted in <code>plotOccData</code>. If not given (the default), this is calculated using
an algorithm that selects an optimal line width for plotting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlims</code></td>
<td>
<p>A two element vector controlling the width of the horizontal time-scale
the occurrence bars are plotted against. By default, this is not given and calculated
internally.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function was originally conceived of in the following blog post: 
<a href="https://nemagraptus.blogspot.com/2015/02/how-do-we-treat-fossil-age-data-dates.html">Link</a>
</p>


<h3>Value</h3>

<p>This function will invisibly return a list, with each per-taxon element containing the
two-column matrix of age bounds for occurrences.
</p>


<h3>Author(s)</h3>

<p>David W. Bapst
</p>


<h3>See Also</h3>

<p>Occurrence data as commonly used with <code>paleotree</code> functions can
be obtained with <code>link{getPBDBocc}</code>, and sorted into taxa by 
<code>taxonSortPBDBocc</code>, and further explored with this function and
<code>occData2timeList</code>. Also, see the example graptolite dataset
at <code>graptPBDB</code>
and the example graptolite dataset at <code>graptPBDB</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#load example graptolite PBDB occ dataset
data(graptPBDB)

#get formal genera
occSpecies &lt;- taxonSortPBDBocc(graptOccPBDB, rank = "species")

#plot it!
plotOccData(occSpecies)

#this isn't too many occurrences, because there are so few
    #formal grapt species in the PBDB

#genera is messier...

#get formal genera
occGenus &lt;- taxonSortPBDBocc(graptOccPBDB, rank = "genus")

#plot it!
plotOccData(occGenus)

#some of those genera have occurrences with very large
   #age uncertainties on them!

</code></pre>


</div>