<div class="container">

<table style="width: 100%;"><tr>
<td>rpwecx</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Piecewise exponential distribution with crossover effect: random number generation</h2>

<h3>Description</h3>

<p>This will generate random numbers according to the piecewise exponential distribution with crossover</p>


<h3>Usage</h3>

<pre><code class="language-R">rpwecx(nr=1,rate1=c(1,0.5),rate2=rate1,rate3=c(0.7,0.4),
rate4=rate2,rate5=rate2,tchange=c(0,1),type=1,rp2=0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nr</code></td>
<td>
<p>number of random numbers to be generated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate1</code></td>
<td>
<p>piecewise constant event rate before crossover</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate2</code></td>
<td>
<p>piecewise constant event rate after crossover</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate3</code></td>
<td>
<p>piecewise constant event rate for crossover</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate4</code></td>
<td>
<p>additional piecewise constant event rate for more complex crossover</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate5</code></td>
<td>
<p>additional piecewise constant event rate for more complex crossover</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tchange</code></td>
<td>
<p>a strictly increasing sequence of time points starting from zero at which event rate changes. The first element of tchange must be zero. The above rates <code>rate1</code> to <code>rate6</code> and tchange must have the same length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of crossover, 1=markov, 2=semi-markov, 3=hybrid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rp2</code></td>
<td>
<p>re-randomization probability to receive the rescue treatment when semi-markov crossover occurs.
When it happens, the overall hazard will be pi2*r2(t-s)+(1-pi2)*r4(t), where r2 is the hazard 
for the semi-markov rescue treatment and r4 is hazard for the markov rescue treatment.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>More details</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>random numbers for the event time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rx</code></td>
<td>
<p>random numbers for the crossover time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cxind</code></td>
<td>
<p>indicators for the crossover, the first column indicates whether crossover occurs, i.e. <code class="reqn">\code{rx}&lt;\code{r}</code>. When <code>type</code>=3,4,5, the second column of <code>cxind</code> indicates whether it crosses to the arm with <code>rate2</code></p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>This provides a random number generator of the piecewise exponetial distribution with crossover</p>


<h3>Author(s)</h3>

<p>Xiaodong Luo</p>


<h3>References</h3>

<p>Luo et al. (2018) Design and monitoring of survival trials in complex scenarios, Statistics in Medicine &lt;doi: https://doi.org/10.1002/sim.7975&gt;.
</p>


<h3>See Also</h3>

<p><code>rpwe</code></p>


<h3>Examples</h3>

<pre><code class="language-R">r1&lt;-c(0.6,0.3)
r2&lt;-c(0.6,0.6)
r3&lt;-c(0.1,0.2)
r4&lt;-c(0.5,0.4)
r5&lt;-c(0.4,0.5)
pwecxr&lt;-rpwecx(nr=10,rate1=r1,rate2=r2,rate3=r3,rate4=r4,rate5=r5,tchange=c(0,1),type=1)
pwecxr$r
</code></pre>


</div>