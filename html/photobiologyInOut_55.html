<div class="container">

<table style="width: 100%;"><tr>
<td>read_qtuv_txt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read Quick TUV output file.</h2>

<h3>Description</h3>

<p>Reads and parses the header of a text file output by the Quick TUV on-line
web front-end at UCAR to extract the header and spectral data. The time field
is converted to a date.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_qtuv_txt(
  file,
  ozone.du = NULL,
  label = NULL,
  tz = NULL,
  locale = readr::default_locale(),
  added.vars = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character string with the name of a text file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ozone.du</code></td>
<td>
<p>numeric Ozone column in Dobson units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>character string, but if <code>NULL</code> the value of <code>file</code> is
used, and if <code>NA</code> the "what.measured" attribute is not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz</code></td>
<td>
<p>character Time zone is by default read from the file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p>The locale controls defaults that vary from place to place. The
default locale is US-centric (like R), but you can use
<code>locale</code> to create your own locale that controls things
like the default time zone, encoding, decimal mark, big mark, and day/month
names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>added.vars</code></td>
<td>
<p>character vector Accepted member values are <code>"sun.elevation"</code>,
<code>zenith.angle</code>, <code>"time"</code> and <code>"ozone.du"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a source_spct object obtained by finding the center of wavelength
intervals in the Quick TUV output file, and adding the variables listed
in <code>added.vars</code>. To obtain the same value as in version (&lt;= 0.4.28)
pass <code>added.vars = c("angle", "date")</code> in the call.
</p>


<h3>Note</h3>

<p>The ozone column value used in the simulation cannot be retrieved from
the file. Tested files from Quick TUV version 5.2 on 2018-07-30 and also
with more recent files in early 2024. This 
function can be expected to be robust to variations in the position of lines
in the imported file and resistant to the presence of extraneous text or
even summaries. By default web browsers save the output returned by the
Quick TUV calculator as an HTML output, some of them with minimal headers
and other with more extensive ones. In some cases, character escapes replace
actual new lines. In most cases these HTML files are decoded correctly, but
if not, use "save as" in the browser and select "text" when saving. As a
last recourse, messed up files can be manually edited before import.
</p>


<h3>References</h3>

<p><a href="https://www.acom.ucar.edu/Models/TUV/Interactive_TUV/">https://www.acom.ucar.edu/Models/TUV/Interactive_TUV/</a>
</p>


</div>