<div class="container">

<table style="width: 100%;"><tr>
<td>sim.meta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate a meta-community (and its phylogeny)</h2>

<h3>Description</h3>

<p><code>sim.meta.comm</code> simulates species moving through a
metacommunity. At each time-step each cell's next abundance for
each species is <code>env.quality</code> - <code>current.abundance</code> +
<code>stochastic</code>, and a species gets as many chances to migrate in
each time-step as it has cells (the same cell could migrate
multiple times). I use a Poisson for everything because I don't
want half-species (these are individuals), and keeping everything
in Poisson makes it easier to compare the relative rates of
everything.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim.meta.comm(
  size = 10,
  n.spp = 8,
  timesteps = 10,
  p.migrate = 0.05,
  env.lam = 10,
  abund.lam = 5,
  stoch.lam = 1
)

sim.meta.phy.comm(
  size = 10,
  n.spp = 8,
  timesteps = 10,
  p.migrate = 0.3,
  env.lam = 10,
  abund.lam = 5,
  stoch.lam = 1,
  p.speciate = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>the length and width of the meta-community in grid
cells</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.spp</code></td>
<td>
<p>number of species</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timesteps</code></td>
<td>
<p>number of time-steps (each discrete)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.migrate</code></td>
<td>
<p>probability that a group of species in each grid
cell will migrate to another grid cell each timestep (i.e., 10
cells occuped by a species â€“&gt; 10*<code>p.migrate</code> chance of
migration)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env.lam</code></td>
<td>
<p>lambda value for Poisson
distribution used to distribute environmental quality; essentially
the carrying capacity (for each species separately) for that cell</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abund.lam</code></td>
<td>
<p>lambda value for Poisson
distribution used to distribute initial abundances and abundance
after migration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stoch.lam</code></td>
<td>
<p>lambda value for Poisson
distribution of noise added to the next step abundance
calculation. With equal chance, this is taken as either a positive
or a negative number (see details if you're confused as to why this
is Poisson!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.speciate</code></td>
<td>
<p>probabilty that, at each timestep, a species will
speciate. A species can only speciate, migrate, or reproduce if it
has individuals!</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>sim.meta.phy.comm</code> As above, but with a simulation of
phylogeny as well - there are no additional extinction parameters,
since extinction happens as a natural consequence of ecological
interactions.
</p>


<h3>Value</h3>

<p>For <code>sim.meta.comm</code> a list with a species-site matrix
as the first slot, and the environment as the second. Rownames of
the site-species are the List with the x and y co-ordinates of the
simulation grid pasted together; colnames are arbitrary species
names. <code>sim.meta.comm</code>, a <code>comparative.comm</code>
object (since we have now simulated a phylogeny), with the same
naming convention for the site names.  phylogeny.
</p>
<p><code>sim.meta.phy.comm</code> <code>comparative.comm</code>
object that describes the data; note that the rownames of the
community object refer to the <code>row.column</code> of the data in the
simulated grid assemblages.
</p>


<h3>Note</h3>

<p><code>scape</code> is a much more sophisticated simulation
of the biogeography, but requires you to supply a phylogeny. You
pays your money, you makes your choice.
</p>


<h3>Author(s)</h3>

<p>Will Pearse
</p>
<p>Will Pearse
</p>


<h3>See Also</h3>

<p><code>sim.phy</code> <code>scape</code>
</p>


</div>