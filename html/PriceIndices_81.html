<div class="container">

<table style="width: 100%;"><tr>
<td>final_index</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A general function to compute a final price index</h2>

<h3>Description</h3>

<p>This function returns a value (or values) of the selected final price index for the selected type of aggregation of partial results.
</p>


<h3>Usage</h3>

<pre><code class="language-R">final_index(
  data = data.frame(),
  start = c(),
  end = c(),
  formula = c(),
  window = c(),
  splice = c(),
  base = c(),
  sigma = c(),
  r = c(),
  outlets = FALSE,
  groups = FALSE,
  by = c(),
  aggr = "fisher",
  interval = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The user's data frame with information about sold products. It must contain columns: <code>time</code> (as Date in format: year-month-day,e.g. '2020-12-01'), <code>prices</code> (as positive numeric), <code>quantities</code> (as positive numeric) and <code>prodID</code> (as numeric, factor or character). A column <code>retID</code> (as numeric, factor or character) is also essential if the aggregation over outlets is considered. A column with grouping variable (as numeric, factor or character - indicated by the <code>by</code> parameter) is essential if the aggregation over product subgroups is considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>The base period (as character) limited to the year and month, e.g. "2019-12".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>The research period (as character) limited to the year and month, e.g. "2020-04".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>The character string indicating the price index formula is to be calculated. To see available options please use the link: <code>PriceIndices</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>The length of the time window if the multilateral index is selected (as positive integer: typically multilateral methods are based on the 13-month time window).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>splice</code></td>
<td>
<p>A character string indicating the splicing method (if the multilateral splicing index is selected). Available options are: "movement", "window","half","mean" and their additional variants: "window_published", "half_published" and "mean_published".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>The prior period used in the Young- or Lowe-type price indices (as character) limited to the year and month, e.g. "2020-01".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>The elasticity of substitution parameter used in the Lloyed-Moulton, AG Mean or GEKS-LM indices (as numeric).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>The non-zero parameter used in the quadratic mean of order r quantity / price index or in the GEKS-QM index (as numeric).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlets</code></td>
<td>
<p>A logical parameter indicating whether the aggregation over outlets (defined by <code>retID</code> column) should be done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>A logical parameter indicating whether the aggregation over product subgroups (indicated by 'by' parameter) should be done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A character string which indicates a column name for creating product subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggr</code></td>
<td>
<p>The formula used for aggregating partial index results (available values are: "arithmetic", "geometric", "laspeyres", "paasche", "fisher", "tornqvist").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>A logical value indicating whether the function is to provide price indices comparing the research period defined by <code>end</code> to the base period defined by <code>start</code> (then <code>interval</code> is set to FALSE) or all fixed base indices are to be presented (the fixed base month is defined by <code>start</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This general function returns a value or values of the selected final price index for the selected type of aggregation of partial results. If the <code>interval</code> parameter is set to TRUE, then it returns a data frame where its first column indicates dates and the remaining columns show corresponding values of all selected price indices.
</p>


<h3>Examples</h3>

<pre><code class="language-R">final_index(coffee, start = "2018-12", end = "2019-12", 
         formula = "fisher", groups = TRUE, outlets = FALSE, 
         aggr = "tornqvist", by = "description")
final_index(milk, start = "2018-12", end = "2019-12", 
         formula = "fisher", groups = TRUE, outlets = TRUE, 
         aggr = "laspeyres", by = "description", 
         interval = TRUE)
</code></pre>


</div>