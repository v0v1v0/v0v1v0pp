<div class="container">

<table style="width: 100%;"><tr>
<td>brew</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set up potions for easy data retrieval</h2>

<h3>Description</h3>

<p>Function to place a list into <code>options()</code>, or to update previously-stored
data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">brew(
  ...,
  file,
  .slot,
  .pkg,
  method = c("modify", "merge", "overwrite", "leaves")
)

brew_package(..., file, .pkg, method)

brew_interactive(..., file, .slot, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>One or named arguments giving attributes to be stored; or
alternatively a <code>list</code> containing the same.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>string: optional file containing data to be stored via <code>options()</code>.
Valid formats are <code>.yml</code> or <code>.json</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.slot</code></td>
<td>
<p>string: optional name to mandate where data is stored. Defaults
to a random string generated by <code>stringi::stri_rand_strings()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.pkg</code></td>
<td>
<p>string: package name that <code>potions</code> is being used within.
Typically only used during <code>onLoad()</code>, after which later calls do not
require this argument to be set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>string: How should new data be written to <code>options()</code>? See
details for specifics.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default method is to use <code>brew</code> without setting either <code>.pkg</code> or <code>.slot</code>
(but not both), and letting <code>potions</code> determine which slot to use. If greater
control is needed, you can use <code>brew_package()</code> or <code>brew_interactive()</code>.
Note that if neither <code>.slot</code> or <code>.pkg</code> are set, <code>potions</code> defaults to <code>.slot</code>
, unless <code>.pkg</code> information has previously been supplied (and <code>.slot</code>
information has not). This might be undesirable in a package development
situation.
</p>
<p>If both <code>...</code> and <code>file</code> arguments are empty, this function sets up an
empty <code>potions</code> object in <code>options("potions-pkg")</code>; See <code>potions-class</code> for
more information on this data type. If <code>...</code> and <code>file</code> arguments
are provided, they will be amalgamated using <code>purrr::list_modify()</code>. If there
are identical names in both lists, those in <code>...</code> are chosen.
</p>
<p>If the user repeatedly calls <code>brew()</code>, later list entries overwrite early
entries. Whole lists are not overwritten unless all top-level entry names
match, or <code>method</code> is set to <code>"overwrite"</code>, which is a shortcut to using
<code>drain()</code> before <code>brew()</code>. The default behaviour is <code>method = "modify"</code>,
which uses <code>purrr::list_modify()</code> to do the joining. Similarly <code>"merge"</code> uses
<code>purrr::list_merge()</code>. <code>method = "leaves"</code> only overwrites terminal nodes,
leaving the structure of the list otherwise unaffected. For non-nested lists,
this behaviour is identical to <code>"modify"</code>, but for nested lists it can be a
useful shortcut.
</p>


<h3>Value</h3>

<p>This function never returns an object; it is called for its' side-
effect of caching data using <code>options()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># basic usage is to pass arguments using `=`
brew(x = 1)

# lists are also permitted
list(x = 2) |&gt; brew()

# as are passing lists as objects
my_list &lt;- list(x = 3)
my_list |&gt; brew()

# or within a function
my_fun &lt;- function(){list(x = 1, y = 2)}
my_fun() |&gt; brew()

# optional clean-up
drain()
</code></pre>


</div>