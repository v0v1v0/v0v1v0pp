<div class="container">

<table style="width: 100%;"><tr>
<td>pal.compress</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compress a colormap function to fewer colors</h2>

<h3>Description</h3>

<p>Compress a colormap function to fewer colors
</p>


<h3>Usage</h3>

<pre><code class="language-R">pal.compress(pal, n = 5, thresh = 2.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pal</code></td>
<td>
<p>A colormap function or a vector of colors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Initial number of colors to use for the basis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresh</code></td>
<td>
<p>Maximum allowable Lab distance from original palette</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Colormap functions are often defined with many more colors than needed.
This function compresses a colormap function down to a sample
of colors that can be passed into 'colorRampPalette' and re-create the
original palette with a just-noticeable-difference.
</p>
<p>Colormaps that are defined as a smoothly varying ramp between a set of
colors often compress quite well.
Colormaps that are defined by functions may not compress well.
</p>


<h3>Value</h3>

<p>A vector of equally-spaced colors that form the 'basis' of a colormap.
</p>


<h3>Author(s)</h3>

<p>Kevin Wright
</p>


<h3>References</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The 'cm.colors' palette in R compresses to only 3 colors
cm2 &lt;- pal.compress(cm.colors, n=3)
pal.bands(cm.colors(255), colorRampPalette(cm2)(255), cm2,
labels=c('original','compressed','basis'), main="cm.colors")

# The 'heat.colors' palette needs 84 colors
heat2 &lt;- pal.compress(heat.colors, n=3)
pal.bands(heat.colors(255), colorRampPalette(heat2)(255), heat2,
labels=c('original','compressed','basis'), main="heat.colors")

# The 'topo.colors' palette needs 249 colors because of the discontinuity
# topo2 &lt;- pal.compress(topo.colors, n=3)
# pal.bands(topo.colors(255), colorRampPalette(topo2)(255), topo2,
# labels=c('original','compressed','basis'), main="topo.colors")

# smooth palettes usually easy to compress
p1 &lt;- coolwarm(255)
cool2 &lt;- pal.compress(coolwarm)
p2 &lt;- colorRampPalette(cool2)(255)
pal.bands(p1, p2, cool2,
labels=c('original','compressed', 'basis'), main="coolwarm")
pal.maxdist(p1,p2) # 2.33
 
</code></pre>


</div>