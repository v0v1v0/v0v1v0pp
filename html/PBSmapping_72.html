<div class="container">

<table style="width: 100%;"><tr>
<td>closePolys</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Close a PolySet</h2>

<h3>Description</h3>

<p>Close a PolySet of polylines to form polygons.
</p>


<h3>Usage</h3>

<pre><code class="language-R">closePolys (polys)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>polys</code></td>
<td>
<p>PolySet to close.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Generally, run <code>fixBound</code> before this function. The ranges of a
PolySet's <code>X</code> and <code>Y</code> columns define the boundary.
For each discrete polygon, this function determines if the first and
last points lie on a boundary.  If both points lie on the same
boundary, it adds no points.  However, if they lie on different
boundaries, it may add one or two corners to the polygon.
</p>
<p>When the boundaries are adjacent, one corner will be added as
follows:
</p>

<ul>
<li>
<p> top boundary + left boundary implies add top-left corner;
</p>
</li>
<li>
<p> top boundary + right boundary implies add top-right corner;
</p>
</li>
<li>
<p> bottom boundary + left boundary implies add bottom-left
corner;
</p>
</li>
<li>
<p> bottom boundary + right boundary implies add bottom-right
corner.
</p>
</li>
</ul>
<p>When the boundaries are opposite, it first adds the corner closest to
a starting or ending polygon vertex.  This determines a side
(left-right or bottom-top) that connects the opposite boundaries.
Then, it adds the other corner of that side to close the polygon.
</p>


<h3>Value</h3>

<p>PolySet identical to <code>polys</code>, except for possible
additional corner points.
</p>


<h3>Author(s)</h3>

<p><a href="https://github.com/boersn/">Nicholas M. Boers</a>, Staff Software Engineer<br>
Jobber, Edmonton AB<br>
Last modified <code>Rd: 2013-04-10</code>
</p>


<h3>See Also</h3>

<p><code>fixBound</code>,
<code>fixPOS</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">local(envir=.PBSmapEnv,expr={
  oldpar = par(no.readonly=TRUE)
  #--- 4 corners
  polys &lt;- data.frame(
    PID = c(1, 1, 2, 2, 3, 3, 4, 4),
    POS = c(1, 2, 1, 2, 1, 2, 1, 2),
    X   = c(0, 1, 2, 3, 0, 1, 2, 3),
    Y   = c(1, 0, 0, 1, 2, 3, 3, 2))
  plotPolys(closePolys(polys), col=2)

  #--- 2 corners and 1 opposite
  polys &lt;- data.frame(
    PID = c(1, 1, 2, 2, 3, 3, 3),
    POS = c(1, 2, 1, 2, 1, 2, 3),
    X   = c(0, 1, 0, 1, 5, 6, 1.5),
    Y   = c(1, 0, 2, 3, 0, 1.5, 3))
  plotPolys(closePolys(polys), col=2)
  par(oldpar)
})
</code></pre>


</div>