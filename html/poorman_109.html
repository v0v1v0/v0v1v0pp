<div class="container">

<table style="width: 100%;"><tr>
<td>count</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Count observations by group</h2>

<h3>Description</h3>

<p><code>count()</code> lets you quickly count the unique values of one or more variables:
<code>df %&gt;% count(a, b)</code> is roughly equivalent to
<code>df %&gt;% group_by(a, b) %&gt;% summarise(n = n())</code>.
<code>count()</code> is paired with <code>tally()</code>, a lower-level helper that is equivalent to <code>df %&gt;% summarise(n = n())</code>. Supply
<code>wt</code> to perform weighted counts, switching the summary from from <code>n = n()</code> to <code>n = sum(wt)</code>.
<code>add_count()</code> and <code>add_tally()</code> are equivalent to <code>count()</code> and <code>tally()</code> but use <code>mutate()</code> instead of <code>summarise()</code>
so that they add a new column with group-wise counts.
</p>


<h3>Usage</h3>

<pre><code class="language-R">count(x, ..., wt = NULL, sort = FALSE, name = NULL)

tally(x, wt = NULL, sort = FALSE, name = NULL)

add_count(x, ..., wt = NULL, sort = FALSE, name = NULL)

add_tally(x, wt = NULL, sort = FALSE, name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Variables to group by.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wt</code></td>
<td>
<p>If omitted, will count the number of rows. If specified, will perform a "weighted" count by summing the
(non-missing) values of variable <code>wt</code>. If omitted, and column <code>n</code> exists, it will automatically be used as a
weighting variable, although you will have to specify <code>name</code> to provide a new name for the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p><code>logical(1)</code>. If <code>TRUE</code>, will show the largest groups at the top.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p><code>character(1)</code>. The name of the new column in the output. If omitted, it will default to <code>n</code>. If there's
already a column called <code>n</code>, it will error, and require you to specify the name.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.frame</code>. <code>count()</code> and <code>add_count()</code> have the same groups as the input.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># count() is a convenient way to get a sense of the distribution of
# values in a dataset
mtcars %&gt;% count(cyl)
mtcars %&gt;% count(cyl, sort = TRUE)
mtcars %&gt;% count(cyl, am, sort = TRUE)
# Note that if the data are already grouped, count() adds an additional grouping variable
# which is removed afterwards
mtcars %&gt;% group_by(gear) %&gt;% count(cyl)

# tally() is a lower-level function that assumes you've done the grouping
mtcars %&gt;% tally()
mtcars %&gt;% group_by(cyl) %&gt;% tally()

# both count() and tally() have add_ variants that work like mutate() instead of summarise
mtcars %&gt;% add_count(cyl, wt = am)
mtcars %&gt;% add_tally(wt = am)

</code></pre>


</div>