<div class="container">

<table style="width: 100%;"><tr>
<td>PRR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Proportional Reporting Ratio</h2>

<h3>Description</h3>

<p>Proportional Reporting Ratio proposed by Evans et al. (2001) extended to the multiple comparison framework. Note that the computed variance is different from the one used in van Puijenbroek et al. (2002)
</p>


<h3>Usage</h3>

<pre><code class="language-R">PRR(DATABASE, RR0 = 1, MIN.n11 = 1, DECISION = 1, 
DECISION.THRES = 0.05, RANKSTAT = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DATABASE</code></td>
<td>
<p>Object returned by the function <code>as.PhViD</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RR0</code></td>
<td>
<p>Value of the tested relative risk. By default, <code>RR0=1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MIN.n11</code></td>
<td>
<p>Minimum number of notifications for a couple to be potentially considered as a signal. By default, <code>MIN.n11 = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DECISION</code></td>
<td>
<p>Decision rule for the signal generation based on  
1 = FDR (Default value) 
</p>
<p>2 = Number of signals
</p>
<p>3 = Ranking statistic. See <code>RANKSTAT</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DECISION.THRES</code></td>
<td>
<p>Threshold for <code>DECISION</code>. Ex 0.05 for FDR (<code>DECISION</code>=1). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RANKSTAT</code></td>
<td>
<p>Statistic used for ranking the couples:
</p>
<p>1 = P-value
</p>
<p>2 = Lower bound of the 95% two sided confidence interval of log(PRR).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The FDR is estimated with the LBE procedure proposed by Dalmasso et al. (2005). Note that the FDR can only be estimated if the statistic of interest is the P-value.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ALLSIGNALS</code></td>
<td>
<p>Data.frame summarizing the results of all couples with at least <code>MIN.n11</code> notifications ordered by <code>RANKSTAT</code>. It contains notably the labels, the cell counts, the expected counts (<code class="reqn">n1. \times n.1 / N</code>, see <code>as.PhViD</code>), <code>RANKSTAT</code>, the observed relative risks (PRR), the marginal counts and the estimations of FDR (when <code>RANKSTAT=1</code>.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SIGNALS</code></td>
<td>
<p>Same Data.frame as <code>ALLSIGNALS</code> but restricted to the list of generated signals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NB.SIGNALS</code></td>
<td>
<p>Number of generated signals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>INPUT.PARAM</code></td>
<td>
<p>Parameters entered in the function.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ismaïl Ahmed &amp; Antoine Poncet</p>


<h3>References</h3>

<p>Ahmed I, Dalmasso C, Haramburu F, Thiessard F, Broët P, Tubert-Bitter P. False discovery rate estimation for frequentist pharmacovigilance signal detection methods. Biometrics. 2010 Mar;66(1):301-309. 
</p>
<p>Dalmasso C, Broët P, Moreau T (2005), A simple procedure for estimating the false discovery rate, Bioinformatics, Bioinformatics, 21: 660 - 668.
</p>
<p>Evans SJ, Waller PC, Davis S, Use of Proportional Reporting Ratios (PRRs) for Signal Generation from Spontaneous Adverse Drug Reaction Reports Pharmacoepidemiology and Drug Safety, 2001, 10, 483-486. 
</p>
<p>van Puijenbroek EP, Bate A, Leufkens HGM, Lindquist M, Orre R and Egberts ACG, A comparison of measures of disproportionality for signal detection in spontaneous reporting systems for adverse drug reactions, Pharmacoepidemiology and Drug Safety, 2002, 11, 3-10.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## start
data(PhViDdata.frame)
PhViDdata &lt;- as.PhViD(PhViDdata.frame)
# res &lt;- PRR(PhViDdata)
## end
</code></pre>


</div>