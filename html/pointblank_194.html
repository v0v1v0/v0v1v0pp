<div class="container">

<table style="width: 100%;"><tr>
<td>yaml_agent_show_exprs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Display validation expressions using <strong>pointblank</strong> YAML</h2>

<h3>Description</h3>

<p>The <code>yaml_agent_show_exprs()</code> function follows the specifications of a
<strong>pointblank</strong> YAML file to generate and show the <strong>pointblank</strong> expressions
for generating the described validation plan. The expressions are shown in
the console, providing an opportunity to copy the statements and extend as
needed. A <strong>pointblank</strong> YAML file can itself be generated by using the
<code>yaml_write()</code> function with a pre-existing <em>agent</em>, or, it can be carefully
written by hand.
</p>


<h3>Usage</h3>

<pre><code class="language-R">yaml_agent_show_exprs(filename, path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p><em>File name</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <strong>required</strong>
</p>
<p>The name of the YAML file that contains fields related to an <em>agent</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>#' @param path <em>File path</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;character&gt;⁠</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)
</p>
<p>An optional path to the YAML file (combined with <code>filename</code>).</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<p>Let's create a validation plan for the data quality analysis of the
<code>small_table</code> dataset. We need an agent and its table-prep formula enables
retrieval of the target table.
</p>
<div class="sourceCode r"><pre>agent &lt;- 
  create_agent(
    tbl = ~ small_table,
    tbl_name = "small_table",
    label = "A simple example with the `small_table`.",
    actions = action_levels(
      warn_at = 0.10,
      stop_at = 0.25,
      notify_at = 0.35
    )
  ) %&gt;%
  col_exists(columns = c(date, date_time)) %&gt;%
  col_vals_regex(
    columns = b,
    regex = "[0-9]-[a-z]{3}-[0-9]{3}"
  ) %&gt;%
  rows_distinct() %&gt;%
  col_vals_gt(columns = d, value = 100) %&gt;%
  col_vals_lte(columns = c, value = 5)
</pre></div>
<p>The agent can be written to a <strong>pointblank</strong> YAML file with <code>yaml_write()</code>.
</p>
<div class="sourceCode r"><pre>yaml_write(
  agent = agent,
  filename = "agent-small_table.yml"
)
</pre></div>
<p>At a later time, the YAML file can be read into a new agent with the
<code>yaml_read_agent()</code> function.
</p>
<div class="sourceCode r"><pre>agent &lt;- yaml_read_agent(filename = "agent-small_table.yml")

agent
</pre></div>


<img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_yaml_agent_show_exprs_1.png" alt="This image was generated from the first code example in the `yaml_agent_show_exprs()` help file." style="width:100%;"><p>To get a sense of which expressions are being used to generate the new agent,
we can use <code>yaml_agent_show_exprs()</code>.
</p>
<div class="sourceCode r"><pre>yaml_agent_show_exprs(filename = "agent-small_table.yml")
</pre></div>
<div class="sourceCode"><pre>create_agent(
  tbl = ~small_table,
  actions = action_levels(
    warn_at = 0.1,
    stop_at = 0.25,
    notify_at = 0.35
  ),
  tbl_name = "small_table",
  label = "A simple example with the `small_table`."
) %&gt;%
  col_exists(
    columns = c(date, date_time)
  ) %&gt;%
  col_vals_regex(
    columns = b,
    regex = "[0-9]-[a-z]{3}-[0-9]{3}"
  ) %&gt;%
  rows_distinct() %&gt;%
  col_vals_gt(
    columns = d,
    value = 100
  ) %&gt;%
  col_vals_lte(
    columns = c,
    value = 5
  ) 
</pre></div>


<h3>Function ID</h3>

<p>11-6
</p>


<h3>See Also</h3>

<p>Other pointblank YAML: 
<code>yaml_agent_interrogate()</code>,
<code>yaml_agent_string()</code>,
<code>yaml_exec()</code>,
<code>yaml_informant_incorporate()</code>,
<code>yaml_read_agent()</code>,
<code>yaml_read_informant()</code>,
<code>yaml_write()</code>
</p>


</div>