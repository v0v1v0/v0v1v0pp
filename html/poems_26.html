<div class="container">

<table style="width: 100%;"><tr>
<td>SimulationResults</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R6 class representing simulation results.</h2>

<h3>Description</h3>

<p><code>R6</code> class for encapsulating and dynamically generating
spatially-explicit simulation results, as well as optional re-generated
<code>Generator</code> outputs.
</p>


<h3>Super classes</h3>

<p><code>poems::GenericClass</code> -&gt; <code>poems::GenericModel</code> -&gt; <code>poems::SpatialModel</code> -&gt; <code>SimulationResults</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>attached</code></dt>
<dd>
<p>A list of dynamically attached attributes (name-value pairs).</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>model_attributes</code></dt>
<dd>
<p>A vector of model attribute names.</p>
</dd>
<dt><code>region</code></dt>
<dd>
<p>A <code>Region</code> (or inherited class) object specifying the study region.</p>
</dd>
<dt><code>coordinates</code></dt>
<dd>
<p>Data frame (or matrix) of X-Y population (WGS84) coordinates in longitude (degrees West) and latitude (degrees North) (get and set), or distance-based coordinates dynamically returned by region raster (get only).</p>
</dd>
<dt><code>time_steps</code></dt>
<dd>
<p>Number of simulation time steps.</p>
</dd>
<dt><code>burn_in_steps</code></dt>
<dd>
<p>Optional number of initial 'burn-in' time steps to be ignored.</p>
</dd>
<dt><code>occupancy_mask</code></dt>
<dd>
<p>Optional binary mask array (matrix), data frame, or raster (stack) for each cell at each time-step of the simulation including burn-in.</p>
</dd>
<dt><code>all</code></dt>
<dd>
<p>Nested simulation results for all cells.</p>
</dd>
<dt><code>parent</code></dt>
<dd>
<p>Parent simulation results for individual cells.</p>
</dd>
<dt><code>default</code></dt>
<dd>
<p>Default value/attribute utilized when applying primitive metric functions (e.g. max) to the results.</p>
</dd>
<dt><code>attribute_aliases</code></dt>
<dd>
<p>A list of alternative alias names for model attributes (form: <code>alias = "attribute"</code>) to be used with the set and get attributes methods.</p>
</dd>
<dt><code>error_messages</code></dt>
<dd>
<p>A vector of error messages encountered when setting model attributes.</p>
</dd>
<dt><code>warning_messages</code></dt>
<dd>
<p>A vector of warning messages encountered when setting model attributes.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-SimulationResults-new"><code>SimulationResults$new()</code></a>
</p>
</li>
<li> <p><a href="#method-SimulationResults-new_clone"><code>SimulationResults$new_clone()</code></a>
</p>
</li>
<li> <p><a href="#method-SimulationResults-get_attribute_names"><code>SimulationResults$get_attribute_names()</code></a>
</p>
</li>
<li> <p><a href="#method-SimulationResults-get_attributes"><code>SimulationResults$get_attributes()</code></a>
</p>
</li>
<li> <p><a href="#method-SimulationResults-set_attributes"><code>SimulationResults$set_attributes()</code></a>
</p>
</li>
<li> <p><a href="#method-SimulationResults-clone"><code>SimulationResults$clone()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericModel" data-id="get_attribute"><a href="../../poems/html/GenericModel.html#method-GenericModel-get_attribute"><code>poems::GenericModel$get_attribute()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericModel" data-id="get_attribute_aliases"><a href="../../poems/html/GenericModel.html#method-GenericModel-get_attribute_aliases"><code>poems::GenericModel$get_attribute_aliases()</code></a></span></li>
</ul></details><hr>
<a id="method-SimulationResults-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialization method sets attributes from a results list or file, and sets object attributes individually and/or from a list.
</p>


<h5>Usage</h5>

<div class="r"><pre>SimulationResults$new(results = NULL, parent = NULL, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>results</code></dt>
<dd>
<p>A list containing results or a file path to simulation results.</p>
</dd>
<dt><code>parent</code></dt>
<dd>
<p>Parent simulation results for individual cells (used when nesting a simulation results clone for all cells).</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Parameters passed via a <em>params</em> list or individually.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-SimulationResults-new_clone"></a>



<h4>Method <code>new_clone()</code>
</h4>

<p>Creates a new (re-initialized) object of the current (inherited) object class with optionally passed parameters.
</p>


<h5>Usage</h5>

<div class="r"><pre>SimulationResults$new_clone(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>Parameters passed via the inherited class constructor (defined in initialize and run via new).</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>New object of the current (inherited) class.
</p>


<hr>
<a id="method-SimulationResults-get_attribute_names"></a>



<h4>Method <code>get_attribute_names()</code>
</h4>

<p>Returns an array of all attribute names including public and private model attributes, as well as attached attributes, error and warning messages.
</p>


<h5>Usage</h5>

<div class="r"><pre>SimulationResults$get_attribute_names(all = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>all</code></dt>
<dd>
<p>Boolean to indicate if a nested list for all cells (when present) should be also listed (default is FALSE).</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Array of all attribute names with optional inclusion of attribute names of nested results for all cells.
</p>


<hr>
<a id="method-SimulationResults-get_attributes"></a>



<h4>Method <code>get_attributes()</code>
</h4>

<p>Returns a list of values for selected attributes or attribute aliases (when array of parameter names provided) or all attributes (when no params).
</p>


<h5>Usage</h5>

<div class="r"><pre>SimulationResults$get_attributes(params = NULL, remove_burn_in = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>params</code></dt>
<dd>
<p>Array of attribute names to return (all when NULL).</p>
</dd>
<dt><code>remove_burn_in</code></dt>
<dd>
<p>Boolean to indicate whether or not to remove burn-in steps from the attribute values (default = TRUE; mostly for internal use).</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>List of selected or all attributes values.
</p>


<hr>
<a id="method-SimulationResults-set_attributes"></a>



<h4>Method <code>set_attributes()</code>
</h4>

<p>Sets given attributes (optionally via alias names) individually and/or from a list.
</p>


<h5>Usage</h5>

<div class="r"><pre>SimulationResults$set_attributes(params = list(), ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>params</code></dt>
<dd>
<p>List of parameters/attributes.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Parameters/attributes passed individually.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-SimulationResults-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>SimulationResults$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R"># U Island example region
coordinates &lt;- data.frame(
  x = rep(seq(177.01, 177.05, 0.01), 5),
  y = rep(seq(-18.01, -18.05, -0.01), each = 5)
)
template_raster &lt;- Region$new(coordinates = coordinates)$region_raster # full extent
template_raster[][-c(7, 9, 12, 14, 17:19)] &lt;- NA # make U Island
region &lt;- Region$new(template_raster = template_raster)
raster::plot(region$region_raster,
  main = "Example region (indices)",
  xlab = "Longitude (degrees)", ylab = "Latitude (degrees)",
  colNA = "blue"
)
# Sample results occupancy (ignore cell 2 in last 3 time steps)
occupancy_raster &lt;- region$raster_from_values(array(1, c(7, 13)))
occupancy_raster[region$region_indices][2, 11:13] &lt;- 0
occupancy_raster[region$region_indices]
# Simulation example results
example_results &lt;- list(abundance = region$raster_from_values(
  t(apply(
    matrix(11:17), 1,
    function(n) c(rep(n, 3), round(n * exp(-(0:9) / log(n))))
  ))
))
example_results$abundance[region$region_indices]
# Simulation results object
sim_results &lt;- SimulationResults$new(
  region = region,
  time_steps = 13,
  burn_in_steps = 3,
  occupancy_mask = occupancy_raster
)
# Clone (for each simulation results)
results_clone &lt;- sim_results$new_clone(results = example_results)
results_clone$get_attribute("abundance")
results_clone$get_attribute("abundance")[region$region_indices]
results_clone$all$get_attribute("abundance")
results_clone$get_attribute("all$abundance")

</code></pre>


</div>