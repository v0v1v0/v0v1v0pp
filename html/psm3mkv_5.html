<div class="container">

<table style="width: 100%;"><tr>
<td>calc_rmd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate restricted mean durations</h2>

<h3>Description</h3>

<p>Calculates the restricted mean duration, given the form of a parametric distribution of Royston-Parmar splines
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_rmd(Tw, type = NA, spec = NA, survobj = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Tw</code></td>
<td>
<p>is the time horizon (weeks) over which the mean should be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>is either "par" for regular parametric form (exponential, weibull etc) or "spl" for Royston-Parmar splines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec</code></td>
<td>
<p>is a list comprising:
If type=="par": <code>dist</code> is the statistical distribution (named per flexsurv::flexsurvreg) and <code>pars</code> is a vector of the parameters for that distribution.
</p>

<ul>
<li>
<p> Exponential distribution (<code>exp</code>) requires the rate parameter.
</p>
</li>
<li>
<p> Weibull distribution (both <code>weibullPH</code> and <code>weibull</code> formulations) requires the shape and scale parameters.
</p>
</li>
<li>
<p> Log-logistic distribution (<code>llogis</code>) requires the shape and scale parameters.
</p>
</li>
<li>
<p> Log-normal distribution (<code>lnorm</code>) requires the meanlog and sdlog parameters.
</p>
</li>
<li>
<p> Gamma and Gompertz distributions (<code>gamma</code> and <code>gompertz</code>) require the shape and rate parameters.
</p>
</li>
<li>
<p> Generalized Gamma requires the mu, sigma and Q parameters if using the standard parameterization (<code>gengamma</code>) or shape, scale and k parameters if using the original parameterization (<code>gengamma.orig</code>).
If type=="spl":
</p>
</li>
<li> <p><code>gamma</code> - Vector of parameters describing the baseline spline function, as described in flexsurv::flexsurvspline. This may be supplied as a vector with number of elements equal to the length of knots, in which case the parameters are common to all times. Alternatively a matrix may be supplied, with rows corresponding to different times, and columns corresponding to knots.
</p>
</li>
<li> <p><code>knots</code> - Vector of locations of knots on the axis of log time, supplied in increasing order. Unlike in flexsurv::flexsurvspline, these include the two boundary knots.
</p>
</li>
<li> <p><code>scale</code> - Either "hazard", "odds", or "normal", as described in flexsurv::flexsurvspline. With the default of no knots in addition to the boundaries, this model reduces to the Weibull, log-logistic and log-normal respectively. The scale must be common to all times.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>survobj</code></td>
<td>
<p>is a survival fit object from flexsurv::flexsurvspline or flexsurv::flexsurvreg</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the restricted mean duration, a numeric value.
</p>


<h3>Examples</h3>

<pre><code class="language-R">calc_rmd(Tw=200,
    type="spl",
    spec=list(gamma=c(0.1,0.2,0.1), knots=c(-5,2,4), scale="normal")
    )
calc_rmd(Tw=250,
    type="par",
    spec=list(dist="lnorm", pars=c(3,1))
    )
</code></pre>


</div>