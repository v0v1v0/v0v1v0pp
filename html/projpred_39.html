<div class="container">

<table style="width: 100%;"><tr>
<td>plot.cv_proportions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot ranking proportions from fold-wise predictor rankings</h2>

<h3>Description</h3>

<p>Plots the ranking proportions (see <code>cv_proportions()</code>) from the fold-wise
predictor rankings in a cross-validation with fold-wise searches. This is a
visualization of the <em>transposed</em> matrix returned by <code>cv_proportions()</code>. The
proportions printed as text inside of the colored tiles are rounded to whole
percentage points (the plotted proportions themselves are not rounded).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'cv_proportions'
plot(x, text_angle = NULL, ...)

## S3 method for class 'ranking'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>For <code>plot.cv_proportions()</code>: an object of class <code>cv_proportions</code>
(returned by <code>cv_proportions()</code>, possibly with <code>cumulate = TRUE</code>). For
<code>plot.ranking()</code>: an object of class <code>ranking</code> (returned by <code>ranking()</code>)
that <code>cv_proportions()</code> will be applied to internally before then calling
<code>plot.cv_proportions()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_angle</code></td>
<td>
<p>Passed to argument <code>angle</code> of <code>ggplot2::element_text()</code> for
the y-axis tick labels. In case of long predictor names, <code>text_angle = 45</code>
might be helpful (for example).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>For <code>plot.ranking()</code>: arguments passed to
<code>cv_proportions.ranking()</code> and <code>plot.cv_proportions()</code>. For
<code>plot.cv_proportions()</code>: currently ignored.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <span class="pkg">ggplot2</span> plotting object (of class <code>gg</code> and <code>ggplot</code>).
</p>


<h3>Author(s)</h3>

<p>Idea and original code by Aki Vehtari. Slight modifications of the
original code by Frank Weber, Yann McLatchie, and Sölvi Rögnvaldsson. Final
implementation in <span class="pkg">projpred</span> by Frank Weber.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Data:
dat_gauss &lt;- data.frame(y = df_gaussian$y, df_gaussian$x)

# The `stanreg` fit which will be used as the reference model (with small
# values for `chains` and `iter`, but only for technical reasons in this
# example; this is not recommended in general):
fit &lt;- rstanarm::stan_glm(
  y ~ X1 + X2 + X3 + X4 + X5, family = gaussian(), data = dat_gauss,
  QR = TRUE, chains = 2, iter = 1000, refresh = 0, seed = 9876
)

# Run cv_varsel() (with L1 search and small values for `K`, `nterms_max`, and
# `nclusters_pred`, but only for the sake of speed in this example; this is
# not recommended in general):
cvvs &lt;- cv_varsel(fit, method = "L1", cv_method = "kfold", K = 2,
                  nterms_max = 3, nclusters_pred = 10, seed = 5555)

# Extract predictor rankings:
rk &lt;- ranking(cvvs)

# Compute ranking proportions:
pr_rk &lt;- cv_proportions(rk)

# Visualize the ranking proportions:
gg_pr_rk &lt;- plot(pr_rk)
print(gg_pr_rk)

# Since the object returned by plot.cv_proportions() is a standard ggplot2
# plotting object, you can modify the plot easily, e.g., to remove the
# legend:
print(gg_pr_rk + ggplot2::theme(legend.position = "none"))

</code></pre>


</div>