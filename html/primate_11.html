<div class="container">

<table style="width: 100%;"><tr>
<td>updatevals</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update the values of an AWP data.frame</h2>

<h3>Description</h3>

<p>Update the values in an old dataframe with the values in a new dataframe.
Useful for comparing a pre-existing or self-assembled dataset with AWP.
</p>


<h3>Usage</h3>

<pre><code class="language-R">updatevals(x,y=NULL,v.old,v.new,verbose=TRUE,update=FALSE,
                    na.only=TRUE,all=TRUE,missing.only=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>first dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>second dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v.old</code></td>
<td>
<p>variable old</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v.new</code></td>
<td>
<p>variable new</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>get all the messages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update</code></td>
<td>
<p>update all the old with everything new</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.only</code></td>
<td>
<p>just update the missing values in the old dataframe </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>
<p>perform merge on all columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing.only</code></td>
<td>
<p>update only those that have missing values</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>values of one data frame are updated to reflect new data in another
</p>


<h3>Examples</h3>

<pre><code class="language-R">pri.tab &lt;- AWP.read.pkg.tab(tab.nm='Locomotion')
#pri.AWP &lt;- AWP.get.SQL.table(tab.nm='Locomotion') 

dim(pri.tab) #should may be fewer cols or rows locally ...
#dim(pri.AWP) # than there are available online.

apply(pri.tab, 2, function(x) sum(is.na(x))) # also more missing values
#apply(pri.AWP, 2, function(x) sum(is.na(x))) #  locally than online

# update the "Comment" column locally with the same online

vars &lt;- c('LocomotionID','Comment')
#tmp &lt;- merge(x=pri.tab[,c(vars)] ,y=pri.AWP[,c(vars)], by='LocomotionID')

#out &lt;- updatevals(x=tmp,y=NULL,v.old='Comment.x',v.new='Comment.y')

</code></pre>


</div>