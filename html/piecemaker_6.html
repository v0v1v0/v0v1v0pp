<div class="container">

<table style="width: 100%;"><tr>
<td>prepare_text</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare Text for Tokenization</h2>

<h3>Description</h3>

<p>This function combines the other functions in this package to prepare text
for tokenization. The text gets converted to valid UTF-8 (if possible), and
then various cleaning functions are applied.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prepare_text(
  text,
  squish_whitespace = TRUE,
  remove_terminal_hyphens = TRUE,
  remove_control_characters = TRUE,
  remove_replacement_characters = TRUE,
  remove_diacritics = TRUE,
  space_cjk = TRUE,
  space_punctuation = TRUE,
  space_hyphens = TRUE,
  space_abbreviations = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>A character vector to clean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>squish_whitespace</code></td>
<td>
<p>Logical scalar; squish whitespace characters (using
<code>str_squish</code>)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_terminal_hyphens</code></td>
<td>
<p>Logical; should hyphens at the end of lines
after a word be removed? For example, "un-\nbroken" would become
"unbroken".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_control_characters</code></td>
<td>
<p>Logical scalar; remove control characters?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_replacement_characters</code></td>
<td>
<p>Logical scalar; remove the "replacement
character", <code>U-FFFD</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_diacritics</code></td>
<td>
<p>Logical scalar; remove diacritical marks (accents,
etc) from characters?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space_cjk</code></td>
<td>
<p>Logical scalar; add spaces around Chinese/Japanese/Korean
ideographs?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space_punctuation</code></td>
<td>
<p>Logical scalar; add spaces around punctuation (to
make it easier to keep punctuation during tokenization)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space_hyphens</code></td>
<td>
<p>Logical; treat hyphens between letters and at the
start/end of words as punctuation? Other hyphens are always treated as
punctuation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space_abbreviations</code></td>
<td>
<p>Logical; treat apostrophes between letters as
punctuation? Other apostrophes are always treated as punctuation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The character vector, cleaned as specified.
</p>


<h3>Examples</h3>

<pre><code class="language-R">piece1 &lt;- " This is a    \n\nfa\xE7ile\n\n    example.\n"
# Specify encoding so this example behaves the same on all systems.
Encoding(piece1) &lt;- "latin1"
example_text &lt;- paste(
  piece1,
  "It has the bell character, \a, and the replacement character,",
  intToUtf8(65533)
)
prepare_text(example_text)
prepare_text(example_text, squish_whitespace = FALSE)
prepare_text(example_text, remove_control_characters = FALSE)
prepare_text(example_text, remove_replacement_characters = FALSE)
prepare_text(example_text, remove_diacritics = FALSE)
</code></pre>


</div>