<div class="container">

<table style="width: 100%;"><tr>
<td>locationservice_calculate_route_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculates a route matrix given the following required parameters:
DeparturePositions and DestinationPositions</h2>

<h3>Description</h3>

<p><a href="https://docs.aws.amazon.com/location/latest/developerguide/calculate-route-matrix.html">Calculates a route matrix</a> given the following required parameters: <code>DeparturePositions</code> and <code>DestinationPositions</code>. <code>calculate_route_matrix</code> calculates routes and returns the travel time and travel distance from each departure position to each destination position in the request. For example, given departure positions A and B, and destination positions X and Y, <code>calculate_route_matrix</code> will return time and distance for routes from A to X, A to Y, B to X, and B to Y (in that order). The number of results returned (and routes calculated) will be the number of <code>DeparturePositions</code> times the number of <code>DestinationPositions</code>.
</p>
<p>See <a href="https://www.paws-r-sdk.com/docs/locationservice_calculate_route_matrix/">https://www.paws-r-sdk.com/docs/locationservice_calculate_route_matrix/</a> for full documentation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">locationservice_calculate_route_matrix(
  CalculatorName,
  DeparturePositions,
  DestinationPositions,
  TravelMode = NULL,
  DepartureTime = NULL,
  DepartNow = NULL,
  DistanceUnit = NULL,
  CarModeOptions = NULL,
  TruckModeOptions = NULL,
  Key = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>CalculatorName</code></td>
<td>
<p>[required] The name of the route calculator resource that you want to use to
calculate the route matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DeparturePositions</code></td>
<td>
<p>[required] The list of departure (origin) positions for the route matrix. An array
of points, each of which is itself a 2-value array defined in <a href="https://earth-info.nga.mil/index.php?dir=wgs84&amp;action=wgs84">WGS 84</a> format:
<code style="white-space: pre;">⁠[longitude, latitude]⁠</code>. For example, <code style="white-space: pre;">⁠[-123.115, 49.285]⁠</code>.
</p>
<p>Depending on the data provider selected in the route calculator resource
there may be additional restrictions on the inputs you can choose. See
<a href="https://docs.aws.amazon.com/location/latest/developerguide/calculate-route-matrix.html#matrix-routing-position-limits">Position restrictions</a>
in the <em>Amazon Location Service Developer Guide</em>.
</p>
<p>For route calculators that use Esri as the data provider, if you specify
a departure that's not located on a road, Amazon Location <a href="https://docs.aws.amazon.com/location/latest/developerguide/snap-to-nearby-road.html">moves the position to the nearest road</a>.
The snapped value is available in the result in
<code>SnappedDeparturePositions</code>.
</p>
<p>Valid Values: <code style="white-space: pre;">⁠[-180 to 180,-90 to 90]⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DestinationPositions</code></td>
<td>
<p>[required] The list of destination positions for the route matrix. An array of
points, each of which is itself a 2-value array defined in <a href="https://earth-info.nga.mil/index.php?dir=wgs84&amp;action=wgs84">WGS 84</a> format:
<code style="white-space: pre;">⁠[longitude, latitude]⁠</code>. For example, <code style="white-space: pre;">⁠[-122.339, 47.615]⁠</code>
</p>
<p>Depending on the data provider selected in the route calculator resource
there may be additional restrictions on the inputs you can choose. See
<a href="https://docs.aws.amazon.com/location/latest/developerguide/calculate-route-matrix.html#matrix-routing-position-limits">Position restrictions</a>
in the <em>Amazon Location Service Developer Guide</em>.
</p>
<p>For route calculators that use Esri as the data provider, if you specify
a destination that's not located on a road, Amazon Location <a href="https://docs.aws.amazon.com/location/latest/developerguide/snap-to-nearby-road.html">moves the position to the nearest road</a>.
The snapped value is available in the result in
<code>SnappedDestinationPositions</code>.
</p>
<p>Valid Values: <code style="white-space: pre;">⁠[-180 to 180,-90 to 90]⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TravelMode</code></td>
<td>
<p>Specifies the mode of transport when calculating a route. Used in
estimating the speed of travel and road compatibility.
</p>
<p>The <code>TravelMode</code> you specify also determines how you specify route
preferences:
</p>

<ul>
<li>
<p> If traveling by <code>Car</code> use the <code>CarModeOptions</code> parameter.
</p>
</li>
<li>
<p> If traveling by <code>Truck</code> use the <code>TruckModeOptions</code> parameter.
</p>
</li>
</ul>
<p><code>Bicycle</code> or <code>Motorcycle</code> are only valid when using <code>Grab</code> as a data
provider, and only within Southeast Asia.
</p>
<p><code>Truck</code> is not available for Grab.
</p>
<p>For more information about using Grab as a data provider, see
<a href="https://docs.aws.amazon.com/location/latest/developerguide/grab.html">GrabMaps</a>
in the <em>Amazon Location Service Developer Guide</em>.
</p>
<p>Default Value: <code>Car</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DepartureTime</code></td>
<td>
<p>Specifies the desired time of departure. Uses the given time to
calculate the route matrix. You can't set both <code>DepartureTime</code> and
<code>DepartNow</code>. If neither is set, the best time of day to travel with the
best traffic conditions is used to calculate the route matrix.
</p>
<p>Setting a departure time in the past returns a <code style="white-space: pre;">⁠400 ValidationException⁠</code>
error.
</p>

<ul><li>
<p> In <a href="https://www.iso.org/iso-8601-date-and-time-format.html">ISO 8601</a>
format: <code>YYYY-MM-DDThh:mm:ss.sssZ</code>. For example,
<code style="white-space: pre;">⁠2020–07-2T12:15:20.000Z+01:00⁠</code>
</p>
</li></ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DepartNow</code></td>
<td>
<p>Sets the time of departure as the current time. Uses the current time to
calculate the route matrix. You can't set both <code>DepartureTime</code> and
<code>DepartNow</code>. If neither is set, the best time of day to travel with the
best traffic conditions is used to calculate the route matrix.
</p>
<p>Default Value: <code>false</code>
</p>
<p>Valid Values: <code>false</code> | <code>true</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DistanceUnit</code></td>
<td>
<p>Set the unit system to specify the distance.
</p>
<p>Default Value: <code>Kilometers</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CarModeOptions</code></td>
<td>
<p>Specifies route preferences when traveling by <code>Car</code>, such as avoiding
routes that use ferries or tolls.
</p>
<p>Requirements: <code>TravelMode</code> must be specified as <code>Car</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TruckModeOptions</code></td>
<td>
<p>Specifies route preferences when traveling by <code>Truck</code>, such as avoiding
routes that use ferries or tolls, and truck specifications to consider
when choosing an optimal road.
</p>
<p>Requirements: <code>TravelMode</code> must be specified as <code>Truck</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Key</code></td>
<td>
<p>The optional <a href="https://docs.aws.amazon.com/location/latest/developerguide/using-apikeys.html">API key</a>
to authorize the request.</p>
</td>
</tr>
</table>
</div>