<div class="container">

<table style="width: 100%;"><tr>
<td>drcount</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Doubly robust estimator of the average treatment effect for count data</h2>

<h3>Description</h3>

<p>Doubly robust estimator of the average treatment effect between two
treatments, which is the rate ratio of treatment 1 over treatment 0 for
count outcomes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">drcount(
  y,
  trt,
  x.cate,
  x.ps,
  time,
  ps.method = "glm",
  minPS = 0.01,
  maxPS = 0.99,
  interactions = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector of size <code>n</code> with each element representing
the observed count outcome for each subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trt</code></td>
<td>
<p>A numeric vector (in {0, 1}) of size <code>n</code> with each element
representing the treatment received for each subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.cate</code></td>
<td>
<p>A numeric matrix of dimension <code>n</code> by <code>p.cate</code> with
each column representing each baseline covariate specified in the outcome
model for all subjects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.ps</code></td>
<td>
<p>A numeric matrix of dimension <code>n</code> by <code>p.ps + 1</code> with
a leading column of 1 as the intercept and each remaining column
representing each baseline covariate specified in the propensity score model
for all subjects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>A numeric vector of size <code>n</code> with each element representing
the log-transformed person-years of follow-up for each subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ps.method</code></td>
<td>
<p>A character value for the method to estimate the propensity
score. Allowed values include one of: <code>'glm'</code> for logistic regression
with main effects only (default), or <code>'lasso'</code> for a logistic regression
with main effects and LASSO penalization on two-way interactions (added to
the model if interactions are not specified in <code>ps.model</code>). Relevant
only when <code>ps.model</code> has more than one variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minPS</code></td>
<td>
<p>A numerical value between 0 and 1 below which estimated
propensity scores should be truncated. Default is <code>0.01</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxPS</code></td>
<td>
<p>A numerical value between 0 and 1 above which estimated
propensity scores should be truncated. Must be strictly greater than
<code>minPS</code>. Default is <code>0.99</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interactions</code></td>
<td>
<p>A logical value indicating whether the outcome model
should allow for treatment-covariate interaction by <code>x</code>. If <code>TRUE</code>,
interactions will be assumed only if at least 10 patients received each
treatment option. Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Return a list of 4 elements:
</p>

<ul>
<li>
<p><code>log.rate.ratio</code>:  A numeric value of the estimated log rate ratio.
</p>
</li>
<li>
<p><code>rate0</code>:  A numeric value of the estimated rate in the group trt=0.
</p>
</li>
<li>
<p><code>rate1</code>:  A numeric value of the estimated rate in the group trt=1.
</p>
</li>
</ul>
</div>