<div class="container">

<table style="width: 100%;"><tr>
<td>renv_deps</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get dependencies using renv</h2>

<h3>Description</h3>

<p>Get dependencies using renv. This function will inspect your package specified
at <code>pkg_path</code> (default is current working directory, <code>.</code>), and create an renv lock file (<code>renv.lock</code>) in
the <code style="white-space: pre;">⁠docker/⁠</code> directory. More information about the <code>renv</code> implementation is provided in the Details section.
</p>


<h3>Usage</h3>

<pre><code class="language-R">renv_deps(
  pkg_path = ".",
  img_path = NULL,
  other_packages = NULL,
  overwrite = TRUE,
  consent_renv = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pkg_path</code></td>
<td>
<p>Path to the package directory. Default is <code>"."</code> for the current working directory, which assumes developer is working in R package root. However, this can be set to another path as needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img_path</code></td>
<td>
<p>Path to the write the docker image definition contents. The default <code>NULL</code> will use <code style="white-space: pre;">⁠docker/⁠</code> as a subdirectory of the <code>pkg_path</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>other_packages</code></td>
<td>
<p>Vector of other packages to be included in <code>renv</code> lock file; default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Logical; should an existing lock file should be overwritten? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>consent_renv</code></td>
<td>
<p>Logical; give renv consent in this session with <code>options(renv.consent = TRUE)</code>? Default is <code>TRUE</code>. See renv::consent for details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>renv.lock</code> file will capture all your package's dependencies (and all
their dependencies) at the current version installed on your system at the
time this function is run. When using the default <code>use_renv=TRUE</code> in
use_docker or add_dockerfile, the resulting <code>Dockerfile</code> will install
packages from this <code>renv.lock</code> file using renv::restore. This ensures that
versions of dependencies in the image mirror what is installed on your system
at the time of image creation, rather than potentially newer versions on package repositories like
CRAN or Bioconductor, which may come with breaking changes that you are unaware of at the
time of package development.
</p>
<p>If there are additional R packages that may be useful for the Docker image you plan to build (but may not be captured under your package dependencies), then you can add these packages to the <code>renv</code> procedure with the "other_packages" argument.
</p>
<p>This function is run as part of use_docker but can be used on its own.
</p>


<h3>Value</h3>

<p>Invisibly returns a list of package info returned by pkg_info. Primarily called for side effect. Writes an <code>renv</code> lock file to the docker/ directory.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Specify path to example package source and copy to tempdir()
# Note that in practice you do not need to copy to a tempdir()
# And in fact it may be easiest to use pracpac relative to your package directory root
ex_pkg_src &lt;- system.file("hellow", package = "pracpac", mustWork = TRUE)
file.copy(from = ex_pkg_src, to = tempdir(), recursive = TRUE)

# Run using defaults; only gets current package dependencies
renv_deps(pkg_path = file.path(tempdir(), "hellow"))
# Add additional packages not explicitly required by your package
renv_deps(pkg_path = file.path(tempdir(), "hellow"), other_packages=c("shiny", "knitr"))

## End(Not run)
</code></pre>


</div>