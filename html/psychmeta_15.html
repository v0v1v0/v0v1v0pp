<div class="container">

<table style="width: 100%;"><tr>
<td>compute_dmod_npar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function for computing non-parametric <code class="reqn">d_{Mod}</code> effect sizes for a single focal group</h2>

<h3>Description</h3>

<p>This function computes non-parametric <code class="reqn">d_{Mod}</code> effect sizes from user-defined descriptive statistics
and regression coefficients, using a distribution of observed scores as weights.
This non-parametric function is best used when the assumption of normally distributed predictor
scores is not reasonable and/or the distribution of scores observed in a sample is likely to represent the
distribution of scores in the population of interest.
If one has access to the full raw data set, the <code>dMod</code> function may be used
as a wrapper to this function so that the regression equations and descriptive statistics can
be computed automatically within the program.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_dmod_npar(
  referent_int,
  referent_slope,
  focal_int,
  focal_slope,
  focal_x,
  referent_sd_y
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>referent_int</code></td>
<td>
<p>Referent group's intercept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>referent_slope</code></td>
<td>
<p>Referent group's slope.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>focal_int</code></td>
<td>
<p>Focal group's intercept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>focal_slope</code></td>
<td>
<p>Focal group's slope.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>focal_x</code></td>
<td>
<p>Focal group's vector of predictor scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>referent_sd_y</code></td>
<td>
<p>Referent group's criterion standard deviation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code class="reqn">d_{Mod_{Signed}}</code> effect size (i.e., the average of differences in prediction over
the range of predictor scores) is computed as
</p>
<p style="text-align: center;"><code class="reqn">d_{Mod_{Signed}}=\frac{\sum_{i=1}^{m}n_{i}\left[X_{i}\left(b_{1_{1}}-b_{1_{2}}\right)+b_{0_{1}}-b_{0_{2}}\right]}{SD_{Y_{1}}\sum_{i=1}^{m}n_{i}},</code>
</p>

<p>where
</p>

<ul>
<li> <p><code class="reqn">SD_{Y_{1}}</code> is the referent group's criterion standard deviation;
</p>
</li>
<li> <p><code class="reqn">m</code> is the number of unique scores in the distribution of focal-group predictor scores;
</p>
</li>
<li> <p><code class="reqn">X</code> is the vector of unique focal-group predictor scores, indexed <code class="reqn">i=1</code> through <code class="reqn">m</code>;
</p>
</li>
<li> <p><code class="reqn">X_{i}</code> is the <code class="reqn">i^{th}</code> unique score value;
</p>
</li>
<li> <p><code class="reqn">n</code> is the vector of frequencies associated with the elements of <code class="reqn">X</code>;
</p>
</li>
<li> <p><code class="reqn">n_{i}</code> is the number of cases with a score equal to <code class="reqn">X_{i}</code>;
</p>
</li>
<li> <p><code class="reqn">b_{1_{1}}</code> and <code class="reqn">b_{1_{2}}</code> are the slopes of the regression of <code class="reqn">Y</code> on <code class="reqn">X</code> for the referent and focal groups, respectively; and
</p>
</li>
<li> <p><code class="reqn">b_{0_{1}}</code> and <code class="reqn">b_{0_{2}}</code> are the intercepts of the regression of <code class="reqn">Y</code> on <code class="reqn">X</code> for the referent and focal groups, respectively.
</p>
</li>
</ul>
<p>The <code class="reqn">d_{Mod_{Under}}</code> and <code class="reqn">d_{Mod_{Over}}</code> effect sizes are computed
using the same equation as <code class="reqn">d_{Mod_{Signed}}</code>, but <code class="reqn">d_{Mod_{Under}}</code> is
the weighted average of all scores in the area of underprediction (i.e., the differences in prediction with
negative signs) and <code class="reqn">d_{Mod_{Over}}</code> is the weighted average of all scores in the area of
overprediction (i.e., the differences in prediction with negative signs).
</p>
<p>The <code class="reqn">d_{Mod_{Unsigned}}</code> effect size (i.e., the average of absolute differences in prediction over
the range of predictor scores) is computed as
</p>
<p style="text-align: center;"><code class="reqn">d_{Mod_{Unsigned}}=\frac{\sum_{i=1}^{m}n_{i}\left|X_{i}\left(b_{1_{1}}-b_{1_{2}}\right)+b_{0_{1}}-b_{0_{2}}\right|}{SD_{Y_{1}}\sum_{i=1}^{m}n_{i}}.</code>
</p>

<p>The <code class="reqn">d_{Min}</code> effect size (i.e., the smallest absolute difference in prediction observed over the
range of predictor scores) is computed as
</p>
<p style="text-align: center;"><code class="reqn">d_{Min}=\frac{1}{SD_{Y_{1}}}Min\left[\left|X\left(b_{1_{1}}-b_{1_{2}}\right)+b_{0_{1}}-b_{0_{2}}\right|\right].</code>
</p>

<p>The <code class="reqn">d_{Max}</code> effect size (i.e., the largest absolute difference in prediction observed over the
range of predictor scores)is computed as
</p>
<p style="text-align: center;"><code class="reqn">d_{Max}=\frac{1}{SD_{Y_{1}}}Max\left[\left|X\left(b_{1_{1}}-b_{1_{2}}\right)+b_{0_{1}}-b_{0_{2}}\right|\right].</code>
</p>

<p><em>Note</em>: When <code class="reqn">d_{Min}</code> and <code class="reqn">d_{Max}</code> are computed in this package, the output will display the
signs of the differences (rather than the absolute values of the differences) to aid in interpretation.
</p>


<h3>Value</h3>

<p>A vector of effect sizes (<code class="reqn">d_{Mod_{Signed}}</code>,
<code class="reqn">d_{Mod_{Unsigned}}</code>, <code class="reqn">d_{Mod_{Under}}</code>,
<code class="reqn">d_{Mod_{Over}}</code>), proportions of under- and over-predicted criterion scores,
minimum and maximum differences (i.e., <code class="reqn">d_{Mod_{Under}}</code> and <code class="reqn">d_{Mod_{Over}}</code>),
and the scores associated with minimum and maximum differences.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate some hypothetical data for a referent group and three focal groups:
set.seed(10)
refDat &lt;- MASS::mvrnorm(n = 1000, mu = c(.5, .2),
                        Sigma = matrix(c(1, .5, .5, 1), 2, 2), empirical = TRUE)
foc1Dat &lt;- MASS::mvrnorm(n = 1000, mu = c(-.5, -.2),
                         Sigma = matrix(c(1, .5, .5, 1), 2, 2), empirical = TRUE)
foc2Dat &lt;- MASS::mvrnorm(n = 1000, mu = c(0, 0),
                         Sigma = matrix(c(1, .3, .3, 1), 2, 2), empirical = TRUE)
foc3Dat &lt;- MASS::mvrnorm(n = 1000, mu = c(-.5, -.2),
                         Sigma = matrix(c(1, .3, .3, 1), 2, 2), empirical = TRUE)
colnames(refDat) &lt;- colnames(foc1Dat) &lt;- colnames(foc2Dat) &lt;- colnames(foc3Dat) &lt;- c("X", "Y")

# Compute a regression model for each group:
refRegMod &lt;- lm(Y ~ X, data.frame(refDat))$coef
foc1RegMod &lt;- lm(Y ~ X, data.frame(foc1Dat))$coef
foc2RegMod &lt;- lm(Y ~ X, data.frame(foc2Dat))$coef
foc3RegMod &lt;- lm(Y ~ X, data.frame(foc3Dat))$coef

# Use the subgroup regression models to compute d_mod for each referent-focal pairing:

# Focal group #1:
compute_dmod_npar(referent_int = refRegMod[1], referent_slope = refRegMod[2],
             focal_int = foc1RegMod[1], focal_slope = foc1RegMod[2],
             focal_x = foc1Dat[,"X"], referent_sd_y = 1)

# Focal group #2:
compute_dmod_npar(referent_int = refRegMod[1], referent_slope = refRegMod[2],
             focal_int = foc2RegMod[1], focal_slope = foc1RegMod[2],
             focal_x = foc2Dat[,"X"], referent_sd_y = 1)

# Focal group #3:
compute_dmod_npar(referent_int = refRegMod[1], referent_slope = refRegMod[2],
             focal_int = foc3RegMod[1], focal_slope = foc3RegMod[2],
             focal_x = foc3Dat[,"X"], referent_sd_y = 1)
</code></pre>


</div>