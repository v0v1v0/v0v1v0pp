<div class="container">

<table style="width: 100%;"><tr>
<td>vcov_decomp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Decompose the posterior of a variance-covariance node</h2>

<h3>Description</h3>

<p>For each posterior sample, extract the standard deviation and correlation components
of a monitored node representing a variance-covariance matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">vcov_decomp(
  post,
  param,
  sigma_base_name = "sigma",
  rho_base_name = "rho",
  invert = FALSE,
  check = TRUE,
  auto_escape = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>post</code></td>
<td>
<p>A <code>mcmc.list</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>A vector of regular expressions specifying the nodes to match for plotting.
Must match only one base node name in <code>post</code>, and that node must store samples from a matrix within the model.
See <code>match_params()</code> and <code>vignette("pattern-matching")</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma_base_name</code></td>
<td>
<p>Base node name to assign to the standard deviation vector component?
Defaults to <code>"sigma"</code>, which becomes <code>"sigma[1]"</code>, <code>"sigma[2]"</code>, etc. in the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho_base_name</code></td>
<td>
<p>Same as <code>sigma_base_name</code>, but for the correlation matrix component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>Take the inverse of the matrix node matched by <code>param</code>
prior to performing the calculations? This would be necessary if the matrix node was expressed as
a precision matrix as used in the BUGS language. Triggers a call to <code>base::solve()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Perform checks sequentially that the matrix node is (a) square, (b) symmetrical, and (c) positive definite
before proceeding with the calculations? If set to <code>FALSE</code>, unexpected output may be returned or
other errors related to items a, b, and c may be triggered - this is not advised, though may be required
if wishing to set <code>invert = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto_escape</code></td>
<td>
<p>Automatically escape <code>"["</code> and <code>"]"</code> characters for pattern matching?
See <code>match_params()</code> for details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>mcmc.list</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load example mcmc.list
data(cjs)

# "SIG" is a covariance matrix node
SIG_decomp = vcov_decomp(cjs, "SIG")

# extract the posterior mean correlation matrix, and reformat
array_format(post_summ(SIG_decomp, "rho")["mean",])
</code></pre>


</div>