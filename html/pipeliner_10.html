<div class="container">

<table style="width: 100%;"><tr>
<td>pipeline</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build machine learning pipelines - functional API</h2>

<h3>Description</h3>

<p>Building machine learning models often requires pre- and post-transformation of the input and/or
response variables, prior to training (or fitting) the models. For example, a model may require
training on the logarithm of the response and input variables. As a consequence, fitting and
then generating predictions from these models requires repeated application of transformation and
inverse-transormation functions, to go from the original input to original output variables (via
the model).
</p>


<h3>Usage</h3>

<pre><code class="language-R">pipeline(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A data.frame containing the input variables required to fit the pipeline.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Functions of class <code>"ml_pipeline_section"</code> - e.g. <code>transform_features()</code>,
<code>transform_response()</code>, <code>inv_transform_response()</code> or <code>estimate_model()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function that takes individual pipeline sections - functions with class
<code>"ml_pipeline_section"</code> - together with the data required to estimate the inner models,
returning a machine pipeline capable of predicting (scoring) data end-to-end, without having to
repeatedly apply input variable (feature and response) transformation and their inverses.
</p>


<h3>Value</h3>

<p>A <code>"ml_pipeline"</code> object contaiing the pipeline prediction function
<code>ml_pipeline$predict()</code> and the estimated machine learning model nested within it
<code>ml_pipeline$inner_model()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data &lt;- faithful

lm_pipeline &lt;-
  pipeline(
    data,
    transform_features(function(df) {
      data.frame(x1 = (df$waiting - mean(df$waiting)) / sd(df$waiting))
    }),

    transform_response(function(df) {
      data.frame(y = (df$eruptions - mean(df$eruptions)) / sd(df$eruptions))
    }),

    estimate_model(function(df) {
      lm(y ~ 1 + x1, df)
    }),

    inv_transform_response(function(df) {
      data.frame(pred_eruptions = df$pred_model * sd(df$eruptions) + mean(df$eruptions))
    })
  )
</code></pre>


</div>