<div class="container">

<table style="width: 100%;"><tr>
<td>pre_process</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pre-process protein intensity data for modeling</h2>

<h3>Description</h3>

<p>This function pre-processes protein intensity data from
the top differentially expressed proteins identified with <code>find_dep</code> for
modeling.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pre_process(
  fit_df,
  norm_df,
  sig = "adjP",
  sig_cutoff = 0.05,
  fc = 1,
  n_top = 20,
  find_highcorr = TRUE,
  corr_cutoff = 0.9,
  save_corrmatrix = FALSE,
  file_path = NULL,
  rem_highcorr = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit_df</code></td>
<td>
<p>A <code>fit_df</code> object from performing <code>find_dep</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm_df</code></td>
<td>
<p>The <code>norm_df</code> object from which the <code>fit_df</code> object
was obtained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig</code></td>
<td>
<p>Criteria to denote significance in differential expression.
Choices are <code>"adjP"</code> (default) for adjusted p-value or <code>"P"</code>
for p-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig_cutoff</code></td>
<td>
<p>Cutoff value for p-values and adjusted p-values in
differential expression. Default is <code>0.05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fc</code></td>
<td>
<p>Minimum absolute log-fold change to use as threshold for
differential expression. Default is <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_top</code></td>
<td>
<p>The number of top hits from <code>find_dep</code> to be used in
modeling. Default is <code>20</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>find_highcorr</code></td>
<td>
<p>Logical. If <code>TRUE</code> (default), finds highly
correlated proteins.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr_cutoff</code></td>
<td>
<p>A numeric value specifying the correlation cutoff.
Default is <code>0.90</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_corrmatrix</code></td>
<td>
<p>Logical. If <code>TRUE</code>, saves a copy of the
protein correlation matrix in a tab-delimited text file labeled
"Protein_correlation.txt" in the directory specified by <code>file_path</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_path</code></td>
<td>
<p>A string containing the directory path to save the file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rem_highcorr</code></td>
<td>
<p>Logical. If <code>TRUE</code> (default), removes highly
correlated proteins (predictors or features).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates a data frame that contains protein intensities
for a user-specified number of top differentially expressed proteins.
</p>
<ul>
<li>
<p> Using <code>find_highcorr = TRUE</code>, highly correlated
proteins can be identified, and can be removed with
<code>rem_highcorr = TRUE</code>.
</p>
</li>
<li>
<p> Note: Most models will benefit from reducing correlation between
proteins (predictors or features), therefore we recommend removing those
proteins at this stage to reduce pairwise-correlation.
</p>
</li>
<li>
<p> If no or few proteins meet the significance threshold for differential
expression, you may adjust <code>sig</code>, <code>fc</code>, and/or <code>sig_cutoff</code>
accordingly to obtain more proteins for modeling.</p>
</li>
</ul>
<h3>Value</h3>

<p>A <code>model_df</code> object, which is a data frame of protein
intensities with proteins indicated by columns.
</p>


<h3>Author(s)</h3>

<p>Chathurani Ranathunge
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>find_dep</code>, <code>normalize_data</code>
</p>
</li>
<li> <p><code>caret: findCorrelation</code></p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
## Create a model_df object with default settings.
covid_model_df1 &lt;- pre_process(fit_df = covid_fit_df, norm_df = covid_norm_df)

## Change the correlation cutoff.
covid_model_df2 &lt;- pre_process(covid_fit_df, covid_norm_df, corr_cutoff = 0.95)

## Change the significance criteria to include more proteins
covid_model_df3 &lt;- pre_process(covid_fit_df, covid_norm_df, sig = "P")

## Change the number of top differentially expressed proteins to include
covid_model_df4 &lt;- pre_process(covid_fit_df, covid_norm_df, sig = "P", n_top = 24)

</code></pre>


</div>