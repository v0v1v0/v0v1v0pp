<div class="container">

<table style="width: 100%;"><tr>
<td>data_transformation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tranforms Dependent Variables</h2>

<h3>Description</h3>

<p>Function <code>data_transformation</code> transforms the dependent variable from
the formula object <code>fixed</code> in the given sample data set. Thus, it
returns the original sample data set with transformed dependent variable.
For the transformation five types can be chosen, particularly no, natural
log, Box-Cox, Dual and Log-Shift transformation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data_transformation(fixed, smp_data, transformation, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>a two-sided linear formula object describing the
fixed-effects part of the nested error linear regression model with the
dependent variable on the left of a ~ operator and the explanatory
variables on the right, separated by + operators. The argument corresponds
to the argument <code>fixed</code> in function <code>lme</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smp_data</code></td>
<td>
<p>a data frame that needs to comprise all variables named in
<code>fixed</code>. If transformed data is further used to fit a nested error
linear regression model, <code>smp_data</code> also needs to comprise the variable
named in <code>smp_domains</code> (see <code>ebp</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transformation</code></td>
<td>
<p>a character string. Five different transformation
methods for the dependent variable can be chosen (i) no transformation
("no"); (ii) natural log transformation ("log"); (iii) Box-Cox transformation
("box.cox"); (iv) Dual transformation ("dual"); (v) Log-Shift transformation
("log.shift")..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>a scalar parameter that determines the transformations with
transformation parameter. In case of no and natural log transformation
<code>lambda</code> can be set to NULL.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For the natural log, Box-Cox and Dual transformation, the dependent
variable is shifted such that all values are greater than zero since the
transformations are not applicable for values equal to or smaller than zero.
The shift is calculated as follows:
</p>
<p style="text-align: center;"><code class="reqn">shift = |min(y)| + 1 \qquad if \qquad min(y) &lt;= 0</code>
</p>

<p>Function <code>data_transformation</code> works as a wrapper function. This means
that the function manages the selection of the three different transformation
functions <code>no_transform</code>, <code>log_transform</code> and <code>box_cox</code>.
</p>


<h3>Value</h3>

<p>a named list with two elements, a data frame containing the data set
with transformed dependent variable (<code>transformed_data</code>) and a shift
parameter <code>shift</code> if present. In case of no transformation, the original
data frame is returned and the shift parameter is NULL.
</p>


<h3>See Also</h3>

<p><code>lme</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Loading data - sample data
data("eusilcA_smp")

# Transform dependent variable in sample data with Box-Cox transformation
transform_data &lt;- data_transformation(eqIncome ~ gender + eqsize + cash +
  self_empl + unempl_ben + age_ben + surv_ben + sick_ben + dis_ben + rent +
  fam_allow + house_allow + cap_inv + tax_adj, eusilcA_smp, "box.cox", 0.7)
</code></pre>


</div>