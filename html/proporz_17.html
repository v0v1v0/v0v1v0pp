<div class="container">

<table style="width: 100%;"><tr>
<td>pivot_to_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pivot long data.frame to wide matrix and vice versa</h2>

<h3>Description</h3>

<p>Create a matrix in 'wide' format from a data.frame with 3 columns with
<code>pivot_to_matrix</code> or create a data.frame in long format from a matrix with
<code>pivot_to_df.</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">pivot_to_matrix(df_long)

pivot_to_df(matrix_wide, value_colname = "values")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_long</code></td>
<td>
<p>data.frame in long format with exactly 3 columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrix_wide</code></td>
<td>
<p>matrix in wide format</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value_colname</code></td>
<td>
<p>name for the new value column in the
resulting data.frame</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These pivot functions are used to prepare data for <code>biproporz()</code> in
<code>pukelsheim()</code>. They are not supposed to cover general use cases or provide
customization. They mainly exist because reshape is hard to handle and the
package should have no dependencies.
</p>


<h3>Value</h3>

<p>A data.frame with 3 columns or a matrix. Note that the results are
sorted by the first and second column (data.frame) or row/column
names (matrix).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># From data.frame to matrix
df = data.frame(party = c("A", "A", "A", "B", "B", "B"),
                region = c("III", "II", "I", "I", "II", "III"),
                seats = c(5L, 3L, 1L, 2L, 4L, 6L))
pivot_to_matrix(df)

# from matrix to data.frame
mtrx = matrix(1:6, nrow = 2)
pivot_to_df(mtrx)

# from matrix to data.frame using dimnames
dimnames(mtrx) &lt;- list(party = c("A", "B"), region = c("I", "II", "III"))
pivot_to_df(mtrx, "seats")

# Note that pivot results are sorted
pivot_to_df(pivot_to_matrix(df)) == df[order(df[[1]], df[[2]]),]

</code></pre>


</div>