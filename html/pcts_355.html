<div class="container">

<table style="width: 100%;"><tr>
<td>Vec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Core data of periodic time series</h2>

<h3>Description</h3>

<p>Extract the core data from a periodic time series as a vector, matrix
or array.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Vec(x, ...)

tsMatrix(x, ...)

tsVector(x, ...)

tsVec(x, ...)

pcMatrix(x, ...)

pcArray(x, ndim = 3, ...)

pctsArray(x, ndim = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments for methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndim</code></td>
<td>
<p>currently not used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions give the core data in various common forms.
</p>
<p>The data values can be extracted as a vector from a periodic time
series object, say <code>x</code>, with <code>as.vector(x)</code> or <code>as(x,
  "vector")</code>.  For multivariate time series the vector returned by
<code>as.vector(x)</code> (or <code>as(x, "vector")</code>) is equivalent to
<code>as.vector(as.matrix(x))</code>.
</p>
<p>Similarly, <code>as.matrix()</code> and <code>as(x, "matrix")</code>
extract the data as a matrix containing one column per variable.  
</p>
<p><code>Vec()</code> is like <code>as.vector()</code> but the result is a matrix
with one column (column vector). The default does literally this.
Thus both, <code>Vec()</code> and <code>as.vector()</code>, implement the
<strong>Vec</strong> operation from matrix calculus but the latter returns the
result as a vector, not matrix.
</p>
<p>The most common representation of data in statistics is matrix-like
with one column per variable.  The descriptions of algorithms for
multivariate time series however usually define the vector of
observations at a given time to be a column vector. In particular,
implementations of the Kalman filter often require precisely this
arrangement.  In that case the data matrix is the transposed of the
more common one and the vectorising operation stacks the observations,
not the variables.
</p>
<p>The functions <code>tsMatrix()</code>, <code>tsVector()</code> and <code>tsVec()</code>
provide the analogues of <code>as.vector()</code>, <code>as.matrix()</code> and
<code>Vec()</code> for the “transposed” arrangement.
</p>
<p>These functions may look redundant since they are simple combinations
of the above and traspose operations. Having functions makes for more
readable programming. They may be more efficient, as well, for example
if the underlying time series class stores the data in the transposed
format.
</p>
<p><code>pcMatrix()</code> and <code>pcArray()</code> also give the core
data. Effectively, they give an additional dimension to the
seasons. The season becomes the first dimension since for column
oriented data the season changes fastest. <code>pcMatrix</code> is most
suitable for univariate time series, <code>pcArray()</code> for
multivariate. Note that <code>pcArray()</code> easily extends to multiple
periodicities although currently (2019-04-19) there are no methods
that exploit this.
</p>
<p>For univariate time series, in the matrix returned by
<code>pcMatrix()</code> each row represents the data for one season and each
column for one cycle. For multivariate time series, the matrices for
each variable are put next to each other.
</p>
<p><code>pcArray()</code> returns the data as an array, whose last dimension
corresponds to variables.  In the default case the array is
3-dimensonal with dimensions (season, year, variable).
</p>
<p><code>pctsArray()</code> is a variant of <code>pcArray()</code> corresponding to
the arrangement of <code>tsMatrix()</code>. The ordering of the dimensions
here is (variable, season, cycle).
</p>




<h3>Value</h3>

<p>vector, matrix or array, as indicated by the name of the function and
described in section ‘Details’. 
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>Examples</h3>

<pre><code class="language-R">## window to make number of years different from number of months
ap &lt;- pcts(window(AirPassengers, start = c(1956, 1)))
class( as.vector(ap)    )
class( as(ap, "vector") )

dim( as.matrix(ap)    )
dim( as(ap, "matrix") )

dim( tsMatrix(ap) )

class( tsVector(ap) ) 
dim(   tsVec(ap)    ) 

dim( pcMatrix(ap)   )
dim( pcArray(ap)    )
dim( pctsArray(ap)  )

dfr &lt;- pcts(dataFranses1996)
dim(dfr)                     # c(148, 19)
nSeasons(dfr)                # 4

length(as.vector(dfr))

all.equal(as.vector(dfr)[1:148],       as.matrix(dfr)[ , 1]) # TRUE
all.equal(tsVector(dfr)[1:19],  unname(as.matrix(dfr)[1, ])) # TRUE

dim( as.matrix(dfr) ) # c(148, 19)
dim( tsMatrix(dfr)  ) # c(19, 148)
all.equal(tsMatrix(dfr)[ , 1],  as.matrix(dfr)[1, ]) # TRUE

dim( Vec(dfr)   ) 
dim( tsVec(dfr) ) 
all.equal(tsVec(dfr)[1:19],  unname(as.matrix(dfr)[1, ])) # TRUE

dim( pcMatrix(dfr)   ) # c(4, 703), one row for each season
dim( pcArray(dfr)    ) # c(4, 37, 19), note: 703 == 37*19   

dim( pctsArray(dfr)  ) # c(19, 4, 37), note: 703 == 37*19   
</code></pre>


</div>