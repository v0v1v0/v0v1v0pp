<div class="container">

<table style="width: 100%;"><tr>
<td>VGM_build</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to obtain the VGM object by integrating the VDJ and GEX/Seurat objects</h2>

<h3>Description</h3>

<p>Takes as input a VDJ data frame (as obtained from the VDJ function in Platypus) and a Seurat object. Outputs an integrated VGM object (a list with the first element - the VDJ object; second element - the Seurat object).
Integration involves matching by barcodes and adding all features from one object to the other and vice-versa.
Authors: Tudor-Stefan Cotet, Victor Kreiner
</p>


<h3>Usage</h3>

<pre><code class="language-R">VGM_build(VDJ, GEX, merge.by, additional.dataframes, columns.to.transfer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>VDJ</code></td>
<td>
<p>VDJ data frame, obtained from the Platypus VDJ() function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GEX</code></td>
<td>
<p>Seurat object for the single-cell immune receptor repertoire analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>merge.by</code></td>
<td>
<p>string - the column name to match both objects/dataframes by. Should be present in both objects (Seurat object meta.data and VDJ dataframe). Defaults to "barcode."</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>additional.dataframes</code></td>
<td>
<p>vector of data frames - additional dataframes to be matched/merged to the VDJ and GEX. Will be matched by the column denoted in the merge.by parameter (should be present in the VDJ and all subsequent dataframes).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns.to.transfer</code></td>
<td>
<p>string or vector of strings - columns that should be transferred/appended across all objects (matched by the merge.by parameter). Defaults to "all" - all unique columns from GEX not present in VDJ and vice-versa.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An output VGM object: a list with the first element - the VDJ object; second element - the GEX/Seurat object. Additonal elements are appended to the list if additional.dataframes is not null.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
try({
small_vgm &lt;- VGM_build(
VDJ = small_vgm[[1]],
GEX = small_vgm[[2]],
columns.to.transfer = 'all') #transfer all new columns
})

</code></pre>


</div>