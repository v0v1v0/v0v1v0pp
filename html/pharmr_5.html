<div class="container">

<table style="width: 100%;"><tr>
<td>add_covariate_effect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>add_covariate_effect</h2>

<h3>Description</h3>

<p>Adds covariate effect to :class:<code>pharmpy.model</code>.
</p>
<p>The following effects have templates:
</p>

<ul>
<li>
<p> Linear function for continuous covariates (<em>lin</em>)
</p>
</li>
<li>
<p> Function:
</p>
</li>
</ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul>
<li>
<p> Init:  0.001
</p>
</li>
<li>
<p> Upper:
</p>
</li>
<li>
<p> If median of covariate equals minimum: 100,000
</p>
</li>
<li>
<p> Otherwise: (equation could not be rendered, see API doc on website)
</p>
</li>
<li>
<p> Lower:
</p>
</li>
<li>
<p> If median of covariate equals maximum: -100,000
</p>
</li>
<li>
<p> Otherwise: (equation could not be rendered, see API doc on website)
</p>
</li>
<li>
<p> Linear function for categorical covariates (<em>cat</em>)
</p>
</li>
<li>
<p> Function:
</p>
</li>
<li>
<p> If covariate is the most common category:
</p>
</li>
</ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul><li>
<p> For each additional category:
</p>
</li></ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul>
<li>
<p> Init: 0.001
</p>
</li>
<li>
<p> Upper: 5
</p>
</li>
<li>
<p> Lower: -1
</p>
</li>
<li>
<p> (alternative) Linear function for categorical covariates (<em>cat2</em>)
</p>
</li>
<li>
<p> Function:
</p>
</li>
<li>
<p> If covariate is the most common category:
</p>
</li>
</ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul><li>
<p> For each additional category:
</p>
</li></ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul>
<li>
<p> Init: 0.001
</p>
</li>
<li>
<p> Upper: 6
</p>
</li>
<li>
<p> Lower: 0
</p>
</li>
<li>
<p> Piecewise linear function/"hockey-stick", continuous covariates only (<em>piece_lin</em>)
</p>
</li>
<li>
<p> Function:
</p>
</li>
<li>
<p> If cov &lt;= median:
</p>
</li>
</ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul><li>
<p> If cov &gt; median:
</p>
</li></ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul>
<li>
<p> Init: 0.001
</p>
</li>
<li>
<p> Upper:
</p>
</li>
<li>
<p> For first state: (equation could not be rendered, see API doc on website)
</p>
</li>
<li>
<p> Otherwise: 100,000
</p>
</li>
<li>
<p> Lower:
</p>
</li>
<li>
<p> For first state: -100,000
</p>
</li>
<li>
<p> Otherwise: (equation could not be rendered, see API doc on website)
</p>
</li>
<li>
<p> Exponential function, continuous covariates only (<em>exp</em>)
</p>
</li>
<li>
<p> Function:
</p>
</li>
</ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul>
<li>
<p> Init:
</p>
</li>
<li>
<p> If lower &gt; 0.001 or upper &lt; 0.001: (equation could not be rendered, see API doc on website)
</p>
</li>
<li>
<p> If estimated init is 0: (equation could not be rendered, see API doc on website)
</p>
</li>
<li>
<p> Otherwise: 0.001
</p>
</li>
<li>
<p> Upper:
</p>
</li>
<li>
<p> If min - median = 0 or max - median = 0: 100
</p>
</li>
<li>
<p> Otherwise:
</p>
</li>
</ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul>
<li>
<p> Lower:
</p>
</li>
<li>
<p> If min - median = 0 or max - median = 0: 0.01
</p>
</li>
<li>
<p> Otherwise:
</p>
</li>
</ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul>
<li>
<p> Power function, continuous covariates only (<em>pow</em>)
</p>
</li>
<li>
<p> Function:
</p>
</li>
</ul>
<p>(equation could not be rendered, see API doc on website)
</p>

<ul>
<li>
<p> Init: 0.001
</p>
</li>
<li>
<p> Upper: 100,000
</p>
</li>
<li>
<p> Lower: -100
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">add_covariate_effect(
  model,
  parameter,
  covariate,
  effect,
  operation = "*",
  allow_nested = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>(Model) Pharmpy model to add covariate effect to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>(str) Name of parameter to add covariate effect to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariate</code></td>
<td>
<p>(str) Name of covariate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effect</code></td>
<td>
<p>(str) Type of covariate effect. May be abbreviated covariate effect (see above) or custom.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>operation</code></td>
<td>
<p>(str) Whether the covariate effect should be added or multiplied (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_nested</code></td>
<td>
<p>(logical) Whether to allow adding a covariate effect when one already exists for
the input parameter-covariate pair.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>(Model) Pharmpy model object
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
model &lt;- load_example_model("pheno")
model &lt;- add_covariate_effect(model, "CL", "APGR", "exp")
model$statements$before_odes$full_expression("CL")

## End(Not run)

</code></pre>


</div>