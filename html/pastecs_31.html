<div class="container">

<table style="width: 100%;"><tr>
<td>local.trend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Calculate local trends using cumsum </h2>

<h3>Description</h3>

<p>A simple method using cumulated sums that allows to detect changes in the
tendency in a time series
</p>


<h3>Usage</h3>

<pre><code class="language-R">local.trend(x, k=mean(x), plotit=TRUE, type="l", cols=1:2, ltys=2:1,
    xlab="Time", ylab="cusum", ...)
## S3 method for class 'local.trend'
identify(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> a regular time series (a 'ts' object) for <code>local.trend()</code> or a
'local.trend' object for <code>identify()</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p> the reference value to substract from cumulated sums. By default, it
is the mean of all observations in the series </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotit</code></td>
<td>
<p> if <code>plotit=TRUE</code> (by default), a graph with the cumsum
curve superposed to the original series is plotted </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p> the type of plot (as usual notation for this argument) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p> colors to use for original data and for the trend line </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ltys</code></td>
<td>
<p> line types to use for original data and the trend line </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p> label of the x-axis </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p> label of the y-axis </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> additional arguments for the graph </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With <code>local.trend()</code>, you can:
</p>
<p>- detect changes in the mean value of a time series
</p>
<p>- determine the date of occurence of such changes
</p>
<p>- estimate the mean values on homogeneous intervals
</p>


<h3>Value</h3>

<p>a 'local.trend' object is returned. It has the method <code>identify()</code>
</p>


<h3>Note</h3>

<p>Once transitions are identified with this method, you can use
<code>stat.slide()</code> to get more detailed information on each phase. A
smoothing of the series using running medians (see <code>decmedian()</code>) allows
also to detect various levels in a time series, but according to the median
statistic. Under <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span>, see also the 'strucchange' package for a more complete,
but more complex, implementation of cumsum applied to time series. </p>


<h3>Author(s)</h3>

<p> Frédéric Ibanez (<a href="mailto:ibanez@obs-vlfr.fr">ibanez@obs-vlfr.fr</a>), Philippe Grosjean (<a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a>) </p>


<h3>References</h3>

 
<p>Ibanez, F., J.M. Fromentin &amp; J. Castel, 1993. <em>Application de la méthode
des sommes cumulées à l'analyse des séries chronologiques océanographiques.</em>
C. R. Acad. Sci. Paris, Life Sciences, 316:745-748.
</p>


<h3>See Also</h3>

 <p><code>trend.test</code>, <code>stat.slide</code>,
<code>decmedian</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">data(bnr)
# Calculate and plot cumsum for the 8th series
bnr8.lt &lt;- local.trend(bnr[,8])
# To identify local trends, use:
# identify(bnr8.lt)
# and click points between which you want to compute local linear trends...
</code></pre>


</div>