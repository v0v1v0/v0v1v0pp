<div class="container">

<table style="width: 100%;"><tr>
<td>group</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Group Preferences</h2>

<h3>Description</h3>

<p>Create an object of class <code>grouped_preferences</code> which associates a
group index with an object of class <code>preferences</code>. This allows the
preferences to be linked to covariates with group-specific values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">group(x, ...)

## S3 method for class 'preferences'
group(x, index, ...)

## S3 method for class 'grouped_preferences'
x[i, j, ...]

## S3 method for class 'grouped_preferences'
format(x, max = 2L, width = 20L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>preferences</code> object for <code>group()</code>; otherwise a
<code>grouped_preferences</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to
<code>as.preferences</code> by <code>grouped_preferences</code>; unused by
<code>format</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>A numeric vector or a factor with length equal to the number of
preferences specifying the subject for each set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>Indices specifying groups to extract, may be any data type accepted
by <code>[</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>Indices specifying items to extract.
object, otherwise return a matrix/vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>The maximum number of preferences to format per subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>The maximum width in number of characters to format the
preferences.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>grouped_preferences</code>, which is a vector of
of group IDs with the following attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>preferences</code></td>
<td>
<p> The <code>preferences</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p> An index matching each preference set to each group ID.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
# ungrouped preferences (5 preference sets, 4 items)
R &lt;- as.preferences(
  matrix(c(
    1, 2, 0, 0,
    0, 2, 1, 0,
    0, 0, 1, 2,
    2, 1, 0, 0,
    0, 1, 2, 3
  ), ncol = 4, byrow = TRUE),
  format = "ranking",
  item_names = LETTERS[1:4]
)
length(R)

# group preferences (first three in group 1, next two in group 2)
G &lt;- group(R, c(1, 1, 1, 2, 2))
length(G)

## by default up to 2 preference sets are shown per group, "..." indicates if
## there are further preferences
G
print(G, max = 1)

## select preferences from group 1
G[1, ]

## exclude item 3 from preferences
G[, -3]

## Project preferences in all groups to their first preference
G[, 1, by.rank = TRUE]

## preferences from group 2, excluding item 3
## - note group 2 becomes the first (and only) group
G[2, -3]

# Group preferences by a factor
G &lt;- group(R, factor(c("G1", "G1", "G1", "G2", "G2")))

G
print(G, max = 1)

## select preferences from group G1
G["G1"]

</code></pre>


</div>