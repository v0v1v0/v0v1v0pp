<div class="container">

<table style="width: 100%;"><tr>
<td>plpanel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Panel function for multiple plots</h2>

<h3>Description</h3>

<p>Draw a scatterplot or multibox plot, usuallly after <code>pl.control</code>
and <code>plframe</code> have been called. 
May also be used to augment an existing plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plpanel(x = NULL, y = NULL, indx = NULL, indy = NULL, type = "p",
  frame = FALSE, title = FALSE,
  plargs = NULL, ploptions = NULL, marpar = NULL, ...)

panelSmooth(x, y, indx, indy, plargs = NULL, ...)

plpanelCond(x, y, ckeyx, ckeyy, pch = 1, pcol = 1, psize = 1,
  pale = c(0.2, 0.6), csize = 0.8,
  smooth = NULL, smooth.minobs = NULL, plargs = NULL, ploptions = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>values of the horizontal variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>values of the vertical variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indx</code></td>
<td>
<p>index of the variable shown horizontally, among the
<code>y</code> variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indy</code></td>
<td>
<p>index of the variable shown horizontally, among the
<code>y</code> variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of plot as usual in R: "p" for points, ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frame</code></td>
<td>
<p>logical: should <code>plframe</code> be called?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>logical: should <code>pltitle</code> be called?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ckeyx, ckeyy</code></td>
<td>
<p>vectors of 'keys' to calculate paling values and
weights for smoothing. NA means that points should not be shown
in this panel. 0 means no paling and weight 1.
Other values are between -1 and 1,
<code>cpl=(1-abs(ckeyx))*(1-abs(ckeyy))</code> is used for paling and weights.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch, pcol, psize</code></td>
<td>
<p>vector of plotting symbols, colors and sizes
for plotting points
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pale</code></td>
<td>
<p>vector of length 2 indicating the range of paling values
obtained from <code>cpl</code> values from 1 to 0.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csize</code></td>
<td>
<p>factor applied to the character expansion of the points
with <code>cpl&lt;1</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>should a smooth line be drawn?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth.minobs</code></td>
<td>
<p>minimum number of points required for calculating
and showing a smooth line
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plargs, ploptions</code></td>
<td>
<p>result of calling <code>pl.control</code>.
If <code>plargs</code> is <code>NULL</code>, <code>pl.control</code> will be called to
generate it.
The components are often needed to generate the panel.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marpar</code></td>
<td>
<p>margin parameters, if already available.
By default, they will be retieved from <code>ploptions</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to
<code>plpoints, plmboxes, plsmooth</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The panel function <code>plpanel</code> draws a scatterplot if both
<code>x</code> and <code>y</code> are
numerical, and a multibox plot if one of them is a factor and
<code>ploptions$factor.show == "mbox"</code>.<br>
Grouping, reference and smooth lines and properties of the points
are determined by the component of <code>plargs</code> in <code>plpanel</code>.
</p>
<p>This function is usually called by the high level pl functions
<code>plyx</code> and <code>plmatrix</code>.
A different suitable function can be used by setting their
argument <code>panel</code>.
</p>
<p>The first arguments, <code>x</code> and <code>y</code>,
can be formulas, and an argument <code>data</code> can be given.
These arguments then have the same meaning as in <code>plyx</code>,
with the restriction that only one variable should result for
the <code>x</code> and <code>y</code> coordinates in the plot.
When <code>frame</code> is true, <code>plpanel</code> can be used instead of
<code>plyx</code> for generating a single plot.
Note that <code>plpanel</code> does not modify <code>pl.envir</code>,
in contrast to <code>plyx</code>.
</p>
<p><code>plpanelCond</code> shows selected points only and may show
some of them with reduced size and paled color.
It is appropriate for the high level function <code>plcond</code>.
</p>


<h3>Value</h3>

<p>none
</p>


<h3>Note</h3>

<p>These functions are rarely called by the user.
The intention is to modify ond of them and then call the modified
version when using <code>plyx, plmatrix</code> or
<code>plcond</code> by setting <code>panel=mypanel</code>.
</p>


<h3>Author(s)</h3>

<p>Werner A. Stahel, ETH Zurich</p>


<h3>See Also</h3>

<p><code>plyx</code> is essentially a wrapper function of
<code>plpanel</code> which calls <code>pl.control</code> and provides additional
features.
<code>plmatrix</code> also uses <code>plpanel</code>, whereas
<code>plcond</code> uses <code>plpanelCond</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">t.plargs &lt;-
  pl.control(~Species+Petal.Length, ~Sepal.Width+Sepal.Length,
             data=iris, smooth.group=Species, pcol=Species)
t.plargs$ploptions$group.col &lt;- c("magenta","orange","cyan")
plpanel(iris$Petal.Length, iris$Petal.Width, plargs=t.plargs,
        frame=TRUE)
</code></pre>


</div>