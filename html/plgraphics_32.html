<div class="container">

<table style="width: 100%;"><tr>
<td>gendateaxis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a variable expressing time with its attributes for plotting
</h2>

<h3>Description</h3>

<p><code>gendateaxis</code> generates suitable attributes for
plotting a date or time variable.<br><code>gendate</code> generates a date variable and is an extension of
<code>as.POSIXct</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gendate(date = NULL, year = 2000, month = 1, day = 1, hour = 0, 
  min = 0, sec = 0, data = NULL, format = "y-m-d", origin = NULL)

gendateaxis(date = NULL, year = 2000, month = 1, day = 1, hour = 0,
  min = 0, sec = 0, data = NULL, format = "y-m-d", origin = NULL,
  ploptions=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>date</code></td>
<td>
<p>vector of class <code>dates</code> or <code>chron</code> or vector
to be converted into such an object. May also be the name of such
a variable contained in <code>data</code>.
If <code>date</code> has class <code>dates</code> or <code>chron</code>, the arguments
<code>year, month</code> and <code>day</code> are ignored. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year, month, day, hour, min, sec</code></td>
<td>
<p>numeric vectors giving the
year, month, day of month, hour, minute, second â€“ or the name of such a
variable contained in <code>data</code>.
<code>day, hour, min, sec</code> can be fractional, see Details.
If these arguments are used, the supersede the respective parts in
<code>date</code>.
</p>
</td>
</tr>
</table>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame, where variables can be found
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>format for <code>date</code> in case that the latter is
a character vector
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>year of origin for dates, defaults to
<code>ploptions("date.origin")</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ploptions</code></td>
<td>
<p>list pl options, generated by <code>pl.control</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>hour</code> is fractional, e.g., 6.2, the fraction is respected,
that is, it will be the same as time <code>06:12</code>.
If <code>min</code> is also given, the fraction of <code>hour</code> is ignored.
Similar for <code>day</code> and <code>min</code>.
<br>
If <code>hour</code> is <code>&gt;=24</code>, the <code>day</code> is augmented by
<code>hour%/%24</code> and the hour is set to <code>hour%%24</code>.
Similar for <code>min</code> and <code>sec</code>.
</p>


<h3>Value</h3>

<p>For <code>gendate</code>, a vector of times in <code>POSIXct</code> format.<br>
For <code>gendateaxis</code>, this is augmented by the attribute
</p>
<table><tr style="vertical-align: top;">
<td><code>numvalues</code></td>
<td>
<p>numerical values used for plotting.
If years, months or days vary in the data, the units are days.
Otherwise, they are hours, minutes, or seconds, depending on the
highest category that varies.
</p>
</td>
</tr></table>
<p>Unless the dates only cover one of the categories
(only years differ, or only months, ...), the following plotting
attributes are added:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ticksat</code></td>
<td>
<p>vector where tickmarks are shown.
It contains its own attribute <code>small</code> if secondary ticks are
suitable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ticklabels</code></td>
<td>
<p>May be years, quarters, month names, days, ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ticklabelsat</code></td>
<td>
<p>vecor of coordinates to place the ticklabels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>equals "", since the time scale makes it clear enough
that the axis represents time.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Werner A. Stahel
</p>


<h3>See Also</h3>

<p><code>genvarattributes, axis.Date</code>

</p>


<h3>Examples</h3>

<pre><code class="language-R">## call gendateaxis without 'real' data
tt &lt;- gendate(year=rep(2010:2012, each=12), month=rep(1:12, 3))
ta &lt;- gendateaxis(tt)

## ... derived from data
data(d.river)
d.river$dt &lt;- gendateaxis(date="date", hour="hour", data=d.river)
plyx(O2~dt, data=d.river, subset=months(date)!="Sep")
plyx(O2~dt, data=d.river[months(d.river$date)!="Sep",])
plyx(O2~dt, data=d.river, subset=1:1000)
</code></pre>


</div>