<div class="container">

<table style="width: 100%;"><tr>
<td>weights_subpops</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get weights for individuals that balance subpopulations</h2>

<h3>Description</h3>

<p>This function returns positive weights that sum to one for individuals using subpopulation labels, such that every subpopulation receives equal weight.
In particular, if there are <code>K</code> subpopulations, then the sum of weights for every individuals of a given subpopulation will equal <code>1 / K</code>.
The weight of every individual is thus inversely proportional to the number of individuals in its subpopulation.
If the optional sub-subpopulation labels are also provided, then each sub-subpopulation within a given subpopulation is also weighted equally.
</p>


<h3>Usage</h3>

<pre><code class="language-R">weights_subpops(subpops, subsubpops = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>subpops</code></td>
<td>
<p>The length-<code>n</code> vector of subpopulation assignments for each individual.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsubpops</code></td>
<td>
<p>The optional length-<code>n</code> vector of sub-subpopulation assignments for each individual.
Each sub-subpopulation must belong to a single subpopulation (a nested hierarchy) or an error is produced.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The length-<code>n</code> vector of weights for each individual.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># if every individual has a different subpopulation, weights are uniform:
subpops &lt;- 1:10
weights &lt;- weights_subpops( subpops )
stopifnot( all( weights == rep.int( 1/10, 10 ) ) )

# subpopulations can be strings too
subpops &lt;- c('a', 'b', 'c')
weights &lt;- weights_subpops( subpops )
stopifnot( all( weights == rep.int( 1/3, 3 ) ) )

# if there are two subpopulations
# and the first has twice as many individuals as the second
# then the individuals in this first subpopulation weight half as much 
# as the ones in the second subpopulation
subpops &lt;- c(1, 1, 2)
weights &lt;- weights_subpops( subpops )
stopifnot( all( weights == c( 1/4, 1/4, 1/2 ) ) )

# 2-level hierarchy example
subpops &lt;- c(1, 1, 1, 2, 2)
subsubpops &lt;- c('a', 'b', 'b', 'c', 'd')
weights &lt;- weights_subpops( subpops, subsubpops )
stopifnot( all( weights == c( 1/4, 1/8, 1/8, 1/4, 1/4 ) ) )

</code></pre>


</div>