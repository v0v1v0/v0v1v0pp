<div class="container">

<table style="width: 100%;"><tr>
<td>plot_survival</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Survival Curve</h2>

<h3>Description</h3>

<p>Plot KM curve with right censoring data or the survival curve of a fitted piecewise exponential model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## Default S3 method:
plot_survival(time, event, add=FALSE, conf.int=FALSE, mark.time=TRUE,
       lwd=2, xlab='Follow-up time', ylab='Survival function', ...)
## S3 method for class 'pwexp.fit'
plot_survival(time, add=TRUE, show_breakpoint=TRUE,
       breakpoint_par=NULL, ...)
## S3 method for class 'boot.pwexp.fit'
plot_survival(time, add=TRUE, alpha=0.1, show_breakpoint=TRUE,
       breakpoint_par=NULL, show_CI=TRUE, CI_par=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>observed time from randomization or a <code>pwexp.fit</code>/ <code>boot.pwexp.fit</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>the status indicator, normally 0=censor, 1=event. Other choices are TRUE/FALSE (TRUE = event). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>logical; if TRUE add lines to current plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_breakpoint</code></td>
<td>
<p>logical; if TRUE add vertial dashed lines to indicate breakpoints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breakpoint_par</code></td>
<td>
<p>a list of parameters to control the apperance of vertical lines of breakpoionts. The values pass to <code>abline</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>the significance level of the confidence interval. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_CI</code></td>
<td>
<p>logical; if TRUE add confidence interval of the estimated curve. For KM esitmator, use <code>conf.int=TRUE</code> to show CI band.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI_par</code></td>
<td>
<p>a list of parameters to control the apperance of lines of confidence intervals. The values pass to <code>lines</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>determines whether pointwise confidence intervals will be plotted. Passed over to <code>plot.survfit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mark.time</code></td>
<td>
<p>controls the labeling of the curves. Passed over to <code>plot.survfit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width of the KM curve. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>x label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>y label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments are passed over to <code>plot.survfit</code> (default method) or <code>plot</code> (for class <code>pwexp.fit</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For the default method, this a  wrapper of <code>plot.survfit</code> function to plot right censoring data.
</p>
<p>For class <code>pwexp.fit</code>, parameters in <code>...</code> are passed to <code>plot</code> function to control the appearance of the survival curve; parameters in <code>breakpoint_par</code> are passed to <code>abline</code> function to control the appearance of vertical lines of breakpoints. See examples for usage.
</p>
<p>For class <code>boot.pwexp.fit</code>, parameters in <code>...</code> are passed to <code>plot</code> function to control the appearance of the survival curve; parameters in <code>breakpoint_par</code> are passed to <code>abline</code> function to control the appearance of vertical lines of breakpoints; parameters in <code>CI_par</code> are passed to <code>lines</code> function to control the appearance of confidence intervals. See examples for usage.
</p>


<h3>Value</h3>

<p>No return value.
</p>


<h3>Author(s)</h3>

<p>Tianchen Xu <a href="mailto:zjph602xutianchen@gmail.com">zjph602xutianchen@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>plot_event</code></p>


<h3>Examples</h3>

<pre><code class="language-R">event_dist &lt;- function(n)rpwexp(n, rate = c(0.1, 0.01, 0.2), breakpoint =  c(5,14))
dat &lt;- simdata(rand_rate = 20, drop_rate = 0.03,  total_sample = 1000,
               advanced_dist = list(event_dist=event_dist),
               add_column = c('censor_reason','event','followT','followT_abs'))

plot_survival(dat$followT, dat$event, xlim=c(0,40))

fit_res &lt;- pwexp.fit(dat$followT, dat$event, nbreak = 2)
plot_survival(fit_res, col='red', lwd=3, breakpoint_par = list(col='grey', lwd=2.5))
</code></pre>


</div>