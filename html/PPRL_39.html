<div class="container">

<table style="width: 100%;"><tr>
<td>SelectSimilarityFunction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Select Similarity Function for Linkage
</h2>

<h3>Description</h3>

<p>To call <code>DeterministicLinkage</code> or <code>ProbabilisticLinkage</code>
it is mandatory to select a similarity function for each variable. Each element of the setup contains the two variable names and the method. For some methods further informations can be entered.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SelectSimilarityFunction(variable1, variable2,
  method = "jw",
  ind_c0 = FALSE, ind_c1 = FALSE,
  m = 0.9, u = 0.1, p = 0.05, epsilon = 0.0004,
  lower = 0.0, upper = 0.0,
  threshold = 0.85, jaroWeightFactor = 1.0, lenNgram = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>variable1</code></td>
<td>
<p>name of linking variable 1 in the data.frame. The column must be of type character, numeric or integer,  containing the data to be merged. The data vector must have the same length as the ID vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable2</code></td>
<td>
<p>name of linking variable 2 in the data.frame. The column must be of type character, numeric or integer,  containing the data to be merged. The data vector must have the same length as the ID vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>linking method. Possible values are:
</p>

<ul>
<li>
<p> 'exact' = Exact matching
</p>
</li>
<li>
<p> 'exactCL' = Exact matching using capital letters
</p>
</li>
<li>
<p> 'LCS' = Longest Common Subsequence
</p>
</li>
<li>
<p> 'lv' = Levenshtein distance
</p>
</li>
<li>
<p> 'dl' = Damerau Levenshtein distance
</p>
</li>
<li>
<p> 'jaro' = Jaro similarity
</p>
</li>
<li>
<p> 'jw' = Jaro-Winkler similarity
</p>
</li>
<li>
<p> 'jw2' = Modified Jaro-Winkler similarity
</p>
</li>
<li>
<p> 'ngram' = n-gram similarity
</p>
</li>
<li>
<p> 'Gcp' = German census phonetic (Baystat)
</p>
</li>
<li>
<p> 'Reth' = Reth-Schek (IBM) phonetic
</p>
</li>
<li>
<p> 'Soundex' = Soundex phonetic
</p>
</li>
<li>
<p> 'Metaphone' = Metaphone phonetic
</p>
</li>
<li>
<p> 'DoubleMetaphone' = Double Metaphone phonetic
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind_c0</code></td>
<td>
<p>Only used for jw2.
</p>
<p>Increase the probability of a match when the number of matched
characters is large. This option allows for a little more
tolerance when the strings are large. It is not an appropriate
test when comparing fixed length fields such as phone and
social security numbers. A nonzero value indicates the option is deactivated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind_c1</code></td>
<td>
<p>Only used for jw2.
</p>
<p>All lower case characters are converted to upper case prior
to the comparison. Disabling this feature means that the lower
case string "code" will not be recognized as the same as the
upper case string "CODE". Also, the adjustment for similar
characters section only applies to uppercase characters. A nonzero value indicates the option is deactivated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Initial m value for the EM algorithm. Only used when linking using <code>ProbabilisticLinkage</code>. 0.0 &lt; m &lt; 1.0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p>Initial u value for the EM algorithm. Only used when linking using <code>ProbabilisticLinkage</code>. 0.0 &lt; u &lt; 1.0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Initial p value for the EM algorithm. Only used when linking using <code>ProbabilisticLinkage</code>. 0.0 &lt; u &lt; 1.0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>
<p>epsilon is a stop criterum for the EM algorithm. The EM algorithm can be terminated when relative change of likelihood logarithm is less than epsilon. Only used when linking using <code>ProbabilisticLinkage</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>Matches lower than 'lower' are classified as non-match. Everything between 'lower' and 'upper' is classified as possible match. Only used when linking using <code>ProbabilisticLinkage</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>Matches higher than 'upper' are classified as match. Everything between 'lower' and 'upper' is classified as possible match. Only used when linking using <code>ProbabilisticLinkage</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>If using string similarities: Outputs only matches above the similarity threshold value. If using string distances: Outputs only matches below the set threshold distance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jaroWeightFactor</code></td>
<td>
<p>By the Jaro weight adjustment the matching weight is adjusted according to the degree of similarity between the
variable values. The weight factor which determines the Jaro adjusted matching weight. Only used when linking using <code>ProbabilisticLinkage</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lenNgram</code></td>
<td>
<p>Length of ngrams. Only used for the method ngram. Length of ngrams must be between 1 and 4.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Calling the function will not return anything.
</p>


<h3>References</h3>

<p>Christen, P. (2012): Data Matching - Concepts and Techniques for Record Linkage, Entity Resolution, and Duplicate Detection. Springer.
</p>
<p>Schnell, R., Bachteler, T., Reiher, J. (2004): A toolbox for record linkage. Austrian Journal of Statistics 33(1-2): 125-133.
</p>
<p>Winkler, W. E. (1988): Using the EM algorithm for weight computation in the Fellegi-Sunter model of record linkage. Proceedings of the Section on Survey Research Methods Vol. 667, American Statistical Association: 671.
</p>


<h3>See Also</h3>

<p><code>DeterministicLinkage</code>,
<code>ProbabilisticLinkage</code>,
<code>SelectBlockingFunction</code>,
<code>StandardizeString</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load test data
testFile &lt;- file.path(path.package("PPRL"), "extdata/testdata.csv")
testData &lt;- read.csv(testFile, head = FALSE, sep = "\t",
  colClasses = "character")

# define year of birth (V3) as blocking variable
bl &lt;- SelectBlockingFunction("V3", "V3", method = "exact")

# Select first name and last name as linking variables,
# to be linked using the jaro-winkler (first name)
# and exact matching (last name)
l1 &lt;- SelectSimilarityFunction("V7","V7", method = "jw",
  ind_c0 = FALSE, ind_c1 = FALSE , m = 0.9, u = 0.1,
  lower = 0.0, upper = 0.0)
l2 &lt;- SelectSimilarityFunction("V8","V8", method = "exact")

# Link the data as specified in bl and l1/l2
# (in this small example data is linked to itself)
res &lt;- ProbabilisticLinkage(testData$V1, testData,
  testData$V1, testData, similarity = c(l1, l2), blocking = bl)

</code></pre>


</div>