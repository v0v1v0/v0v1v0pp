<div class="container">

<table style="width: 100%;"><tr>
<td>optimize_design.calibrate_thresholds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Custom optimization method for <code>calibrate_thresholds</code> objects</h2>

<h3>Description</h3>

<p>Determines the optimal designs based on a variety of criteria.
The optimal efficiency design is the one with the shortest Euclidean
distance to the upper left point on a plot of the average sample size under
the null by the average sample size under the alternative. The optimal
accuracy design is the one with the shortest Euclidean distance to the
upper left point on a plot of the type I error by the power.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'calibrate_thresholds'
optimize_design(
  x,
  type1_range = c(0, 1),
  minimum_power = 0,
  w_type1 = 1,
  w_power = 1,
  w_Nnull = 1,
  w_Nalt = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class 'calibrate_thresholds', usually returned by the
<code>calibrate_thresholds</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type1_range</code></td>
<td>
<p>a vector specifying the minimum and maximum acceptable
type I error. Specify NULL to return the full range of resulting type I
error. Defaults to c(0, 1) to return all results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimum_power</code></td>
<td>
<p>a numeric between 0 and 1 specifying the minimum
acceptable power. Specify NULL to return the full range of resulting power.
Defaults to 0 to return all results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_type1</code></td>
<td>
<p>a user-specified weight on the type 1 error.
Defaults to 1 for no weighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_power</code></td>
<td>
<p>a user-specified weight on the power.
Defaults to 1 for no weighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_Nnull</code></td>
<td>
<p>a user-specified weight on the average sample size under the
null. Defaults to 1 for no weighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_Nalt</code></td>
<td>
<p>a user-specified weight on the average sample size under the
alternative. Defaults to 1 for no weighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of length two containing details of the optimal efficiency
and optimal accuracy designs
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Setting S = 50 and nsim = 50 for speed
# In practice you would want a much larger sample and more simulations

# One-sample case
set.seed(123)

cal_tbl1 &lt;- calibrate_thresholds(
  p_null = 0.1, 
  p_alt = 0.4,
  n = seq(5, 15, 5), 
  N = 15,
  pp_threshold = c(0.85, 0.9),
  ppp_threshold = c(0.1, 0.2),
  S = 10, 
  nsim = 10
  )

optimize_design(cal_tbl1)


# Two-sample case
set.seed(456)

cal_tbl2 &lt;- calibrate_thresholds(
  p_null = c(0.1, 0.1), 
  p_alt = c(0.1, 0.5),
  n = cbind(seq(5, 15, 5), seq(5, 15, 5)), 
  N = c(15, 15),
  pp_threshold = c(0.8, 0.85),
  ppp_threshold = c(0.2, 0.3),
  delta = 0,
  S = 10, 
  nsim = 10
  )

optimize_design(cal_tbl2)

</code></pre>


</div>