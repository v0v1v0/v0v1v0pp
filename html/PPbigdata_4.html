<div class="container">

<table style="width: 100%;"><tr>
<td>grandTourNugg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
1-dim/2-dim Grand Tour for Big Data based on Data Nuggets
</h2>

<h3>Description</h3>

<p>This function performs a 1-dim/2-dim grand tour path for big data based on constructed data nuggets. The grand tour finds projections at random.
</p>


<h3>Usage</h3>

<pre><code class="language-R">grandTourNugg(nugg, weight, dim, qt = 0.8,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nugg</code></td>
<td>
<p>Data nugget centers obtained from raw data. Must be a data matrix (of class matrix, or data.frame) with at least two columns.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>Vector of the weight parameter for each data nugget. Its length should be the same as the number of data nuggets, i.e., nrow(nugg). Must be of class numeric or integer.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>A numerical value indicating the target dimensionality for the tour. It's either 1 or 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qt</code></td>
<td>
<p>For projected plots of 2-dim tour, a scalar with value in <code>[0,1]</code> indicating the probability used to obtain a sample quantile of the data nugget weights as the maximal value to transform weights to colors for the plot. Defaults to be 0.8. See <code>plotNugg</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments sent to <code>animate</code>, <code>animate_xy</code>, <code>display_dist</code>, <code>display_xy</code>, <code>wtd.hist</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function performs a 1-dim/2-dim grand tour path for big data based on constructed data nuggets. The grand tour finds projections randomly.
</p>
<p>Data nuggets are a representative sample meant to summarize Big Data by reducing a large dataset to a much smaller dataset by eliminating redundant points while also preserving the peripheries of the dataset. Each data nugget is defined by a center (location), weight (importance), and scale (internal variability). Data nuggets for a large dataset could be created and refined by functions <code>create.DN</code> or <code>refine.DN</code> in the package <code>datanugget</code>.
</p>
<p>Based on the data nuggets from big data, a grand tour is performed to explore the multivariate data. It walks randomly to discover 1-dim/2-dim projections. This function for data nuggets is based on functions about grand tour in the package <code>tourr</code>. See details in <code>grand_tour</code>, <code>animate</code>, <code>animate_xy</code>, <code>display_dist</code>, and <code>display_xy</code>. For 2-dim grand tour, the projected data nugget centers are plotted with colors based on their weights where lighter green represents larger weights. For 1-dim grand tour, a weighted density histgram of 1-dim projected data nugget centers is plotted considering the data nugget weights. See details in <code>wtd.hist</code>. The loadings of each variable for projections are also shown at each step.
</p>


<h3>Value</h3>

<p>A list containing the bases, index values, and other information during the tour.
</p>


<h3>Author(s)</h3>

<p>Yajie Duan, Javier Cabrera
</p>


<h3>References</h3>

<p>Cook, D., Buja, A., Cabrera, J., &amp; Hurley, C. (1995). Grand tour and projection pursuit. Journal of Computational and Graphical Statistics, 4(3), 155-172.
</p>
<p>Cook, D., Buja, A., &amp; Cabrera, J. (1993). Projection pursuit indexes based on orthonormal function expansions. Journal of Computational and Graphical Statistics, 2(3), 225-250.
</p>
<p>Wickham, H., Cook, D., Hofmann, H., &amp; Buja, A. (2011). tourr: An R package for exploring multivariate data with projections. Journal of Statistical Software, 40, 1-18.
</p>
<p>Beavers, T. E., Cheng, G., Duan, Y., Cabrera, J., Lubomirski, M., Amaratunga, D., &amp; Teigler, J. E. (2024). Data Nuggets: A Method for Reducing Big Data While Preserving Data Structure. Journal of Computational and Graphical Statistics, (just-accepted), 1-21.
</p>
<p>Duan, Y., Cabrera, J., &amp; Emir, B. (2023). A New Projection Pursuit Index for Big Data. ArXiv:2312.06465. https://doi.org/10.48550/arXiv.2312.06465
</p>


<h3>See Also</h3>

<p><code>PPnugg</code>, <code>NHnugg</code>,<code>create.DN</code>, <code>refine.DN</code>, <code>guided_tour</code>, <code>animate</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  require(datanugget)

  #4-dim small example with cluster stuctures in V3 and V4
  X = cbind.data.frame(V1 = rnorm(5*10^3,mean = 5,sd = 2),
                       V2 = rnorm(5*10^3,mean = 5,sd = 1),
                       V3 = c(rnorm(3*10^3,sd = 0.3),
                              rnorm(2*10^3,mean = 2, sd = 0.3)),
                       V4 = c(rnorm(1*10^3,mean = -8, sd = 1),
                              rnorm(3*10^3,mean = 0,sd = 1),
                              rnorm(1*10^3,mean = 7, sd = 1.5)))

  #raw data is recommended to be scaled firstly to generate data nuggets for Projection Pursuit
  X = as.data.frame(scale(X))

  #create data nuggets
  my.DN = create.DN(x = X,
                    R = 500,
                    delete.percent = .1,
                    DN.num1 = 500,
                    DN.num2 = 250,
                    no.cores = 0,
                    make.pbs = FALSE)


  #refine data nuggets
  my.DN2 = refine.DN(x = X,
                     DN = my.DN,
                     EV.tol = .9,
                     min.nugget.size = 2,
                     max.splits = 5,
                     no.cores = 0,
                     make.pbs = FALSE)

  #get nugget centers, weights, and scales
  nugg = my.DN2$`Data Nuggets`[,2:(ncol(X)+1)]
  weight = my.DN2$`Data Nuggets`$Weight
  scale = my.DN2$`Data Nuggets`$Scale

  #2-dim grand tour based on data nuggets
  grandTourNugg(nugg,weight,dim = 2,cex = 0.5)

  #1-dim grand tour based on data nuggets
  grandTourNugg(nugg,weight,dim = 1,density_max = 4.5)

</code></pre>


</div>