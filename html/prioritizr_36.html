<div class="container">

<table style="width: 100%;"><tr>
<td>add_cplex_solver</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a <em>CPLEX</em> solver</h2>

<h3>Description</h3>

<p>Specify that the
<a href="https://www.ibm.com/products/ilog-cplex-optimization-studio/cplex-optimizer"><em>IBM CPLEX</em></a> software
should be used to solve a conservation planning problem (IBM 2017) .
This function can also be used to customize the behavior of the solver.
It requires the <span class="pkg">cplexAPI</span> package to be installed
(see below for installation instructions).
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_cplex_solver(
  x,
  gap = 0.1,
  time_limit = .Machine$integer.max,
  presolve = TRUE,
  threads = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>problem()</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gap</code></td>
<td>
<p><code>numeric</code> gap to optimality. This gap is relative
and expresses the acceptable deviance from the optimal objective.
For example, a value of 0.01 will result in the solver stopping when
it has found a solution within 1% of optimality.
Additionally, a value of 0 will result in the solver stopping
when it has found an optimal solution.
The default value is 0.1 (i.e., 10% from optimality).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_limit</code></td>
<td>
<p><code>numeric</code> time limit (seconds) for generating solutions.
The solver will return the current best solution when this time limit is
exceeded. The default value is the largest integer value
(i.e., <code>.Machine$integer.max</code>), effectively meaning that solver
will keep running until a solution within the optimality gap is found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>presolve</code></td>
<td>
<p><code>logical</code> attempt to simplify the
problem before solving it? Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threads</code></td>
<td>
<p><code>integer</code> number of threads to use for the
optimization algorithm. The default value is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p><code>logical</code> should information be printed while solving
optimization problems? Defaults to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><a href="https://www.ibm.com/products/ilog-cplex-optimization-studio/cplex-optimizer"><em>IBM CPLEX</em></a> is a
commercial optimization software. It is faster than
the available open source solvers (e.g., <code>add_lpsymphony_solver()</code> and
<code>add_rsymphony_solver()</code>.
Although formal benchmarks examining the performance of this solver for
conservation planning problems have yet to be completed, preliminary
analyses suggest that it performs slightly slower than the <em>Gurobi</em>
solver (i.e., <code>add_gurobi_solver()</code>).
We recommend using this solver if the <em>Gurobi</em> solver is not available.
Licenses are available for the <em>IBM CPLEX</em> software to academics at no cost
(see &lt;  https://www.ibm.com/products/ilog-cplex-optimization-studio/cplex-optimizer&gt;).
</p>


<h3>Value</h3>

<p>An updated <code>problem()</code> object with the solver added to it.
</p>


<h3>Installation</h3>

<p>The <span class="pkg">cplexAPI</span> package is used to interface with <em>IBM CPLEX</em> software.
To install the package, the <em>IBM CPLEX</em> software must be installed
(see <a href="https://www.ibm.com/products/ilog-cplex-optimization-studio/cplex-optimizer">https://www.ibm.com/products/ilog-cplex-optimization-studio/cplex-optimizer</a>). Next, the <code>CPLEX_BIN</code>
environmental variable must be set to specify the file path for the
<em>IBM CPLEX</em> software. For example, on a Linux system,
this variable can be specified by adding the following text to the
<code style="white-space: pre;">⁠~/.bashrc⁠</code> file:
</p>
<div class="sourceCode"><pre>  export CPLEX_BIN="/opt/ibm/ILOG/CPLEX_Studio128/cplex/bin/x86-64_linux/cplex"
</pre></div>
<p>Please Note that you may need to change the version number in the file path
(i.e., <code>"CPLEX_Studio128"</code>). After specifying the <code>CPLEX_BIN</code>
environmental variable, the <span class="pkg">cplexAPI</span> package can be installed.
Since the <span class="pkg">cplexAPI</span> package is not available on the
the Comprehensive R Archive Network (CRAN), it must be installed from
<a href="https://github.com/cran/cplexAPI">its GitHub repository</a>. To
install the <span class="pkg">cplexAPI</span> package, please use the following code:
</p>
<div class="sourceCode"><pre>if (!require(remotes)) install.packages("remotes")
remotes::install_github("cran/cplexAPI")
</pre></div>
<p>For further details on installing this package, please consult the
<a href="https://github.com/cran/cplexAPI/blob/master/inst/INSTALL">installation instructions</a>.
</p>


<h3>References</h3>

<p>IBM (2017) IBM ILOG CPLEX Optimization Studio CPLEX User's Manual.
Version 12 Release 8. IBM ILOG CPLEX Division, Incline Village, NV.
</p>


<h3>See Also</h3>

<p>Other solvers: 
<code>add_cbc_solver()</code>,
<code>add_default_solver()</code>,
<code>add_gurobi_solver()</code>,
<code>add_highs_solver()</code>,
<code>add_lsymphony_solver</code>,
<code>add_rsymphony_solver()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# load data
sim_pu_raster &lt;- get_sim_pu_raster()
sim_features &lt;- get_sim_features()

# create problem
p &lt;-
  problem(sim_pu_raster, sim_features) %&gt;%
  add_min_set_objective() %&gt;%
  add_relative_targets(0.1) %&gt;%
  add_binary_decisions() %&gt;%
  add_cplex_solver(gap = 0.1, time_limit = 5, verbose = FALSE)

# generate solution
s &lt;- solve(p)

# plot solution
plot(s, main = "solution", axes = FALSE)

## End(Not run)
</code></pre>


</div>