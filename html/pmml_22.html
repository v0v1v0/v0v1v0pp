<div class="container">

<table style="width: 100%;"><tr>
<td>pmml.iForest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate PMML for an iForest object from the <b>isofor</b> package.</h2>

<h3>Description</h3>

<p>Generate PMML for an iForest object from the <b>isofor</b> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'iForest'
pmml(
  model,
  model_name = "isolationForest_Model",
  app_name = "SoftwareAG PMML Generator",
  description = "Isolation Forest Model",
  copyright = NULL,
  model_version = NULL,
  transforms = NULL,
  missing_value_replacement = NULL,
  anomaly_threshold = 0.6,
  parent_invalid_value_treatment = "returnInvalid",
  child_invalid_value_treatment = "asIs",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>An iForest object from package <b>isofor</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_name</code></td>
<td>
<p>A name to be given to the PMML model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>app_name</code></td>
<td>
<p>The name of the application that generated the PMML.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>description</code></td>
<td>
<p>A descriptive text for the Header element of the PMML.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>copyright</code></td>
<td>
<p>The copyright notice for the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_version</code></td>
<td>
<p>A string specifying the model version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transforms</code></td>
<td>
<p>Data transformations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing_value_replacement</code></td>
<td>
<p>Value to be used as the 'missingValueReplacement'
attribute for all MiningFields.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anomaly_threshold</code></td>
<td>
<p>Double between 0 and 1. Predicted values greater than this are classified as anomalies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parent_invalid_value_treatment</code></td>
<td>
<p>Invalid value treatment at the top MiningField level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>child_invalid_value_treatment</code></td>
<td>
<p>Invalid value treatment at the model segment MiningField level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function converts the iForest model object to the PMML format. The
PMML outputs the anomaly score as well as a boolean value indicating whether the
input is an anomaly or not. This is done by simply comparing the anomaly score with
<code>anomaly_threshold</code>, a parameter in the <code>pmml</code> function.
The iForest function automatically adds an extra level to all categorical variables,
labelled "."; this is kept in the PMML representation even though the use of this extra
factor in the predict function is unclear.
</p>


<h3>Value</h3>

<p>PMML representation of the <code>iForest</code> object.
</p>


<h3>Author(s)</h3>

<p>Tridivesh Jena
</p>


<h3>References</h3>

<p><a href="https://github.com/gravesee/isofor">isofor package on GitHub</a>
</p>


<h3>See Also</h3>

<p><code>pmml</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Build iForest model using iris dataset. Create an isolation
# forest with 10 trees. Sample 30 data points at a time from
# the iris dataset to fit the trees.
library(isofor)
data(iris)
mod &lt;- iForest(iris, nt = 10, phi = 30)

# Convert to PMML:
mod_pmml &lt;- pmml(mod)

## End(Not run)

</code></pre>


</div>