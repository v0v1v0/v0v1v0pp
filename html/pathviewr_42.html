<div class="container">

<table style="width: 100%;"><tr>
<td>rm_by_trajnum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Remove subjects by trajectory number</h2>

<h3>Description</h3>

<p>Specify a minimum number of trajectories that each subject must complete
during a treatment, trial, or session.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rm_by_trajnum(
  obj_name,
  trajnum = 5,
  mirrored = FALSE,
  treatment1,
  treatment2,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj_name</code></td>
<td>
<p>The input viewr object; a tibble or data.frame with attribute
<code>pathviewr_steps</code> that includes <code>"viewr"</code>. Trajectories must be
predefined (i.e. via <code>separate_trajectories()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trajnum</code></td>
<td>
<p>Minimum number of trajectories; must be numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mirrored</code></td>
<td>
<p>Does the data have mirrored treatments? If so, arguments
<code>treatment1</code> and <code>treatment2</code> must also be provided, indicating
the names of two mirrored treatments, both of which must meet the trajectory
threshold specified in <code>trajnum</code>. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment1</code></td>
<td>
<p>The first treatment or session during which the threshold
must be met.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment2</code></td>
<td>
<p>A second treatment or session during which the threshold
must be met.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to/from other pathviewr functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Depending on analysis needs, users may want to remove subjects that
have not completed a certain number of trajectories during a treatment,
trial, or session. If <code>mirrored = FALSE</code>, no treatment information is
necessary and subjects will be removed based on total number of trajectories
as specified in <code>trajnum</code>. If <code>mirrored = TRUE</code>, the
<code>treatment1</code> and <code>treatment2</code> parameters will allow users to
define during which treatments or sessions subjects must reach threshold as
specified in the <code>trajnum</code> argument. For example, if <code>mirrored =
 TRUE</code>, setting <code>treatment1 = "latA"</code>, <code>treatment2 = "latB"</code> and
<code>trajnum = 5</code> will remove subjects that have fewer than 5 trajectories
during the <code>"latA"</code> treatment AND the <code>"latB"</code> treatment.
<code>treatment1</code> and <code>treatment2</code> should be levels within a column
named <code>"treatment"</code>.
</p>


<h3>Value</h3>

<p>A viewr object; a tibble or data.frame with attribute
<code>pathviewr_steps</code> that includes <code>"viewr"</code> that now has fewer
observations (rows) as a result of removal of subjects with too few
trajectories according to the <code>trajnum</code> parameter.
</p>


<h3>Author(s)</h3>

<p>Melissa S. Armstrong
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(pathviewr)

## Import the example Motive data included in the package
motive_data &lt;-
  read_motive_csv(system.file("extdata", "pathviewr_motive_example_data.csv",
                              package = 'pathviewr'))

## Clean, isolate, and label trajectories
motive_full &lt;-
  motive_data %&gt;%
  clean_viewr(desired_percent = 50,
              max_frame_gap = "autodetect",
              span = 0.95)

##Remove subjects that have not completed at least 150 trajectories:
motive_rm_unmirrored &lt;-
  motive_full %&gt;%
  rm_by_trajnum(trajnum = 150)

## Add treatment information
motive_full$treatment &lt;- c(rep("latA", 100),
                           rep("latB", 100),
                           rep("latA", 100),
                           rep("latB", 149))

## Remove subjects by that have not completed at least 10 trajectories in
## both treatments
motive_rm_mirrored &lt;-
  motive_full %&gt;%
  rm_by_trajnum(
    trajnum = 10,
    mirrored = TRUE,
    treatment1 = "latA",
    treatment2 = "latB"
  )
</code></pre>


</div>