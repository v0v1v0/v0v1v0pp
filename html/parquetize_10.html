<div class="container">

<table style="width: 100%;"><tr>
<td>json_to_parquet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a json file to parquet format</h2>

<h3>Description</h3>

<p>This function allows to convert a <a href="https://www.json.org/json-en.html">json</a>
or <a href="https://docs.mulesoft.com/dataweave/latest/dataweave-formats-ndjson">ndjson</a> file to parquet format. <br></p>
<p>Two conversions possibilities are offered :
</p>

<ul>
<li>
<p>Convert to a single parquet file. Argument 'path_to_parquet' must then be used;
</p>
</li>
<li>
<p>Convert to a partitioned parquet file. Additionnal arguments 'partition' and 'partitioning' must then be used;
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">json_to_parquet(
  path_to_file,
  path_to_parquet,
  format = "json",
  partition = "no",
  compression = "snappy",
  compression_level = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path_to_file</code></td>
<td>
<p>String that indicates the path to the input file (don't forget the extension).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path_to_parquet</code></td>
<td>
<p>String that indicates the path to the directory where the parquet files will be stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>string that indicates if the format is "json" (by default) or "ndjson"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partition</code></td>
<td>
<p>String ("yes" or "no" - by default) that indicates whether you want to create a partitioned parquet file.
If "yes", '"partitioning"' argument must be filled in. In this case, a folder will be created for each modality of the variable filled in '"partitioning"'.
Be careful, this argument can not be "yes" if 'max_memory' or 'max_rows' argument are not NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compression</code></td>
<td>
<p>compression algorithm. Default "snappy".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compression_level</code></td>
<td>
<p>compression level. Meaning depends on compression algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional format-specific arguments, see <a href="https://arrow.apache.org/docs/r/reference/write_parquet.html">arrow::write_parquet()</a>
and <a href="https://arrow.apache.org/docs/r/reference/write_dataset.html">arrow::write_dataset()</a> for more informations.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A parquet file, invisibly
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Conversion from a local json file to a single parquet file ::

json_to_parquet(
  path_to_file = system.file("extdata","iris.json",package = "parquetize"),
  path_to_parquet = tempfile(fileext = ".parquet")
)

# Conversion from a local ndjson file to a partitioned parquet file  ::

json_to_parquet(
  path_to_file = system.file("extdata","iris.ndjson",package = "parquetize"),
  path_to_parquet = tempfile(fileext = ".parquet"),
  format = "ndjson"
)
</code></pre>


</div>