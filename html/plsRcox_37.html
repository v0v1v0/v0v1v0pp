<div class="container">

<table style="width: 100%;"><tr>
<td>cv.coxplsDR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross-validating a plsDR-Model</h2>

<h3>Description</h3>

<p>This function cross-validates coxplsDR models.<br></p>


<h3>Usage</h3>

<pre><code class="language-R">cv.coxplsDR(
  data,
  method = c("efron", "breslow"),
  nfold = 5,
  nt = 10,
  plot.it = TRUE,
  se = TRUE,
  givefold,
  scaleX = TRUE,
  folddetails = FALSE,
  allCVcrit = FALSE,
  details = FALSE,
  namedataset = "data",
  save = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A list of three items: </p>
 <ul>
<li>
<p><code>x</code> the explanatory
variables passed to <code>coxplsDR</code>'s <code>Xplan</code> argument,
</p>
</li>
<li>
<p><code>time</code> passed to <code>coxplsDR</code>'s <code>time</code> argument,
</p>
</li>
<li>
<p><code>status</code> <code>coxplsDR</code>'s <code>status</code> argument.  </p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A character string specifying the method for tie handling. If
there are no tied death times all the methods are equivalent. The Efron
approximation is used as the default here, it is more accurate when dealing
with tied death times, and is as efficient computationally.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfold</code></td>
<td>
<p>The number of folds to use to perform the cross-validation
process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nt</code></td>
<td>
<p>The number of components to include in the model. It this is not
supplied, 10 components are fitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.it</code></td>
<td>
<p>Shall the results be displayed on a plot ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>Should standard errors be plotted ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>givefold</code></td>
<td>
<p>Explicit list of omited values in each fold can be provided
using this argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleX</code></td>
<td>
<p>Shall the predictors be standardized ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folddetails</code></td>
<td>
<p>Should values and completion status for each folds be
returned ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allCVcrit</code></td>
<td>
<p>Should the other 13 CV criteria be evaled and returned ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>details</code></td>
<td>
<p>Should all results of the functions that perform error
computations be returned ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>namedataset</code></td>
<td>
<p>Name to use to craft temporary results names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>
<p>Should temporary results be saved ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Should some CV details be displayed ?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to pass to <code>coxplsDR</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It only computes the recommended iAUCSurvROC criterion. Set
<code>allCVcrit=TRUE</code> to retrieve the 13 other ones.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nt</code></td>
<td>
<p>The number of components requested</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error1</code></td>
<td>
<p>Vector with the mean values, across folds, of, per fold
unit, Cross-validated log-partial-likelihood for models with 0 to nt
components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error2</code></td>
<td>
<p>Vector with the mean values, across folds, of,
per fold unit, van Houwelingen Cross-validated log-partial-likelihood for
models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error3</code></td>
<td>
<p>Vector with the mean
values, across folds, of iAUC_CD for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error4</code></td>
<td>
<p>Vector with the mean values, across folds, of iAUC_hc for
models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error5</code></td>
<td>
<p>Vector with the mean
values, across folds, of iAUC_sh for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error6</code></td>
<td>
<p>Vector with the mean values, across folds, of iAUC_Uno for
models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error7</code></td>
<td>
<p>Vector with the mean
values, across folds, of iAUC_hz.train for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error8</code></td>
<td>
<p>Vector with the mean values, across folds, of iAUC_hz.test
for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error9</code></td>
<td>
<p>Vector with the mean
values, across folds, of iAUC_survivalROC.train for models with 0 to nt
components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error10</code></td>
<td>
<p>Vector with the mean values, across folds, of
iAUC_survivalROC.test for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error11</code></td>
<td>
<p>Vector with the mean values, across folds, of iBrierScore
unw for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error12</code></td>
<td>
<p>Vector with the
mean values, across folds, of iSchmidScore (robust BS) unw for models with 0
to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error13</code></td>
<td>
<p>Vector with the mean values, across
folds, of iBrierScore w for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error14</code></td>
<td>
<p>Vector with the mean values, across folds, of iSchmidScore
(robust BS) w for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se1</code></td>
<td>
<p>Vector with
the standard error values, across folds, of, per fold unit, Cross-validated
log-partial-likelihood for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se2</code></td>
<td>
<p>Vector with the standard error values, across folds, of, per
fold unit, van Houwelingen Cross-validated log-partial-likelihood for models
with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se3</code></td>
<td>
<p>Vector with the standard error
values, across folds, of iAUC_CD for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se4</code></td>
<td>
<p>Vector with the standard error values, across folds, of
iAUC_hc for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se5</code></td>
<td>
<p>Vector with the
standard error values, across folds, of iAUC_sh for models with 0 to nt
components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se6</code></td>
<td>
<p>Vector with the standard error values, across
folds, of iAUC_Uno for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se7</code></td>
<td>
<p>Vector
with the standard error values, across folds, of iAUC_hz.train for models
with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se8</code></td>
<td>
<p>Vector with the standard error
values, across folds, of iAUC_hz.test for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se9</code></td>
<td>
<p>Vector with the standard error values, across folds, of
iAUC_survivalROC.train for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se10</code></td>
<td>
<p>Vector with the standard error values, across folds, of
iAUC_survivalROC.test for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se11</code></td>
<td>
<p>Vector with the standard error values, across folds, of
iBrierScore unw for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se12</code></td>
<td>
<p>Vector
with the standard error values, across folds, of iSchmidScore (robust BS)
unw for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se13</code></td>
<td>
<p>Vector with the
standard error values, across folds, of iBrierScore w for models with 0 to
nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.se14</code></td>
<td>
<p>Vector with the standard error values, across
folds, of iSchmidScore (robust BS) w for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folds</code></td>
<td>
<p>Explicit list of the values that were omited values in each
fold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min1</code></td>
<td>
<p>Vector with the standard error values, across
folds, of, per fold unit, Cross-validated log-partial-likelihood for models
with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min2</code></td>
<td>
<p>Vector with the standard error
values, across folds, of, per fold unit, van Houwelingen Cross-validated
log-partial-likelihood for models with 0 to nt components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min1</code></td>
<td>
<p>Optimal Nbr of components, min Cross-validated
log-partial-likelihood criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se1</code></td>
<td>
<p>Optimal Nbr of
components, min+1se Cross-validated log-partial-likelihood criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min2</code></td>
<td>
<p>Optimal Nbr of components, min van Houwelingen
Cross-validated log-partial-likelihood.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se2</code></td>
<td>
<p>Optimal Nbr of
components, min+1se van Houwelingen Cross-validated log-partial-likelihood.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min3</code></td>
<td>
<p>Optimal Nbr of components, max iAUC_CD criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se3</code></td>
<td>
<p>Optimal Nbr of components, max+1se iAUC_CD criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min4</code></td>
<td>
<p>Optimal Nbr of components, max iAUC_hc criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se4</code></td>
<td>
<p>Optimal Nbr of components, max+1se iAUC_hc criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min5</code></td>
<td>
<p>Optimal Nbr of components, max iAUC_sh criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se5</code></td>
<td>
<p>Optimal Nbr of components, max+1se iAUC_sh criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min6</code></td>
<td>
<p>Optimal Nbr of components, max iAUC_Uno criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se6</code></td>
<td>
<p>Optimal Nbr of components, max+1se iAUC_Uno criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min7</code></td>
<td>
<p>Optimal Nbr of components, max iAUC_hz.train criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se7</code></td>
<td>
<p>Optimal Nbr of components, max+1se iAUC_hz.train
criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min8</code></td>
<td>
<p>Optimal Nbr of components, max iAUC_hz.test
criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se8</code></td>
<td>
<p>Optimal Nbr of components, max+1se
iAUC_hz.test criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min9</code></td>
<td>
<p>Optimal Nbr of components, max
iAUC_survivalROC.train criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se9</code></td>
<td>
<p>Optimal Nbr of
components, max+1se iAUC_survivalROC.train criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min10</code></td>
<td>
<p>Optimal Nbr of components, max iAUC_survivalROC.test
criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se10</code></td>
<td>
<p>Optimal Nbr of components, max+1se
iAUC_survivalROC.test criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min11</code></td>
<td>
<p>Optimal Nbr of
components, min iBrierScore unw criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se11</code></td>
<td>
<p>Optimal Nbr
of components, min+1se iBrierScore unw criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min12</code></td>
<td>
<p>Optimal Nbr of components, min iSchmidScore unw
criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se12</code></td>
<td>
<p>Optimal Nbr of components, min+1se
iSchmidScore unw criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min13</code></td>
<td>
<p>Optimal Nbr of components,
min iBrierScore w criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se13</code></td>
<td>
<p>Optimal Nbr of components,
min+1se iBrierScore w criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.min14</code></td>
<td>
<p>Optimal Nbr of
components, min iSchmidScore w criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda.se14</code></td>
<td>
<p>Optimal Nbr of
components, min+1se iSchmidScore w criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errormat1-14</code></td>
<td>
<p>If
<code>details=TRUE</code>, matrices with the error values for every folds across
each of the components and each of the criteria</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>completed.cv1-14</code></td>
<td>
<p>If
<code>details=TRUE</code>, matrices with logical values for every folds across
each of the components and each of the criteria: <code>TRUE</code> if the
computation was completed and <code>FALSE</code> it is failed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>All_indics</code></td>
<td>
<p>All results of the functions that perform error
computation, for each fold, each component and error criterion.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Frédéric Bertrand<br><a href="mailto:frederic.bertrand@utt.fr">frederic.bertrand@utt.fr</a><br><a href="http://www-irma.u-strasbg.fr/~fbertran/">http://www-irma.u-strasbg.fr/~fbertran/</a>
</p>


<h3>References</h3>

<p>plsRcox, Cox-Models in a high dimensional setting in R, Frederic
Bertrand, Philippe Bastien, Nicolas Meyer and Myriam Maumy-Bertrand (2014).
Proceedings of User2014!, Los Angeles, page 152.<br></p>
<p>Deviance residuals-based sparse PLS and sparse kernel PLS regression for
censored data, Philippe Bastien, Frederic Bertrand, Nicolas Meyer and Myriam
Maumy-Bertrand (2015), Bioinformatics, 31(3):397-404,
doi:10.1093/bioinformatics/btu660.
</p>
<p>Cross validating extensions of kernel, sparse or regular partial least
squares regression models to censored data, Bertrand, F., Bastien, Ph. and
Maumy-Bertrand, M. (2018), <a href="https://arxiv.org/abs/1810.01005">https://arxiv.org/abs/1810.01005</a>.
</p>


<h3>See Also</h3>

<p>See Also <code>coxplsDR</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(micro.censure)
data(Xmicro.censure_compl_imp)
set.seed(123456)
X_train_micro &lt;- apply((as.matrix(Xmicro.censure_compl_imp)),FUN="as.numeric",MARGIN=2)[1:80,]
X_train_micro_df &lt;- data.frame(X_train_micro)
Y_train_micro &lt;- micro.censure$survyear[1:80]
C_train_micro &lt;- micro.censure$DC[1:80]

#Should be run with a higher value of nt (at least 10)
(cv.coxplsDR.res=cv.coxplsDR(list(x=X_train_micro,time=Y_train_micro,status=C_train_micro),nt=3))

</code></pre>


</div>