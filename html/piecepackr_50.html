<div class="container">

<table style="width: 100%;"><tr>
<td>render_piece</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Render image of game pieces</h2>

<h3>Description</h3>

<p><code>render_piece()</code> renders an image of game pieces to a file or graphics device.
It is a wrapper around <code>pmap_piece()</code> that can auto-size files and graphic devices,
apply axes offsets, annotate coordinates, and set up <code>rayrender</code> / <code>rayvertex</code> scenes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">render_piece(
  df,
  file = NULL,
  ...,
  .f = piecepackr::grid.piece,
  cfg = getOption("piecepackr.cfg", NULL),
  envir = getOption("piecepackr.envir", game_systems("sans")),
  width = NULL,
  height = NULL,
  ppi = 72,
  bg = "white",
  xoffset = NULL,
  yoffset = NULL,
  new_device = TRUE,
  dev = NULL,
  dev.args = list(res = ppi, bg = bg, units = "in"),
  annotate = FALSE,
  annotation_scale = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of game piece information with (at least) the
named columns “piece_side”, “x”, and “y”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Filename to save image unless <code>NULL</code>
in which case it either uses the current graphics device or opens a new device
(depending on <code>new_device</code> argument).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to <code>pmap_piece()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.f</code></td>
<td>
<p>Low level graphics function to use e.g. <code>grid.piece()</code>, <code>piece3d()</code>, <code>piece_mesh()</code>, or <code>piece()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cfg</code></td>
<td>
<p>A piecepackr configuration list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>Environment (or named list) of piecepackr configuration lists</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>Width of image (in inches).  Inferred by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>Height of image (in inches).  Inferred by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ppi</code></td>
<td>
<p>Resolution of image in pixels per inch.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>Background color (use <code>"transparent"</code> for transparent)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xoffset</code></td>
<td>
<p>Number to add to the <code>x</code> column in <code>df</code>.  Inferred by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yoffset</code></td>
<td>
<p>Number to add to the <code>y</code> column in <code>df</code>.  Inferred by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_device</code></td>
<td>
<p>If <code>file</code> is <code>NULL</code> should we open up a new graphics device?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dev</code></td>
<td>
<p>Graphics device function to use.  If <code>NULL</code> infer a reasonable choice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dev.args</code></td>
<td>
<p>Additional arguments to pass to <code>dev</code> (besides <code>filename</code>, <code>width</code>, and <code>height</code>).
Will filter out any names that aren't in <code>formals(dev)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotate</code></td>
<td>
<p>If <code>TRUE</code> or <code>"algebraic"</code> annotate the plot
with “algrebraic” coordinates,
if <code>FALSE</code> or <code>"none"</code> don't annotate,
if <code>"cartesian"</code> annotate the plot with “cartesian” coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotation_scale</code></td>
<td>
<p>Multiplicative factor that scales (stretches) any annotation coordinates.
By default uses <code>attr(df, "scale_factor") %||% 1</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An invisible list of the dimensions of the image, as a side effect saves a graphic
</p>


<h3>See Also</h3>

<p>This function is a wrapper around <code>pmap_piece()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"> df_board &lt;- data.frame(piece_side = "board_face", suit = 3, rank = 5,
                        x = 3.0, y = 3.0, stringsAsFactors = FALSE)
 df_w &lt;- data.frame(piece_side = "bit_face", suit = 6, rank = 1,
                    x = rep(1:5, 2), y = rep(1:2, each=5),
                    stringsAsFactors = FALSE)
 df_b &lt;- data.frame(piece_side = "bit_face", suit = 1, rank = 1,
                    x = rep(1:5, 2), y = rep(4:5, each=5),
                    stringsAsFactors = FALSE)
 df &lt;- rbind(df_board, df_w, df_b)
 df$cfg &lt;- "checkers1"

 if (requireNamespace("grid", quietly = TRUE)) {
   render_piece(df, new_device = FALSE)
 }
 if (requireNamespace("grid", quietly = TRUE)) {
   grid::grid.newpage()
   render_piece(df, new_device = FALSE,
                op_scale = 0.5, trans = op_transform,
                annotate = "algrebraic")
 }
 ## Not run: # May take more than 5 seconds on CRAN servers
 if (require(rayvertex)) {
   envir3d &lt;- game_systems("sans3d")
   render_piece(df, .f = piece_mesh, envir = envir3d,
                op_scale = 0.5, trans = op_transform)
 }
 
## End(Not run)
</code></pre>


</div>