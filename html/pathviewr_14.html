<div class="container">

<table style="width: 100%;"><tr>
<td>gather_tunnel_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gather data columns into key-value pairs</h2>

<h3>Description</h3>

<p>Reformat <code>viewr</code> data into a "tidy" format so that every row corresponds
to the position (and potentially rotation) of a single subject during an
observed frame and time.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gather_tunnel_data(obj_name, NA_drop = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj_name</code></td>
<td>
<p>The input viewr object; a tibble or data.frame with attribute
<code>pathviewr_steps</code> that includes <code>"viewr"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_drop</code></td>
<td>
<p>Should rows with NAs be dropped? Defaults to <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments that can be passed to other <code>pathviewr</code>
functions such as <code>relabel_viewr_axes()</code> or <code>read_motive_csv()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The tibble or data.frame that is fed in must have variables that
have subject names and axis names separated by underscores. Axis names must
be one of the following: <code>position_length</code>, <code>position_width</code>, or
<code>position_height</code>. Each of these three dimensions must be present in the
data. Collectively, this means that names like <code>bird01_position_length</code>
or <code>larry_position_height</code> are acceptable, but <code>bird01_x</code> or
<code>bird01_length</code> are not.
</p>


<h3>Value</h3>

<p>A tibble in "tidy" format which is formatted to have every row
correspond to the position (and potentially rotation) of a single subject
during an observed frame and time. Subjects' names are automatically parsed
from original variable names (e.g. subject1_rotation_width extracts
"subject1" as the subject name) and stored in a <code>Subjects</code> column in the
returned tibble.
</p>


<h3>Author(s)</h3>

<p>Vikram B. Baliga
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code>get_full_trajectories()</code>,
<code>quick_separate_trajectories()</code>,
<code>redefine_tunnel_center()</code>,
<code>relabel_viewr_axes()</code>,
<code>rename_viewr_characters()</code>,
<code>rotate_tunnel()</code>,
<code>select_x_percent()</code>,
<code>separate_trajectories()</code>,
<code>standardize_tunnel()</code>,
<code>trim_tunnel_outliers()</code>,
<code>visualize_frame_gap_choice()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(pathviewr)

## Import the Motive example data included in the package
motive_data &lt;-
  read_motive_csv(system.file("extdata", "pathviewr_motive_example_data.csv",
                             package = 'pathviewr'))

## First use relabel_viewr_axes() to rename these variables using _length,
## _width, and _height instead
motive_data_relabeled &lt;- relabel_viewr_axes(motive_data)

## Now use gather_tunnel_data() to gather colums into tidy format
motive_data_gathered &lt;- gather_tunnel_data(motive_data_relabeled)

## Column names reflect the way in which data were reformatted:
names(motive_data_gathered)
</code></pre>


</div>