<div class="container">

<table style="width: 100%;"><tr>
<td>do_ordering</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Score and Order Data</h2>

<h3>Description</h3>

<p>Score and Order Data
</p>


<h3>Usage</h3>

<pre><code class="language-R">do_ordering(
  n_trials,
  id_list,
  df_list,
  n_replicates,
  verbose = FALSE,
  sort = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n_trials</code></td>
<td>
<p>The number of rows an individual sample will have.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_list</code></td>
<td>
<p>The list of unique individual or sample names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_list</code></td>
<td>
<p>The list of data frames per unique individual</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_replicates</code></td>
<td>
<p>The number of replicates in the study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A boolean parameter the defaults to FALSE. Determines whether messages are printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>A boolean parameter that defaults to TRUE. If TRUE, sorts the returned data frame by score. If FALSE, returns the data in the individual order it was provided in</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Performs the ordering of input data by scoring each individual data frame.
</p>
<p>The main function of the package, this will send each individuals data out
for scoring. Then, when all scores are computed, it will order the result
data frame by score and assign a rank.
</p>
<p>Ranks are assigned with ties allowed - if N individuals have a tie, their rank
is averaged. For example, if the max score is 1, and two individuals have
that score, their rank is 1.5
</p>


<h3>Value</h3>

<p>Returns a data frame of the results, in the following form:
</p>
<div class="sourceCode"><pre>     - Column 1: "individual" - the unique identifier of an individual or sample
     - Column 2: "n_crossings" - the calculated number of crossings.
     - Column 3: "max_variance" - the maximum of the variances of the replicate measurements at a single time for the individual or sample.
     - Column 4: "ave_variance" - the average of the variances of the replicate measurements at a single time for the individual or sample.
     - Column 5: "base_score" - the original, unnormalized profile repeatability score. Smaller numbers rank higher.
     - Column 6: "final_score" - the base score, normalized by the sigmoid function. Constrained to be between 0 and 1. Scores closer to 1 rank higher.
     - Column 7: "rank" - the calculated ranking of the individual or sample, against all other individuals or samples in the data set.
</pre></div>


<h3>Examples</h3>

<pre><code class="language-R">df &lt;- data.frame(
    col_a = c('A', 'A', 'B', 'B'),
    col_b = c(5, 15, 5, 15),
    col_c = c(5, 10, 1, 2),
    col_d = c(10, 15, 3, 4)
  )
id_list &lt;- unique(df[, 1])
individuals &lt;- list()
for (i in 1:length(id_list)) {
  individuals[[i]] &lt;- df[df[, 1] == id_list[i], ]
}
ret_df &lt;- do_ordering(n_trials=2, id_list=id_list, df_list=individuals, n_replicates=2)
print(ret_df)

</code></pre>


</div>