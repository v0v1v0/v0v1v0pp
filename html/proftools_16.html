<div class="container">

<table style="width: 100%;"><tr>
<td>plotProfileCallGraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Plot Call Graph for Rprof Profile Data </h2>

<h3>Description</h3>

<p>Uses the <span class="pkg">graph</span> and <span class="pkg">Rgraphviz</span> packages to plot a call graph for
profile data produced by <code>Rprof</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotProfileCallGraph(pd, layout = "dot",
                     score = c("none", "total", "self"),
                     transfer = function(x) x, nodeColorMap = NULL,
                     edgeColorMap = NULL, mergeCycles = FALSE,
                     edgesColored = FALSE, rankDir = c("TB", "LR"),
                     nodeDetails = FALSE, edgeDetails = FALSE,
                     nodeSizeScore = c("none", "total", "self"),
                     edgeSizeScore = c("none", "total"),
                     shape = "ellipse", style, GC = TRUE,
                     maxnodes = NA, total.pct = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pd</code></td>
<td>
<p>profile data as returned by <code>readProfileData</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout</code></td>
<td>
<p>The layout method to use: One of <code>"dot"</code>,
<code>"neato"</code>, and <code>"twopi"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>
<p> character string specifying whether to use total time
or self time for coloring nodes/edges; no color used if
missing. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transfer</code></td>
<td>
<p> function; maps score values in unit interval to unit
interval </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodeColorMap,edgeColorMap</code></td>
<td>
<p> character vectors of color
specifications as produced by <code>rainbow</code>; <code>transfer</code> of
score is mapped to color </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mergeCycles</code></td>
<td>
<p> logical; whether to merge each cycle of recursion into
a single node </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edgesColored</code></td>
<td>
<p> logical; whether to color edges </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rankDir</code></td>
<td>
<p> The direction that the plot is laid out in, one of
either <code>"TB"</code> for Top-to-Bottom or <code>"LR"</code> for
Left-to-Right.  The default value is <code>"LR"</code>.  This
argument is only useful for <code>dot</code> layouts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodeDetails,edgeDetails</code></td>
<td>
<p>logical; whether count information
should be shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodeSizeScore</code></td>
<td>
<p>character; value to encode in the size of the nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edgeSizeScore</code></td>
<td>
<p>character; value to encode in the width of the edges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p> character; node shape.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>named list of values for arguments <code>score</code> through
<code>layout</code> to use if not explicitly supplied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> additional arguments for the <code>graphNEL</code> <code>plot</code>
method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GC</code></td>
<td>
<p>logical; include GC information or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxnodes</code></td>
<td>
<p>integer; maximal number of nodes to use; nodes with
lower total hit counts are dropped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total.pct</code></td>
<td>
<p>numeric; if positive, nodes with hit percentages
below this level are dropped.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Color is used to encode the fraction of total or self time spent in
each function or call.  The scores used correspond to the values in
the printed representation produced by <code>printProfileCallGraph</code>.
For now, see the <code>gprof</code> manual for further details.  The color
encoding for a score <code>s</code> and a color map <code>m</code> is
<code>m[ceiling(length(m) * transfer(s))]</code>
</p>
<p>A style can be specified to set options to a set of cvalues that work
well together.
</p>


<h3>Value</h3>

<p>Used for side effect.</p>


<h3>Note</h3>

<p>Because of lazy evaluation, nested calls like <code>f(g(x))</code>
appear in the profile graph as <code>f</code> or one of its callees
calling <code>g</code>.
</p>
<p>Calls to functions with names containing a <code>|</code> character are
dropped as they cause problems in the <span class="pkg">graph</span> package.
</p>


<h3>Author(s)</h3>

<p> Luke Tierney </p>


<h3>References</h3>

<p>User manual for <code>gprof</code>, the GNU profiler.
</p>
<p>Graphviz: <a href="https://graphviz.gitlab.io/download/">https://graphviz.gitlab.io/download/</a>
</p>


<h3>See Also</h3>

<p><code>Rprof</code>,
<code>summaryRprof</code>,
<code>readProfileData</code>,
<code>flatProfile</code>,
<code>profileCallGraph2Dot</code>
<code>printProfileCallGraph</code>
<code>plain.style</code>
<code>google.style</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">pd &lt;- readProfileData(system.file("samples", "glmEx.out", package="proftools"))
plotProfileCallGraph(pd)
plotProfileCallGraph(pd, score = "none")
plotProfileCallGraph(pd, style = plain.style, score = "total")
</code></pre>


</div>