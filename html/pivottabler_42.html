<div class="container">

<table style="width: 100%;"><tr>
<td>PivotFilterOverrides</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R6 class that defines a set of filter overrides.</h2>

<h3>Description</h3>

<p>The 'PivotFilterOverrides' class contains multiple  <code>PivotFilter</code>
objects that can be used later to override a set of filters, e.g. in a
pivot table calculation.
</p>


<h3>Format</h3>

<p><code>R6Class</code> object.
</p>


<h3>Details</h3>

<p>Each cell in a pivot table has context (i.e. filters) coming from the row
and column groups that are applicable to the cell.
The 'PivotFilterOverrides' class contains several different ways of changing
this filter criteria as part of a calculation.  In most use cases, only
one of the available approaches will be used.
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>removeAllFilters</code></dt>
<dd>
<p>TRUE to remove all existing filters before applying
any other and/replace/or filters.</p>
</dd>
<dt><code>keepOnlyFiltersFor</code></dt>
<dd>
<p>Specify the names of existing variables to retain
the filters for.  All other filters will be removed.</p>
</dd>
<dt><code>removeFiltersFor</code></dt>
<dd>
<p>Specify the names of variables to remove filters for.</p>
</dd>
<dt><code>overrideFunction</code></dt>
<dd>
<p>A custom R function to amend the filters in each cell.</p>
</dd>
<dt><code>countAnd</code></dt>
<dd>
<p>The number of 'PivotFilters' that will be combined with other
pivot filters by intersecting their lists of allowed values.</p>
</dd>
<dt><code>countReplace</code></dt>
<dd>
<p>The number of 'PivotFilters' that will be combined with other
pivot filters by entirely replacing existing PivotFilter objects.</p>
</dd>
<dt><code>countOr</code></dt>
<dd>
<p>The number of 'PivotFilters' that will be combined with other
pivot filters by unioning their lists of allowed values.</p>
</dd>
<dt><code>countTotal</code></dt>
<dd>
<p>The total number of 'PivotFilters' that will be combined with
other pivot filters.</p>
</dd>
<dt><code>andFilters</code></dt>
<dd>
<p>The 'PivotFilters' that will be combined with other
pivot filters by intersecting their lists of allowed values.</p>
</dd>
<dt><code>replaceFilters</code></dt>
<dd>
<p>The 'PivotFilters' that will be combined with other
pivot filters by entirely replacing existing PivotFilter objects.</p>
</dd>
<dt><code>orFilters</code></dt>
<dd>
<p>The 'PivotFilters' that will be combined with other
pivot filters by unioning their lists of allowed values.</p>
</dd>
<dt><code>allFilters</code></dt>
<dd>
<p>The complete set of 'PivotFilters' that will be combined with
other pivot filters.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PivotFilterOverrides-new"><code>PivotFilterOverrides$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PivotFilterOverrides-add"><code>PivotFilterOverrides$add()</code></a>
</p>
</li>
<li> <p><a href="#method-PivotFilterOverrides-apply"><code>PivotFilterOverrides$apply()</code></a>
</p>
</li>
<li> <p><a href="#method-PivotFilterOverrides-asList"><code>PivotFilterOverrides$asList()</code></a>
</p>
</li>
<li> <p><a href="#method-PivotFilterOverrides-asJSON"><code>PivotFilterOverrides$asJSON()</code></a>
</p>
</li>
<li> <p><a href="#method-PivotFilterOverrides-asString"><code>PivotFilterOverrides$asString()</code></a>
</p>
</li>
<li> <p><a href="#method-PivotFilterOverrides-clone"><code>PivotFilterOverrides$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-PivotFilterOverrides-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a new 'PivotFilterOverrides' object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PivotFilterOverrides$new(
  parentPivot = NULL,
  removeAllFilters = FALSE,
  keepOnlyFiltersFor = NULL,
  removeFiltersFor = NULL,
  overrideFunction = NULL,
  filter = NULL,
  variableName = NULL,
  type = "ALL",
  values = NULL,
  action = "replace"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>parentPivot</code></dt>
<dd>
<p>The pivot table that this 'PivotFilterOverrides'
instance belongs to.</p>
</dd>
<dt><code>removeAllFilters</code></dt>
<dd>
<p>Specifies whether to clear all existing filters,
before applying the filter overrides.  Default value 'FALSE'</p>
</dd>
<dt><code>keepOnlyFiltersFor</code></dt>
<dd>
<p>A character vector specifying the variable names
to retain the filter criteria for. Filter criteria for all other variables
will be cleared.</p>
</dd>
<dt><code>removeFiltersFor</code></dt>
<dd>
<p>A character vector specifying the variable names
for which the filter criteria will be cleared.  Filter criteria for all
other variables will be retained.</p>
</dd>
<dt><code>overrideFunction</code></dt>
<dd>
<p>A custom R function which will be invoked for each
cell to modify the filters before the calculation is carried out.</p>
</dd>
<dt><code>filter</code></dt>
<dd>
<p>A PivotFilter object containing filter criteria which will
be combined with the current set of filters using the specified combine method.</p>
</dd>
<dt><code>variableName</code></dt>
<dd>
<p>The variable name for a new filter to apply to.  Specified
in conjunction with the 'type' and 'values' parameters.</p>
</dd>
<dt><code>type</code></dt>
<dd>
<p>The type of a new filter to apply, must be either "ALL", "VALUES"
or "NONE".</p>
</dd>
<dt><code>values</code></dt>
<dd>
<p>A single data value or a vector of multiple data values that
a new filter will match on.</p>
</dd>
<dt><code>action</code></dt>
<dd>
<p>Specifies how the new filter defined in 'filter' (or
'variableName', 'type' and 'values') should be combined with the existing filter
criteria for the cell.  Must be one of "intersect", "replace" or "union".</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A new 'PivotFilterOverrides' object.
</p>


<hr>
<a id="method-PivotFilterOverrides-add"></a>



<h4>Method <code>add()</code>
</h4>

<p>Add additional filter criteria into this 'PivotFilterOverrides' object.
Either 'filter' is specified, or 'variableName', 'type' and 'values' are specified.
</p>


<h5>Usage</h5>

<div class="r"><pre>PivotFilterOverrides$add(
  filter = NULL,
  variableName = NULL,
  type = "ALL",
  values = NULL,
  action = "replace"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>filter</code></dt>
<dd>
<p>A 'PivotFilter' to take criteria from.</p>
</dd>
<dt><code>variableName</code></dt>
<dd>
<p>The variable name the additional criteria applies to.</p>
</dd>
<dt><code>type</code></dt>
<dd>
<p>The type of the additional filter criteria, must be either
"ALL", "VALUES" or "NONE".</p>
</dd>
<dt><code>values</code></dt>
<dd>
<p>A single data value or a vector of multiple data values that
compromise the additional filter criteria.</p>
</dd>
<dt><code>action</code></dt>
<dd>
<p>Specifies how the additional filter should be combined with
the existing filter criteria for the cell.  Must be one of "intersect",
"replace" or "union".</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>No return value.
</p>


<hr>
<a id="method-PivotFilterOverrides-apply"></a>



<h4>Method <code>apply()</code>
</h4>

<p>Apply the filter overrides to an existing 'PivotFilters' object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PivotFilterOverrides$apply(filters = NULL, cell = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>filters</code></dt>
<dd>
<p>A 'PivotFilters' object to apply the filter overrides to.</p>
</dd>
<dt><code>cell</code></dt>
<dd>
<p>A 'PivotCell' object representing the cell that the 'filters' relate to.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>No return value.
</p>


<hr>
<a id="method-PivotFilterOverrides-asList"></a>



<h4>Method <code>asList()</code>
</h4>

<p>Return the contents of this object as a list for debugging.
</p>


<h5>Usage</h5>

<div class="r"><pre>PivotFilterOverrides$asList()</pre></div>



<h5>Returns</h5>

<p>A list of various object properties.
</p>


<hr>
<a id="method-PivotFilterOverrides-asJSON"></a>



<h4>Method <code>asJSON()</code>
</h4>

<p>Return the contents of this object as JSON for debugging.
</p>


<h5>Usage</h5>

<div class="r"><pre>PivotFilterOverrides$asJSON()</pre></div>



<h5>Returns</h5>

<p>A JSON representation of various object properties.
</p>


<hr>
<a id="method-PivotFilterOverrides-asString"></a>



<h4>Method <code>asString()</code>
</h4>

<p>Return a representation of this object as a character value.
</p>


<h5>Usage</h5>

<div class="r"><pre>PivotFilterOverrides$asString(includeVariableName = TRUE, seperator = ", ")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>includeVariableName</code></dt>
<dd>
<p>'TRUE' (default) to include the variable name in
the string.</p>
</dd>
<dt><code>seperator</code></dt>
<dd>
<p>A character value used when concatenating
multiple filter overrides.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A character summary of various object properties.
</p>


<hr>
<a id="method-PivotFilterOverrides-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PivotFilterOverrides$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">pt &lt;- PivotTable$new()
# ...
# PivotFilterOverrides constructor allows a filter to be defined
# e.g. to enable %of row or column type calculations
filterOverrides &lt;- PivotFilterOverrides$new(pt, keepOnlyFiltersFor="Volume")
# Alternatively/in addition, create a new filter
filter &lt;- PivotFilter$new(pt, variableName="Country", values="England")
# Add the filter to the set of overrides
filterOverrides$add(filter=filter, action="replace")
</code></pre>


</div>