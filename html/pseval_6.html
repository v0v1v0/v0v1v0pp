<div class="container">

<table style="width: 100%;"><tr>
<td>calc_risk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the risk and functions of the risk</h2>

<h3>Description</h3>

<p>Computes the treatment efficacy (TE) and other functions of the risk in each
treatment arm over the range of surrogate values observed in the data. TE(s)
is defined as 1 - risk(s, z = 1)/risk(s, z = 0), where z is the treatment
indicator. If any other variables are present in the risk model, then the
risk is computed at their median value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_risk(psdesign, contrast = "TE", t, sig.level = 0.05,
  CI.type = "band", n.samps = 5000, bootstraps = TRUE,
  newdata = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>psdesign</code></td>
<td>
<p>A psdesign object. It must contain a risk model, an
integration model, and estimated parameters. Bootstrapped parameters are
optional</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast</code></td>
<td>
<p>The contrast function, or the name of the contrast function.
See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>For time to event outcomes, a fixed time <code>t</code> may be provided to
compute the cumulative distribution function. If not, the restricted mean
survival time is used. Omit for binary outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>Significance level for bootstrap confidence intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI.type</code></td>
<td>
<p>Character string, "pointwise" for pointwise confidence
intervals, and "band" for simultaneous confidence band.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.samps</code></td>
<td>
<p>The number of samples to take over the range of S.1 at which
the contrast is calculated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootstraps</code></td>
<td>
<p>If true, and bootstrapped estimates are present, will
calculate bootstrap standard errors and confidence bands.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Vector of S values. If present, will calculate the contrast
function at values of newdata instead of the observed S.1</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The contrast function is a function that takes 2 inputs, the risk_0
and risk_1, and returns some one dimensional function of those two inputs.
It must be vectorized. Some built-in functions are <code>"TE"</code> for treatment
efficacy = 1 - risk_1(s)/risk_0(s), <code>"RR"</code> for relative risk =
risk_1(s)/risk_0(s), <code>"logRR"</code> for log of the relative risk, and
<code>"RD"</code> for the risk difference = risk_1(s) - risk_0(s).
</p>


<h3>Value</h3>

<p>A data frame containing columns for the S values, the computed
contrast function at S, R0, and R1 at those S values, and optionally
standard errors and confidence intervals computed using bootstrapped
estimates.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# same result passing function name or function
calc_risk(binary.boot, contrast = "TE", n.samps = 20)
calc_risk(binary.boot, contrast = function(R0, R1) 1 - R1/R0, n.samps = 20)

## End(Not run)
</code></pre>


</div>