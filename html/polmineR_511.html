<div class="container">

<table style="width: 100%;"><tr>
<td>s_attributes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get s-attributes.</h2>

<h3>Description</h3>

<p>Structural annotations (s-attributes) of a corpus capture metainformation for
regions of tokens. The <code>s_attributes()</code>-method offers high-level access to
the s-attributes present in a <code>corpus</code> or <code>subcorpus</code>, or the values of
s-attributes in a <code>corpus</code>/<code>partition</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">s_attributes(.Object, ...)

## S4 method for signature 'character'
s_attributes(.Object, s_attribute = NULL, unique = TRUE, regex = NULL, ...)

## S4 method for signature 'corpus'
s_attributes(.Object, s_attribute = NULL, unique = TRUE, regex = NULL, ...)

## S4 method for signature 'slice'
s_attributes(.Object, s_attribute = NULL, unique = TRUE, ...)

## S4 method for signature 'partition'
s_attributes(.Object, s_attribute = NULL, unique = TRUE, ...)

## S4 method for signature 'subcorpus'
s_attributes(.Object, s_attribute = NULL, unique = TRUE, ...)

## S4 method for signature 'context'
s_attributes(.Object, s_attribute = NULL)

## S4 method for signature 'partition_bundle'
s_attributes(.Object, s_attribute, unique = TRUE, ...)

## S4 method for signature 'call'
s_attributes(.Object, corpus)

## S4 method for signature 'quosure'
s_attributes(.Object, corpus)

## S4 method for signature 'name'
s_attributes(.Object, corpus)

## S4 method for signature 'remote_corpus'
s_attributes(.Object, ...)

## S4 method for signature 'remote_partition'
s_attributes(.Object, ...)

## S4 method for signature 'data.table'
s_attributes(.Object, corpus, s_attribute, registry)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.Object</code></td>
<td>
<p>A <code>corpus</code>, <code>subcorpus</code>, <code>partition</code> object, or a <code>call</code>. A
corpus can also be specified by a length-one <code>character</code> vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>To maintain backward compatibility, if argument <code>sAttribute</code>
(deprecated) is used. If <code>.Object</code> is a <code>remote_corpus</code> or
<code>remote_subcorpus</code> object, the three dots (<code>...</code>) are used to pass
arguments. Hence, it is necessary to state the names of all arguments to be
passed explicity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s_attribute</code></td>
<td>
<p>The name of a specific s-attribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique</code></td>
<td>
<p>A <code>logical</code> value, whether to return unique values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regex</code></td>
<td>
<p>A regular expression passed into <code>grep</code> to filter return value
by applying a regex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corpus</code></td>
<td>
<p>A <code>corpus</code>-object or a length one character vector
denoting a corpus.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>registry</code></td>
<td>
<p>The registry directory with the registry file defining
<code>corpus</code>. If missing, the registry directory that can be derived using
<code>RcppCWB::corpus_registry_dir()</code> is used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Importing XML into the Corpus Workbench (CWB) turns elements and element
attributes into so-called "s-attributes". There are two basic uses of the
<code>s_attributes()</code>-method: If the argument <code>s_attribute</code> is <code>NULL</code> (default),
the return value is a <code>character</code> vector with all s-attributes present in a
corpus.
</p>
<p>If <code>s_attribute</code> denotes a specific s-attribute (a length-one character
vector), the values of the s-attributes available in the <code>corpus</code>/<code>partition</code>
are returned. if the s-attribute does not have values, <code>NA</code> is returned and a
warning message is issued.
</p>
<p>If argument <code>unique</code> is <code>FALSE</code>, the full sequence of the s_attributes is
returned, which is a useful building block for decoding a corpus.
</p>
<p>If argument <code>s_attributes</code> is a character providing several s-attributes, the
method will return a <code>data.table</code>. If <code>unique</code> is <code>TRUE</code>, all unique
combinations of the s-attributes will be reported by the <code>data.table</code>.
</p>
<p>If the corpus is based on a nested XML structure, the order of items on the
<code>s_attribute</code> vector matters. The method for <code>corpus</code> objects will take the
first s-attribute as the benchmark and assume that further s-attributes are
XML ancestors of the node.
</p>
<p>If <code>.Object</code> is a <code>context</code> object, the s-attribute value for the
first corpus position of every match is returned in a character vector.
If the match is outside a region of the s-attribute, <code>NA</code> is returned.
</p>
<p>If <code>.Object</code> is a <code>call</code> or a <code>quosure</code> (defined in the rlang
package), the <code>s_attributes</code>-method will return a <code>character</code> vector with
the s-attributes occurring in the call. This usage is relevant internally
to implement the <code>subset</code> method to generate a <code>subcorpus</code> using
non-standard evaluation. Usually it will not be relevant in an interactive
session.
</p>


<h3>Value</h3>

<p>A character vector (s-attributes, or values of s-attributes).
</p>


<h3>Examples</h3>

<pre><code class="language-R">use("polmineR")

s_attributes("GERMAPARLMINI")
s_attributes("GERMAPARLMINI", "date") # dates of plenary meetings
s_attributes("GERMAPARLMINI", s_attribute = c("date", "party"))  
s_attributes(corpus("GERMAPARLMINI"))
p &lt;- partition("GERMAPARLMINI", date = "2009-11-10")
s_attributes(p)
s_attributes(p, "speaker") # get names of speakers

# Get s-attributes occurring in a call
s_attributes(quote(grep("Merkel", speaker)), corpus = "GERMAPARLMINI")
s_attributes(quote(speaker == "Angela Merkel"), corpus = "GERMAPARLMINI")
s_attributes(quote(speaker != "Angela Merkel"), corpus = "GERMAPARLMINI")
s_attributes(
  quote(speaker == "Angela Merkel" &amp; date == "2009-10-28"),
  corpus = "GERMAPARLMINI"
)

# Get s-attributes from quosure
s_attributes(
  rlang::new_quosure(quote(grep("Merkel", speaker))),
  corpus = "GERMAPARLMINI"
)
</code></pre>


</div>