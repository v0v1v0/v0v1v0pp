<div class="container">

<table style="width: 100%;"><tr>
<td>createMrBayesConstraints</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform a Topology into a Set of Constraint Commands for MrBayes</h2>

<h3>Description</h3>

<p>Takes a phylogeny in the form of an object of class <code>phylo</code> and
outputs a set of topological constraints for <em>MrBayes</em> as a set of character
strings, either printed in the R console or in a named text file, which
can be used as commands in the <em>MrBayes</em> block of a NEXUS file for use with 
(you guessed it!) <em>MrBayes</em>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createMrBayesConstraints(
  tree,
  partial = TRUE,
  file = NULL,
  includeIngroupConstraint = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>An object of class <code>phylo</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partial</code></td>
<td>
<p>If <code>TRUE</code> (the default), then constraints will
be defined as partial constraints with respect to the rest of the taxa
in the input <code>tree</code>. If <code>FALSE</code>, constraints will be
defined as hard clade membership constraints (i.e. no additional
taxa will be allowed to belong to the nodes present in the observed tree.
Depending on your analysis, <code>partial = TRUE</code> may require additionally
defining an outgroup.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Filename (possibly with path) as a character string
to a file which will be overwritten with the output constraint lines.
If <code>NULL</code>, constraint lines are printed in the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeIngroupConstraint</code></td>
<td>
<p>When writing the <code>prset</code> line, 
should a group named 'ingroup' be included, which presumes an ingroup
constraint was defined by the user for sake or rooting the tree? This is
mainly used for use with <code>paleotree</code> function <code>createMrBayesTIpDatingNexus</code> for automating
the construction of tip-dating analyses, which must constrain the ingroup.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>partial = TRUE</code> may be useful if the reason for using
<code>createMrBayesConstraints</code> is to constrain a topology containing
some of the taxa in an analysis, while allowing other taxa to freely
vary. For example, Slater (2013) constrained an analysis so extant
taxon relationships were held constant, using a molecular-based topology, 
while allowing fossil taxa to freely vary relative to their morphological
character data.
</p>


<h3>Value</h3>

<p>If argument <code>file</code> is <code>NULL</code>, then the constrain commands
are output as a series of character strings.
</p>


<h3>Author(s)</h3>

<p>David W. Bapst, with some inspiration from Graham Slater. This code was 
produced as part of a project funded by National Science Foundation
grant EAR-1147537 to S. J. Carlson.
</p>


<h3>References</h3>

<p>Slater, G. J. 2013. Phylogenetic evidence for a shift in the mode of mammalian
body size evolution at the Cretaceous-Palaeogene boundary.
<em>Methods in Ecology and Evolution</em> 4(8):734-744.
</p>


<h3>See Also</h3>

<p><code>createMrBayesTipDatingNexus</code>, <code>createMrBayesTipCalibrations</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(444)
tree &lt;- rtree(10)
createMrBayesConstraints(tree)
createMrBayesConstraints(tree,partial = FALSE)

## Not run: 

createMrBayesConstraints(tree,file = "topoConstraints.txt")


## End(Not run)
</code></pre>


</div>