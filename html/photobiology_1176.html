<div class="container">

<table style="width: 100%;"><tr>
<td>trim_waveband</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trim (or expand) head and/or tail</h2>

<h3>Description</h3>

<p>Trimming of waveband boundaries can be needed when the spectral data do not
cover the whole waveband, or wavebands may have to be removed altogether.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trim_waveband(
  w.band,
  range = NULL,
  low.limit = 0,
  high.limit = Inf,
  trim = getOption("photobiology.waveband.trim", default = TRUE),
  use.hinges = TRUE,
  trunc.labels = getOption("photobiology.brief.trunc.names", default = c("]", "["))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>w.band</code></td>
<td>
<p>an object of class "waveband" or a list of such objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>a numeric vector of length two, or any other object for which
function range() will return a numeric vector of two wavelengths (nm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>low.limit</code></td>
<td>
<p>shortest wavelength to be kept (defaults to 0 nm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>high.limit</code></td>
<td>
<p>longest wavelength to be kept (defaults to Inf nm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>logical (default is TRUE which trims the wavebands at the
boundary, while FALSE discards wavebands that are partly off-boundary).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.hinges</code></td>
<td>
<p>logical Flag indicating whether to insert "hinges" into the
spectral data before integration so as to reduce interpolation errors at
the boundaries of the wavebands.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trunc.labels</code></td>
<td>
<p>character vector of length one or two. The first string
will be prepended to the waveband name and label on left truncation and the
second appended on right truncation. If the vector is of length one, the
same string will be used in both cases.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function will accept both individual wavebands or list of
wavebands. When the input is a list, wavebands outside the range of the
range will be removed from the list, and those partly outside the
target range either "trimmed" to this edge truncated if <code>trim =
  TRUE</code> is passed or excluded if <code>trim = FALSE</code>). Waveband objects
contain a name and a label that are used to label the returned values of
calculations that make use of them. When a waveband object is truncated so
that the definition changes, the name and label are also modified so that
the change is visible when they are used. The name and label have a string
prepended or appended, and what strings are used can be set with an R
option.
</p>


<h3>Value</h3>

<p>The returned value is a waveband object or a list of waveband objects
depending on whether a single waveband object or a list of waveband objects
was supplied as argument to formal parameter <code>w.band</code>. If no waveband
is retained, in the first case,  a NULL waveband object is returned, and in
the second case, a list of length zero is returned. If the input is a
named, list, names are preserved in the returned list.
</p>


<h3>Note</h3>

<p>Modification of the name and label stored in the wavebands passed as
input is done so that summaries produced with the modified objects can be
recognized as different from those computed using the original definitions
when the waveband objects are used. When the input is a named list, the
names of the retained members of the list are not modified as these are not
part of the definitions.
</p>


<h3>See Also</h3>

<p>Other trim functions: 
<code>clip_wl()</code>,
<code>trim_spct()</code>,
<code>trim_wl()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">VIS &lt;- waveband(c(380, 760)) # manometers

trim_waveband(VIS, c(400,700))
trim_waveband(VIS, low.limit = 400)
trim_waveband(VIS, high.limit = 700)
trim_waveband(VIS, c(400,700), trunc.labels = c("&gt;", "&lt;"))
trim_waveband(VIS, c(400,700), trunc.labels = "!")

</code></pre>


</div>