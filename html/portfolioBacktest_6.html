<div class="container">

<table style="width: 100%;"><tr>
<td>backtestChartSharpeRatio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Chart of the rolling Sharpe ratio over time for a single backtest</h2>

<h3>Description</h3>

<p>Create chart of the rolling Sharpe ratio over time for a single backtest
obtained with the function <code>portfolioBacktest</code>.
By default the chart is based on the package <code>ggplot2</code>, but the user can also 
specify a plot based on <code>PerformanceAnalytics</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">backtestChartSharpeRatio(
  bt,
  portfolios = names(bt),
  dataset_num = 1,
  lookback = 100,
  by = 1,
  gap = lookback,
  bars_per_year = 252,
  type = c("ggplot2", "simple"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bt</code></td>
<td>
<p>Backtest results as produced by the function <code>portfolioBacktest</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>portfolios</code></td>
<td>
<p>String with portfolio names to be charted. 
Default charts all portfolios in the backtest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset_num</code></td>
<td>
<p>Dataset index to be charted. Default is <code>dataset_num = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lookback</code></td>
<td>
<p>Length of the lookback rolling window in periods (default is <code>100</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Intervals at which the Sharpe ratio is to be calculated (default is equal to <code>1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gap</code></td>
<td>
<p>Initial number of periods to skip (default is equal to <code>lookback</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bars_per_year</code></td>
<td>
<p>Number of bars/periods per year (default is <code>252</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of plot. Valid options: <code>"ggplot2", "simple"</code>. Default is 
<code>"ggplot2"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Daniel P. Palomar and Rui Zhou
</p>


<h3>See Also</h3>

<p><code>summaryBarPlot</code>, <code>backtestBoxPlot</code>, 
<code>backtestChartCumReturn</code>, <code>backtestChartStackedBar</code>, <code>backtestChartDrawdown</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(portfolioBacktest)
data(dataset10)  # load dataset

# define your own portfolio function
quintile_portfolio &lt;- function(data, ...) {
  X &lt;- diff(log(data$adjusted))[-1]  
  N &lt;- ncol(X)
  ranking &lt;- sort(colMeans(X), decreasing = TRUE, index.return = TRUE)$ix
  w &lt;- rep(0, N)
  w[ranking[1:round(N/5)]] &lt;- 1/round(N/5)
  return(w)
}

# do backtest
bt &lt;- portfolioBacktest(list("Quintile" = quintile_portfolio), dataset10,
                        benchmark = c("1/N", "index"))

# now we can chart
backtestChartSharpeRatio(bt)


</code></pre>


</div>