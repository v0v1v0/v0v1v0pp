<div class="container">

<table style="width: 100%;"><tr>
<td>composite_u_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Matrix formula to estimate the u ratio of a composite variable</h2>

<h3>Description</h3>

<p>This function estimates the u ratio of a composite variable when at least one matrix of correlations (restricted or unrestricted) among the variables is available.
</p>


<h3>Usage</h3>

<pre><code class="language-R">composite_u_matrix(
  ri_mat = NULL,
  ra_mat = NULL,
  u_vec,
  wt_vec = rep(1, length(u_vec)),
  sign_r_vec = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ri_mat</code></td>
<td>
<p>Range-restricted correlation matrix from which the composite is to be computed (if <code>NULL</code>, <code>ri_mat</code> is estimated from <code>ra_mat</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ra_mat</code></td>
<td>
<p>Unrestricted correlation matrix from which the composite is to be computed (if <code>NULL</code>, <code>ra_mat</code> is estimated from <code>ri_mat</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u_vec</code></td>
<td>
<p>Vector of u ratios associated with variables in the composite to be formed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wt_vec</code></td>
<td>
<p>Weights to be used in forming the composite (by default, all variables receive equal weight).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sign_r_vec</code></td>
<td>
<p>The signs of the relationships between the variables in the composite and the variable by which range restriction was induced.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is computed as:
</p>
<p style="text-align: center;"><code class="reqn">u_{composite}=\sqrt{\frac{\left(\mathbf{w}\circ\mathbf{u}\right)^{T}\mathbf{R}_{i}\left(\mathbf{w}\circ\mathbf{u}\right)}{\mathbf{w}^{T}\mathbf{R}_{a}\mathbf{w}}}</code>
</p>

<p>where <code class="reqn">u_{composite}</code> is the composite u ratio, <code class="reqn">\mathbf{u}</code> is a vector of u ratios, <code class="reqn">\mathbf{R}_{i}</code> is a range-restricted correlation matrix, <code class="reqn">\mathbf{R}_{a}</code> is an unrestricted correlation matrix, and <code class="reqn">\mathbf{w}</code> is a vector of weights.
</p>


<h3>Value</h3>

<p>The estimated <em>u</em> ratio of the composite variable.
</p>


<h3>Examples</h3>

<pre><code class="language-R">composite_u_matrix(ri_mat = matrix(c(1, .3, .3, 1), 2, 2), u_vec = c(.8, .8))
</code></pre>


</div>