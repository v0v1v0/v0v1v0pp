<div class="container">

<table style="width: 100%;"><tr>
<td>prec_riskdiff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample size or precision for risk difference</h2>

<h3>Description</h3>

<p><code>prec_riskdiff</code> returns the risk difference and the sample size or the
precision for the provided proportions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prec_riskdiff(
  p1,
  p2,
  n1 = NULL,
  conf.width = NULL,
  r = 1,
  conf.level = 0.95,
  method = c("newcombe", "mn", "ac", "wald"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>risk among exposed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p2</code></td>
<td>
<p>risk among unexposed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>number of patients in exposed group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.width</code></td>
<td>
<p>precision (the full width of the confidence interval).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>allocation ratio (relative size of exposed and unexposed cohort
(<code>n1</code> / <code>n2</code>)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Exactly one of <code>newcombe</code> (<em>default</em>), <code>mn</code>
(Miettinen-Nurminen), <code>ac</code> (Agresti-Caffo), <code>wald</code>. Methods can
be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other options to uniroot (e.g. <code>tol</code>)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Exactly one of the parameters <code>n1</code> or <code>conf.width</code> must be passed as NULL,
and that parameter is determined from the other.
</p>
<p>Newcombe (<code>newcombe</code>) proposed a confidence interval based on the wilson
score method for the single proportion (see prec_prop). The confidence
interval without continuity correction is implemented from equation 10 in
Newcombe (1998).
</p>
<p>Miettinen-Nurminen (<code>mn</code>) provide a closed from equation for the
restricted maximum likelihood estimate . The implementation is based on
code provided by Yongyi Min on
<a href="https://users.stat.ufl.edu/~aa/cda/R/two-sample/R2/index.html">https://users.stat.ufl.edu/~aa/cda/R/two-sample/R2/index.html</a>.
</p>
<p>Agresti-Caffo (<code>ac</code>) confidence interval is based on the Wald confidence
interval, adding 1 success to each cell of the 2 x 2 table (see Agresti and
Caffo 2000).
</p>
<p><code>uniroot</code> is used to solve n for the newcombe, ac, and mn
method.
</p>


<h3>References</h3>

<p>Agresti A (2003) <em>Categorical Data Analysis</em>, Second Edition, Wiley
Series in Probability and Statistics,
<a href="https://doi.org/10.1002/0471249688">doi:10.1002/0471249688</a>.
</p>
<p>Agresti A and Caffo B (2000) <em>Simple and Effective Confidence Intervals
for Proportions and Differences of Proportions Result from Adding Two
Successes and Two Failures</em>, The American Statistician, 54(4):280-288.
</p>
<p>Miettinen O and Nurminen M (1985) <em>Comparative analysis of two rates</em>,
Statistics in Medicine, 4:213-226.
</p>
<p>Newcombe RG (1998) <em>Interval estimation for the difference between
independent proportions: comparison of eleven methods</em>, Statistics in
Medicine, 17:873-890.
</p>
<p>Fagerland MW, Lydersen S, and Laake P (2015). <em>Recommended confidence
intervals for two independent binomial proportions</em>, Statistical methods in
medical research 24(2):224-254.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># proportions of 40 and 30\%, 50 participants, how wide is the CI?
prec_riskdiff(p1 = .4, p2 = .3, n1 = 50)
# proportions of 40 and 30\%, 50 participants, how many participants for a CI 0.2 wide?
prec_riskdiff(p1 = .4, p2 = .3, conf.width = .2)

# Validate Newcombe (1998)
prec_riskdiff(p1 = 56/70, p2 = 48/80, n1 = 70, r = 70/80, met = "newcombe")  # Table IIa
prec_riskdiff(p1 = 10/10, p2 = 0/10, n1 = 10, met = "newcombe")  # Table IIh

# multiple scenarios
prec_riskdiff(p1 = c(56/70, 9/10, 6/7, 5/56),
              p2 = c(48/80, 3/10, 2/7, 0/29),
              n1 = c(70, 10, 7, 56),
              r = c(70/80, 1, 1, 56/29),
              method = "wald")

</code></pre>


</div>