<div class="container">

<table style="width: 100%;"><tr>
<td>chart.TimeSeries</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates a time series chart with some extensions.</h2>

<h3>Description</h3>

<p>Draws a line chart and labels the x-axis with the appropriate dates.  This
is really a "primitive", since it extends the base <code>plot</code> and
standardizes the elements of a chart.  Adds attributes for shading areas of
the timeline or aligning vertical lines along the timeline. This function is
intended to be used inside other charting functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">chart.TimeSeries(
  R,
  ...,
  auto.grid = TRUE,
  xaxis = TRUE,
  yaxis = TRUE,
  yaxis.right = FALSE,
  type = "l",
  lty = 1,
  lwd = 1,
  las = par("las"),
  main = "",
  ylab = "",
  xlab = "",
  date.format.in = "%Y-%m-%d",
  date.format = NULL,
  xlim = NULL,
  ylim = NULL,
  element.color = "darkgray",
  event.lines = NULL,
  event.labels = NULL,
  period.areas = NULL,
  event.color = "darkgray",
  period.color = "aliceblue",
  colorset = (1:12),
  pch = (1:12),
  legend.loc = NULL,
  ylog = FALSE,
  cex.axis = 0.8,
  cex.legend = 0.8,
  cex.lab = 1,
  cex.labels = 0.8,
  cex.main = 1,
  major.ticks = "auto",
  minor.ticks = TRUE,
  grid.color = "lightgray",
  grid.lty = "dotted",
  xaxis.labels = NULL,
  plot.engine = "default",
  yaxis.pct = FALSE
)

chart.TimeSeries.base(
  R,
  auto.grid,
  xaxis,
  yaxis,
  yaxis.right,
  type,
  lty,
  lwd,
  las,
  main,
  ylab,
  xlab,
  date.format.in,
  date.format,
  xlim,
  ylim,
  element.color,
  event.lines,
  event.labels,
  period.areas,
  event.color,
  period.color,
  colorset,
  pch,
  legend.loc,
  ylog,
  cex.axis,
  cex.legend,
  cex.lab,
  cex.labels,
  cex.main,
  major.ticks,
  minor.ticks,
  grid.color,
  grid.lty,
  xaxis.labels,
  plot.engine,
  yaxis.pct,
  ...
)

chart.TimeSeries.builtin(
  R,
  auto.grid,
  xaxis,
  yaxis,
  yaxis.right,
  type,
  lty,
  lwd,
  las,
  main,
  ylab,
  xlab,
  date.format.in,
  date.format,
  xlim,
  ylim,
  element.color,
  event.lines,
  event.labels,
  period.areas,
  event.color,
  period.color,
  colorset,
  pch,
  legend.loc,
  ylog,
  cex.axis,
  cex.legend,
  cex.lab,
  cex.labels,
  cex.main,
  major.ticks,
  minor.ticks,
  grid.color,
  grid.lty,
  xaxis.labels,
  yaxis.pct
)

chart.TimeSeries.dygraph(R)

chart.TimeSeries.ggplot2(
  R,
  auto.grid,
  xaxis,
  yaxis,
  yaxis.right,
  type,
  lty,
  lwd,
  las,
  main,
  ylab,
  xlab,
  date.format.in,
  date.format,
  xlim,
  ylim,
  element.color,
  event.lines,
  event.labels,
  period.areas,
  event.color,
  period.color,
  colorset,
  pch,
  legend.loc,
  ylog,
  cex.axis,
  cex.legend,
  cex.lab,
  cex.labels,
  cex.main,
  major.ticks,
  minor.ticks,
  grid.color,
  grid.lty,
  xaxis.labels,
  plot.engine,
  yaxis.pct
)

chart.TimeSeries.googlevis(R, xlab, ylab, main)

chart.TimeSeries.plotly(R, main, ...)

charts.TimeSeries(R, space = 0, main = "Returns", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>an xts, vector, matrix, data frame, timeSeries or zoo object of
asset returns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any other passthru parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.grid</code></td>
<td>
<p>if true, draws a grid aligned with the points on the x and
y axes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxis</code></td>
<td>
<p>if true, draws the x axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis</code></td>
<td>
<p>if true, draws the y axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis.right</code></td>
<td>
<p>if true, draws the y axis on the right-hand side of the
plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>set the chart type, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>set the line type, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>set the line width, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>las</code></td>
<td>
<p>set the axis label rotation, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>set the chart title, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>set the y-axis label, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>set the x-axis label, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date.format.in</code></td>
<td>
<p>allows specification of other date formats in the data
object, defaults to "%Y-%m-%d"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date.format</code></td>
<td>
<p>re-format the dates for the xaxis; the default is "%m/%y"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>set the x-axis limit, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>set the y-axis limit, same as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>element.color</code></td>
<td>
<p>provides the color for drawing chart elements, such as
the box lines, axis lines, etc. Default is "darkgray"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event.lines</code></td>
<td>
<p>if not null, vertical lines will be drawn to indicate
that an event happened during that time period.  <code>event.lines</code> should
be a list of dates (e.g., <code>c("09/03","05/06"))</code> formatted the same as
date.format.  This function matches the re-formatted row names (dates) with
the events.list, so to get a match the formatting needs to be correct.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event.labels</code></td>
<td>
<p>if not null and event.lines is not null, this will apply
a list of text labels (e.g., <code>c("This Event", "That Event")</code> to the
vertical lines drawn.  See the example below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period.areas</code></td>
<td>
<p>these are shaded areas described by start and end dates
in a vector of xts date rangees, e.g.,
<code>c("1926-10::1927-11","1929-08::1933-03")</code> See the examples below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event.color</code></td>
<td>
<p>draws the event described in <code>event.labels</code> in the
color specified</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period.color</code></td>
<td>
<p>draws the shaded region described by <code>period.areas</code>
in the color specified</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorset</code></td>
<td>
<p>color palette to use, set by default to rational choices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>symbols to use, see also <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.loc</code></td>
<td>
<p>places a legend into one of nine locations on the chart:
bottomright, bottom, bottomleft, left, topleft, top, topright, right, or
center.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylog</code></td>
<td>
<p>TRUE/FALSE set the y-axis to logarithmic scale, similar to
<code>plot</code>, default FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axis</code></td>
<td>
<p>The magnification to be used for axis annotation relative to
the current setting of 'cex', same as in <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.legend</code></td>
<td>
<p>The magnification to be used for sizing the legend
relative to the current setting of 'cex'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>The magnification to be used for x- and y-axis labels
relative to the current setting of 'cex'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.labels</code></td>
<td>
<p>The magnification to be used for event line labels
relative to the current setting of 'cex'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>The magnification to be used for the chart title relative to
the current setting of 'cex'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>major.ticks</code></td>
<td>
<p>Should major tickmarks be drawn and labeled, default
'auto'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minor.ticks</code></td>
<td>
<p>Should minor tickmarks be drawn, default TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.color</code></td>
<td>
<p>sets the color for the reference grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid.lty</code></td>
<td>
<p>defines the line type for the grid</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xaxis.labels</code></td>
<td>
<p>Allows for non-date labeling of date axes, default is
NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.engine</code></td>
<td>
<p>choose the plot engine you wish to use:
ggplot2, plotly,dygraph,googlevis and default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis.pct</code></td>
<td>
<p>if TRUE, scales the y axis labels by 100</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>default 0</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Peter Carl
</p>


<h3>See Also</h3>

<p><code>plot</code>, <code>par</code>,
<code>axTicksByTime</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# These are start and end dates, formatted as xts ranges.
## http://www.nber.org-cycles.html
cycles.dates&lt;-c("1857-06/1858-12",
                "1860-10/1861-06",
                "1865-04/1867-12",
                "1869-06/1870-12",
                "1873-10/1879-03",
                "1882-03/1885-05",
                "1887-03/1888-04",
                "1890-07/1891-05",
                "1893-01/1894-06",
                "1895-12/1897-06",
                "1899-06/1900-12",
                "1902-09/1904-08",
                "1907-05/1908-06",
                "1910-01/1912-01",
                "1913-01/1914-12",
                "1918-08/1919-03",
                "1920-01/1921-07",
                "1923-05/1924-07",
                "1926-10/1927-11",
                "1929-08/1933-03",
                "1937-05/1938-06",
                "1945-02/1945-10",
                "1948-11/1949-10",
                "1953-07/1954-05",
                "1957-08/1958-04",
                "1960-04/1961-02",
                "1969-12/1970-11",
                "1973-11/1975-03",
                "1980-01/1980-07",
                "1981-07/1982-11",
                "1990-07/1991-03",
                "2001-03/2001-11",
                "2007-12/2009-06"
                )
# Event lists - FOR BEST RESULTS, KEEP THESE DATES IN ORDER
risk.dates = c(
    "Oct 87",
    "Feb 94",
    "Jul 97",
    "Aug 98",
    "Oct 98",
    "Jul 00",
    "Sep 01")
risk.labels = c(
    "Black Monday",
    "Bond Crash",
    "Asian Crisis",
    "Russian Crisis",
    "LTCM",
    "Tech Bubble",
    "Sept 11")
data(edhec)

R=edhec[,"Funds of Funds",drop=FALSE]
Return.cumulative = cumprod(1+R) - 1
chart.TimeSeries(Return.cumulative)
chart.TimeSeries(Return.cumulative, colorset = "darkblue", 
                 legend.loc = "bottomright", 
                 period.areas = cycles.dates, 
                 period.color = rgb(204/255, 204/255, 204/255, alpha=0.25), 
                 event.lines = risk.dates, 
                 event.labels = risk.labels, 
                 event.color = "red", lwd = 2)

</code></pre>


</div>