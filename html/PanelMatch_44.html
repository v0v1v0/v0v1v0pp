<div class="container">

<table style="width: 100%;"><tr>
<td>perform_refinement</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>perform_refinement
Performs refinement of matched sets, ultimately returning sets of treated observations and controls with weights. This function mostly acts as an intermediary between PanelMatch and lower level functions that do the dirty work of refinement. The function takes a lot of the same arguments as PanelMatch()</h2>

<h3>Description</h3>

<p>perform_refinement
Performs refinement of matched sets, ultimately returning sets of treated observations and controls with weights. This function mostly acts as an intermediary between PanelMatch and lower level functions that do the dirty work of refinement. The function takes a lot of the same arguments as PanelMatch()
</p>


<h3>Usage</h3>

<pre><code class="language-R">perform_refinement(
  lag,
  time.id,
  unit.id,
  treatment,
  refinement.method,
  size.match,
  ordered.data,
  match.missing,
  covs.formula,
  verbose,
  lead,
  outcome.var = NULL,
  forbid.treatment.reversal = FALSE,
  qoi = "",
  matching = TRUE,
  exact.matching.variables = NULL,
  listwise.deletion,
  use.diag.covmat = FALSE,
  placebo.test = FALSE,
  restrict.control.period = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.id</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit.id</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refinement.method</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.match</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered.data</code></td>
<td>
<p>data.frame that has been balanced and ordered by time-unit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>match.missing</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covs.formula</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lead</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome.var</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forbid.treatment.reversal</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qoi</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matching</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact.matching.variables</code></td>
<td>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>listwise.deletion</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.diag.covmat</code></td>
<td>
<p>See PanelMatch() documentation for use.diagonal.covariance.matrix argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>placebo.test</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>restrict.control.period</code></td>
<td>
<p>See PanelMatch() documentation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>returns a matched.set object containing the refined matched sets
</p>


</div>