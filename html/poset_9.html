<div class="container">

<table style="width: 100%;"><tr>
<td>wreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Win ratio regression analysis</h2>

<h3>Description</h3>

<p>Fit a multiplicative win-ratio regression model to
partially ordered response against covariates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">wreg(Y, Z, fun = NULL, sfun = NULL, ep = 1e-06)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>An <code class="reqn">n\times K</code> matrix for <code class="reqn">K</code>-variate response data on <code class="reqn">n</code> subjects.
The entries must be numeric.
For pseudo-efficient estimation (without specifying <code>sfun</code>),
the average score across components (row means)
should be compatible with the partial order (i.e., preserve the same order for any two
comparable and ordered elements).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>An <code class="reqn">n\times p</code> design matrix for covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>User-specified win function for pairwise comparison.
It takes two arguments <code class="reqn">y_1</code>
and <code class="reqn">y_0</code> (both <code class="reqn">K</code>-vectors) and returns 1 if <code class="reqn">y_1</code> wins,
-1 if <code class="reqn">y_0</code> wins, and 0 if tied. The default is <code>wprod</code>
for the product order of multivariate ordinal data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sfun</code></td>
<td>
<p>The scoring function used in pseudo-efficient estimation.
The default is to take the row means of <code>Y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ep</code></td>
<td>
<p>Convergence criterion in Newton-Raphson algorithm. The default is 1e-6.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>wreg</code> with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>A vector of estimated regression coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>Estimated covariance matrix for <code>beta</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>Number of Newton-Raphson iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_nv</code></td>
<td>
<p>Naive (non-pseudo-efficient) estimates of <code>beta</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se_nv</code></td>
<td>
<p>Estimated standard errors for <code>beta_nv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size <code class="reqn">n</code> of input data with non-missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nwl</code></td>
<td>
<p>Number of comparable pairs (those with a win and loss)
out of the <code class="reqn">n(n-1)/2</code> possible ones.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Mao, L. (2024). Win ratio for partially ordered data.
<em>Statistica Sinica</em>, Under revision.
</p>


<h3>See Also</h3>

<p><code>wprod</code>, <code>print.wreg</code>, <code>summary.wreg</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">head(liver)
# regress bivariate ratings against covariates
Y &lt;- 5 - liver[, c("R1NASH", "R2NASH")] # lower score is better
Z &lt;- cbind("Female" = liver$Sex == "F",
           liver[, c("AF", "Steatosis",   "SSF2",  "LSN")]) # covariates
obj &lt;- wreg(Y, Z) # fit model
obj
summary(obj)
</code></pre>


</div>