<div class="container">

<table style="width: 100%;"><tr>
<td>GenePathwayOncoplots</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>draw an GenePathwayOncoplots</h2>

<h3>Description</h3>

<p>takes output generated by read.maf and draws an GenePathwayOncoplots.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GenePathwayOncoplots(
  maffile,
  gene_path,
  freq_matrix,
  risk_score,
  cut_off,
  final_character,
  isTCGA = FALSE,
  top = 20,
  clinicalFeatures = "sample_group",
  annotationColor = c("red", "green"),
  sortByAnnotation = TRUE,
  removeNonMutated = FALSE,
  drawRowBar = TRUE,
  drawColBar = TRUE,
  leftBarData = NULL,
  leftBarLims = NULL,
  rightBarData = NULL,
  rightBarLims = NULL,
  topBarData = NULL,
  logColBar = FALSE,
  draw_titv = FALSE,
  showTumorSampleBarcodes = FALSE,
  fill = TRUE,
  showTitle = TRUE,
  titleText = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>maffile</code></td>
<td>
<p>an MAF object generated by read.maf.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gene_path</code></td>
<td>
<p>User input pathways geneset list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq_matrix</code></td>
<td>
<p>The mutations matrix,generated by 'get_mut_matrix'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>risk_score</code></td>
<td>
<p>Samples' PTMB-related risk score,which could be a biomarker for survival analysis and immunotherapy prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cut_off</code></td>
<td>
<p>A threshold value(the median risk score as the default value).Using this value to divide the sample into high and low risk groups with different overall survival.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final_character</code></td>
<td>
<p>The pathway signature,use to map gene in the GenePathwayOncoplots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isTCGA</code></td>
<td>
<p>Is input MAF file from TCGA source. If TRUE uses only first 12 characters from Tumor_Sample_Barcode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>how many top genes to be drawn,genes are arranged from high to low depending on the frequency of mutations. defaults to 20.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clinicalFeatures</code></td>
<td>
<p>columns names from 'clinical.data' slot of MAF to be drawn in the plot. Dafault "sample_group".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotationColor</code></td>
<td>
<p>Custom colors to use for sample annotation-"sample_group". Must be a named list containing a named vector of colors. Default "red" and "green".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortByAnnotation</code></td>
<td>
<p>logical sort oncomatrix (samples) by provided 'clinicalFeatures'. Sorts based on first 'clinicalFeatures'. Defaults to TRUE. column-sort.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>removeNonMutated</code></td>
<td>
<p>Logical. If TRUE removes samples with no mutations in the GenePathwayOncoplots for better visualization. Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drawRowBar</code></td>
<td>
<p>logical. Plots righ barplot for each gene. Default TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drawColBar</code></td>
<td>
<p>logical plots top barplot for each sample. Default TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leftBarData</code></td>
<td>
<p>Data for leftside barplot. Must be a data.frame with two columns containing gene names and values. Default 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leftBarLims</code></td>
<td>
<p>limits for 'leftBarData'. Default 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rightBarData</code></td>
<td>
<p>Data for rightside barplot. Must be a data.frame with two columns containing to gene names and values. Default 'NULL' which draws distibution by variant classification. This option is applicable when only 'drawRowBar' is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rightBarLims</code></td>
<td>
<p>limits for 'rightBarData'. Default 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topBarData</code></td>
<td>
<p>Default 'NULL' which draws absolute number of mutation load for each sample. Can be overridden by choosing one clinical indicator(Numeric) or by providing a two column data.frame contaning sample names and values for each sample. This option is applicable when only 'drawColBar' is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logColBar</code></td>
<td>
<p>Plot top bar plot on log10 scale. Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw_titv</code></td>
<td>
<p>logical Includes TiTv plot. Default FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showTumorSampleBarcodes</code></td>
<td>
<p>logical to include sample names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>Logical. If TRUE draws genes and samples as blank grids even when they are not altered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showTitle</code></td>
<td>
<p>Default TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>titleText</code></td>
<td>
<p>Custom title. Default 'NULL'.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>No return value
</p>


<h3>Examples</h3>

<pre><code class="language-R">#get the path of the mutation annotation file and samples' survival data
maf&lt;-system.file("extdata","data_mutations_extended.txt",package = "pathwayTMB")
sur_path&lt;-system.file("extdata","sur.csv",package = "pathwayTMB")
sur&lt;-read.csv(sur_path,header=TRUE,row.names = 1)
#perform the function 'get_mut_matrix'
mut_matrix&lt;-get_mut_matrix(maffile=maf,mut_fre = 0.01,is.TCGA=FALSE,sur=sur)
#perform the function `get_PTMB`
PTMB_matrix&lt;-get_PTMB(freq_matrix=mut_matrix,genesmbol=genesmbol,gene_path=gene_path)
set.seed(1)
final_character&lt;-get_final_signature(PTMB=PTMB_matrix,sur=sur)
#calculate the risksciore
riskscore&lt;-plotKMcurves(t(PTMB_matrix[final_character,]),sur=sur,plots=FALSE)$risk_score
cut&lt;-median(riskscore)
GenePathwayOncoplots(maf,gene_path,mut_matrix,riskscore,cut,final_character)

</code></pre>


</div>