<div class="container">

<table style="width: 100%;"><tr>
<td>T2A</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert transmittance into absorbance.</h2>

<h3>Description</h3>

<p>Function that converts transmittance (fraction) into <code class="reqn">\log_{10}</code>-based
absorbance (a.u.).
</p>


<h3>Usage</h3>

<pre><code class="language-R">T2A(x, action, byref, clean, ...)

## Default S3 method:
T2A(x, action = NULL, byref = FALSE, ...)

## S3 method for class 'numeric'
T2A(x, action = NULL, byref = FALSE, clean = TRUE, ...)

## S3 method for class 'filter_spct'
T2A(x, action = "add", byref = FALSE, clean = TRUE, strict.A = FALSE, ...)

## S3 method for class 'filter_mspct'
T2A(
  x,
  action = "add",
  byref = FALSE,
  clean = TRUE,
  strict.A = TRUE,
  ...,
  .parallel = FALSE,
  .paropts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an R object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>action</code></td>
<td>
<p>character Allowed values <code>"replace"</code> and <code>"add"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byref</code></td>
<td>
<p>logical indicating if new object will be created by reference
or by copy of <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean</code></td>
<td>
<p>logical replace off-boundary values before conversion</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used in current version</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict.A</code></td>
<td>
<p>logical Attempt to compute a true internal absorbance even
if <code>"total"</code> transmittance is stored in <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.parallel</code></td>
<td>
<p>if <code>TRUE</code>, apply function in parallel, using parallel backend
provided by foreach</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.paropts</code></td>
<td>
<p>a list of additional options passed into the foreach function
when parallel computation is enabled. This is important if (for example)
your code relies on external data or packages: use the .export and
.packages arguments to supply them so that all cluster nodes have the
correct environment set up for computing.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Absorbance, <code class="reqn">A</code>, is frequently used in chemistry as it is linearly
related to the concentration of a solute dissolved in a solvent.
</p>
<p style="text-align: center;"><code class="reqn">A = -\log_{10} \tau</code>
</p>

<p>where, <code class="reqn">A</code> absorbance and <code class="reqn">\tau</code> is internal transmittance. By
default, if total transmittance, <code class="reqn">T</code>, is stored in <code>x</code>, the
returned value computed as
</p>
<p style="text-align: center;"><code class="reqn">A = -\log_{10} T</code>
</p>

<p>is not strictly absorbance. In this
case and in cases when the measured light attenuation is the result of
scattering, or when part of measured light is re-emitted after absorption
the use of <em>attenuance</em> is the IUPAC-recommended name for this quantity.
</p>
<p>If <code>strict.A = TRUE</code> is passed in the call and total
transmittance, <code class="reqn">T</code>, and total
reflectance, <code class="reqn">\rho</code>, are both available, absorbance is computed as:
</p>
<p style="text-align: center;"><code class="reqn">A = -\log_{10} (T - \rho) / (1 - \rho)</code>
</p>

<p>where <code class="reqn">\rho</code> can be either spectral total reflectance stored in <code>x</code>
as data or a single approximate <code>Rfr.constant</code> value stored as part
of the metadata.
</p>


<h3>Value</h3>

<p>A copy of <code>x</code> with a column <code>A</code> added and other columns
possibly deleted except for <code>w.length</code>. If <code>action = "replace"</code>,
in all cases, the additional columns are removed, even if no column needs
to be added.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>T2A(default)</code>: Default method for generic function
</p>
</li>
<li> <p><code>T2A(numeric)</code>: Method for numeric vectors
</p>
</li>
<li> <p><code>T2A(filter_spct)</code>: Method for filter spectra
</p>
</li>
<li> <p><code>T2A(filter_mspct)</code>: Method for collections of filter spectra
</p>
</li>
</ul>
<h3>Note</h3>

<p>The default <code>A.strict = FALSE</code> ensures indentical behaviour
as in 'photobiology' (&lt;= 0.11.0).
</p>


<h3>See Also</h3>

<p>Other quantity conversion functions: 
<code>A2T()</code>,
<code>Afr2T()</code>,
<code>T2Afr()</code>,
<code>any2T()</code>,
<code>as_quantum()</code>,
<code>e2q()</code>,
<code>e2qmol_multipliers()</code>,
<code>e2quantum_multipliers()</code>,
<code>q2e()</code>
</p>


</div>