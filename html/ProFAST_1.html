<div class="container">

<table style="width: 100%;"><tr>
<td>AddAdj</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the adjacency matrix given a spatial coordinate matrix</h2>

<h3>Description</h3>

<p>Calculate the adjacency matrix given a spatial coordinate matrix with 2-dimension or 3-dimension or more.
</p>


<h3>Usage</h3>

<pre><code class="language-R">AddAdj(
  pos,
  type = "fixed_distance",
  platform = c("Others", "Visium", "ST"),
  neighbors = 6,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>a matrix object, with columns representing the spatial coordinates that can be any diemsion, i.e., 2, 3 and &gt;3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>an optional string, specify which type of neighbors' definition. Here we provide two definition: one is "fixed_distance", the other is "fixed_number".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>platform</code></td>
<td>
<p>a string, specify the platform of the provided data, default as "Others". There are more platforms to be chosen, including "Visuim", "ST" and "Others" ("Others" represents the other SRT platforms except for 'Visium' and 'ST')
The platform helps to calculate the adjacency matrix by defining the neighborhoods when type="fixed_distance" is chosen.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neighbors</code></td>
<td>
<p>an optional postive integer,  specify how many neighbors used in calculation, default as 6.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to <code>getAdj_auto</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When the type = "fixed_distance", then the spots within the Euclidean distance cutoffs from one spot are regarded as the neighbors of this spot. When the type = "fixed_number", the K-nearest spots are regarded as the neighbors of each spot.
</p>


<h3>Value</h3>

<p>return a sparse matrix, representing the adjacency matrix.
</p>


<h3>References</h3>

<p>None
</p>


<h3>See Also</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(CosMx_subset)
pos &lt;- as.matrix(CosMx_subset@meta.data[,c("x", "y")])
Adj_sp &lt;- AddAdj(pos)

</code></pre>


</div>