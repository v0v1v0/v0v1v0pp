<div class="container">

<table style="width: 100%;"><tr>
<td>mcor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute (Large) Correlation Matrix</h2>

<h3>Description</h3>

<p>Compute a correlation matrix, possibly by robust methods, applicable also
for the case of a large number of variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mcor(dm, method = c("standard", "Qn", "QnStable",
                    "ogkScaleTau2",  "ogkQn", "shrink"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dm</code></td>
<td>
<p>numeric data matrix; rows are observiations
(“samples”), columns are variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a string; <code>"standard"</code> (default), <code>"Qn"</code>,
<code>"QnStable"</code>, <code>"ogkQn"</code> and <code>"shrink"</code> envokes standard,
elementwise robust (based on <code class="reqn">Q_n</code> scale estimator, see
<code>Qn</code>), robust (<code class="reqn">Q_n</code> using OGK, see
<code>covOGK</code>) or shrinked 
correlation estimate respectively.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>"standard"</code> method envokes a standard correlation estimator. <code>"Qn"</code>
envokes a robust, elementwise correlation estimator based on the Qn scale
estimte. <code>"QnStable"</code> also uses the Qn scale estimator, but uses an
improved way of transforming that into the correlation
estimator. <code>"ogkQn"</code> envokes a correlation estimator based on Qn using
OGK. <code>"shrink"</code> is only useful when used with pcSelect. An optimal
shrinkage parameter is used. Only correlation between response and
covariates is shrinked.
</p>


<h3>Value</h3>

<p>A correlation matrix estimated by the specified method.
</p>


<h3>Author(s)</h3>

<p>Markus Kalisch <a href="mailto:kalisch@stat.math.ethz.ch">kalisch@stat.math.ethz.ch</a> and Martin Maechler
</p>


<h3>References</h3>

<p>See those in the help pages for <code>Qn</code> and
<code>covOGK</code> from package <span class="pkg">robustbase</span>.






</p>


<h3>See Also</h3>

<p><code>Qn</code> and <code>covOGK</code>
from package <span class="pkg">robustbase</span>.
<code>pcorOrder</code> for computing partial correlations.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## produce uncorrelated normal random variables
set.seed(42)
x &lt;- rnorm(100)
y &lt;- 2*x + rnorm(100)
## compute correlation of var1 and var2
mcor(cbind(x,y), method="standard")

## repeat but this time with heavy-tailed noise
yNoise &lt;- 2*x + rcauchy(100)
mcor(cbind(x,yNoise), method="standard") ## shows almost no correlation
mcor(cbind(x,yNoise), method="Qn")       ## shows a lot correlation
mcor(cbind(x,yNoise), method="QnStable") ## shows still much correlation
mcor(cbind(x,yNoise), method="ogkQn")    ## ditto
</code></pre>


</div>