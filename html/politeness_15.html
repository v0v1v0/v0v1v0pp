<div class="container">

<table style="width: 100%;"><tr>
<td>politenessPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Politeness plot</h2>

<h3>Description</h3>

<p>Plots the prevalence of politeness features in documents, divided by a binary covariate.
</p>


<h3>Usage</h3>

<pre><code class="language-R">politenessPlot(
  df_polite,
  split = NULL,
  split_levels = NULL,
  split_name = NULL,
  split_cols = c("firebrick", "navy"),
  top_title = "",
  drop_blank = 0.05,
  middle_out = 0.5,
  features = NULL,
  ordered = FALSE,
  CI = 0.68
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_polite</code></td>
<td>
<p>a data.frame with politeness features calculated from a document set, as output by <code>politeness</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split</code></td>
<td>
<p>a vector of covariate values. must have a length equal to the number of documents included in <code>df_polite</code>. No NA values allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_levels</code></td>
<td>
<p>character vector of length 2 default NULL. Labels for covariate levels for legend. If NULL, this will be inferred from <code>split</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_name</code></td>
<td>
<p>character default NULL. Name of the covariate for legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_cols</code></td>
<td>
<p>character vector of length 2. Name of colors to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top_title</code></td>
<td>
<p>character default "". Title of plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_blank</code></td>
<td>
<p>Features less prevalent than this in the sample value are excluded from the plot. To include all features, set to <code>0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>middle_out</code></td>
<td>
<p>Features less distinctive than this value (measured by p-value of t-test) are excluded. Defaults to 1 (i.e. include all).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>features</code></td>
<td>
<p>character vector of feature names. If NULL all will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordered</code></td>
<td>
<p>logical should features be ordered according to features param? default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CI</code></td>
<td>
<p>Coverage of error bars. Defaults to 0.68 (i.e. standard error).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Length of <code>split</code> must be the same as number of rows of <code>df_polite</code>. Typically <code>split</code> should be a two-category variable. However, if a continuous covariate is given, then the top and bottom terciles of that distribution are treated as the two categories (while dropping data from the middle tercile).
</p>


<h3>Value</h3>

<p>a ggplot of the prevalence of politeness features, conditional on <code>split</code>. Features are sorted by variance-weighted log odds ratio.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data("phone_offers")

polite.data&lt;-politeness(phone_offers$message, parser="none", drop_blank=FALSE)

politeness::politenessPlot(polite.data,
                           split=phone_offers$condition,
                           split_levels = c("Tough","Warm"),
                           split_name = "Condition",
                           top_title = "Average Feature Counts")


politeness::politenessPlot(polite.data,
                           split=phone_offers$condition,
                           split_levels = c("Tough","Warm"),
                           split_name = "Condition",
                           top_title = "Average Feature Counts",
                           features=c("Positive.Emotion","Hedges","Negation"))


polite.data&lt;-politeness(phone_offers$message, parser="none", metric="binary", drop_blank=FALSE)

politeness::politenessPlot(polite.data,
                           split=phone_offers$condition,
                           split_levels = c("Tough","Warm"),
                           split_name = "Condition",
                           top_title = "Binary Feature Use")

</code></pre>


</div>