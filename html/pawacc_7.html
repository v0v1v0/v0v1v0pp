<div class="container">

<table style="width: 100%;"><tr>
<td>dateSummary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Date summary for accelerometer files
</h2>

<h3>Description</h3>

<p>This function provides a date summary for Actigraph GT1M accelerometer files.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dateSummary(object, wear, timestamp, minval = 0,
rescale.epoch = 60, keep.error = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>an object of class <code>gt1m</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wear</code></td>
<td>

<p>a vector that classifies wear and non-wear time. See <code>markwear.accfile</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamp</code></td>
<td>

<p>a timestamp vector for accelerometer values that can be provided by <code>tsFormat</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minval</code></td>
<td>

<p>threshold defining the minimum number of minutes to identify first and last days. See details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rescale.epoch</code></td>
<td>

<p>epoch expressed in the same unit as acceleromenter's epoch to determine minutes of wear time (default is 60 and assumed to be in seconds).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.error</code></td>
<td>

<p>logical flag. If <code>FALSE</code> (default) data errors as identified by <code>errorChk</code> will be replaced by NAs.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Based on total wear time (in minutes) for each day, the theshold <code>minval</code> is applied to identify the first and last days. For example, if accelerometers are sent by post to collect survey data, the first and last days in which the accelerometer was worn might not be known. Days before the first and those after the last day (<code>truncated</code> days) are discarded by <code>collapse.accfile</code>.
</p>


<h3>Value</h3>

<p>A data frame containing the following variables
</p>
<table>
<tr style="vertical-align: top;">
<td><code>fileid</code></td>
<td>
<p>file identifier</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>days</code></td>
<td>
<p>dates by calendar day</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>frequency of accelerometer observations in each day</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hour_day</code></td>
<td>
<p>total hours of accelerometer observations in each day</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_day</code></td>
<td>
<p>starting time of accelerometer observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>end time of accelerometer observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valid_mins</code></td>
<td>
<p>wear time (minutes)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IsStartDate</code></td>
<td>
<p>dummy variable to define starting date (1 = yes)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IsEndDate</code></td>
<td>
<p>dummy variable to define end date (1 = yes)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IsTruncated</code></td>
<td>
<p>dummy variable to define truncated date (1 = yes)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Marco Geraci
</p>


<h3>References</h3>

<p>Geraci M, Rich C, Sera F, Cortina-Borja M, Griffiths LJ, and Dezateux C (2012). Technical report on accelerometry data processing in the Millennium Cohort Study. London, UK: University College London. Available at <a href="https://discovery.ucl.ac.uk/1361699">https://discovery.ucl.ac.uk/1361699</a>
</p>


<h3>See Also</h3>

<p><code>collapse.accfile</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(gt1m_sample)

mw &lt;- markwear.accfile(gt1m_sample, 20)
tsf &lt;- tsFormat(gt1m_sample)
dateSummary(gt1m_sample, mw, tsf)
## Not run: 
  fileid       days freq hour_day start_day end_day valid_mins IsStartDate
1   test 2011-12-08 3840   16.000        08      23     571.25           1
2   test 2011-12-09 5760   24.000        00      23     557.00           0
3   test 2011-12-10 5760   24.000        00      23     676.50           0
4   test 2011-12-11 5760   24.000        00      23     493.50           0
5   test 2011-12-12 5760   24.000        00      23     638.25           0
6   test 2011-12-13 5760   24.000        00      23     680.50           0
7   test 2011-12-14 5760   24.000        00      23     717.00           0
8   test 2011-12-15 5760   24.000        00      23       0.50           0
9   test 2011-12-16  750    3.125        00      03       0.00           0
  IsEndDate IsTruncated
1         0           0
2         0           0
3         0           0
4         0           0
5         0           0
6         0           0
7         0           0
8         0           0
9         1           0

## End(Not run)

# at least 600 minutes per day to determine first and last day
dateSummary(gt1m_sample, mw, tsf, minval = 600)
## Not run: 
  fileid       days freq hour_day start_day end_day valid_mins IsStartDate
1   test 2011-12-08 3840   16.000        08      23     571.25           0
2   test 2011-12-09 5760   24.000        00      23     557.00           0
3   test 2011-12-10 5760   24.000        00      23     676.50           1
4   test 2011-12-11 5760   24.000        00      23     493.50           0
5   test 2011-12-12 5760   24.000        00      23     638.25           0
6   test 2011-12-13 5760   24.000        00      23     680.50           0
7   test 2011-12-14 5760   24.000        00      23     717.00           0
8   test 2011-12-15 5760   24.000        00      23       0.50           0
9   test 2011-12-16  750    3.125        00      03       0.00           0
  IsEndDate IsTruncated
1         0           1
2         0           1
3         0           0
4         0           0
5         0           0
6         0           0
7         1           0
8         0           1
9         0           1

## End(Not run)

</code></pre>


</div>