<div class="container">

<table style="width: 100%;"><tr>
<td>plsmod-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>parsnip methods for partial least squares (PLS)</h2>

<h3>Description</h3>

<p><span class="pkg">plsmod</span> offers a function to fit ordinary, sparse, and discriminant
analysis PLS models.
</p>


<h3>Details</h3>

<p>The model function works with the tidymodels infrastructure so that the model
can be resampled, tuned, tided, etc.
</p>


<h3>Examples</h3>

<p>For regression, let’s use the Tecator data in the modeldata package:
</p>
<div class="sourceCode r"><pre>library(tidymodels)
library(plsmod)
tidymodels_prefer()
theme_set(theme_bw())

data(meats, package = "modeldata")
</pre></div>
<p>Note that using <code>tidymodels_prefer()</code> will resulting getting
<code>parsnip::pls()</code> instead of <code>mixOmics::pls()</code> when simply running
<code>pls()</code>.
</p>
<p>Although plsmod can fit multivariate models, we’ll concentration on a
univariate model that predicts the percentage of protein in the samples.
</p>
<div class="sourceCode r"><pre>meats &lt;- meats %&gt;% select(-water, -fat)
</pre></div>
<p>We define a sparse PLS model by setting the <code>predictor_prop</code> argument to
a value less than one. This allows the model fitting process to set
certain loadings to zero via regularization.
</p>
<div class="sourceCode r"><pre>sparse_pls_spec &lt;- 
  pls(num_comp = 10, predictor_prop = 1/3) %&gt;% 
  set_engine("mixOmics") %&gt;% 
  set_mode("regression")
</pre></div>
<p>The model is fit either with a formula or by passing the predictors and
outcomes separately:
</p>
<div class="sourceCode r"><pre>form_fit &lt;- 
  sparse_pls_spec %&gt;% 
  fit(protein ~ ., data = meats)
form_fit
</pre></div>
<div class="sourceCode"><pre>## parsnip model object
## 
## 
## Call:
##  mixOmics::spls(X = x, Y = y, ncomp = ncomp, keepX = keepX) 
## 
##  sPLS with a 'regression' mode with 10 sPLS components. 
##  You entered data X of dimensions: 215 100 
##  You entered data Y of dimensions: 215 1 
## 
##  Selection of [34] [34] [34] [34] [34] [34] [34] [34] [34] [34] variables on each of the sPLS components on the X data set. 
##  Selection of [1] [1] [1] [1] [1] [1] [1] [1] [1] [1] variables on each of the sPLS components on the Y data set. 
## 
##  Main numerical outputs: 
##  -------------------- 
##  loading vectors: see object$loadings 
##  variates: see object$variates 
##  variable names: see object$names 
## 
##  Functions to visualise samples: 
##  -------------------- 
##  plotIndiv, plotArrow 
## 
##  Functions to visualise variables: 
##  -------------------- 
##  plotVar, plotLoadings, network, cim
</pre></div>
<div class="sourceCode r"><pre># or 

sparse_pls_spec %&gt;% 
  fit_xy(x = meats %&gt;% select(-protein), y = meats$protein)
</pre></div>
<div class="sourceCode"><pre>## parsnip model object
## 
## 
## Call:
##  mixOmics::spls(X = x, Y = y, ncomp = ncomp, keepX = keepX) 
## 
##  sPLS with a 'regression' mode with 10 sPLS components. 
##  You entered data X of dimensions: 215 100 
##  You entered data Y of dimensions: 215 1 
## 
##  Selection of [34] [34] [34] [34] [34] [34] [34] [34] [34] [34] variables on each of the sPLS components on the X data set. 
##  Selection of [1] [1] [1] [1] [1] [1] [1] [1] [1] [1] variables on each of the sPLS components on the Y data set. 
## 
##  Main numerical outputs: 
##  -------------------- 
##  loading vectors: see object$loadings 
##  variates: see object$variates 
##  variable names: see object$names 
## 
##  Functions to visualise samples: 
##  -------------------- 
##  plotIndiv, plotArrow 
## 
##  Functions to visualise variables: 
##  -------------------- 
##  plotVar, plotLoadings, network, cim
</pre></div>
<p>The <code>pls()</code> function can also be used with categorical outcomes.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Max Kuhn <a href="mailto:max@rstudio.com">max@rstudio.com</a> (<a href="https://orcid.org/0000-0003-2402-136X">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul><li>
<p> RStudio [copyright holder]
</p>
</li></ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://plsmod.tidymodels.org">https://plsmod.tidymodels.org</a>
</p>
</li>
<li> <p><a href="https://github.com/tidymodels/plsmod">https://github.com/tidymodels/plsmod</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/tidymodels/plsmod/issues">https://github.com/tidymodels/plsmod/issues</a>
</p>
</li>
</ul>
</div>