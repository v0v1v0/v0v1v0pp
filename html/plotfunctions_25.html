<div class="container">

<table style="width: 100%;"><tr>
<td>gradientLegend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a gradient legend to a plot.</h2>

<h3>Description</h3>

<p>Add a gradient legend to a contour plot (or other plot) to 
indicate the range of values represented by the color palette.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gradientLegend(
  valRange,
  color = "terrain",
  nCol = 30,
  pos = 0.875,
  side = 4,
  dec = NULL,
  length = 0.25,
  depth = 0.05,
  inside = FALSE,
  coords = FALSE,
  pos.num = NULL,
  n.seg = 1,
  border.col = "black",
  tick.col = NULL,
  fit.margin = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>valRange</code></td>
<td>
<p>Range of the values that is represented by the color 
palette. Normally two value-vector. If a larger vector is provided, only 
the min and max values are being used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Name of color palette to use ('topo', 'terrain', 'heat', 
'rainbow'). Custom color palettes can also be provided, but then the 
argument <code>nCol</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCol</code></td>
<td>
<p>Number of colors in the color palette.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>A number indicating the position on the axis in proportion. 
Using the arguments <code>length</code> and <code>depth</code> and <code>side</code> the 
position of the legend is calculated automatically. Alternatively, one 
could provide  a vector with 4 numbers, providing the xleft, ybottom, 
xright, ytop of a rectangle. These 4 points are indicated in proportions of 
the x- and y-axis. However, if the argument <code>coords</code> is set to TRUE, 
these positions are taken as values in the Cartesian coordinate system of 
the plot. Note: <code>coords</code> is only considered for 4-number vectors of 
<code>pos</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side</code></td>
<td>
<p>Which axis to choose: 1=bottom, 2=left, 3=top, 4=right.
Default is 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dec</code></td>
<td>
<p>Number of decimals for rounding the numbers, set to NULL on 
default (no rounding).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>Number, indicating the width of the legend as proportion with 
respect to the axis indicated by <code>side</code>. 
Note: when <code>pos</code> is defined by 4 numbers, <code>length</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depth</code></td>
<td>
<p>Number, indicating the height of the legend as proportion 
with respect to the axis perpendicular to <code>side</code>.
Note: when <code>pos</code> is defined by 4 numbers, <code>depth</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inside</code></td>
<td>
<p>Logical: whether or not to plot the legend inside or outside 
the plot area.
Note: when <code>pos</code> is defined by 4 numbers, <code>inside</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>Logical: whether or not <code>pos</code> (and optionally 
<code>n.seg</code>) is defined as coordinates. 
When FALSE, the default, <code>pos</code> is defined in proportions. 
Note: when <code>pos</code> is defined by 1 number, <code>inside</code> is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos.num</code></td>
<td>
<p>Numeric value, indicating the position of the numbers with 
respect to the tick marks. 1=bottom, 2=left, 3=top, 4=right.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.seg</code></td>
<td>
<p>Number of ticks and markers on the scale. Defaults to 1. 
If vector is provided instead of number, all numbers are considered as 
marker values on the scale provided by <code>valRange</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border.col</code></td>
<td>
<p>Color of the border (if NA border is omitted).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tick.col</code></td>
<td>
<p>Color of the tick marks. Defaults to <code>border.col</code> value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.margin</code></td>
<td>
<p>Logical: whether the labels of the gradient legend 
should be forced to fit in the margin or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters for the marker labels
(see <code>text</code>).</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jacolien van Rij
</p>


<h3>See Also</h3>

<p>Other Functions for plotting: 
<code>addInterval()</code>,
<code>add_bars()</code>,
<code>add_n_points()</code>,
<code>alphaPalette()</code>,
<code>alpha()</code>,
<code>check_normaldist()</code>,
<code>color_contour()</code>,
<code>dotplot_error()</code>,
<code>drawDevArrows()</code>,
<code>emptyPlot()</code>,
<code>errorBars()</code>,
<code>fill_area()</code>,
<code>getCoords()</code>,
<code>getFigCoords()</code>,
<code>getProps()</code>,
<code>legend_margin()</code>,
<code>marginDensityPlot()</code>,
<code>plot_error()</code>,
<code>plot_image()</code>,
<code>plotsurface()</code>,
<code>sortBoxplot()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># empty plot:
emptyPlot(1,1, main='Test plot', axes=FALSE)
box()
# legend on outside of plotregion:
gradientLegend(valRange=c(-14,14), pos=.5, side=1)
gradientLegend(valRange=c(-14,14), pos=.5, side=2)
gradientLegend(valRange=c(-14,14), pos=.5, side=3)
gradientLegend(valRange=c(-14,14), pos=.5, side=4)

# legend on inside of plotregion:
gradientLegend(valRange=c(-14,14), pos=.5, side=1, inside=TRUE)
gradientLegend(valRange=c(-14,14), pos=.5, side=2, inside=TRUE)
gradientLegend(valRange=c(-14,14), pos=.5, side=3, inside=TRUE)
gradientLegend(valRange=c(-14,14), pos=.5, side=4, inside=TRUE)

# empty plot:
emptyPlot(1,1, main='Test plot', axes=FALSE)
box()
# number of segments:
gradientLegend(valRange=c(-14,14), n.seg=3, pos=.5, side=1)
gradientLegend(valRange=c(-14,14), n.seg=c(-3,5), pos=.5, side=1, 
    inside=TRUE)

# This produces a warning, as there is no space for labels here:
## Not run: 
    gradientLegend(valRange=c(-14.235,14.2), pos=.5, 
        n.seg = c(-7,0), side=4)

## End(Not run)
# different solutions:
# 1. adjust range (make sure also to adjust the range in the plot, 
#    for example by changing zlim)
emptyPlot(1,1, main='Test plot')
gradientLegend(valRange=c(-14,14), n.seg = c(-7,0), side=4)
# 2. reduce number of decimals:
emptyPlot(1,1, main='Test plot')
gradientLegend(valRange=c(-14.235,14.2), n.seg = c(-7,0), dec=1, side=4)
# 3. change labels to inside plot window:
emptyPlot(1,1, main='Test plot')
gradientLegend(valRange=c(-14.235,14.2), n.seg = c(-7,0), 
    dec=1, side=4, inside=TRUE)
# 4. increase right margin:
oldmar &lt;- par()$mar
par(mar=c(5.1,3.1,4.1,4.1))
emptyPlot(1,1, main='Test plot')
gradientLegend(valRange=c(-14.235,14.2), dec=2, 
    n.seg = c(-7,0), side=4)
par(mar=oldmar) # return old values
# 5. change label position:
emptyPlot(1,1, main='Test plot')
gradientLegend(valRange=c(-14.235,14.2), dec=2, 
    n.seg = c(-7,0), side=4, pos.num=2)
gradientLegend(valRange=c(-14.235,14.2), dec=2, 
    n.seg = c(-7,0), side=4, pos.num=1, pos=.5)
# 6. change legend position and length:
emptyPlot(1,1, main='Test plot')
gradientLegend(valRange=c(-14.235,14.2), dec=2, 
    n.seg = c(-7,0), side=3, length=.5, pos=.75)

# change border color (and font color too!)
gradientLegend(valRange=c(-14,14),pos=.75, length=.5,
color=alphaPalette('white', f.seq=seq(0,1, by=.1)), 
border.col=alpha('gray'))

# when defining custom points, it is still important to specify side:

gradientLegend(valRange=c(-14,14), pos=c(.5,.25,.7,-.05), coords=TRUE, 
    border.col='red', side=1)
gradientLegend(valRange=c(-14,14), pos=c(.5,.25,.7,-.05), coords=TRUE, 
    border.col='red', side=2)


</code></pre>


</div>