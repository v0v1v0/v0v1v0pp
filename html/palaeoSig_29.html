<div class="container">

<table style="width: 100%;"><tr>
<td>species</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Generates species response parameters for n dimensions

</h2>

<h3>Description</h3>

<p> Generates species response parameters to n environmental variables following Minchin (1987). 

</p>


<h3>Usage</h3>

<pre><code class="language-R">species(nspp = 30, Amax, fun, xpar, srange, alpha = 4, 
        gamma= 4, ndim, sdistr, ocor, odistr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nspp</code></td>
<td>
<p> Number of species to be generated.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Amax</code></td>
<td>
<p> Maximum abundance of a species. 'Amax' currently allows three options: i) a function how to generate maximum abundances (e.g. 'runif', 'rgamma') ii) a vector of length 'nspp'  iii) a single number that is used as maximum abundance for all the species.  

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p> Function to generate species optima (e.g. 'rnorm', 'runif'). The two parameters in 'xpar' are passed to function 'fun'. If omitted species optima are generated 
at regular intervals between the two values in 'xpar'.  

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpar</code></td>
<td>
<p> Two numbers describing a distribution e.g mu and sigma for a normal distribution, lower and upper bound for a random uniform distribution. 

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>srange</code></td>
<td>
<p> Length of the ecological gradient to which individual species respond. Either one number or a matrix with 'nspp' rows and 'ndim' columns. If 'srange' should be different for different environmental variables a simpler solution is to change argument elen in <code>make.env</code> accordingly. E.g. 'elen = c(100,50,50)' when using three environmental gradients.  

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p> Shape parameter of the beta distribution. One number or a matrix with 'nspp' rows and 'ndim' columns.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p> Shape parameter of the beta distribution. One number or a matrix with 'nspp' rows and 'ndim' columns.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndim</code></td>
<td>
<p> Number of environmental variables to which generated species should respond.

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdistr</code></td>
<td>
<p> Users may supply own distributions of species optima. Matrix with 'nspp' rows and 'ndim' columns (as well in the special case of 'ndim = 1').  

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ocor</code></td>
<td>
<p> Correlation matrix of the species optima. May be generated by code cor.mat.fun. 

</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>odistr</code></td>
<td>
<p> Distribution of the correlated optima either 'uniform' or 'Gaussian'

</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p> Details on the exact generation of species response functions from parameters 'Amax', 'm', 'r', 'gamma' and 'alpha' are given in Minchin (1987). Species response curves are determined by five parameters: a parameter determining the maximum abundance ('Amax') and one describing the location ('m') of this mode. A parameter determining to which environmental range the species respond ('srange' in the input 'r' in the output) and two parameters ('alpha', 'gamma') describing the shape of the species response function. If 'alpha' = 'gamma' the response curve is symmetric ('alpha' = 'gamma' = 4, yields Gaussian distributions). Additionally, species optima for several environmental variables may be correlated. Currently this is only possible for gaussian or uniform distributions of species optima. Users may as well supply previously generated optima (e.g. optima similar to a real dataset). 
</p>



<h3>Value</h3>

<p> List with 'ndim' elements. Each list contains the species response parameters to one environmental gradient.     





</p>


<h3>Author(s)</h3>

<p> Mathias Trachsel and Richard J. Telford

</p>


<h3>References</h3>

<p> Minchin, P.R. (1987) Multidimensional Community Patterns: Towards a Comprehensive Model. Vegetatio, 71, 145-156.

</p>


<h3>Examples</h3>

<pre><code class="language-R">spec.par &lt;- species(nspp = 30, Amax = runif, srange = 200, fun = runif, xpar = c(-50, 150),  
ndim = 5, alpha = 4, gamma = 4)
spec.par &lt;- species(nspp = 30, ndim = 3, Amax = runif, xpar = c(-50, 150), 
srange = 200, alpha = 4, gamma = 4) 

# example where srange, alpha and gamma are different for each species and environmental gradient. 
spec.par &lt;- species(nspp = 30, ndim = 3, Amax = runif, xpar = c(-50, 150), 
srange = matrix(ncol = 3, runif(90, 100, 200)), alpha = matrix(ncol = 3, runif(90, 1, 5)), 
gamma = matrix(ncol = 3, runif(90, 1, 5)))

# example where species optima are correlated
correlations &lt;- list(c(1, 2, 0.5), c(1, 3, 0.3), c(2, 3, 0.1))
spec.cor.mat &lt;- cor.mat.fun(3, correlations)
spec.par &lt;- species(nspp = 30, ndim = 3, Amax = runif, xpar = c(50, 50), srange = 200, 
alpha = 4, gamma = 4,ocor = spec.cor.mat, odistr = 'Gaussian')           

# example for species response curves (users should alter alpha and gamma)
spec.par &lt;- species(nspp = 1, Amax = 200, srange = 200, fun = runif, xpar = c(50, 50),  
    ndim = 1, alpha = 3, gamma = 1)
env &lt;- -50:150
response &lt;- palaeoSig:::make.abundances(env = -50:150, param = spec.par[[1]]$spp)
plot(env, response, type='l') 
                                                                                                       
</code></pre>


</div>