<div class="container">

<table style="width: 100%;"><tr>
<td>plot_MBRAlign</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot MaxQuant Match-between-runs alignment performance.</h2>

<h3>Description</h3>

<p>The plots shows the correction function applied by MaxQuant, and the
residual RT (ideally 0) of each peptide to its reference. Uncalibrated peptides
are shown in red, calibrated ones in green.
The MaxQuant RT correction which was applied prior is shown in blue. The range of this function
can give hints if the allowed RT search window (20min by default) is sufficient or if
MaxQuant should be re-run with more tolerant settings.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_MBRAlign(data, y_lim, title_sub, match_tol)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame with columns as described above</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_lim</code></td>
<td>
<p>Plot range of y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_sub</code></td>
<td>
<p>Subtitle</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>match_tol</code></td>
<td>
<p>Maximal residual RT delta to reference (usually ~1 min)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The input is a data.frame with columns
'calibrated.retention.time' - resulting (hopefully) calibratated RT after MQ-recal (the X-axis of the plot)
'retention.time.calibration' - delta applied by MaxQuant
'rtdiff' - remaining RT diff to reference peptide of the same sequence
'RTdiff_in' - is the feature aligned (within 'match_tol')?
'fc.raw.file_ext' - raw file
where each row represents one peptide whose RT was corrected by MaxQuant.
</p>


<h3>Value</h3>

<p>GGplot object
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 data = data.frame(fc.raw.file_ext = "file A", ## more than one would be possible
                   calibrated.retention.time = c(20:100), 
                   retention.time.calibration = 6 + sin((20:100)/10))
 data$rtdiff = rnorm(nrow(data))
 data$RTdiff_in = c("green", "red")[1 + (abs(data$rtdiff) &gt; 0.7)]
 
 plot_MBRAlign(data, c(-10, 10), "fancy subtitle", 0.7)

</code></pre>


</div>