<div class="container">

<table style="width: 100%;"><tr>
<td>autocol</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map Colours From Value</h2>

<h3>Description</h3>

<p>Create a vector of colours and associated legend for easier base plots
</p>


<h3>Usage</h3>

<pre><code class="language-R">autocol(
  x,
  set = "",
  alpha = NA,
  limits = NA,
  na_colour = NA,
  bias = 1,
  legend_len = 6
)

palette.misc

palette.viridis

palette.colorbrewer
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Vector to be mapped to colours</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set</code></td>
<td>
<p>Colour set to use â€“ see Details for full list. A default <code>sasha</code> or <code>viridis</code> is chosen if empty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Transparency as a single value or as another vector (recycled to fill).
If it is a vector, all values are scaled from 0:max(alpha) meaning transparent:opaque.
Single values must be in range 0-1. If <code>NA</code> no alpha channel is added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limits</code></td>
<td>
<p>Colour scale limits as absolute range <code>c(0,10)</code> or <code>NA</code> = full range</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_colour</code></td>
<td>
<p>Colour to represent NA-values, default <code>NA</code> returns a colour of <code>NA</code> (thus not plotted)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bias</code></td>
<td>
<p>Skew to apply to colour-ramp (&gt;1 increases resolution at low end, &lt;1 at the high end)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_len</code></td>
<td>
<p>Continuous legend target size</p>
</td>
</tr>
</table>
<h3>Format</h3>

<p>An object of class <code>list</code> of length 1.
</p>
<p>An object of class <code>list</code> of length 8.
</p>
<p>An object of class <code>list</code> of length 35.
</p>


<h3>Details</h3>

<p>Helper function for using colours in R's default <code>plot()</code> and <code>legend()</code>. Colours
from built-in palettes are automatically scaled to return a vector of colours
and create <code>options('autolegend')</code> which contains the correct legend mapping for
<code>autolegend()</code>.
</p>
<p>A discrete palette is used for factor and character inputs whilst a
continuous palette is used for integer and numeric.
</p>
<p>Colour sets built-in so far are held in lists starting <code>pals.</code> and can be
visualized most easily with <code>pals_display()</code>. The <code>set</code> argument can be
any of the colour set names listed here (such as 'magma'), or from <code>palette.pals()</code>,
or finally as a custom-defined vector, such as <code>set = rainbow(5)</code>.
</p>
<p>The current lists of palettes included with paletteknife all being with <code>pal.</code>
</p>

<ul>
<li> <p><strong><code>pals.viridis</code></strong>
</p>
<p>All of the continuous palette forked from the <code>viridisLite</code> package maintained by Simon Garnier.
</p>

<ul><li>
<p> Contains: <code>cividis</code> <code>inferno</code> <code>magma</code> <code>mako</code> <code>plasma</code> <code>rocket</code> <code>turbo</code> <code>viridis</code>
</p>
</li></ul>
</li>
<li> <p><strong><code>pals.rcolorbrewer</code></strong>
</p>
<p>All of the palettes included in RColorBrewer
</p>

<ul>
<li>
<p> Categorical:
<code>Accent</code> <code>Set1</code> <code>Set2</code> <code>Set3</code> <code>Paired</code> <code>Pastel1</code> <code>Pastel2</code> <code>Dark2</code>
</p>
</li>
<li>
<p> Continuous:
<code>Greys</code> <code>Blues</code> <code>BuGn</code> <code>BuPu</code> <code>Greens</code> <code>GnBu</code> <code>PuBu</code> <code>Purples</code> <code>PuBuGn</code>
<code>YlGnBu</code> <code>YlGn</code>
<code>YlOrBr</code> <code>YlOrRd</code> <code>Oranges</code> <code>OrRd</code> <code>Reds</code> <code>RdPu</code> <code>PuRd</code>
</p>
</li>
<li>
<p> Divergent:
<code>Spectral</code> <code>RdYlBu</code> <code>RdYlGn</code>
<code>BrBG</code> <code>RdBu</code> <code>RdGy</code> <code>PiYG</code> <code>PRGn</code> <code>PuOr</code>
</p>
</li>
</ul>
</li>
<li> <p><strong><code>pals.misc</code></strong>
</p>

<ul><li>
<p> Sasha Trubetskoy  (2017): <em>List of 20 Simple, Distinct Colors</em>: <code>sasha</code>
</p>
</li></ul>
</li>
</ul>
<p>Custom limits can be specified using <code>c(0,10)</code>. This is useful if multiple
plots using the same range are required for cross-comparison. Default
behaviour (<code>limits = NA</code>) sets the range to exactly fit.
</p>
<p>The skew of the colourscale can be adjusted with <code>bias</code>, for example if <code>x</code>
has an exponential distribution, a bias value &gt; 1 will bring out contrast at
the low end.
</p>


<h3>Value</h3>

<p>A character vector of colours of equal length to input <code>x</code>, sampled from the chosen <code>set</code>.
This allows it to be used for plotting directly. Information for a legend (containing every
level for categorical data, or approximately length <code>legend_len</code> for continuous) is stored in
<code>options('autolegend')</code> and not returned explicitly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">plot(iris$Sepal.Length, iris$Petal.Length, cex=3, pch=16,
    col=autocol(iris$Petal.Width, set='PuBuGn', alpha=0.8, legend_len=12) )
  autolegend('topleft', title='Petal.Width', ncol=3)
  # Also try simplest "autolegend()" for click-to-draw

# Try scales which include NA in both colour and alpha channel
with(airquality, plot(Temp, col=autocol(x=Solar.R, set='YlOrRd', alpha=Ozone,
    na_colour='cyan'), pch=16, cex=sqrt(Wind) ))
  # Note inset=1 draws on opposite side ie above not below plot area
  autolegend('bottom', inset=1, bty='n', horiz=TRUE)


# Here we want a summary plot ordered by level, so need to create a colour vector to match
# 'Alphabet' is a built-in colour set, see "palette.pals()"
mixedbag = as.factor(sample(letters,1000,replace=TRUE))
  plot(x=mixedbag, y=rnorm(1000), col=autocol(levels(mixedbag), set='Alphabet'))
  autolegend('bottom', ncol=9, cex=0.7)

# Maintain the order of strings
barplot(1:8, col=autocol(LETTERS[8:1]))
  autolegend('topleft')

# Any unusual formats are coerced to numeric and the legend converted back
mydates = as.Date('2000-01-01')+0:100
  plot(mydates, pch=16, col=autocol(mydates, set=rainbow(10), bias=2) )
  autolegend(x=0, y=mydates[100], title='My Dates')

# Timeseries objects plot as a line, but can overlay with points()
plot(airmiles)
  points(airmiles, pch=15, col=autocol(airmiles, set='Reds'))

# Use the limits to clip or augment the colour-scale
layout(matrix(1:2))
  plot(runif(10), col=autocol(1:10, limits=c(0,20)), pch=16,
    main='Data split over two plots with same scale')
  plot(runif(10), col=autocol(c(100,20:12), limits=c(0,20)), pch=16)
  text(1, 0.5, pos=4, xpd=NA,
'This point has a
value of 100 but
clipped to max
colour == 20')
  autolegend('bottom', inset=1, horiz=TRUE) # Draws above!
  layout(1)

</code></pre>


</div>