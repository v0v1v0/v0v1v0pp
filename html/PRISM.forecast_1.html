<div class="container">

<table style="width: 100%;"><tr>
<td>back_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Out-of-sample prediction for whole period</h2>

<h3>Description</h3>

<p>Out-of-sample prediction for whole period
</p>


<h3>Usage</h3>

<pre><code class="language-R">back_test(
  n.lag = 1:52,
  s.window = 52,
  n.history = 700,
  stl = TRUE,
  n.training = 156,
  UseGoogle = T,
  alpha = 1,
  nPred = 0,
  discount = 0.015,
  sepL1 = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n.lag</code></td>
<td>
<p>the number of lags to be used as regressor in Stage 2 of PRISM (by default = 1:52 for weekly data)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s.window</code></td>
<td>
<p>seasonality span in seasonal decomposition (by default = 52 for weekly data)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.history</code></td>
<td>
<p>length of training period (e.g. in weeks) for seasonal decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stl</code></td>
<td>
<p>if TRUE, use STL seasonal decomposition; if FALSE, use classic additive seasonal decomposition.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.training</code></td>
<td>
<p>length of training period in Stage 2, penalized linear regression (by default = 156)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UseGoogle</code></td>
<td>
<p>boolean variable indicating whether to use Google Trend data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>penalty between lasso and ridge. alpha=1 represents lasso, alpha=0 represents ridge, alpha=NA represents no penalty (by default alpha = 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nPred</code></td>
<td>
<p>the number of periods ahead for forecast. nPred = 0,1,2,3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discount</code></td>
<td>
<p>exponential weighting: (1-discount)^lag.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sepL1</code></td>
<td>
<p>if TRUE, use separate L1 regularization parameters for time series components and exogenous variables (Goolgle Trend data)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>prediction</code> <code>nPred</code> week ahead prediction of the whole periods (07 - 20).
</p>


<h3>Examples</h3>

<pre><code class="language-R">claim_data = load_claim_data()

# It may take a few minutes.
prism_prediction = back_test()
# evaluate the out-of-sample prediction error as a ratio to naive method
evaluation_table(claim_data, prism_prediction)

</code></pre>


</div>