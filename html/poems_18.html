<div class="container">

<table style="width: 100%;"><tr>
<td>population_results</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Nested functions for initializing, calculating and collecting population simulator results.</h2>

<h3>Description</h3>

<p>Modular functions for the population simulator for initializing, calculating and
collecting simulator results.
</p>


<h3>Usage</h3>

<pre><code class="language-R">population_results(
  replicates,
  time_steps,
  coordinates,
  initial_abundance,
  results_selection = NULL,
  result_stages = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>replicates</code></td>
<td>
<p>Number of replicate simulation runs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_steps</code></td>
<td>
<p>Number of simulation time steps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coordinates</code></td>
<td>
<p>Data frame (or matrix) of X-Y population coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial_abundance</code></td>
<td>
<p>Matrix of initial abundances at each stage (in rows) for each population (in columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results_selection</code></td>
<td>
<p>List of results selection from: "abundance" (default), "ema", "extirpation", "extinction_location", "harvested", "occupancy"; "summarize" (default) or "replicate".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result_stages</code></td>
<td>
<p>Array of booleans or numeric (0, 1, 2, ...) for each stage to indicate which stages are included/combined (each unique digit &gt; 0; optionally named) in the results (default is 1 for all stages).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List of result functions:
</p>

<dl>
<dt><code>initialize_attributes = function())</code></dt>
<dd>
<p>Constructs and returns an initialized nested list for the selected result attributes.</p>
</dd>
<dt><code>initialize_replicate = function(results)</code></dt>
<dd>
<p>Initializes and returns nested result attributes at the start of each replicate.</p>
</dd>
<dt><code>calculate_at_timestep = function(r, tm, stage_abundance, harvested, results)</code></dt>
<dd>
<p>Appends and calculates (non-NULL) results and returns nested result attributes at the end of each time step (tm) within replicate (r).</p>
</dd>
<dt><code>finalize_attributes = function(results)</code></dt>
<dd>
<p>Finalizes result calculations at the end of the simulation.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">coordinates &lt;- array(c(1:4, 4:1), c(7, 2))
initial_abundance &lt;- matrix(c(
  7, 13, 0, 26, 0, 39, 47,
  2, 0, 6, 8, 0, 12, 13,
  0, 3, 4, 6, 0, 9, 10
), nrow = 3, ncol = 7, byrow = TRUE)
results_selection &lt;- c("abundance", "ema", "extirpation", 
                        "extinction_location", "harvested", "occupancy")
result_functions &lt;- population_results(
  replicates = 1, time_steps = 10, coordinates, initial_abundance,
  results_selection = results_selection, result_stages = c(0, 1, 1)
)
result_functions$initialize_attributes()

</code></pre>


</div>