<div class="container">

<table style="width: 100%;"><tr>
<td>psw.balance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Balance checking using standardized mean difference</h2>

<h3>Description</h3>

<p><code>psw.balance</code> is used to compute the standardized mean difference (in percentage) for balance diagnosis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">psw.balance(data, form.ps, weight, V.name = NULL, K = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>form.ps</code></td>
<td>
<p>propensity score model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>weighting method to be used. Available methods are <code>"ATE"</code>,  <code>"ATT"</code>, <code>"ATC"</code>, <code>"MW"</code>, <code>"OVERLAP"</code>, and <code>"TRAPEZOIDAL"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V.name</code></td>
<td>
<p>a vector of covariates on which standardized mean difference is computed. If <code>V.name = NULL</code>, the covariates in propensity score model are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>value of <code class="reqn">K</code> in <code class="reqn">\omega(e_i) = min(1, K min(e_i, 1-e_i)) </code> for <code>"TRAPEZOIDAL"</code> weight.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of weighting method, fitted propensity score model, estimated propenstity scores, estimated propensity score weights,
standardized mean difference before and after weighting adjustment.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>weighting method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ps.model</code></td>
<td>
<p>object returned by fitting the propensity score model using <code>glm</code> with <code>"binomial"</code> family.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ps.hat</code></td>
<td>
<p>estimated propensity score.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>estimated propensity score weight.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std.diff.before</code></td>
<td>
<p>A data frame of weighed mean, variance, and standardized mean difference for covariates in <code>V.name</code> by treatment groups before weighting.
<code>V.name</code> is the row name and <code>"treated.mean"</code>, <code>"treated.var"</code>, <code>"control.mean"</code>, <code>"control.var"</code>, <code>"std.diff.pct"</code> are column names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std.diff.after</code></td>
<td>
<p>A data frame of weighed mean, variance, and standardized mean difference for covariates in <code>V.name</code> by treatment groups after weighting.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>psw, psw.spec.test
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load the test data set
data(test_data);
# Propensity score model
form.ps &lt;- "Z ~ X1 + X2 + X3 + X4";
# A vector of covariates
V.name &lt;- c( "X1", "X2", "X3", "X4" );
tmp &lt;- psw.balance( data = test_data, weight = "MW", form.ps = form.ps,
V.name = V.name );

</code></pre>


</div>