<div class="container">

<table style="width: 100%;"><tr>
<td>plot.policy_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot policy data for given policies</h2>

<h3>Description</h3>

<p>Plot policy data for given policies
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'policy_data'
plot(
  x,
  policy = NULL,
  which = c(1),
  stage = 1,
  history_variables = NULL,
  jitter = 0.05,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object of class policy_data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>policy</code></td>
<td>
<p>An object or list of objects of class policy</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>A subset of the numbers 1:2
</p>

<ul>
<li>
<p>1 Spaghetti plot of the cumulative rewards
</p>
</li>
<li>
<p>2 Plot of the policy actions for a given stage
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stage</code></td>
<td>
<p>Stage number for plot 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>history_variables</code></td>
<td>
<p>character vector of length 2 for plot 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter</code></td>
<td>
<p>numeric</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library("polle")
library("data.table")
setDTthreads(1)
d3 &lt;- sim_multi_stage(2e2, seed = 1)
pd3 &lt;- policy_data(data = d3$stage_data,
                   baseline_data = d3$baseline_data,
                   type = "long",
                   id = "id",
                   stage = "stage",
                   event = "event",
                   action = "A",
                   utility = "U")

# specifying two static policies:
p0 &lt;- policy_def(c(1,1,0,0), name = "p0")
p1 &lt;- policy_def(c(1,0,0,0), name = "p1")

plot(pd3)
plot(pd3, policy = list(p0, p1))

# learning and plotting a policy:
 pe3 &lt;- policy_eval(pd3,
                    policy_learn = policy_learn(),
                    q_models = q_glm(formula = ~t + X + X_lead))
plot(pd3, list(get_policy(pe3), p0))

# plotting the recommended actions at a specific stage:
plot(pd3, get_policy(pe3),
     which = 2,
     stage = 2,
     history_variables = c("t","X"))
</code></pre>


</div>