<div class="container">

<table style="width: 100%;"><tr>
<td>sum_spectra</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add two spectra</h2>

<h3>Description</h3>

<p>Merge wavelength vectors of two spectra, and compute the missing spectral
values by interpolation within each spectrum. After this, the spectral values
at each wavelength are added. This is a 'parallel' operation between two
spectra.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sum_spectra(
  w.length1,
  w.length2 = NULL,
  s.irrad1,
  s.irrad2,
  trim = "union",
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>w.length1</code></td>
<td>
<p>numeric vector of wavelength (nm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.length2</code></td>
<td>
<p>numeric vector of wavelength (nm).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s.irrad1</code></td>
<td>
<p>a numeric vector of spectral values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s.irrad2</code></td>
<td>
<p>a numeric vector of spectral values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>a character string with value "union" or "intersection".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>a logical value, if TRUE, not the default, NAs in the input are
replaced with zeros.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If trim=="union" spectral values are calculated for the whole range
of wavelengths covered by at least one of the input spectra, and missing
values are set in each input spectrum to zero before addition. If
trim=="intersection" then the range of wavelengths covered by both input
spectra is returned, and the non-overlapping regions discarded. If
<code>w.length2 = NULL</code>, it is assumed that both spectra are measured at the same
wavelengths, and a simple addition is used, ensuring fast calculation.
</p>


<h3>Value</h3>

<p>a <code>data.frame</code> with two numeric variables </p>
<table>
<tr style="vertical-align: top;">
<td><code>w.length</code></td>
<td>
<p>A numeric
vector with the wavelengths (nm) obtained by "fusing" w.length1 and
w.length2. w.length contains all the unique vales, sorted in ascending
order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s.irrad</code></td>
<td>
<p>A numeric vector with the sum of the two spectral
values at each wavelength.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Other low-level functions operating on numeric vectors.: 
<code>as_energy()</code>,
<code>as_quantum_mol()</code>,
<code>calc_multipliers()</code>,
<code>div_spectra()</code>,
<code>energy_irradiance()</code>,
<code>energy_ratio()</code>,
<code>insert_hinges()</code>,
<code>integrate_xy()</code>,
<code>interpolate_spectrum()</code>,
<code>irradiance()</code>,
<code>l_insert_hinges()</code>,
<code>oper_spectra()</code>,
<code>photon_irradiance()</code>,
<code>photon_ratio()</code>,
<code>photons_energy_ratio()</code>,
<code>prod_spectra()</code>,
<code>s_e_irrad2rgb()</code>,
<code>split_energy_irradiance()</code>,
<code>split_photon_irradiance()</code>,
<code>subt_spectra()</code>,
<code>trim_tails()</code>,
<code>v_insert_hinges()</code>,
<code>v_replace_hinges()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
head(sun.data)
twice.sun.data &lt;- with(sun.data, sum_spectra(w.length, w.length, s.e.irrad, s.e.irrad))
head(twice.sun.data)
tail(twice.sun.data)

</code></pre>


</div>