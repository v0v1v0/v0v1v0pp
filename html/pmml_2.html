<div class="container">

<table style="width: 100%;"><tr>
<td>add_attributes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add attribute values to an existing element in a given PMML file.</h2>

<h3>Description</h3>

<p>Add attribute values to an existing element in a given PMML file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_attributes(
  xml_model = NULL,
  xpath = NULL,
  attributes = NULL,
  namespace = "4_4",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xml_model</code></td>
<td>
<p>The PMML model in a XML node format. If the model is a text
file, it should be converted to an XML node, for example, using the
file_to_xml_node function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpath</code></td>
<td>
<p>The XPath to the element to which the attributes are to be
added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attributes</code></td>
<td>
<p>The attributes to be added to the data fields. The user
should make sure that the attributes being added are allowed in the PMML
schema.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>namespace</code></td>
<td>
<p>The namespace of the PMML model. This is frequently also
the PMML version of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Add attributes to an arbitrary XML element. This is an experimental
function designed to be more general than the 'add_mining_field_attributes' and
'add_data_field_attributes' functions.
</p>
<p>The attribute information can be provided as a vector. Multiple attribute
names and values can be passes as vector elements to enable inserting
multiple attributes. However, this function overwrites any pre-existing
attribute values, so it must be used with care. This behavior is by design
as this feature is meant to help an user add new defined attribute values at
different times. The XPath has to include the namespace as shown in the
examples.
</p>


<h3>Value</h3>

<p>An object of class <code>XMLNode</code> as that defined by the <span class="pkg">XML</span> package.
This represents the top level, or root node, of the XML document and is of
type PMML. It can be written to file with <code>saveXML</code>.
</p>


<h3>Author(s)</h3>

<p>Tridivesh Jena
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Make a sample model:
fit &lt;- lm(Sepal.Length ~ ., data = iris[, -5])
fit_pmml &lt;- pmml(fit)

# Add arbitrary attributes to the 1st 'NumericPredictor' element. The
# attributes are for demostration only (they are not allowed under
# the PMML schema). The command assumes the default namespace.
fit_pmml_2 &lt;- add_attributes(fit_pmml, "/p:PMML/descendant::p:NumericPredictor[1]",
  attributes = c(a = 1, b = "b")
)

# Add attributes to the NumericPredictor element which has
# 'Petal.Length' as the 'name' attribute:
fit_pmml_3 &lt;- add_attributes(fit_pmml,
  "/p:PMML/descendant::p:NumericPredictor[@name='Petal.Length']",
  attributes = c(a = 1, b = "b")
)

# 3 NumericElements exist which have '1' as the 'exponent' attribute.
# Add new attributes to the 3rd one:
fit_pmml_4 &lt;- add_attributes(fit_pmml,
  "/p:PMML/descendant::p:NumericPredictor[@exponent='1'][3]",
  attributes = c(a = 1, b = "b")
)

# Add attributes to the 1st element whose 'name' attribute contains
# 'Length':
fit_pmml_5 &lt;- add_attributes(fit_pmml,
  "/p:PMML/descendant::p:NumericPredictor[contains(@name,'Length')]",
  attributes = c(a = 1, b = "b")
)
</code></pre>


</div>