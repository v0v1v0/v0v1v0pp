<div class="container">

<table style="width: 100%;"><tr>
<td>ts2tsd</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mobile Window on a Time Series</h2>

<h3>Description</h3>

<p>This function performs a mobile average windows on the whole time
series. Thus, if the time series represents flood discharges, it
returns the averaged discharges over a specific duration.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ts2tsd(ts, d, vol = FALSE, method = "linear")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ts</code></td>
<td>
<p>The time series. It consists of two columns: one named
<code>"time"</code> and the second <code>"obs"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>Numeric which corresponds of the duration for the mobile
window.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vol</code></td>
<td>
<p>Logical. If <code>FALSE</code> -the default, average values are
computed, else volumes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Specifies the interpolation method to be used.  Choices
are <code>"linear"</code> or <code>"constant"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A mobile windows of length <code>d</code> is performed on the whole time
sire. The “discrete” time series in first transformed in a
function; interpolation are obtained using the <code>approx</code>
function. Thus, if f(t) is the function representing the time series,
volume over duration <code>d</code> is defined by:
</p>
<p style="text-align: center;"><code class="reqn">vol(t) = \int_{t-d/2}^{t+d/2} f(u)du</code>
</p>

<p>while average values are:
</p>
<p style="text-align: center;"><code class="reqn">ave(t) = \frac{1}{d}\int_{t-d/2}^{t+d/2} f(u)du</code>
</p>



<h3>Value</h3>

<p>Returns a time series like object <code>ts</code>. In particular
<code>ts[,"time"]</code> and <code>tsd[,"time"]</code> are identical.
</p>


<h3>Warnings</h3>

<p>Please note that as the time series is interpolated, caution should be
taken if the method to interpolate is not efficient. 
</p>
<p>Note that object <code>d</code> should have the same unit than
<code>ts[,"time"]</code>.
</p>


<h3>Author(s)</h3>

<p>Mathieu Ribatet</p>


<h3>See Also</h3>

<p><code>approx</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(ardieres)
tsd &lt;- ts2tsd(ardieres, 3 / 365)
plot(ardieres, type = "l", col = "blue")
lines(tsd, col = "green")
</code></pre>


</div>