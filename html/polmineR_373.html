<div class="container">

<table style="width: 100%;"><tr>
<td>partition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Initialize a partition.</h2>

<h3>Description</h3>

<p>Create a subcorpus and keep it in an object of the <code>partition</code> class. If
defined, counts are performed for the p-attribute defined by the parameter
<code>p_attribute</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">partition(.Object, ...)

## S4 method for signature 'corpus'
partition(
  .Object,
  def = NULL,
  name = "",
  encoding = NULL,
  p_attribute = NULL,
  regex = FALSE,
  xml = slot(.Object, "xml"),
  decode = TRUE,
  type = get_type(.Object),
  mc = FALSE,
  verbose = TRUE,
  ...
)

## S4 method for signature 'character'
partition(
  .Object,
  def = NULL,
  name = "",
  encoding = NULL,
  p_attribute = NULL,
  regex = FALSE,
  decode = TRUE,
  type = get_type(.Object),
  mc = FALSE,
  verbose = TRUE,
  ...
)

## S4 method for signature 'environment'
partition(.Object, slots = c("name", "corpus", "size", "p_attribute"))

## S4 method for signature 'partition'
partition(
  .Object,
  def = NULL,
  name = "",
  regex = FALSE,
  p_attribute = NULL,
  decode = TRUE,
  xml = NULL,
  verbose = TRUE,
  mc = FALSE,
  ...
)

## S4 method for signature 'context'
partition(.Object, node = TRUE)

## S4 method for signature 'remote_corpus'
partition(.Object, ...)

## S4 method for signature 'remote_partition'
partition(.Object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.Object</code></td>
<td>
<p>A length-one character-vector, the CWB corpus to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to define partition (see examples). If <code>.Object</code> is
a <code>remote_corpus</code> or <code>remote_partition</code> object, the three dots
(<code>...</code>) are used to pass arguments. Hence, it is necessary to state
the names of all arguments to be passed explicity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>def</code></td>
<td>
<p>A named list of character vectors of s-attribute values, the names
are the s-attributes (see details and examples)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A name for the new <code>partition</code> object, defaults to "".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>The encoding of the corpus (typically "LATIN1 or "(UTF-8)),
if NULL, the encoding provided in the registry file of the corpus
(charset="...") will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_attribute</code></td>
<td>
<p>The p-attribute(s) for which a count is performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regex</code></td>
<td>
<p>A logical value (defaults to FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xml</code></td>
<td>
<p>Either 'flat' (default) or 'nested'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decode</code></td>
<td>
<p>Logical, whether to turn token ids to strings (set FALSE to
minimize object size / memory consumption) in data.table with counts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A length-one character vector specifying the type of corpus / partition (e.g. "plpr")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mc</code></td>
<td>
<p>Whether to use multicore (for counting terms).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical, whether to be verbose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slots</code></td>
<td>
<p>Object slots that will be reported columns of <code>data.frame</code>
summarizing <code>partition</code> objects in environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node</code></td>
<td>
<p>A logical value, whether to include the node (i.e. query matches) in the region matrix
generated when creating a <code>partition</code> from a <code>context</code>-object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function sets up a <code>partition</code> object based on s-attribute values.
The s-attributes defining the partition can be passed in as a list, e.g.
<code>list(interjection="speech", year = "2013")</code>, or directly (see
examples).
</p>
<p>The s-attribute values defining the partition may use regular expressions. To
use regular expressions, set the parameter regex to <code>TRUE</code>. Regular
expressions are passed into <code>grep</code>, i.e. the regex syntax used in R
needs to be used (double backlashes etc.). If regex is <code>FALSE</code>, the
length of the character vectors can be &gt; 1, matching s-attributes are
identifies with the operator '%in%'.
</p>
<p>The XML imported into the CWB may be "flat" or "nested". This needs to be
indicated with the parameter <code>xml</code> (default is "flat"). If you generate
a <code>partition</code> based on a flat XML structure, some performance gain may be
achieved when ordering the s-attributes with decreasingly restrictive
conditions. If you have a nested XML, it is mandatory that the order of the
s-attributes provided reflects the hierarchy of the XML: The top-level
elements need to be positioned at the beginning of the list with the
s-attributes, the the most restrictive elements at the end.
</p>
<p>If <code>p_attribute</code> is not NULL, a count of tokens in the corpus will be
performed and kept in the <code>stat</code>-slot of the partition-object. The
length of the <code>p_attribute</code> character vector may be 1 or more. If two or
more p-attributes are provided, The occurrence of combinations will be
counted. A typical scenario is to combine the p-attributes "word" or "lemma"
and "pos".
</p>
<p>If <code>.Object</code> is a length-one character vector, a subcorpus/partition
for the corpus defined be <code>.Object</code> is generated.
</p>
<p>If <code>.Object</code> is an environment (typically <code>.GlobalEnv</code>),
the <code>partition</code> objects present in the environment are listed.
</p>
<p>If <code>.Object</code> is a <code>partition</code> object, a subcorpus of the
subcorpus is generated.
</p>


<h3>Value</h3>

<p>An object of the S4 class <code>partition</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Blaette
</p>


<h3>See Also</h3>

<p>To learn about the methods available for objects of the class
<code>partition</code>, see <code>partition_class</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">use("polmineR")
spd &lt;- partition("GERMAPARLMINI", party = "SPD", interjection = "speech")
kauder &lt;- partition("GERMAPARLMINI", speaker = "Volker Kauder", p_attribute = "word")
merkel &lt;- partition("GERMAPARLMINI", speaker = ".*Merkel", p_attribute = "word", regex = TRUE)
s_attributes(merkel, "date")
s_attributes(merkel, "speaker")
merkel &lt;- partition(
  "GERMAPARLMINI", speaker = "Angela Dorothea Merkel",
  date = "2009-11-10", interjection = "speech", p_attribute = "word"
  )
merkel &lt;- subset(merkel, !word %in% punctuation)
merkel &lt;- subset(merkel, !word %in% tm::stopwords("de"))
   
# a certain defined time segment
days &lt;- seq(
  from = as.Date("2009-10-28"),
  to = as.Date("2009-11-11"),
  by = "1 day"
)
period &lt;- partition("GERMAPARLMINI", date = days)
</code></pre>


</div>