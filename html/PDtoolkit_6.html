<div class="container">

<table style="width: 100%;"><tr>
<td>confusion.matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confusion matrix</h2>

<h3>Description</h3>

<p><code>confusion.matrix</code> returns confusion matrix along with accompanied performance metrics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">confusion.matrix(predictions, observed, cutoff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>predictions</code></td>
<td>
<p>Model predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observed</code></td>
<td>
<p>Observed values of target variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>Cutoff value. Single value numeric vector between 0 and 1.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The command <code>confusion.matrix</code> returns list of two objects. The first object is confusion matrix table,
while the second one is data frame with accompanied performance metrics.
</p>


<h3>Examples</h3>

<pre><code class="language-R">suppressMessages(library(PDtoolkit))
data(loans)
#identify numeric risk factors
num.rf &lt;- sapply(loans, is.numeric)
num.rf &lt;- names(num.rf)[!names(num.rf)%in%"Creditability" &amp; num.rf]
#discretized numeric risk factors using mdt.bin from monobin package
loans[, num.rf] &lt;- sapply(num.rf, function(x) 
			  mdt.bin(x = loans[, x], y = loans[, "Creditability"])[[2]])
str(loans)
res &lt;- stepFWD(start.model = Creditability ~ 1, 
   p.value = 0.05, 
   coding = "WoE",
   db = loans)
names(res)
summary(res$model)$coefficients
loans$model.pred &lt;- predict(res$model, type = "response")
#confusion matrix
confusion.matrix(predictions = predict(res$model, type = "response"), 
	     observed = loans$"Creditability",
	     cutoff = 0.5)
</code></pre>


</div>