<div class="container">

<table style="width: 100%;"><tr>
<td>prism_batch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PRISM stage 2 by batch</h2>

<h3>Description</h3>

<p>PRISM penalized linear regression function for a range of time (only used internally for back testing)
</p>


<h3>Usage</h3>

<pre><code class="language-R">prism_batch(
  data,
  GTdata,
  var,
  n.training = 156,
  UseGoogle = T,
  alpha = 1,
  nPred.vec = 0:3,
  start.date = NULL,
  n.weeks = NULL,
  discount = 0.015,
  sepL1 = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>time series of interest as xts, last element can be NA. (e.g., unemployment initial claim data in the same period as <code>GTdata</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GTdata</code></td>
<td>
<p>contemporaneous exogenous data as xts. (e.g., Google Trend data)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>generated regressors from stage 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.training</code></td>
<td>
<p>length of regression training period (by default = 156)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UseGoogle</code></td>
<td>
<p>boolean variable indicating whether to use Google Trend data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>penalty between lasso and ridge. alpha=1 represents lasso, alpha=0 represents ridge, alpha=NA represents no penalty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nPred.vec</code></td>
<td>
<p>the number of periods ahead for forecast. nPred.vec could be a vector of intergers. e.g. nPred.vec=0:3 gives results from nowcast to 3-week ahead forecast.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.date</code></td>
<td>
<p>the starting date for forecast. If NULL, the forecast start at the earliest possible date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.weeks</code></td>
<td>
<p>the number of weeks in the batch. If NULL, the forecast end at the latest possible date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>discount</code></td>
<td>
<p>exponential weighting: (1-discount)^lag (by default = 0.015)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sepL1</code></td>
<td>
<p>if TRUE, use separate L1 regularization parameters for time series components and exogenous variables (Goolgle Trend data)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of following named objects
</p>

<ul>
<li> <p><code>coef</code> coefficients for Intercept, z.lags, seasonal.lags and exogenous variables.
</p>
</li>
<li> <p><code>pred</code> prediction results for <code>n.weeks</code> from <code>start.date</code>.
</p>
</li>
</ul>
</div>