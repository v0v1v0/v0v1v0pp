<div class="container">

<table style="width: 100%;"><tr>
<td>hybrid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>hybrid</h2>

<h3>Description</h3>

<p>Function to statistically combine conventional and preregistered/replications 
studies by means of the hybrid methods as described in van Aert and van Assen 
(2018) and van Aert (2023).
</p>


<h3>Usage</h3>

<pre><code class="language-R">hybrid(
  m1i,
  m2i,
  mi,
  ri,
  sd1i,
  sd2i,
  sdi,
  n1i,
  n2i,
  ni,
  tobs,
  yi,
  vi,
  conventional,
  mods = NULL,
  alpha = 0.05,
  side,
  control
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m1i</code></td>
<td>
<p>A vector of means in group 1 for two-independent means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m2i</code></td>
<td>
<p>A vector of means in group 2 for two-independent means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mi</code></td>
<td>
<p>A vector of group means for one-sample means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ri</code></td>
<td>
<p>A vector of raw correlations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd1i</code></td>
<td>
<p>A vector of standard deviations in group 1 for two-independent
means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd2i</code></td>
<td>
<p>A vector of standard deviations in group 2 for two-independent
means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdi</code></td>
<td>
<p>A vector of standard deviations for one-sample means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1i</code></td>
<td>
<p>A vector of sample sizes in group 1 for two-independent means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2i</code></td>
<td>
<p>A vector of sample sizes in group 2 for two-independent means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ni</code></td>
<td>
<p>A vector of sample sizes for one-sample means and correlations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tobs</code></td>
<td>
<p>A vector of t-values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yi</code></td>
<td>
<p>A vector of standardized effect sizes (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vi</code></td>
<td>
<p>A vector of sampling variances belonging to the standardized effect
sizes (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conventional</code></td>
<td>
<p>A vector indicating whether a study is a conventional study 
(indicated with a 1) and therefore was susceptible to bias. Studies not susceptible
to bias are indicated with a 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mods</code></td>
<td>
<p>A one-sided formula to specify the moderators to include. For 
example <code>x1</code> can be included as moderator by specifying <code>mods = ~ x1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A numerical value specifying the alpha level as used in the conventional
study (default is 0.05, see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>side</code></td>
<td>
<p>A character indicating whether the observed effect size of the
conventional studies are in the right-tail of the distribution (i.e., positive) or
in the left-tail of the distribution (i.e., negative) (either <code>"right"</code>
or <code>"left"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>An optional list of elements that give the user more control 
over the estimation procedures (see Note)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Three different effect sizes can be used as input for the
<code>hybrid</code> function: one-sample means, two-independent means, and raw
correlation coefficients. Analyzing one-sample means and two-independent
means can be done by either providing the function group means (<code>mi</code> or
<code>m1i</code> and <code>m2i</code>), standard deviations (<code>sdi</code> or <code>sd1i</code>
and <code>sd2i</code>), and sample sizes (<code>ni</code> or <code>n1i</code> and <code>n2i</code>)
or t-values (<code>tobs</code>) and sample sizes (<code>ni</code> or <code>n1i</code>
and <code>n2i</code>). Pearson correlation coefficients can be analyzed by supplying 
<code>ri</code> and <code>ni</code> to the <code>hybrid</code> function. These correlation 
coefficients are internally transformed to Fisher's z correlations before 
analyzing the data. The results in the output are of the Fisher's z transformed
correlations. It is also possible to specify the standardized effect sizes and 
its sampling variances directly via the <code>yi</code> and <code>vi</code> arguments. 
</p>
<p>Two other arguments that need to be specified are <code>side</code> and <code>conventional</code>. 
<code>side</code> indicates whether the effect size in the conventional study was expected
to be in the right-tail (<code>side = "right"</code> or in the left-tail 
(<code>side = "left"</code>) of the distribution. The argument <code>conventional</code> has 
to be used to indicate which studies are conventional studies and expected to be 
susceptible to bias. A 1 indicates that a study was susceptible to bias and 
a 0 indicates that a study was not susceptible to bias.
</p>
<p>It is assumed that two-tailed hypothesis tests were conducted in the conventional 
studies. In case one-tailed hypothesis tests were conducted in the conventional 
studies, the alpha level has to be multiplied by two. For example, if one-tailed 
hypothesis tests were conducted with an alpha level of .05, an alpha of 0.1 
has to be supplied to the <code>hybrid</code> function.
</p>
<p><strong>Previous version</strong>
</p>
<p>The usage of a previous version of the <code>hybrid</code> function was more restricted.
Users could only apply the method to a single conventional study and replication. 
Before the addition of the extra functionality to also analyze multiple conventional 
studies and replications, data of the conventional study and replication were 
specified in vectors containing two elements with the first element being 
the data of the conventional study and the second one the data of the replication. 
In order to maintain backwards compatibility, it is still possible to analyze 
data like this by using the arguments <code>m1i, m2i, mi, ri, sd1i, sd2i, sdi, 
n1i, n2i, ni, tobs</code>. However, using the <code>hybrid</code> function in this way is 
now deprecated.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>total number of effect sizes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k.conventional</code></td>
<td>
<p>number of effect sizes of conventional studies</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>parameter estimates of the fixed effects of the hybrid method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau2</code></td>
<td>
<p>estimate of the between-study variance in true effect size of hybrid 
method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>standard error of the fixed effects and of the estimated between-study
variance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lb</code></td>
<td>
<p>lower bound of hybrid method's confidence interval of the average
effect size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.ub</code></td>
<td>
<p>upper bound of hybrid method's confidence interval of the average
effect size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L.0</code></td>
<td>
<p>test statistic of hybrid method's test of null-hypothesis of no
effect. This is either a z-value (<code>zval</code> in the output) or a 
chi-square value (<code>LR</code> in the output) in case of a likelihood-ratio test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.0</code></td>
<td>
<p>p-value of hybrid method's test of null-hypothesis of no effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau2</code></td>
<td>
<p>estimate of the between-study variance in true effect size of hybrid 
method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau2.lb</code></td>
<td>
<p>lower bound of hybrid method's confidence interval of the
between-study variance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau2.ub</code></td>
<td>
<p>upper bound of hybrid method's confidence interval of the
between-study variance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L.het</code></td>
<td>
<p>test statistic of hybrid method's test of null-hypothesis of no
heterogeneity This is either a z-value (<code>zval</code> in the output) or a 
chi-square value (<code>LR</code> in the output) in case of a likelihood-ratio test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.het</code></td>
<td>
<p>p-value of hybrid method's test of null-hypothesis of no
heterogeneity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optim.info</code></td>
<td>
<p>model fitting results if the implementation of van Aert 
(2023) is used</p>
</td>
</tr>
</table>
<p>The elements below are only returned if the deprecated implementation 
of van Aert and van Assen (2018) is used:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>est.hyr</code></td>
<td>
<p>effect size estimate of hybridR method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lb.hyr</code></td>
<td>
<p>lower bound of hybridR method's confidence interval of the 
effect size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.ub.hyr</code></td>
<td>
<p>upper bound of hybridR method's confidence interval of the 
effect size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L.0.hyr</code></td>
<td>
<p>test statistic of hybridR method's test of null-hypothesis of
no effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.0.hyr</code></td>
<td>
<p>p-value of hybridR method's test of null-hypothesis of no 
effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.o</code></td>
<td>
<p>two-tailed p-value of conventional study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est.hy0</code></td>
<td>
<p>effect size estimate of hybrid0 method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lb.hy0</code></td>
<td>
<p>lower bound of hybrid0 method's confidence interval of the 
effect size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.ub.hy0</code></td>
<td>
<p>upper bound of hybrid0 method's confidence interval of the 
effect size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L.0.hy0</code></td>
<td>
<p>test statistic of hybrid0 method's test of null-hypothesis of no
effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.0.hy0</code></td>
<td>
<p>two-tailed p-value of hybrid0 method's test of
null-hypothesis of no effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est.fe</code></td>
<td>
<p>effect size estimate based on fixed-effect
meta-analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.fe</code></td>
<td>
<p>standard error of effect size estimate based on traditional
fixed-effect meta-analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zval.fe</code></td>
<td>
<p>test statistic of the null-hypothesis of no effect based on
fixed-effect meta-analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.fe</code></td>
<td>
<p>two-tailed p-value of the null-hypothesis of no effect based
on fixed-effect meta-analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lb.fe</code></td>
<td>
<p>lower bound of confidence interval based on traditional
fixed-effect meta-analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.ub.fe</code></td>
<td>
<p>upper bound of confidence interval based on
fixed-effect meta-analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est.repl</code></td>
<td>
<p>effect size estimate of replication</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.repl</code></td>
<td>
<p>standard error of replication's effect size estimate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.lb.repl</code></td>
<td>
<p>lower bound of replication's confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.ub.repl</code></td>
<td>
<p>upper bound of replication's confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat.repl</code></td>
<td>
<p>test statistic of replication for testing null-hypothesis of
no effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.repl</code></td>
<td>
<p>two-tailed p-value of replication for testing
null-hypothesis of no effect</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The <code>control</code> argument in the <code>hybrid</code> function is an optional 
argument that gives the user more control over the estimation procedures. 
This can be especially useful if estimation of the method does not converge 
and NAs are returned by the function. The <code>control</code> argument should 
be specified as a list containing one or more elements. For example, 
<code>control = list(verbose = TRUE)</code> Default values are used if an element is 
not specified. The following elements can be specified by the user:
</p>

<ul>
<li>
<p><code>int:</code> A vector of length two that indicates the lower and upper 
bound of the interval that is used for estimating the effect size. The effect 
size estimate should be included in this interval. Its default values are -10
for the first element and the maximum effect size of a study included in the 
analysis + 1 as the second element. This control argument is only applicable 
to the implementation of van Aert and van Assen (2018).
</p>
</li>
<li>
<p><code>est.ci:</code> A vector of length two indicating the values that are 
subtracted from and added to the estimate of the effect size for computing the 
95% confidence intervals. Its default values are (50, 1). To give an example, 
estimates for the lower and upper bound around the effect size estimate are 
searched on the interval (est-50, est) and (est, est+1), respectively.
</p>
</li>
<li>
<p><code>tau2.ci</code> A vector of length two indicating the values that are 
subtracted from and added to the estimate of the between-study variance for 
computing the 95% confidence intervals. Its default values are (0.5, 0.5). 
To give an example, estimates for the lower and upper bound around the effect 
size estimate are searched on the interval (tau2-0.5, tau2) and (tau2, tau2+0.5), 
respectively.
</p>
</li>
<li>
<p><code>tol:</code> A number indicating the desired accuracy of the estimates. 
Its default value is .Machine$double.eps^0.25. This control argument is only 
applicable to the implementation of van Aert and van Assen (2018). 
</p>
</li>
<li>
<p><code>verbose:</code> A logical indicating whether information should be printed 
about the estimation procedure. Its default value is FALSE.
</p>
</li>
<li>
<p><code>par:</code> Starting values for the optimization procedure in case of
the implementation of van Aert (2023). The default values are zeros.
</p>
</li>
<li>
<p><code>implementation:</code> A character indicating whether the implementation
of van Aert and van Assen (2018) based on a single conventional and single replication
should be used (<code>implementation = "two"</code>) or whether the implementation 
of van Aert (2023) should be used that allows for including more than two studies
(<code>implementation = "multiple"</code>).
</p>
</li>
<li>
<p><code>optimizer:</code> A character indicating the optimizer that is used if
the implementation of van Aert (2023) is used. The default value is "Nelder-Mead".
The <code>optim</code> function is used for optimization, so the optimization 
methods implemented in the <code>optim</code> function can be used. See the 
documentation of the <code>optim</code> function for more information.
</p>
</li>
<li>
<p><code>type:</code> A character vector indicating whether Wald-based hypothesis
tests and confidence intervals are preferred (<code>type = "Wald"</code>) or 
likelihood-ratio tests and profile likelihood confidence intervals 
(<code>type = "profile"</code>). The default is "Wald/profile" which implies that 
Wald tests and confidence intervals are computed for the fixed effects and 
likelihood-ratio tests and profile likelihood confidence intervals for the 
between-study variance.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Robbie C.M. van Aert <a href="mailto:R.C.M.vanAert@tilburguniversity.edu">R.C.M.vanAert@tilburguniversity.edu</a>
</p>


<h3>References</h3>

<p>van Aert, R. C. M., &amp; van Assen, M. A. L. M. (2018). Examining
reproducibility in psychology: A hybrid method for statistically combining a
biased original study and replication. Behavior Research Methods, 50(4): 1515-1539.
doi:10.3758/s13428-017-0967-6
</p>
<p>van Aert, R.C.M. (2023). Empowering meta-analysis by taking advantage 
of preregistered studies: The extended hybrid meta-analysis method. Manuscript 
in preparation.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
### Application using the implementation of van Aert (2023) with more than two studies.
# Note that these data come from the "metadat" R package that needs to be loaded.
# The data come from the meta-analyses by Lehmann et al. (2018). See the help 
# file of dat.lehmann2018 for more information about this meta-analysis.
library(metadat)
dat &lt;- dat.lehmann2018

### Create a new object to indicate which studies were conventional studies and 
# which ones were preregistered
dat$conventional &lt;- ifelse(dat$Preregistered == "Not Pre-Registered", 1, 0)

### Lehmann et al. split the analyses for males and females. We only use the data
# of females for this example.
red_romance_femalep &lt;- dat[dat$Gender == "Females", ]

### Prepare data for the analysis
yi &lt;- red_romance_femalep$yi
vi &lt;- red_romance_femalep$vi
conventional &lt;- red_romance_femalep$conventional

### Apply the hybrid method with Wald-type hypothesis tests and confidence intervals
hybrid(yi = yi, vi = vi, conventional = conventional, side = "right")

### Apply the hybrid method with likelihood ratio hypothesis tests and profile 
# likelihood confidence intervals
hybrid(yi = yi, vi = vi, conventional = conventional, side = "right", 
control = list(type = "profile"))

### Include Color_Match as moderator
Color_Match &lt;- red_romance_femalep$Color_Match

### Apply the hybrid method with Wald-type hypothesis tests and confidence intervals
hybrid(yi = yi, vi = vi, conventional = conventional, side = "right", mods = ~ Color_Match)

### Apply the hybrid method with likelihood ratio hypothesis tests and profile 
# likelihood confidence intervals
hybrid(yi = yi, vi = vi, conventional = conventional, side = "right", mods = ~ Color_Match, 
control = list(type = "profile"))

### Application using the implementation of van Aert and van Assen (2018). 
# The hybrid method is applied to example on page 5 of van Aert and van Assen 
# (2018).

pval &lt;- c(0.03, 0.3) # p-value conventional study and replication
n1i &lt;- n2i &lt;- c(40, 80) # Sample sizes per group 
tobs &lt;- qt(pval/2, df = n1i+n2i-2, lower.tail = FALSE) # Observed t-values 

### Apply hybrid method using the implementation of van Aert and van Assen (2018)
hybrid(tobs = tobs, n1i = n1i, n2i = n2i, side = "right", conventional = c(1,0), 
control = list(implementation = "two"))
 
</code></pre>


</div>