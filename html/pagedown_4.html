<div class="container">

<table style="width: 100%;"><tr>
<td>chrome_print</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Print a web page to PDF or capture a screenshot using the headless Chrome</h2>

<h3>Description</h3>

<p>Print an HTML page to PDF or capture a PNG/JPEG screenshot through the Chrome
DevTools Protocol. Google Chrome or Microsoft Edge (or Chromium on Linux)
must be installed prior to using this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">chrome_print(
  input,
  output = xfun::with_ext(input, format),
  wait = 2,
  browser = "google-chrome",
  format = c("pdf", "png", "jpeg"),
  options = list(),
  selector = "body",
  box_model = c("border", "content", "margin", "padding"),
  scale = 1,
  work_dir = tempfile(),
  timeout = 30,
  extra_args = c("--disable-gpu"),
  verbose = 0,
  async = FALSE,
  outline = gs_available(),
  encoding
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>A URL or local file path to an HTML page, or a path to a local
file that can be rendered to HTML via <code>rmarkdown::render()</code>
(e.g., an R Markdown document or an R script). If the <code>input</code> is to be
rendered via <code>rmarkdown::render()</code> and you need to pass any arguments
to it, you can pass the whole <code>render()</code> call to
<code>chrome_print()</code>, e.g., if you need to use the <code>params</code> argument:
<code>pagedown::chrome_print(rmarkdown::render('input.Rmd', params =
list(foo = 1:10)))</code>. This is because <code>render()</code> returns the HTML file,
which can be passed to <code>chrome_print()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>The output filename. For a local web page ‘<span class="file">foo/bar.html</span>’,
the default PDF output is ‘<span class="file">foo/bar.pdf</span>’; for a remote URL
‘<span class="file">https://www.example.org/foo/bar.html</span>’, the default output will be
‘<span class="file">bar.pdf</span>’ under the current working directory. The same rules apply
for screenshots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wait</code></td>
<td>
<p>The number of seconds to wait for the page to load before
printing (in certain cases, the page may not be immediately ready for
printing, especially there are JavaScript applications on the page, so you
may need to wait for a longer time).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>browser</code></td>
<td>
<p>Path to Google Chrome, Microsoft Edge or Chromium. This
function will try to find it automatically via <code>find_chrome()</code>
if the path is not explicitly provided and the environment variable
<code>PAGEDOWN_CHROME</code> is not set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>The output format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>A list of page options. See
<code>https://chromedevtools.github.io/devtools-protocol/tot/Page#method-printToPDF</code>
for the full list of options for PDF output, and
<code>https://chromedevtools.github.io/devtools-protocol/tot/Page#method-captureScreenshot</code>
for options for screenshots. Note that for PDF output, we have changed the
defaults of <code>printBackground</code> (<code>TRUE</code>),
<code>preferCSSPageSize</code> (<code>TRUE</code>) and when available
<code>transferMode</code> (<code>ReturnAsStream</code>) in this function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selector</code></td>
<td>
<p>A CSS selector used when capturing a screenshot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>box_model</code></td>
<td>
<p>The CSS box model used when capturing a screenshot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>The scale factor used for screenshot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>work_dir</code></td>
<td>
<p>Name of headless Chrome working directory. If the default
temporary directory doesn't work, you may try to use a subdirectory of your
home directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>The number of seconds before canceling the document
generation. Use a larger value if the document takes longer to build.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra_args</code></td>
<td>
<p>Extra command-line arguments to be passed to Chrome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Level of verbosity: <code>0</code> means no messages; <code>1</code> means
to print out some auxiliary messages (e.g., parameters for capturing
screenshots); <code>2</code> (or <code>TRUE</code>) means all messages, including those
from the Chrome processes and WebSocket connections.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>async</code></td>
<td>
<p>Execute <code>chrome_print()</code> asynchronously? If <code>TRUE</code>,
<code>chrome_print()</code> returns a <code>promise</code> value (the
<span class="pkg">promises</span> package has to be installed in this case).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outline</code></td>
<td>
<p>If not <code>FALSE</code>, <code>chrome_print()</code> will add the
bookmarks to the generated <code>pdf</code> file, based on the table of contents
informations. This feature is only available for output formats based on
<code>html_paged</code>. It is enabled by default, as long as the
Ghostscript executable can be detected by <code>find_gs_cmd</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>Not used. This argument is required by RStudio IDE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Path of the output file (invisibly). If <code>async</code> is <code>TRUE</code>,
this is a <code>promise</code> value.
</p>


<h3>References</h3>

<p><a href="https://developer.chrome.com/blog/headless-chrome/">https://developer.chrome.com/blog/headless-chrome/</a>
</p>


</div>