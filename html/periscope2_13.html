<div class="container">

<table style="width: 100%;"><tr>
<td>downloadablePlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>downloadablePlot module server function</h2>

<h3>Description</h3>

<p>Server-side function for the downloadablePlotUI.  This is a custom
plot output paired with a linked downloadFile button.
</p>


<h3>Usage</h3>

<pre><code class="language-R">downloadablePlot(
  id,
  logger = NULL,
  filenameroot = "download",
  aspectratio = 1,
  downloadfxns = NULL,
  visibleplot
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>the ID of the Module's UI element</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logger</code></td>
<td>
<p>logger to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filenameroot</code></td>
<td>
<p>the base text used for user-downloaded file - can be
either a character string or a reactive expression returning a character
string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aspectratio</code></td>
<td>
<p>the downloaded chart image width:height ratio (ex:
1 = square, 1.3 = 4:3, 0.5 = 1:2).  Where not applicable for a download type
it is ignored (e.g. data, html downloads)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downloadfxns</code></td>
<td>
<p>a <strong>named</strong> list of functions providing download
images or data tables as return values.  The names for the list should be
the same names that were used when the plot UI was created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>visibleplot</code></td>
<td>
<p>function or reactive expression providing the plot to
display as a return value.  This function should require no input parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>downloadFile button will be hidden if <code>downloadablePlot</code> parameter <code>downloadfxns</code> or
<code>downloadablePlotUI</code> parameter <code>downloadtypes</code> is empty
</p>


<h3>Value</h3>

<p>Reactive expression containing the currently selected plot to be available for display and download
</p>


<h3>Notes</h3>

<p>When there are no values to download in any of the linked downloadfxns the
button will be hidden as there is nothing to download.
</p>


<h3>Shiny Usage</h3>

<p>This function is not called directly by consumers - it is accessed in
server.R using the same id provided in <code>downloadablePlotUI</code>:
</p>
<p><strong><code>downloadablePlot(id, logger, filenameroot,
downloadfxns, visibleplot)</code></strong>
</p>


<h3>See Also</h3>

<p>downloadablePlotUI
</p>
<p>appResetButton
</p>
<p>appReset
</p>
<p>downloadFile
</p>
<p>downloadFile_ValidateTypes
</p>
<p>downloadFile_AvailableTypes
</p>
<p>downloadableTable
</p>
<p>logViewerOutput
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  library(shiny)
  library(ggplot2)
  library(periscope2)
  shinyApp(ui = fluidPage(fluidRow(column(width = 12,
     downloadablePlotUI("object_id1",
                        downloadtypes      = c("png", "csv"),
                        download_hovertext = "Download plot and data",
                        height             = "500px",
                        btn_halign         = "left")))),
    server = function(input, output) {
      download_plot &lt;- function() {
        ggplot(data = mtcars, aes(x = wt, y = mpg)) +
        geom_point(aes(color = cyl)) +
        theme(legend.justification = c(1, 1),
              legend.position      = c(1, 1),
              legend.title         = element_blank()) +
        ggtitle("GGPlot Example ") +
        xlab("wt") +
        ylab("mpg")
      }
      downloadablePlot(id           = "object_id1",
                       logger       = "",
                       filenameroot = "mydownload1",
                       downloadfxns = list(png = download_plot, csv = reactiveVal(mtcars)),
                       aspectratio  = 1.33,
                       visibleplot  = download_plot)
  })
}

</code></pre>


</div>