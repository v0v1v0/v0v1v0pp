<div class="container">

<table style="width: 100%;"><tr>
<td>faro</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Faro shuffles</h2>

<h3>Description</h3>

<p>A <dfn>faro shuffle</dfn>, <code>faro()</code>,is a permutation of a deck of
<code class="reqn">2n</code> cards.  The cards are split into two packs, <code>1:n</code> and
<code>(n+1):2n</code>, and interleaved: cards are taken alternately from top
of each pack and placed face down on the table.  A <dfn>faro
out-shuffle</dfn> takes the first card from <code>1:n</code> and a <dfn>faro
in-shuffle</dfn> takes the first card from <code>(n+1):(2*n)</code>.
</p>
<p>A <dfn>generalized faro shuffle</dfn>, <code>faro_gen()</code>, splits the pack
into <code>m</code> equal parts and applies the same permutation to each pack,
and the same permutation to each set of packs, before interleaving.
The interleaving itself is simply a matrix transpose; it is possible to
omit this step by passing <code>interleave=FALSE</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">faro(n, out = TRUE)
faro_gen(n,m,p1=id,p2=id,interleave=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of cards in each pack</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Number of packs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1,p2</code></td>
<td>
<p>Permutations for cards and packs respectively, coerced to
word form</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interleave</code></td>
<td>
<p>Boolean, with default <code>TRUE</code> meaning to
actually perform the interleaving and <code>FALSE</code> meaning not to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out</code></td>
<td>
<p>Boolean, with default <code>TRUE</code> meaning to return an
out-shuffle and <code>FALSE</code> meaning to return an in-shuffle</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a permutation in word form</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>Examples</h3>

<pre><code class="language-R">faro(4)
faro(4,FALSE)

faro_gen(9,3)
faro_gen(7,4,cyc_len(7),cyc_len(4))
faro_gen(7,4,cyc_len(7),cyc_len(4),interleave=FALSE)

sapply(seq_len(10),function(n){permorder(faro(n,FALSE))}) # OEIS  A002326

plot(as.vector(as.word(faro(10))),type='b')
plot(as.vector(faro_gen(8,5,p1=cyc_len(8)^2,interleave=FALSE)))

</code></pre>


</div>