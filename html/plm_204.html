<div class="container">

<table style="width: 100%;"><tr>
<td>punbalancedness</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Measures for Unbalancedness of Panel Data</h2>

<h3>Description</h3>

<p>This function reports unbalancedness measures for panel data as
defined in Ahrens and Pincus (1981) and
Baltagi et al. (2001).
</p>


<h3>Usage</h3>

<pre><code class="language-R">punbalancedness(x, ...)

## S3 method for class 'pdata.frame'
punbalancedness(x, ...)

## S3 method for class 'data.frame'
punbalancedness(x, index = NULL, ...)

## S3 method for class 'panelmodel'
punbalancedness(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>panelmodel</code>, a <code>data.frame</code>, or a <code>pdata.frame</code> object,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>only relevant for <code>data.frame</code> interface, for details
see <code>pdata.frame()</code>,</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>punbalancedness</code> returns measures for the unbalancedness of a
panel data set.
</p>

<ul><li>
<p> For two-dimensional data:<br> The two measures of
Ahrens and Pincus (1981) are calculated, called
"gamma" (<code class="reqn">\gamma</code>) and "nu" (<code class="reqn">\nu</code>).
</p>
</li></ul>
<p>If the panel data are balanced, both measures equal 1. The more
"unbalanced" the panel data, the lower the measures (but &gt; 0). The
upper and lower bounds as given in Ahrens and Pincus (1981)
are:<br><code class="reqn">0 &lt; \gamma, \nu \le 1</code>, and for <code class="reqn">\nu</code> more precisely
<code class="reqn">\frac{1}{n} &lt; \nu \le 1</code>, with <code class="reqn">n</code> being
the number of individuals (as in <code>pdim(x)$nT$n</code>).
</p>

<ul><li>
<p> For nested panel data (meaning including a grouping variable):<br>
The extension of the above measures by
Baltagi et al. (2001), p. 368, are
calculated:<br></p>

<ul>
<li>
<p> c1: measure of subgroup (individual) unbalancedness,
</p>
</li>
<li>
<p> c2: measure of time unbalancedness,
</p>
</li>
<li>
<p> c3: measure of group unbalancedness due to each group size.
</p>
</li>
</ul>
</li></ul>
<p>Values are 1 if the data are balanced and become smaller as the
data become more unbalanced.
</p>
<p>An application of the measure "gamma" is found in e. g.
Baltagi et al. (2001), pp. 488-491, and
Baltagi and Chang (1994), pp. 78–87, where it is
used to measure the unbalancedness of various unbalanced data sets
used for Monte Carlo simulation studies. Measures c1, c2, c3 are
used for similar purposes in
Baltagi et al. (2001).
</p>
<p>In the two-dimensional case, <code>punbalancedness</code> uses output of
<code>pdim()</code> to calculate the two unbalancedness measures, so inputs to
<code>punbalancedness</code> can be whatever <code>pdim</code> works on. <code>pdim</code> returns
detailed information about the number of individuals and time
observations (see <code>pdim()</code>).
</p>


<h3>Value</h3>

<p>A named numeric containing either two or three entries,
depending on the panel structure inputted:
</p>

<ul>
<li>
<p> For the two-dimensional panel structure, the entries are called
<code>gamma</code> and <code>nu</code>,
</p>
</li>
<li>
<p> For a nested panel structure, the entries are called <code>c1</code>, <code>c2</code>,
<code>c3</code>.
</p>
</li>
</ul>
<h3>Note</h3>

<p>Calling <code>punbalancedness</code> on an estimated <code>panelmodel</code> object
and on the corresponding <code style="white-space: pre;">⁠(p)data.frame⁠</code> used for this
estimation does not necessarily yield the same result (true
also for <code>pdim</code>). When called on an estimated <code>panelmodel</code>, the
number of observations (individual, time) actually used for
model estimation are taken into account. When called on a
<code style="white-space: pre;">⁠(p)data.frame⁠</code>, the rows in the <code style="white-space: pre;">⁠(p)data.frame⁠</code> are
considered, disregarding any <code>NA</code> values in the dependent or
independent variable(s) which would be dropped during model
estimation.
</p>


<h3>Author(s)</h3>

<p>Kevin Tappe
</p>


<h3>References</h3>

<p>Ahrens H, Pincus R (1981).
“On Two Measures of Unbalancedness in a One-Way Model and Their Relation to Efficiency.”
<em>Biometrical Journal</em>, <b>23</b>(3), 227-235.
<a href="https://doi.org/10.1002/bimj.4710230302">doi:10.1002/bimj.4710230302</a>.
</p>
<p>Baltagi BH, Chang YJ (1994).
“Incomplete panels: a comparative study of alternative estimators for the unbalanced one-way error component regression model.”
<em>Journal of Econometrics</em>, <b>62</b>, 67-89.
</p>
<p>Baltagi BH, Song SH, Jung BC (2001).
“The unbalanced nested error component regression model.”
<em>Journal of Econometrics</em>, <b>101</b>, 357-381.
</p>
<p>Baltagi BH, Song SH, Jung BC (2002).
“A comparative study of alternative estimators for the unbalanced two-way error component regression model.”
<em>The Econometrics Journal</em>, <b>5</b>(2), 480–493.
ISSN 13684221, 1368423X.
</p>


<h3>See Also</h3>

<p><code>nobs()</code>, <code>pdim()</code>, <code>pdata.frame()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Grunfeld is a balanced panel, Hedonic is an unbalanced panel
data(list=c("Grunfeld", "Hedonic"), package="plm")

# Grunfeld has individual and time index in first two columns
punbalancedness(Grunfeld) # c(1,1) indicates balanced panel
pdim(Grunfeld)$balanced   # TRUE

# Hedonic has individual index in column "townid" (in last column)
punbalancedness(Hedonic, index="townid") # c(0.472, 0.519)
pdim(Hedonic, index="townid")$balanced   # FALSE

# punbalancedness on estimated models
plm_mod_pool &lt;- plm(inv ~ value + capital, data = Grunfeld)
punbalancedness(plm_mod_pool)

plm_mod_fe &lt;- plm(inv ~ value + capital, data = Grunfeld[1:99, ], model = "within")
punbalancedness(plm_mod_fe)

# replicate results for panel data design no. 1 in Ahrens/Pincus (1981), p. 234
ind_d1  &lt;- c(1,1,1,2,2,2,3,3,3,3,3,4,4,4,4,4,4,4,5,5,5,5,5,5,5)
time_d1 &lt;- c(1,2,3,1,2,3,1,2,3,4,5,1,2,3,4,5,6,7,1,2,3,4,5,6,7)
df_d1 &lt;- data.frame(individual = ind_d1, time = time_d1)
punbalancedness(df_d1) # c(0.868, 0.887)

# example for a nested panel structure with a third index variable
# specifying a group (states are grouped by region) and without grouping
data("Produc", package = "plm")
punbalancedness(Produc, index = c("state", "year", "region"))
punbalancedness(Produc, index = c("state", "year")) 

</code></pre>


</div>