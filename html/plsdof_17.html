<div class="container">

<table style="width: 100%;"><tr>
<td>pls.cv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Model selection for Partial Least Squares based on cross-validation</h2>

<h3>Description</h3>

<p>This function computes the optimal model parameter using cross-validation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pls.cv(
  X,
  y,
  k = 10,
  groups = NULL,
  m = ncol(X),
  use.kernel = FALSE,
  compute.covariance = FALSE,
  method.cor = "pearson"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>matrix of predictor observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>vector of response observations. The length of <code>y</code> is the same
as the number of rows of <code>X</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number of cross-validation splits. Default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>an optional vector with the same length as <code>y</code>. It
encodes a partitioning of the data into distinct subgroups. If <code>groups</code>
is provided, <code>k=10</code> is ignored and instead, cross-validation is
performed based on the partioning. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>maximal number of Partial Least Squares components. Default is
<code>m=ncol(X)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.kernel</code></td>
<td>
<p>Use kernel representation? Default is
<code>use.kernel=FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compute.covariance</code></td>
<td>
<p>If <code>TRUE</code>, the function computes the
covariance for the cv-optimal regression coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.cor</code></td>
<td>
<p>How should the correlation to the response be computed?
Default is ”pearson”.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The data are centered and scaled to unit variance prior to the PLS
algorithm. It is possible to estimate the covariance matrix of the
cv-optimal regression coefficients (<code>compute.covariance=TRUE</code>).
Currently, this is only implemented if <code>use.kernel=FALSE</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cv.error.matrix</code></td>
<td>
<p>matrix of cross-validated errors based on
mean squared error. A row corresponds to one cross-validation split.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.error</code></td>
<td>
<p>vector of cross-validated errors based on mean squared
error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m.opt</code></td>
<td>
<p>optimal number of components based on mean squared
error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>intercept of the optimal model, based on mean
squared error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefficients</code></td>
<td>
<p>vector of regression coefficients of the
optimal model, based on mean squared error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor.error.matrix</code></td>
<td>
<p>matrix
of cross-validated errors based on correlation. A row corresponds to one
cross-validation split.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor.error</code></td>
<td>
<p>vector of cross-validated errors
based on correlation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m.opt.cor</code></td>
<td>
<p>optimal number of components based on
correlation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept.cor</code></td>
<td>
<p>intercept of the optimal model, based on
correlation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefficients.cor</code></td>
<td>
<p>vector of regression coefficients of
the optimal model, based on mean squared error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariance</code></td>
<td>
<p>If
<code>TRUE</code> and <code>use.kernel=FALSE</code>, the covariance of the cv-optimal
regression coefficients (based on mean squared error) is returned.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Nicole Kraemer, Mikio L. Braun
</p>


<h3>References</h3>

<p>Kraemer, N., Sugiyama M. (2011). "The Degrees of Freedom of Partial Least
Squares Regression". Journal of the American Statistical Association 106
(494) <a href="https://www.tandfonline.com/doi/abs/10.1198/jasa.2011.tm10107">https://www.tandfonline.com/doi/abs/10.1198/jasa.2011.tm10107</a>
</p>
<p>Kraemer, N., Braun, M.L. (2007) "Kernelizing PLS, Degrees of Freedom, and
Efficient Model Selection", Proceedings of the 24th International Conference
on Machine Learning, Omni Press, 441 - 448
</p>


<h3>See Also</h3>

<p><code>pls.model</code>, <code>pls.ic</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
n&lt;-50 # number of observations
p&lt;-5 # number of variables
X&lt;-matrix(rnorm(n*p),ncol=p)
y&lt;-rnorm(n)

# compute linear PLS
pls.object&lt;-pls.cv(X,y,m=ncol(X))

# define random partioning
groups&lt;-sample(c("a","b","c"),n,replace=TRUE)
pls.object1&lt;-pls.cv(X,y,groups=groups)

</code></pre>


</div>