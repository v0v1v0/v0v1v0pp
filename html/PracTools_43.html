<div class="container">

<table style="width: 100%;"><tr>
<td>nPPS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculate the sample size for a probability proportional to size (PPS) sample
</h2>

<h3>Description</h3>

<p>Calculate the sample size for a probability proportional to size (PPS) sample, assuming the sample is selected with replacement.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nPPS(X = NULL, Y = NULL, CV0 = NULL, V0 = NULL, N = NULL, V1 = NULL, ybarU = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>variable used for computing 1-draw probabilities; length is <code class="reqn">N</code>, the population size; must be numeric
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>

<p>variable used for variance calculation; length is <code class="reqn">N</code>, the population size; must be numeric
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CV0</code></td>
<td>

<p>target value of the coefficient of variation of the estimated total of <code>Y</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V0</code></td>
<td>

<p>target value of the variance of the estimated total of <code>Y</code>; only one of <code>CV0</code> and <code>V0</code> can be specified
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>

<p>population size; required if <code>X</code> or <code>Y</code> is NULL
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V1</code></td>
<td>

<p>unit variance for PPS calculation
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ybarU</code></td>
<td>

<p>population mean of <code class="reqn">Y</code> (or an estimate of it)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>nPPS</code> computes the sample size needed for a probability proportional to size sample or, more generally, a sample selected with varying probabilities, assuming the sample is selected with replacement (WR). Although these samples are rarely selected WR, the variance formula for WR samples is simple and convenient for sample size calculations. Population vectors can be input of <code>X</code>, a measure of size for selecting the sample, and <code>Y</code>, an analysis variable. Alternatively, the population size, <code>N</code>, the unit variance, <code>V1</code>, and the population mean of <code class="reqn">Y</code>, <code>ybarU</code> can be inputs.
</p>


<h3>Value</h3>

<p>A list with four components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Size of the population</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V1</code></td>
<td>
<p>Population variance of <code class="reqn">Y</code> appropriate for a sample selected with varying probabilities and with replacement; see Valliant, Dever, and Kreuter (2018, sec. 3.4).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ybarU</code></td>
<td>
<p>Population mean of <code class="reqn">Y</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Calculated sample size</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>George Zipf, Richard Valliant
</p>


<h3>References</h3>

<p>Valliant, R., Dever, J., Kreuter, F. (2018, chap. 3). <em>Practical Tools for Designing and Weighting Survey Samples, 2nd edition</em>. New York: Springer.
</p>


<h3>See Also</h3>

<p><code>nCont</code>, <code>nContMoe</code>, <code>nContOpt</code>, <code>unitVar</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(PracTools)
data("smho.N874")
y &lt;- smho.N874[,"EXPTOTAL"]
x &lt;- smho.N874[, "BEDS"]
y &lt;- y[x&gt;0]
x &lt;- x[x&gt;0]
nPPS(X = x, Y = y, CV0 = 0.15)
nPPS(X = x, Y = y,  V0 = 2000000^2)
nPPS(CV0 = 0.15, N = length(y), V1 = (10^21), ybarU = mean(y))
</code></pre>


</div>