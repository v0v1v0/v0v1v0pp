<div class="container">

<table style="width: 100%;"><tr>
<td>add_cuts_portfolio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Bender's cuts portfolio</h2>

<h3>Description</h3>

<p>Generate a portfolio of solutions for a conservation planning
problem using Bender's cuts (discussed in Rodrigues
<em>et al.</em> 2000). This is recommended as a replacement for
<code>add_gap_portfolio()</code> when the <em>Gurobi</em> software is not
available.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_cuts_portfolio(x, number_solutions = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>problem()</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_solutions</code></td>
<td>
<p><code>integer</code> number of attempts to generate
different solutions. Defaults to 10.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This strategy for generating a portfolio of solutions involves
solving the problem multiple times and adding additional constraints
to forbid previously obtained solutions. In general, this strategy is most
useful when problems take a long time to solve and benefit from
having multiple threads allocated for solving an individual problem.
</p>


<h3>Value</h3>

<p>An updated <code>problem()</code> object with the portfolio added to it.
</p>


<h3>Notes</h3>

<p>In early versions (&lt; 4.0.1), this function was only compatible with
<em>Gurobi</em> (i.e., <code>add_gurobi_solver()</code>). To provide functionality with
exact algorithm solvers, this function now adds constraints to the
problem formulation to generate multiple solutions.
</p>


<h3>References</h3>

<p>Rodrigues AS, Cerdeira OJ, and Gaston KJ (2000) Flexibility,
efficiency, and accountability: adapting reserve selection algorithms to
more complex conservation problems. <em>Ecography</em>, 23: 565â€“574.
</p>


<h3>See Also</h3>

<p>See portfolios for an overview of all functions for adding a portfolio.
</p>
<p>Other portfolios: 
<code>add_default_portfolio()</code>,
<code>add_extra_portfolio()</code>,
<code>add_gap_portfolio()</code>,
<code>add_shuffle_portfolio()</code>,
<code>add_top_portfolio()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# set seed for reproducibility
set.seed(500)

# load data
sim_pu_raster &lt;- get_sim_pu_raster()
sim_features &lt;- get_sim_features()
sim_zones_pu_raster &lt;- get_sim_zones_pu_raster()
sim_zones_features &lt;- get_sim_zones_features()

# create minimal problem with cuts portfolio
p1 &lt;-
  problem(sim_pu_raster, sim_features) %&gt;%
  add_min_set_objective() %&gt;%
  add_relative_targets(0.2) %&gt;%
  add_cuts_portfolio(10) %&gt;%
  add_default_solver(gap = 0.2, verbose = FALSE)

# solve problem and generate 10 solutions within 20% of optimality
s1 &lt;- solve(p1)

# convert portfolio into a multi-layer raster object
s1 &lt;- terra::rast(s1)

# plot solutions in portfolio
plot(s1, axes = FALSE)

# build multi-zone conservation problem with cuts portfolio
p2 &lt;-
 problem(sim_zones_pu_raster, sim_zones_features) %&gt;%
 add_min_set_objective() %&gt;%
 add_relative_targets(matrix(runif(15, 0.1, 0.2), nrow = 5, ncol = 3)) %&gt;%
 add_binary_decisions() %&gt;%
 add_cuts_portfolio(10) %&gt;%
 add_default_solver(gap = 0.2, verbose = FALSE)

# solve the problem
s2 &lt;- solve(p2)

# print solution
str(s2, max.level = 1)

# convert each solution in the portfolio into a single category layer
s2 &lt;- terra::rast(lapply(s2, category_layer))

# plot solutions in portfolio
plot(s2, main = "solution", axes = FALSE)

## End(Not run)
</code></pre>


</div>