<div class="container">

<table style="width: 100%;"><tr>
<td>xrpd_pca</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PCA of XRPD data</h2>

<h3>Description</h3>

<p><code>xrpd_pca</code> is used to apply principal component analysis to X-ray powder
diffraction data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">xrpd_pca(x, mean_center, bin_size, root_transform, components)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A multiXY list containing the XRPD data, where each item in the
list is a 2 column XY dataframe defining the x (2theta) and y (counts)
axes of each measurement. Each item in the list must have a name corresponding
to a unique sample ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_center</code></td>
<td>
<p>A logical argument defining whether mean centering
is applied to the XRPD data (default <code>= TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bin_size</code></td>
<td>
<p>An integer between 1 and 10 defining whether to bin the
XRPD data to a lower resolution. This <code>bin_size</code> defines the number of
data points used in each bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>root_transform</code></td>
<td>
<p>An integer between 1 and 8 defining the root transform
to apply to the XRPD data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>components</code></td>
<td>
<p>An integer defining the number of principal components to
include in the output. Must be at least 1 less than the
number of XRPD patterns in the dataset (the default).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Applies data pre-treatment and principal components analysis to XRPD data based
based on the protocols detailed in Butler et al. (2020).
</p>


<h3>Value</h3>

<p>a list with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>a dataframe containing the sample ID's for each sample and the
PCA coordinates for each dimension</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loadings</code></td>
<td>
<p>a dataframe containing the 2theta axis and the loading of
each dimension</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eig</code></td>
<td>
<p>a dataframe summarising the variance explained by each dimension</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Butler, B.M., Sila, A.M., Shepherd, K.D., Nyambura, M., Gilmore, C.J., Kourkoumelis,
N., Hillier, S., 2019. Pre-treatment of soil X-ray powder diffraction data for
cluster analysis. Geoderma 337, 413-424. doi:10.4236/ampc.2013.31A007
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(rockjock_mixtures)

x1 &lt;- xrpd_pca(rockjock_mixtures,
               mean_center = TRUE,
               bin_size = 1,
               root_transform = 1)

#Plot the loading of dimension 1

plot(x = x1$loadings$tth,
     y = x1$loadings$Dim.1,
     type = "l")

## Not run: 
#Fit loading 1 to the rockjock library
f1 &lt;- fps_lm(rockjock,
             smpl = data.frame("tth" = x1$loadings$tth,
                               "counts" = x1$loadings$Dim.1),
             refs = rockjock$phases$phase_id,
             std = "QUARTZ",
             align = 0,
             p = 0.05)

plot(f1, wavelength = "Cu", interactive = TRUE)

## End(Not run)

</code></pre>


</div>