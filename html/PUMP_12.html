<div class="container">

<table style="width: 100%;"><tr>
<td>check_cor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check correlation of test statistics (simulation function)</h2>

<h3>Description</h3>

<p>Estimates the pairwise correlations
between test statistics for all outcomes.
</p>
<p>Takes in two options:
- a pumpresult object
OR
- a list of necessary data-generating parameters
- the context (d_m)
- Tbar
</p>
<p>Note that this function can take several minutes to run.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_cor(
  pump.object = NULL,
  rho.V = NULL,
  rho.w0 = NULL,
  rho.w1 = NULL,
  rho.X = NULL,
  rho.u0 = NULL,
  rho.u1 = NULL,
  rho.C = NULL,
  rho.r = NULL,
  d_m = NULL,
  model.params.list = NULL,
  Tbar = 0.5,
  n.sims = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pump.object</code></td>
<td>
<p>A pumpresult object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.V</code></td>
<td>
<p>matrix; correlation matrix of level 3 covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.w0</code></td>
<td>
<p>matrix; correlation matrix of level 3 random effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.w1</code></td>
<td>
<p>matrix; correlation matrix of level 3 random impacts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.X</code></td>
<td>
<p>matrix; correlation matrix of level 2 covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.u0</code></td>
<td>
<p>matrix; correlation matrix of level 2 random effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.u1</code></td>
<td>
<p>matrix; correlation matrix of level 2 random impacts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.C</code></td>
<td>
<p>matrix; correlation matrix of level 1 covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.r</code></td>
<td>
<p>matrix; correlation matrix of level 1 residuals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d_m</code></td>
<td>
<p>string; a single context, which is a design and model
code. See pump_info() for list of choices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.params.list</code></td>
<td>
<p>list; model parameters such as ICC, R2, etc. See
simulation vignette for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tbar</code></td>
<td>
<p>scalar; the proportion of samples that are assigned to
the treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.sims</code></td>
<td>
<p>numeric; Number of simulated datasets to generate.
More datasets will achieve a more accurate result
but also increase computation time.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>matrix; M x M correlation matrix between test statistics.
</p>


<h3>Examples</h3>

<pre><code class="language-R">pp &lt;- pump_power( d_m = "d3.2_m3ff2rc",
                  MTP = "BF",
                  MDES = rep( 0.10, 2 ),
                  M = 2,
                  J = 4, # number of schools/block
                  K = 10, # number RA blocks
                  nbar = 50,
                  Tbar = 0.50, # prop Tx
                  alpha = 0.05, # significance level
                  numCovar.1 = 5, numCovar.2 = 3,
                  R2.1 = 0.1, R2.2 = 0.7,
                  ICC.2 = 0.05, ICC.3 = 0.4,
                  rho = 0.4, # how correlated test statistics are
                  tnum = 200
)
cor.tstat &lt;- check_cor(
    pump.object = pp, n.sims = 4
)
est.cor &lt;- mean(cor.tstat[lower.tri(cor.tstat)])
</code></pre>


</div>