<div class="container">

<table style="width: 100%;"><tr>
<td>idn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Multidimensional evaluation on posets (Identification Function only)
</h2>

<h3>Description</h3>

<p>Given a partial order (arguments <code>profiles</code> and/or
<code>zeta</code>) and a selected <code>threshold</code>,
the function computes the identification function, as a S3 class object <code>parsec</code>. The identification function is computed by uniform sampling of the linear extensions of the input poset, through a C implementation of the Bubley - Dyer (1999) algorithm. idn is a simplified and faster version of evaluation, computing just the identification function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">idn(
    profiles = NULL,
    threshold,
    error = 10^(-3),
    zeta = getzeta(profiles),
    weights = {
        if (!is.null(profiles)) 
            profiles$freq
        else rep(1, nrow(zeta))
    },
    linext = lingen(zeta),
    nit = floor({
        n &lt;- nrow(zeta)
        n^5 * log(n) + n^4 * log(error^(-1))
    }),
    maxint = 2^31 - 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>profiles</code></td>
<td>

<p>an object of S3 class <code>wprof</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>

<p>a vector identifying the threshold. It can be a vector of indexes (numeric),
a vector of poset element names (character) or a boolean vector of length equal to the number of
elements.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>

<p>the "distance" from uniformity in the sampling distribution of linear extensions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeta</code></td>
<td>

<p>the incidence matrix of the poset. An object of S3 class <code>incidence</code>.
By default, extracted from <code>profiles</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>

<p>weights assigned to profiles. If the argument <code>profiles</code> is not <code>NULL</code>,
weights are by default set equal to profile frequencies, otherwise they are
set equal to 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linext</code></td>
<td>

<p>the linear extension initializing the sampling algorithm. By default, it is generated by <code>lingen(zeta)</code>. Alternatively, it can be provided by 
the user through a vector of elements positions.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nit</code></td>
<td>

<p>Number of iterations in the Bubley-Dyer algorithm, by default evaluated using a formula of Karzanov and Khachiyan
based on the number of poset elements and the argument <code>error</code> (see Bubley and Dyer, 1999).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxint</code></td>
<td>

<p>Maximum integer. By default the maximum integer obtainable in a 32bit system.
This argument is used to group iterations and run the compiled
C code more times, so as to avoid memory indexing problems. User can
set a lower value to <code>maxint</code> in case of lower RAM availability.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>profiles</code></td>
<td>
<p>an object of S3 class <code>wprof</code> reporting poset profiles
and their associated frequencies (number of statistical units in each profile).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_of_profiles</code></td>
<td>
<p>number of profiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_of_variables</code></td>
<td>
<p>number of variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incidence</code></td>
<td>
<p>S3 class <code>incidence</code>, incidence matrix of the poset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cover</code></td>
<td>
<p>S3 class <code>cover</code>, cover matrix of the poset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>boolean vector specifying whether a profile belongs to the threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_of_iterations</code></td>
<td>
<p>number of iterations performed by the Bubley Dyer algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rank_dist</code></td>
<td>
<p>matrix reporting by rows the relative
frequency distribution of the poverty ranks of each profile, over the set of sampled linear extensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thr_dist</code></td>
<td>
<p>vector reporting the relative frequency a profile is used as threshold in the sampled linear extensions.
This result is useful for a posteriori valuation of the poset threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prof_w</code></td>
<td>
<p>vector of weights assigned to each profile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edges_weights</code></td>
<td>
<p>matrix of distances between profiles, used to evaluate the
measures of gap.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idn_f</code></td>
<td>
<p>vector reporting the identification function, computed as the fraction of sampled linear extensions where a profile is in the downset of the threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svr_abs</code></td>
<td>
<p><code>NA</code> use evaluation to obtain this result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svr_rel</code></td>
<td>
<p><code>NA</code> use evaluation to obtain this result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wea_abs</code></td>
<td>
<p><code>NA</code> use evaluation to obtain this result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wea_rel</code></td>
<td>
<p><code>NA</code> use evaluation to obtain this result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>poverty_gap</code></td>
<td>
<p><code>NA</code> use evaluation to obtain this result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wealth_gap</code></td>
<td>
<p><code>NA</code> use evaluation to obtain this result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inequality</code></td>
<td>
<p><code>NA</code> use evaluation to obtain this result.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Bubley R., Dyer M. (1999), Faster random generation of linear extensions, Discrete Math., 201, 81-88.
</p>
<p>Fattore M., Arcagni A. (2013), Measuring multidimensional polarization with ordinal data, SIS 2013 Statistical Conference, BES-M3.1 - The BES and the challenges of constructing composite indicators dealing with equity and sustainability
</p>


<h3>Examples</h3>

<pre><code class="language-R">profiles &lt;- var2prof(varlen = c(3, 2, 4))
threshold &lt;- c("311", "112")

res &lt;- idn(profiles, threshold, maxint = 10^5)

summary(res)
plot(res)
</code></pre>


</div>