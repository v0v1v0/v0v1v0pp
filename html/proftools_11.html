<div class="container">

<table style="width: 100%;"><tr>
<td>callTreeGraphs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Call Tree Graphs </h2>

<h3>Description</h3>

<p>Produce a flame graph or a callee tree map for the call tree in a profile
stack trace.
</p>


<h3>Usage</h3>

<pre><code class="language-R">flameGraph(pd, svgfile, order = c("hot", "alpha", "time"),
           colormap = NULL, srclines = FALSE, cex = 0.75,
           main = "Call Graph", tooltip = FALSE)

calleeTreeMap(pd, srclines = FALSE, cex = 0.75, colormap = NULL,
              main = "Callee Tree Map", squarify = FALSE, border = NULL)

## S3 method for class 'proftools_calleeTreeMap'
identify(x, n = 1, print = FALSE, ...)

## S3 method for class 'proftools_flameGraph'
identify(x, n = 1, print = FALSE,
                                        outline = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pd</code></td>
<td>
<p>profile data as returned by <code>readProfileData</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>svgfile</code></td>
<td>
<p>character; name for SVG output file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>character; see details below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colormap</code></td>
<td>
<p>a function or <code>NULL</code>; see details below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>srclines</code></td>
<td>
<p>logical; include source information, if available, or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>numeric character expansion value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>character; plot title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tooltip</code></td>
<td>
<p>logical; whether SVG should show details in tooltips.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>character or <code>NULL</code>; border color for rectangles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>squarify</code></td>
<td>
<p>logical; whether the squarified tiling algorithm should
be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>flameGraph</code> of <code>calleeTreeMap</code> object to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>integer; number of items to identify.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>logical; whether to print result on each click.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outline</code></td>
<td>
<p>logical; whether to outline rectangles corresponding to
identified call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments for the identify methods; currently ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>calleeTreeMap</code> shows a tree map of the calls in a stack trace's
call tree. The tiling algorithm used depends on the <code>squarify</code>
argument.  If <code>squarify</code> is <code>TRUE</code> then the
<em>squarified</em> algorithm is used; otherwise, the longer side is
partitioned.
</p>
<p><code>flameGraph</code> produces a <em>flame graph</em> of the call tree. The
vertical positions of rectangles represent call depth on the
stack. The widths of the rectangles represent the amount of time spent
in a call at a particular call or set of calls at a particular depth.
The <code>order</code> argument determines the ordering of call rectangles
at a particular level within a call at the lower level. The
<code>"alpha"</code> ordering orders the calls alphabetically; <code>"hot"</code>
uses the hot path ordering with the call with the largest amount of
time first. The <code>"time"</code> ordering preserves the original time
ordering within the stack trace file.
</p>
<p>Default colors are based on the <code>rainbow</code> palette. Alternative
colors can be specified by a <code>colormap</code> function. This function
is called with three argument vectors, with one element for each
rectangle. The arguments are the function name, call depth, and number
of hits.
</p>
<p>The results returned by <code>flameGraph</code> and <code>calleeTreeMap</code> can
be passed to <code>identify</code>. The <code>identify</code> method for
<code>calleeTreeMap</code> returns a list of the call stacks for the
identified rectangles. The <code>identify</code> method for <code>flameGraph</code>
returns a character vector of the labels of the identified rectangles.
</p>


<h3>Value</h3>

<p>Objects that can be used with <code>identify</code>.</p>


<h3>Author(s)</h3>

<p> Luke Tierney </p>


<h3>See Also</h3>

<p><code>Rprof</code>,
<code>summaryRprof</code>,
<code>flatProfile</code>,
<code>filterProfileData</code>,
<code>readProfileData</code>,
<code>plotProfileCallGraph</code>,
<code>profileCallGraph2Dot</code>,
<code>hotPaths</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">pd &lt;- readProfileData(system.file("samples", "glmEx.out", package="proftools"))
flameGraph(pd)
calleeTreeMap(pd)
</code></pre>


</div>