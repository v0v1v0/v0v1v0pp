<div class="container">

<table style="width: 100%;"><tr>
<td>pbi_schema_create</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a Power BI dataset schema</h2>

<h3>Description</h3>

<p>Creates a Power BI dataset schema from a set of data frames. Columns and data
types will be inferred from the data frames.  Only applicable to push
datasets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pbi_schema_create(
  dt_list,
  dataset_name = "My Power BI Dataset",
  table_name_list,
  relations_list = NULL,
  date_format = "yyyy-mm-dd",
  integer_format = "#,###0",
  double_format = "#,###.00",
  sort_by_col = NULL,
  hidden_col = NULL,
  default_mode = c("Push", "Streaming", "PushStreaming", "AsOnPrem", "AsAzure")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dt_list</code></td>
<td>
<p>A list of data frames which the schema should be inferred from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset_name</code></td>
<td>
<p>A custom name of the Power BI dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table_name_list</code></td>
<td>
<p>A list of custom names corresponding to the list of data
frames.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relations_list</code></td>
<td>
<p>A list of relation definitions returned by
pbi_schema_relation_create()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_format</code></td>
<td>
<p>The format of date columns (if any). Default is
'yyyy-mm-dd'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>integer_format</code></td>
<td>
<p>The format of integer columns (if any). Default is
'#,###0'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>double_format</code></td>
<td>
<p>The format of double columns (if any). Default is
'#,###.00'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort_by_col</code></td>
<td>
<p>A list of lists of column-sorting definitions. The inner
lists must include elements named 'table', 'sort' and 'sort_by'. See
example for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hidden_col</code></td>
<td>
<p>A list of lists columns to be hidden. The inner lists must
include elements named 'table' and 'hidden'. See examples for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_mode</code></td>
<td>
<p>The dataset mode or type. Defaults to 'Push'.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with schema properties.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load package
library(powerbiR)

# Use data from the powerbiR package
data(dim_hour)
data(fact_visitors)

# Define dataset and its tables
table_list &lt;- list(fact_visitors, dim_hour)
table_names  &lt;- c("visitors", "hour")
dataset_name &lt;- c("Online Visitors")

# Define relations between tables
relation &lt;- pbi_schema_relation_create(
  from_table = "visitors",
  from_column = "hour_key",
  to_table = "hour"
)

# Define sorting behavior of columns in the hour table
sortlist = list(
  table = c("hour"),
  sort = c("hour"),
  sort_by = c("hour_key")
)

# Hide hour_key in the hour and visitors tables
hidden &lt;- list(
  list(
    table = c("hour"),
    hidden = c("hour_key")
  ),
  list(
    table = c("visitors"),
    hidden = c("hour_key", "visitor_id")
  )
)

# Create schema
schema &lt;- pbi_schema_create(
  dt_list = table_list,
  dataset_name = dataset_name,
  table_name_list = table_names,
  relations_list = list(relation),
  sort_by_col = list(sortlist),
  hidden_col = hidden
)
</code></pre>


</div>