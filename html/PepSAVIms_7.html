<div class="container">

<table style="width: 100%;"><tr>
<td>msDat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Constructor for class <code>msDat</code>
</h2>

<h3>Description</h3>

<p>Creates a data structure encapsulating the mass spectrometry intensity
readings as well as identifying information
</p>


<h3>Usage</h3>

<pre><code class="language-R">msDat(mass_spec, mtoz, charge, ms_inten = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mass_spec</code></td>
<td>
<p>Either a <code>matrix</code> or <code>data.frame</code>.  This object
must contain mass spectrometry abundances, and may optionally contain
mass-to-charge values, charge state information, or additional extraneous
variables.  The mass spectrometry data is expected to be in a form with
each column corresponding to a variable and each row corresponding to a
mass-to-charge level.
</p>
<p>For example, suppose that a collection of mass spectrometry intensity
observations has provided data for 50 fractions across 20,000
mass-to-charge values.  Then the input for <code>mass_spec</code> should be a
<code>matrix</code> or <code>data.frame</code> with 20,000 rows and 50 or more
columns.  The additional columns beyond the 50 containing the mass
spectrometry intensities can be the mass-to-charge data, the charge data,
or other extraneous variables (the extraneous variables will be discarded
when constructing the <code>msDat</code> object).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtoz</code></td>
<td>
<p>A vector of either length 1 or length equal to the number of
mass-to-charge values for which mass spectrometry data was collected, and
which helps identify the mass-to-charge values for this data in one of
several ways.
</p>
<p>One way to provide the information is to provide a numeric vector where
each entry provides the mass-to-charge value for a corresponding row of
mass spectrometry data.  Then the <code>k</code>-th entry of the vector would
provide the mass-to-charge value for the <code>k</code>-th row of the mass
spectrometry data.
</p>
<p>A second way is to provide a single number which specifies the column
index in the <code>matrix</code> or <code>data.frame</code> provided as the argument
for the <code>mass_spec</code> parameter, such that this column contains the
mass-to-charge information.
</p>
<p>A third way is provide a single character string which provides the
column name in the <code>matrix</code> or <code>data.frame</code> provided as the
argument for the <code>mass_spec</code> parameter, such that this column
contains the mass-to-charge information.  Partial matching is supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>charge</code></td>
<td>
<p>The information for the <code>charge</code> parameter can be provided
in the same manner as for the mass-to-charge values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ms_inten</code></td>
<td>
<p>Either <code>NULL</code> or a vector either of mode character or
mode numeric specifying which of the variables in the argument to
<code>mass_spec</code> are to be retained as the mass spectrometry intensity
data.  If <code>NULL</code>, then it is taken to mean that the entirety of the
data in <code>mass_spec</code>, after removing variables in the data that are
specified as arguments, is the mass spectrometry intensity data.  If it
is a numeric vector, then the entries should provide the indices for the
region of interest in the mass spectrometry data in the argument for
<code>msObj</code>. If it is a character vector, then the entries should
uniquely specify the region of interest through partial string matching.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Since the mass spectrometry data could conceivably be available to
the researcher in a variety forms, this function attempts to provide a
uniform data structure for encapsulating this information.  It is the
fundamental data structure containing the mass spectrometry data used
internally by the <code>filterMS</code> and <code>rankEN</code> routines.  The
external interface for <code>msDat</code> is provided to the user so that
specifying the mass spectrometry information can be made in a distinct
step from performing statistical analyses, which it is hoped makes
interfaces for the downstream analysis routines simpler and more
intuitive to use.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>msDat</code>.  This class is a <code>list</code>
with elements described below.  The class is equipped with a <code>print</code>
and <code>extractMS</code> function.
</p>

<dl>
<dt><code>ms</code></dt>
<dd>
<p> A <code>matrix</code> containing mass spectrometry intensity
readings. Each column provides the mass spectrometry values for a
given fraction, and each row provides the mass spectrometry values
for a given mass-to-charge ratio value across the fractions. </p>
</dd>
<dt><code>mtoz</code></dt>
<dd>
<p> A vector with length equal to the number of
mass-to-charge values provided in the mass spectrometry data, such
that the <code>k</code>-th entry in the vector provides the mass-to-charge
value for the <code>k</code>-th row of mass spectrometry data </p>
</dd>
<dt><code>chg</code></dt>
<dd>
<p> A vector with length equal to the number of
mass-to-charge values provided in the mass spectrometry data, such
that the <code>k</code>-th entry in the vector provides the charge
information for the <code>k</code>-th row of mass spectrometry data </p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">
# Load mass spectrometry data
data(mass_spec)

# Convert mass_spec from a data.frame to an msDat object
ms &lt;- msDat(mass_spec = mass_spec,
            mtoz = "m/z",
            charge = "Charge",
            ms_inten = c(paste0("_", 11:43), "_47"))

# Dimension of the data
dim(ms)

# Print the first few rows and columns
ms[1:5, 1:2]

# Let's change the fraction names to something more concise
colnames(ms) &lt;- c(paste0("frac", 11:43), "frac47")

# Print the first few rows and columns with the new fraction names
ms[1:5, 1:8]

# Suppose there are some m/z levels that we wish to remove
ms &lt;- ms[-c(2, 4), ]
# Print the first few rows and columns after removing rows 2 and 4
ms[1:5, 1:8]

# Suppose that there was an instrumentation error and that we need to change
# some values
ms[1, paste0("frac", 12:17)] &lt;- c(55, 57, 62, 66, 71, 79)
# Print the first few rows and columns after changing some of the values in
# the first row
ms[1:5, 1:10]

</code></pre>


</div>