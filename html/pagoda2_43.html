<div class="container">

<table style="width: 100%;"><tr>
<td>p2ViewPagodaApp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>p2ViewPagodaApp R6 class</h2>

<h3>Description</h3>

<p>Modified 'PAGODA1' app (from 'SCDE') for browsing 'pagoda2' results. 
Refer to 'ViewPagodaAppOld' and 'make.pagoda.app()' in 'SCDE'
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>results</code></dt>
<dd>
<p>Result object returned by <code>scde.expression.difference()</code> (default=NULL). Note to browse group posterior levels, use <code>return.posteriors = TRUE</code> in the <code>scde.expression.difference()</code> call.</p>
</dd>
<dt><code>type</code></dt>
<dd>
<p>Either 'counts' or a name of a 'reduction' in the 'Pagoda2' object</p>
</dd>
<dt><code>genes</code></dt>
<dd>
<p>List of genes to display in the Detailed clustering panel (default=list())</p>
</dd>
<dt><code>batch</code></dt>
<dd>
<p>Any batch or other known confounders to be included in the visualization as a column color track (default=NULL)</p>
</dd>
<dt><code>pathways</code></dt>
<dd>
<p>character vector Pathway or gene names (default=NULL)</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>App name (needs to be altered only if adding more than one app to the server using the 'server' parameter) (default=NULL)</p>
</dd>
<dt><code>trim</code></dt>
<dd>
<p>Trim quantity used for Winsorization for visualization</p>
</dd>
<dt><code>embedding</code></dt>
<dd>
<p>Embedding information (default=NULL)</p>
</dd>
<dt><code>veloinfo</code></dt>
<dd>
<p>Velocity information (default=NULL)</p>
</dd>
<dt><code>goenv</code></dt>
<dd>
<p>environment mapping pathways to genes (default=NULL)</p>
</dd>
<dt><code>renv</code></dt>
<dd>
<p>Global environment (default=NULL)</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>p2ViewPagodaApp$new()</code></a>
</p>
</li>
<li> <p><a href="#method-getgenecldata"><code>p2ViewPagodaApp$getgenecldata()</code></a>
</p>
</li>
<li> <p><a href="#method-call"><code>p2ViewPagodaApp$call()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>p2ViewPagodaApp$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialize p2ViewPagodaApp class
</p>


<h5>Usage</h5>

<div class="r"><pre>p2ViewPagodaApp$new(
  results,
  pathways,
  genes,
  goenv,
  batch = NULL,
  name = "pathway overdispersion",
  trim = 1.1/nrow(p2$counts),
  embedding = NULL,
  type,
  veloinfo = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>results</code></dt>
<dd>
<p>Result object returned by <code>scde.expression.difference()</code>. Note to browse group posterior levels, use <code>return.posteriors = TRUE</code> in the <code>scde.expression.difference()</code> call.</p>
</dd>
<dt><code>pathways</code></dt>
<dd>
<p>character vector Pathway or gene names (default=NULL)</p>
</dd>
<dt><code>genes</code></dt>
<dd>
<p>list Genes to display in the Detailed clustering panel (default=list())</p>
</dd>
<dt><code>goenv</code></dt>
<dd>
<p>Environment mapping pathways to genes (default=NULL)</p>
</dd>
<dt><code>batch</code></dt>
<dd>
<p>Any batch or other known confounders to be included in the visualization as a column color track (default=NULL)</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>string App name (needs to be altered only if adding more than one app to the server using the 'server' parameter) (default="pathway overdispersion")</p>
</dd>
<dt><code>trim</code></dt>
<dd>
<p>numeric Trim quantity used for Winsorization for visualization (default=1.1/nrow(p2$counts) whereby the 'counts' from the 'Pagoda2' object is the gene count matrix, normalized on total counts (default=NULL)</p>
</dd>
<dt><code>embedding</code></dt>
<dd>
<p>Embedding information (default=NULL)</p>
</dd>
<dt><code>type</code></dt>
<dd>
<p>Either 'counts' or a name of a 'reduction' in the 'pagoda2' object</p>
</dd>
<dt><code>veloinfo</code></dt>
<dd>
<p>Velocity information (default=NULL)</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>new 'p2ViewPagodaApp' object
</p>


<hr>
<a id="method-getgenecldata"></a>



<h4>Method <code>getgenecldata()</code>
</h4>

<p>Helper function to get the heatmap data for a given set of genes
</p>


<h5>Usage</h5>

<div class="r"><pre>p2ViewPagodaApp$getgenecldata(genes = NULL, gcl = NULL, ltrim = 0)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>genes</code></dt>
<dd>
<p>character vector Gene names (default=NULL)</p>
</dd>
<dt><code>gcl</code></dt>
<dd>
<p>pathway or gene-weighted PCA (default=NULL). If NULL, uses tp2c.view.pathways(self$genes, self$results$p2, goenv=goenv, vhc=self$results$hvc, plot=FALSE, trim=ltrim, n.genes=Inf).</p>
</dd>
<dt><code>ltrim</code></dt>
<dd>
<p>numeric Winsorization trim that should be applied (default=0)</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>heatmap data for a given set of genes
</p>


<hr>
<a id="method-call"></a>



<h4>Method <code>call()</code>
</h4>

<p>Call Rook application. Using client-side ExtJS framework and Inchlib HTML5 canvas libraries to create the graphical user interface for PAGODA
</p>


<h5>Usage</h5>

<div class="r"><pre>p2ViewPagodaApp$call(env)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>env</code></dt>
<dd>
<p>The environment argument is a true R environment object which the application is free to modify. Please see the Rook documentation for more details.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>modified 'PAGODA1' app
</p>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>p2ViewPagodaApp$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




</div>