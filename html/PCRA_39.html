<div class="container">

<table style="width: 100%;"><tr>
<td>returnsCRSPxts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Select CRSP Stocks Returns</h2>

<h3>Description</h3>

<p>Uses selectCRSPandSPGMI to select a subset of the stocksCRSP
data, and convert it to an xts object that contains the returns of a set
of stocks, along with those of the MktIndexCRSP and the Ret13WkBill.
</p>
<p>NOTE:  For this function to work, the selectCRSPandSPGMI must include the 
the stockItems TickerLast, MktIndexCRSP and Ret13WkBill.
</p>


<h3>Usage</h3>

<pre><code class="language-R">returnsCRSPxts(stocksData)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>stocksData</code></td>
<td>
<p>The data.table created by selectCRSPandSPGMI</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A multivariate xts object
</p>


<h3>Examples</h3>

<pre><code class="language-R">data.table::setDTthreads(1)
library(PCRA)
library(xts)
library(data.table)
stockItems &lt;- c("Date","TickerLast","CapGroupLast","Return","MktIndexCRSP",
               "Ret13WkBill")
dateRange &lt;- c("1997-01-31","2002-12-31")
stocksDT &lt;- selectCRSPandSPGMI("monthly",dateRange = dateRange, stockItems =
                                 stockItems, factorItems = NULL,
                                 outputType   = "data.table")
stocksDT &lt;- stocksDT[CapGroupLast == "SmallCap"]
ret &lt;- returnsCRSPxts(stocksDT)
tickers &lt;- unique(stocksDT[,TickerLast])
tickers10 &lt;- tickers[11:20]
colnames &lt;- c(tickers10,"Market","RiskFree")
head(ret[,colnames],1)
</code></pre>


</div>