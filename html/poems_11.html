<div class="container">

<table style="width: 100%;"><tr>
<td>ModelSimulator</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R6 class representing a model simulator.</h2>

<h3>Description</h3>

<p><code>R6</code> class for running individual model simulations via a
simulation function, storing results, and generating success/error statuses.
</p>


<h3>Super class</h3>

<p><code>poems::GenericClass</code> -&gt; <code>ModelSimulator</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>attached</code></dt>
<dd>
<p>A list of dynamically attached attributes (name-value pairs).</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>simulation_model</code></dt>
<dd>
<p>A SimulationModel object or an inherited class object.</p>
</dd>
<dt><code>simulation_function</code></dt>
<dd>
<p>Name (character string) or direct assignment (assigned or loaded via source path) of the simulation function, which takes a <code>SimulationModel</code> (or inherited class) as an input and returns the simulation results.</p>
</dd>
<dt><code>sample_id</code></dt>
<dd>
<p>An identifier for the simulation sample.</p>
</dd>
<dt><code>results</code></dt>
<dd>
<p>A list of result structures.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ModelSimulator-new"><code>ModelSimulator$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ModelSimulator-new_clone"><code>ModelSimulator$new_clone()</code></a>
</p>
</li>
<li> <p><a href="#method-ModelSimulator-get_attribute"><code>ModelSimulator$get_attribute()</code></a>
</p>
</li>
<li> <p><a href="#method-ModelSimulator-run"><code>ModelSimulator$run()</code></a>
</p>
</li>
<li> <p><a href="#method-ModelSimulator-clone"><code>ModelSimulator$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-ModelSimulator-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialization method sets the population model, and optionally the simulation function, the sample ID, and any attached attributes listed individually.
</p>


<h5>Usage</h5>

<div class="r"><pre>ModelSimulator$new(
  simulation_model = NULL,
  simulation_function = NULL,
  sample_id = NULL,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>simulation_model</code></dt>
<dd>
<p>A <code>SimulationModel</code> (or inherited class) object (can be set later).</p>
</dd>
<dt><code>simulation_function</code></dt>
<dd>
<p>Optional name (character string) or direct assignment (assigned or loaded via source path) of the simulation function, which takes a <code>SimulationModel</code> (or inherited class) as an input and returns the simulation results.</p>
</dd>
<dt><code>sample_id</code></dt>
<dd>
<p>Optional identifier for the simulation sample.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional parameters passed individually are attached.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-ModelSimulator-new_clone"></a>



<h4>Method <code>new_clone()</code>
</h4>

<p>Creates a new (re-initialized) object of the current (inherited) object class with optionally passed parameters.
</p>


<h5>Usage</h5>

<div class="r"><pre>ModelSimulator$new_clone(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>Parameters passed via the inherited class constructor (defined in initialize and run via new).</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>New object of the current (inherited) class.
</p>


<hr>
<a id="method-ModelSimulator-get_attribute"></a>



<h4>Method <code>get_attribute()</code>
</h4>

<p>Returns selected named simulator or attached attribute.
</p>


<h5>Usage</h5>

<div class="r"><pre>ModelSimulator$get_attribute(param)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>param</code></dt>
<dd>
<p>Name of the parameter/attribute.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Selected parameter/attribute value.
</p>


<hr>
<a id="method-ModelSimulator-run"></a>



<h4>Method <code>run()</code>
</h4>

<p>Runs a model simulator (function), stores the results, and creates a status log entry as a list.
</p>


<h5>Usage</h5>

<div class="r"><pre>ModelSimulator$run()</pre></div>



<h5>Returns</h5>

<p>A list representing a simulation log entry with a <em>successful</em> boolean and a status message template (with a placeholder for the sample identifier).
</p>


<hr>
<a id="method-ModelSimulator-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ModelSimulator$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R"># Simulation model
model1 &lt;- SimulationModel$new(
  time_steps = 10,
  model_attributes = c("time_steps", "a", "b"),
  params = list(a = 1:7)
)
model1$required_attributes &lt;- model1$model_attributes
# Simulation function
test_simulator &lt;- function(model) {
  sum(unlist(model$get_attributes(model$required_attributes)))
}
# Model simulator
simulator1 &lt;- ModelSimulator$new(
  simulation_model = model1,
  simulation_function = test_simulator
)
simulator1$run()
model1$set_attributes(a = 1:10, b = 15)
model1$get_attributes(model1$required_attributes)
simulator1$run()
simulator1$results

</code></pre>


</div>