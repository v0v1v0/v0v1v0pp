<div class="container">

<table style="width: 100%;"><tr>
<td>opt.landgen</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function for optimising a landscape genetic analysis based on resistance layers</h2>

<h3>Description</h3>

<p>opt.landgen places iter times nlocations in a given landscape. For each scenario the pairwise costdistances and Euclidean distances are calculated and the standard deviation of detour (see Gruber et al. in prep) is calculated. This metric evaluates the scenerio in their ability to find a significant effect for the given resistance layer on population structure (based on the causal modelling approach of Cushman et al.). To allow for more realistic designs previously locations, a minimal distance between locations and a mask that indicates "forbidden" areas can be specified.
</p>


<h3>Usage</h3>

<pre><code class="language-R">opt.landgen(
  landscape,
  nlocations,
  mindist = 0,
  fixed = NULL,
  method,
  NN = 8,
  iter = 100,
  retry = 10,
  mask = NULL,
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>landscape</code></td>
<td>
<p>resistance layer as a raster object (if not projected dimensions are assumed to be in meters!!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlocations</code></td>
<td>
<p>the number of locations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mindist</code></td>
<td>
<p>minimal distance in map units (meter if not specified)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>n fixed locations, provided as a data.frame with dimenstions nx2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>least cost path algorithm provided by the gdistance package. Options are "leastcost", "SPDistance" and "commute". see function costdistances.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NN</code></td>
<td>
<p>number of next neighboring cells to be used, default is 8. see function costdistances.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>number of iterations that should be used to find an optimised design. Try initially the default and if it runs fast (depends on the type of costdistance an d dimenstions of landscape), increase to higher values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>retry</code></td>
<td>
<p>number of retries if optimisation is not possible in a certain iteration (due to mindist and/or fixed locations). Defaults to 10, which should be sufficient in most cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mask</code></td>
<td>
<p>a raster object that masks positions which are not available. Areas which are not to be used for locations are coded as NA (not available), all other values are treated as suitable for placing locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>if true, some plots are presented that show the histogramm, ecdf of the best (and the worst scenario).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list object with two slots. The first slot is called opt and contains iter optimisation values (sd.detour and sd.cost) in a iter x 2 dimenstional data.frame. The second slot is called scenario and contains the corrosponding 1:iter scenarios, given as coordinates in a data.frame of dimensions nlocations x 2. Both slots are ordered in decreasing order of sd.detour values. So the best scenario is at 1 and the worst is at position iter.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(raster)
fric.raster &lt;- readRDS(system.file("extdata","fric.raster.rdata", package="PopGenReport"))
opt.landgen(landscape = fric.raster, nlocations = 5, mindist = 3, 
method = "leastcost", NN = 8, iter = 10)

</code></pre>


</div>