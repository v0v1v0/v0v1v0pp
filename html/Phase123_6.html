<div class="container">

<table style="width: 100%;"><tr>
<td>Reoptimize1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gives the Optimal Dose for enrolling next patient cohort. Used in the SimPhase123 function.</h2>

<h3>Description</h3>

<p>This function returns the optimal dose number to assign the next patient cohort or stops the trial if no dose is deemed acceptable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Reoptimize1(Y, I, YE, YT, Doses, Dose, Hypermeans, Hypervars, B)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>Vector containing observed patient survival or follow up times.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>I</code></td>
<td>
<p>Vector indicating whether each patient experienced an exent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>YE</code></td>
<td>
<p>Vector containing observed efficacy indicators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>YT</code></td>
<td>
<p>Vector containing observed toxicity indicators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Doses</code></td>
<td>
<p>Vector containing standardized doses of patients in trial.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Dose</code></td>
<td>
<p>Vector containing the standardized doses considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Hypermeans</code></td>
<td>
<p>Vector containing prior hypermeans of length 6 for Eff-Tox parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Hypervars</code></td>
<td>
<p>Vector containing prior hypervariances of length 6 for Eff-Tox parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Number of iterations to perform in the MCMC.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>[1] Chapple and Thall (2018).A Hybrid Phase I-II/III Clinical Trial Design Allowing Dose Re-Optimization in Phase III. Biometrics. In Press,
</p>


<h3>Examples</h3>

<pre><code class="language-R">##Doses, YE,YT
Doses= c(1,1,1,2,2,2,1,1,1,3,3,3,1,1,1,2,2,2)
YE = c(0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0)
YT=c(0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,0,0)
Y=rexp(length(YE))
I=rbinom(length(YE),1,.9)
##Vector of Numerical Doses
Dose = c(1,2,3,3.5,5)
Dose=(Dose-mean(Dose))/sd(Dose)
##Hypermeans for Eff-Tox
Hypermeans = c(.022,3.45,0,-4.23,3.1,0)
Hypervars = c(2.6761, 2.6852, .2, 3.1304, 3.1165, 1)
Hypervars=Hypervars^2
###Number of iterations
B=20000
Reoptimize1(Y,I,YE,YT, Doses, Dose, Hypermeans,  Hypervars,B)
</code></pre>


</div>