<div class="container">

<table style="width: 100%;"><tr>
<td>beans</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Preferred Bean Varieties in Nicaragua</h2>

<h3>Description</h3>

<p>This is a subset of data from trials of bean varieties
(<em>Phaseolus vulgaris</em> L.)
in Nicaragua over five growing seasons. Farmers were asked to try three
varieties of bean from a total of ten varieties and to rank them in order of
preference. In addition, for each variety the farmers were asked to compare
each trial variety to the local variety and state whether they considered it
to be better or worse.
</p>


<h3>Usage</h3>

<pre><code class="language-R">beans
</code></pre>


<h3>Format</h3>

<p>A data frame with 842 records and 14 variables:
</p>

<dl>
<dt><code>variety_a</code></dt>
<dd>
<p>The name of variety A in the comparison.</p>
</dd>
<dt><code>variety_b</code></dt>
<dd>
<p>The name of variety B in the comparison.</p>
</dd>
<dt><code>variety_c</code></dt>
<dd>
<p>The name of variety C in the comparison.</p>
</dd>
<dt><code>best</code></dt>
<dd>
<p>The variety the farmer ranked in first place ("A",
"B" or "C").</p>
</dd>
<dt><code>worst</code></dt>
<dd>
<p>The variety the farmer ranked in last place ("A",
"B" or "C").</p>
</dd>
<dt><code>var_a</code></dt>
<dd>
<p>How the farmer ranked variety A compared to the local
variety ("Worse" or "Better").</p>
</dd>
<dt><code>var_b</code></dt>
<dd>
<p>How the farmer ranked variety B compared to the local
variety ("Worse" or "Better").</p>
</dd>
<dt><code>var_c</code></dt>
<dd>
<p>How the farmer ranked variety C compared to the local
variety ("Worse" or "Better").</p>
</dd>
<dt><code>season</code></dt>
<dd>
<p>A factor specifying the growing season ("Po - 15",
"Ap - 15", "Pr - 16", "Po - 16", "Ap - 16".</p>
</dd>
<dt><code>year</code></dt>
<dd>
<p>The year of planting.</p>
</dd>
<dt><code>maxTN</code></dt>
<dd>
<p>The maximum temperature at night during the
vegetative cycle (degrees Celsius).</p>
</dd>
<dt><code>lon</code></dt>
<dd>
<p>The geographic coordinate longitude (X axis) for where
the plot was established.</p>
</dd>
<dt><code>lat</code></dt>
<dd>
<p>The geographic coordinate latitude (Y axis) for where
the plot was established.</p>
</dd>
<dt><code>planting_date</code></dt>
<dd>
<p>A Date, specifying the start date of
planting the trial.</p>
</dd>
</dl>
<h3>Details</h3>

<p>There are three crop seasons in Central America:
</p>

<dl>
<dt>Primera</dt>
<dd>
<p>May - August.</p>
</dd>
<dt>Postrera</dt>
<dd>
<p>September - October.</p>
</dd>
<dt>Apante</dt>
<dd>
<p>November - January.</p>
</dd>
</dl>
<p>Beans can be planted near the beginning of each season, though are most
commonly planted in the Postrera or Apante seasons.
</p>


<h3>Source</h3>

<p>van Etten, J. et al. (2019) <em>PNAS</em>, <b>116</b> (10), 4194â€“4199,
<a href="https://doi.org/10.1073/pnas.1813720116">doi:10.1073/pnas.1813720116</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Consider the best and worst rankings. These give the variety the
# farmer thought was best or worst, coded as A, B or C for the
# first, second or third variety assigned to the farmer
# respectively.
data(beans)
head(beans[c("best", "worst")], 2)

# Fill in the missing item
beans$middle &lt;- complete(beans[c("best", "worst")],
                         items = c("A", "B", "C"))
head(beans[c("best", "middle", "worst")], 2)

# This gives an ordering of the three varieties the farmer was
# given. The names of these varieties are stored in separate
# columns
varieties &lt;- beans[c("variety_a", "variety_b", "variety_c")]
head(varieties, 2)

# Use these names to decode the orderings of order 3
order3 &lt;- decode(beans[c("best", "middle", "worst")],
                 items = beans[c("variety_a", "variety_b", "variety_c")],
                 code = c("A", "B", "C"))

# Now consider the paired comparisons agains the local variety
head(beans[c("var_a", "var_b", "var_c")], 2)

# Convert these results to a vector and get the corresponding trial variety
outcome &lt;- unlist(beans[c("var_a", "var_b", "var_c")])
trial_variety &lt;- unlist(beans[c("variety_a", "variety_b", "variety_c")])

# Create a data frame of the implied orderings of order 2
order2 &lt;- data.frame(Winner = ifelse(outcome == "Worse",
                                     "Local", trial_variety),
                     Loser = ifelse(outcome == "Worse",
                                    trial_variety, "Local"),
                     stringsAsFactors = FALSE, row.names = NULL)
head(order2, 2)

# Finally combine the rankings of order 2 and order 3
R &lt;- rbind(as.rankings(order3, input = "orderings"),
           as.rankings(order2, input = "orderings"))
head(R)
tail(R)
</code></pre>


</div>