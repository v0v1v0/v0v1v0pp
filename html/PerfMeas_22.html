<div class="container">

<table style="width: 100%;"><tr>
<td>graphics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Graphics function to plot precision/recall or f.score/recall curves
</h2>

<h3>Description</h3>

<p>Function to plot multiple precision/recall or f.score/recall curves
</p>


<h3>Usage</h3>

<pre><code class="language-R">precision.recall.curves.plot(y, range=seq(from=0, to=1, by=0.1), 
curve.names=1:length(y), cex.val=0.6, f="", height=9, width=11,
col=c("black","red1","blue1","green1","darkgrey","brown1","yellow1","orange1",
"red4","blue4","green4","lightgrey","brown4","yellow4","orange4"),
line.type=1, leg=TRUE, pos=c(range[length(range)-2], range[length(range)]), do.grid=TRUE,
plot.precision=TRUE, trap.rule=TRUE)

performance.curves.plot(m, x.range=seq(from=0.1, to=1, by=0.1), 
y.range=c(0,1), curve.names=1:nrow(m), cex.val=0.6, f="", height=9, width=11,
col=c("black","red1","blue1","green1","darkgrey","brown1","yellow1","orange1",
"red4","blue4","green4","lightgrey","brown4","yellow4","orange4"), line.type=1, 
patch.type=1:16, leg=TRUE, pos=c(x.range[length(x.range)-2], y.range[2]), do.grid=TRUE,
x.label="Recall", y.label="Precision")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>a list of lists. 
Each component list is a list returned from <code>precision.at.all.recall.levels</code>
that reports precision and recall results at different levels for different methods or tasks
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>

<p>numeric vector of the precision/recall values to be represented (def: values between 0 and 1 step 0.1)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curve.names</code></td>
<td>

<p>names of the compared methods to be reported in the legenda (def: numbers)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.val</code></td>
<td>

<p>magnification value for characters (def. 0.6)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>

<p>file name. If is given, an encapsulated postscript file is created, otherwise the output is rendered on
a window.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>

<p>relative heigth of the graph (def. 9)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>

<p>relative width of the graph (def. 11)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>

<p>colors of the lines. 14 different colors are given as default, but any vector of color from colors() (package <span class="pkg">graphics</span>) can be used. Colors are recycled if length(col) &lt; length(y).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line.type</code></td>
<td>

<p>type of the line. Any valid vector of integer can be assigned (values between 1  and 6, see lty in par(), package <span class="pkg">graphics</span> for details). Values are recycled if length(line.type) &lt; length(y). Def.: 1 (solid lines).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leg</code></td>
<td>
<p> boolean: if TRUE (def.) a legend is depicted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>coordinates of the position of the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.precision</code></td>
<td>
<p> boolean: if TRUE (def.) precision/recall curves are plotted, othewise f-score/recall curves.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trap.rule</code></td>
<td>
<p> boolean: if TRUE (def.) the integral of the curves are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p> a numeric matrix. Rows correspond to different methods and columns to precision or f-score at given recall values </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.range</code></td>
<td>
<p>vector of the recall values to be represented</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.range</code></td>
<td>
<p>vector with 2 elements: range of the precision/f-score to be represented </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>patch.type</code></td>
<td>
<p> numeric vector corresponding to the symbols to be plotted for different recall values (def. 1:16)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do.grid</code></td>
<td>
<p>a bollen value indicating whether a grid will be plotted or not (def: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.label</code></td>
<td>
<p>label of the abscissa (def: Recall)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.label</code></td>
<td>
<p>label of the ordinate (def: Precision)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>precision.recall.curves.plot</code> plots multiple precision/recall curves (or f-score/recall curves, if the argument <code>plot.precision=FALSE</code>) by using the output of the function <code>precision.at.all.recall.levels</code>, that compute several precison/recall pairs by moving the threshold from the lowest to the highest score achieved by each example.
</p>
<p>The function <code>performance.curves.plot</code> plots precision of F-score/recall curves ofr a predefined set of recall levels.
Thsi function can be useful to plot and to compare the average results between methods across multiple classes.
</p>
<p>The curves can differ by color, type of line and for <code>performance.curves.plot</code> for each recall value a symbol can be also plotted.  A legend can be automatically constructed.
</p>


<h3>Value</h3>

<p>The functions output  a graphic file either on a window or on an encapsulated postscript file.
The function <code>precision.recall.curves.plot</code>, if the parameter <code>trap.rule = TRUE</code> (default), outputs a vector with the AUPRC (or the Area Under the F-score Curve if the parameter <code>plot.precision=FALSE</code>) for each curve.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># loading  an example matrix of scores an the correponding table of classes
data(T);
data(Scores);
res=list();
classes=c(1,2,7,8)
# computing precison recall values
for (j in classes) res=c(res, list(precision.at.all.recall.levels(Scores[,j], T[,j])));
# plotting precision/recall curves
precision.recall.curves.plot(res,curve.names=colnames(T)[classes], 
pos=c(0.7,1), plot.precision=TRUE);
# black and white version
precision.recall.curves.plot(res,curve.names=colnames(T)[classes], pos=c(0.7,1), 
plot.precision=TRUE, line.type=1:4, col=1);
# plotting f-score/recall curves
precision.recall.curves.plot(res,curve.names=colnames(T)[classes], pos=c(0.7,1), 
plot.precision=FALSE);
# black and white version
precision.recall.curves.plot(res,curve.names=colnames(T)[classes], pos=c(0.7,1), 
plot.precision=TRUE, line.type=1:4, col=1);
</code></pre>


</div>