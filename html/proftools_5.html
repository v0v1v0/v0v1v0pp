<div class="container">

<table style="width: 100%;"><tr>
<td>filterProfileData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Filter Profile Data </h2>

<h3>Description</h3>

<p>Allow profile data to be filtered on several criteria.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filterProfileData(pd, ..., normalize = FALSE, regex = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pd</code></td>
<td>
<p>profile data as returned by <code>readProfileData</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>filter specifications is <code>filter = value</code> form as
described below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize</code></td>
<td>
<p>logical; if true the total hit count is set to the
total number of hits in the reduced profile data; otherwise the
original value is retained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regex</code></td>
<td>
<p>logical; if true the specifications in <code>select</code>, and
<code>omit</code>, and <code>focus</code> filters are treated as regular
expressions; otherwise exact matches are required.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can be used to make plots and summaries more readable or
relevant by removing functions that are not of direct interest or have
low hit counts.
</p>
<p>Filters are specified in <code>filter = value</code> form with <code>value</code>
typically specifying a filter level or argument. Possible filters and
their argument values are:
</p>

<dl>
<dt><code>select</code></dt>
<dd>
<p>character vector specifying names of functions;
call stacks not containing functions matching any of these names
are dropped.</p>
</dd>
<dt><code>omit</code></dt>
<dd>
<p>character vector specifying names of functions; call
stacks containing functions matching any of these names are dropped.</p>
</dd>
<dt><code>focus</code></dt>
<dd>
<p>character vector specifying names of functions; call
stacks not containing functions matching any of these names are
dropped, and functions at the bottom of the stack not matching the
<code>focus</code> specification are dropped.</p>
</dd>
<dt><code>skip</code></dt>
<dd>
<p>integer; the number of elements to trim from the
bottom of the stacks.</p>
</dd>
<dt><code>maxdepth</code></dt>
<dd>
<p>integer; stacks are truncated to have at most
<code>maxdepth</code> elements.</p>
</dd>
<dt><code>self.pct</code></dt>
<dd>
<p>numeric; functions at the bottom of the
stacks with self percentages below this value are removed.</p>
</dd>
<dt><code>total.pct</code></dt>
<dd>
<p>numeric; functions at the top of the stacks with
total percentages below this value are removed.</p>
</dd>
<dt><code>interval</code></dt>
<dd>
<p>inter vector of length 2 specifying first and last
sample to use.</p>
</dd>
<dt><code>merge.pct</code></dt>
<dd>
<p>numeric; functions at the top of the stacks
are removed and stack traces merged until each retained trace accounts
for at least this percentage of run time.</p>
</dd>
</dl>
<h3>Value</h3>

<p>A reduced profile data structure.</p>


<h3>Author(s)</h3>

<p> Luke Tierney </p>


<h3>See Also</h3>

<p><code>Rprof</code>,
<code>summaryRprof</code>,
<code>flatProfile</code>,
<code>readProfileData</code>,
<code>plotProfileCallGraph</code>,
<code>profileCallGraph2Dot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">pd &lt;- readProfileData(system.file("samples", "glmEx.out", package="proftools"))
plotProfileCallGraph(pd)
plotProfileCallGraph(filterProfileData(pd, self.pct = 1))
plotProfileCallGraph(filterProfileData(pd, self.pct = 1, total.pct = 10))
plotProfileCallGraph(filterProfileData(pd, select = "glm", self.pct=1,
                                       total.pct=10))
</code></pre>


</div>