<div class="container">

<table style="width: 100%;"><tr>
<td>new_prt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Methods for creating and inspecting prt objects</h2>

<h3>Description</h3>

<p>The constructor <code>new_prt()</code> creates a <code>prt</code> object from one or several
<code>fst</code> files, making sure that each table consist of identically named,
ordered and typed columns. In order to create a <code>prt</code> object from an
in-memory table, <code>as_prt()</code> coerces objects inheriting from <code>data.frame</code>
to <code>prt</code> by first splitting rows into <code>n_chunks</code>, writing <code>fst</code> files to the
directory <code>dir</code> and calling <code>new_prt()</code> on the resulting <code>fst</code> files. If
this default splitting of rows (which might impact efficiency of subsequent
queries on the data) is not optimal, a list of objects inheriting from
<code>data.frame</code> is a valid <code>x</code> argument as well.
</p>


<h3>Usage</h3>

<pre><code class="language-R">new_prt(files)

as_prt(x, n_chunks = NULL, dir = tempfile())

is_prt(x)

n_part(x)

part_nrow(x)

## S3 method for class 'prt'
head(x, n = 6L, ...)

## S3 method for class 'prt'
tail(x, n = 6L, ...)

## S3 method for class 'prt'
as.data.table(x, ...)

## S3 method for class 'prt'
as.list(x, ...)

## S3 method for class 'prt'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)

## S3 method for class 'prt'
as.matrix(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>Character vector of file name(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>prt</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_chunks</code></td>
<td>
<p>Count variable specifying the number of chunks <code>x</code> is
split into.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>Directory where the chunked <code>fst::fst()</code> objects reside in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Count variable indicating the number of rows to return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Generic consistency: additional arguments are ignored and a
warning is issued.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names, optional</code></td>
<td>
<p>Generic consistency: passing anything other than
the default value issues a warning.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To check whether an object inherits from <code>prt</code>, the function <code>is_prt()</code> is
exported, the number of partitions can be queried by calling <code>n_part()</code> and
the number of rows per partition is available as <code>part_nrow()</code>.
</p>
<p>The base <code>R</code> S3 generic functions <code>dim()</code>, <code>length()</code>, <code>dimnames()</code> and
<code>names()</code>,have <code>prt</code>-specific implementations, where <code>dim()</code> returns the
overall table dimensions, <code>length()</code> is synonymous for <code>ncol()</code>,
<code>dimnames()</code> returns a length 2 list containing <code>NULL</code> column names as
character vector and <code>names()</code> is synonymous for <code>colnames()</code>. Both setting
and getting row names on <code>prt</code> objects is not supported and more generally,
calling replacement functions such as <code style="white-space: pre;">⁠names&lt;-()⁠</code> or <code style="white-space: pre;">⁠dimnames&lt;-()⁠</code> leads
to an error, as <code>prt</code> objects are immutable. The base <code>R</code> S3 generic
functions <code>head()</code> and <code>tail()</code> are available as well and are used
internally to provide an extensible mechanism for printing (see
<code>format_dt()</code>).
</p>
<p>Coercion to other base <code>R</code> objects is possible via <code>as.list()</code>,
<code>as.data.frame()</code> and <code>as.matrix()</code> and for coercion to <code>data.table</code>, its
generic function <code>data.table::as.data.table()</code> is available to <code>prt</code>
objects. All coercion involves reading the full data into memory at once
which might be problematic in cases of large data sets.
</p>


<h3>Examples</h3>

<pre><code class="language-R">cars &lt;- as_prt(mtcars, n_chunks = 2L)

is_prt(cars)
n_part(cars)
part_nrow(cars)

nrow(cars)
ncol(cars)

colnames(cars)
names(cars)

head(cars)
tail(cars, n = 2)

str(as.list(cars))
str(as.data.frame(cars))

</code></pre>


</div>