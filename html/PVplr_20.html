<div class="container">

<table style="width: 100%;"><tr>
<td>plr_bootstrap_uncertainty</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bootstrap: Resampling data going into each Model</h2>

<h3>Description</h3>

<p>This function determines the uncertainty of a PLR measurement
through resampling data for each model, prior to putting the data through the
model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plr_bootstrap_uncertainty(
  df,
  n,
  fraction = 0.65,
  var_list,
  model,
  by = "month",
  power_var = "power_var",
  time_var = "time_var",
  data_cutoff = 100,
  np = NA,
  pred = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A dataframe containing pv data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>(numeric) Number of samples to take. The higher the n value, the longer it 
takes to complete, but the results become more accurate as well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fraction</code></td>
<td>
<p>The fraction of data that constitutes a resample for the bootstrap.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_list</code></td>
<td>
<p>A list of variables obtained through <code>plr_variable_check</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>the String name of the model to bootstrap. Select from: </p>

<ul>
<li>
<p> "xbx" (<code>plr_xbx_model</code>),
</p>
</li>
<li>
<p> "correction" (<code>plr_xbx_utc_model</code>),
</p>
</li>
<li>
<p> "pvusa" (<code>plr_pvusa_model</code>),
</p>
</li>
<li>
<p> or "6k" (<code>plr_6k_model</code>).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>String, either "day", "week", or "month". Time over which to perform
<code>plr_yoy_regression</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power_var</code></td>
<td>
<p>Variable name of power in the dataframe. This must be the
variable's name after being put through your selected model. Typically power_var</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_var</code></td>
<td>
<p>Variable name of time in the dataframe. This must be the
variable's name after being put through your selected model. Typically time_var</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_cutoff</code></td>
<td>
<p>The number of data points needed to keep a value in the
final table. Regressions over less than this number and their data will be discarded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>np</code></td>
<td>
<p>The system's reported name plate power. See <code>plr_6k_model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>passed to predict_data in model call. See <code>plr_xbx_model</code>
for an example.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns PLR value and uncertainty calculated with bootstrap of data going into power correction models
</p>


<h3>Examples</h3>

<pre><code class="language-R"># build var_list


var_list &lt;- plr_build_var_list(time_var = "timestamp",
                               power_var = "power",
                               irrad_var = "g_poa",
                               temp_var = "mod_temp",
                               wind_var = NA)
# Clean Data
test_dfc &lt;- plr_cleaning(test_df, var_list, irrad_thresh = 100,
                         low_power_thresh = 0.01, high_power_cutoff = NA)
                         
xbx_mbm_plr_uncertainty &lt;- plr_bootstrap_uncertainty(test_dfc, n = 2, 
                                                     fraction = 0.65, by = 'month',
                                                     power_var = 'power_var', time_var = 'time_var',
                                                     var_list = var_list, model = "xbx",
                                                     data_cutoff = 10, np = NA,
                                                     pred = NULL)


</code></pre>


</div>