<div class="container">

<table style="width: 100%;"><tr>
<td>powalt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Power for Small Sample Exact Test</h2>

<h3>Description</h3>

<p>A helper function to calculate power for different alternative distributions
</p>


<h3>Usage</h3>

<pre><code class="language-R">powalt(SST, p_alt, a = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>SST</code></td>
<td>
<p>a small_samptest object created with the small_samptest function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_alt</code></td>
<td>
<p>vector of alternative probabilities to calculate power for</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>scaler, alpha level for power estimate, default 0.05</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This construct a null distribution for small sample statistics for N counts in M bins. Example use cases are to see if a repeat offender have a proclivity to commit crimes on a particular day of the week (see the referenced paper). It can also be used for Benford's analysis of leading/trailing digits for small samples.
</p>


<h3>Value</h3>

<p>A PowerSmallSamp object with slots for:
</p>

<ul>
<li> <p><code>permutations</code>, a dataframe that contains the exact probabilities and test statistic values for every possible permutation
</p>
</li>
<li> <p><code>power</code>, the estimated power of the scenario
</p>
</li>
<li> <p><code>alternative</code>, the alternative distribution of probabilities specified
</p>
</li>
<li> <p><code>null</code>, the null distribution (taken from the SST object)
</p>
</li>
<li> <p><code>alpha</code>, the specified alpha level
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>small_samptest()</code> for generating the SST object needed to estimate the power
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Counts for different days of the week
d &lt;- c(3,1,2,0,0,0,0) #format N observations in M bins
res &lt;- small_samptest(d=d,type="G")
# Power if someone only commits crime on 4 days of the week
alt_p &lt;- c(1/4,1/4,1/4,1/4,0,0,0)
rp &lt;- powalt(res,alt_p) #need to use previously created SST object
print(rp)

# Example for Benfords analysis
f &lt;- 1:9
p_fd &lt;- log10(1 + (1/f)) #first digit probabilities
#check data from Nigrini page 84
checks &lt;- c(1927.48,27902.31,86241.90,72117.46,81321.75,97473.96,
           93249.11,89658.17,87776.89,92105.83,79949.16,87602.93,
           96879.27,91806.47,84991.67,90831.83,93766.67,88338.72,
           94639.49,83709.28,96412.21,88432.86,71552.16)
# To make example run a bit faster
checks &lt;- checks[1:10]
# extracting the first digits
fd &lt;- substr(format(checks,trim=TRUE),1,1)
tot &lt;- table(factor(fd, levels=paste(f)))
resG &lt;- small_samptest(d=tot,p=p_fd,type="Chi")
# Lets look at alt under equal probabilities (very conservative)
alt_equal &lt;- rep(1/length(p_fd),length(p_fd))
powalt(resG,alt_equal)
</code></pre>


</div>