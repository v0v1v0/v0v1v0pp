<div class="container">

<table style="width: 100%;"><tr>
<td>survplot_prc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualize survival predictions for a fitted PRC model</h2>

<h3>Description</h3>

<p>Visualize survival predictions for a fitted PRC model
</p>


<h3>Usage</h3>

<pre><code class="language-R">survplot_prc(step1, step2, step3, ids, tmax = 5, res = 0.01, lwd = 1,
  lty = 1, legend.title = "Subject", legend.inset = -0.3,
  legend.space = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>step1</code></td>
<td>
<p>the output of <code>fit_lmms</code> or <code>fit_mlpmms</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step2</code></td>
<td>
<p>the output of <code>summarize_lmms</code> or
<code>summarize_mlpmms</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step3</code></td>
<td>
<p>the output of <code>fit_prclmm</code> or <code>fit_prcmlpmm</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ids</code></td>
<td>
<p>a vector with the identifiers of the subjects to show in the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmax</code></td>
<td>
<p>maximum prediction time to consider for the chart. Default is 5</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>resolution at which to evaluate predictions for the chart. Default is 0.01</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>line type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>legend title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.inset</code></td>
<td>
<p>moves legend more to the left / right (default is -0.3)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.space</code></td>
<td>
<p>interspace between lines in the legend (default is 1)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Mirko Signorelli
</p>


<h3>References</h3>

<p>Signorelli, M. (2024). pencal: an R Package for the Dynamic 
Prediction of Survival with Many Longitudinal Predictors. 
To appear in: The R Journal. Preprint: arXiv:2309.15600
</p>


<h3>Examples</h3>

<pre><code class="language-R"># generate example data
simdata = simulate_prclmm_data(n = 100, p = 4, p.relev = 2, 
             t.values = c(0, 0.2, 0.5, 1, 1.5, 2),
             landmark = 2, seed = 123)
             
# estimate the PRC-LMM model
y.names = paste('marker', 1:4, sep = '')
step1 = fit_lmms(y.names = y.names, 
                 fixefs = ~ age, ranefs = ~ age | id, 
                 long.data = simdata$long.data, 
                 surv.data = simdata$surv.data,
                 t.from.base = t.from.base,
                 n.boots = 0)
step2 = summarize_lmms(object = step1)
step3 = fit_prclmm(object = step2, surv.data = simdata$surv.data,
                   baseline.covs = ~ baseline.age,
                   penalty = 'ridge')

# visualize the predicted survival for subjects 1, 3, 7 and 13                    
survplot_prc(step1, step2, step3, ids = c(1, 3, 7, 13), tmax = 6)
</code></pre>


</div>