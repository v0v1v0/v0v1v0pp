<div class="container">

<table style="width: 100%;"><tr>
<td>downloadablePlotUI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>downloadablePlot module UI function</h2>

<h3>Description</h3>

<p>Creates a custom plot output that is paired with a linked downloadFile
button.  This module is compatible with ggplot2, grob and lattice
produced graphics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">downloadablePlotUI(
  id,
  downloadtypes = c("png"),
  download_hovertext = NULL,
  width = "100%",
  height = "400px",
  btn_halign = "right",
  btn_valign = "bottom",
  btn_overlap = TRUE,
  clickOpts = NULL,
  hoverOpts = NULL,
  brushOpts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>character id for the object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downloadtypes</code></td>
<td>
<p>vector of values for download types</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>download_hovertext</code></td>
<td>
<p>download button tooltip hover text</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>plot width (any valid css size value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>plot height (any valid css size value)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>btn_halign</code></td>
<td>
<p>horizontal position of the download button ("left", "center", "right")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>btn_valign</code></td>
<td>
<p>vertical position of the download button ("top", "bottom")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>btn_overlap</code></td>
<td>
<p>whether the button should appear on top of the bottom of
the plot area to save on vertical space <em>(there is often a blank area
where a button can be overlayed instead of utilizing an entire horizontal
row for the button below the plot area)</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clickOpts</code></td>
<td>
<p>NULL or an object created by the clickOpts function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hoverOpts</code></td>
<td>
<p>NULL or an object created by the hoverOpts function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brushOpts</code></td>
<td>
<p>NULL or an object created by the brushOpts function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>downloadFile button will be hidden if <code>downloadablePlot</code> parameter <code>downloadfxns</code> or
<code>downloadablePlotUI</code> parameter <code>downloadtypes</code> is empty
</p>


<h3>Value</h3>

<p>list of downloadFileButton UI and plot object
</p>


<h3>Example</h3>

<p><code>downloadablePlotUI("myplotID", c("png", "csv"),
"Download Plot or Data", "300px")</code>
</p>


<h3>Notes</h3>

<p>When there is nothing to download in any of the linked downloadfxns the
button will be hidden as there is nothing to download.
</p>
<p>This module is NOT compatible with the built-in (base) graphics <em>(such as
basic plot, etc.)</em> because they cannot be saved into an object and are directly
output by the system at the time of creation.
</p>


<h3>Shiny Usage</h3>

<p>Call this function at the place in ui.R where the plot should be placed.
</p>
<p>Paired with a call to <code>downloadablePlot(id, ...)</code>
in server.R
</p>


<h3>See Also</h3>

<p>downloadablePlot
</p>
<p>downloadFileButton
</p>
<p>clickOpts
</p>
<p>hoverOpts
</p>
<p>brushOpts
</p>
<p>appResetButton
</p>
<p>appReset
</p>
<p>downloadFile
</p>
<p>downloadFile_ValidateTypes
</p>
<p>downloadFile_AvailableTypes
</p>
<p>downloadableTable
</p>
<p>logViewerOutput
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  library(shiny)
  library(ggplot2)
  library(periscope2)
  shinyApp(ui = fluidPage(fluidRow(column(width = 12,
     downloadablePlotUI("object_id1",
                        downloadtypes      = c("png", "csv"),
                        download_hovertext = "Download plot and data",
                        height             = "500px",
                        btn_halign         = "left")))),
    server = function(input, output) {
      download_plot &lt;- function() {
        ggplot(data = mtcars, aes(x = wt, y = mpg)) +
        geom_point(aes(color = cyl)) +
        theme(legend.justification = c(1, 1),
              legend.position      = c(1, 1),
              legend.title         = element_blank()) +
        ggtitle("GGPlot Example ") +
        xlab("wt") +
        ylab("mpg")
      }
      downloadablePlot(id           = "object_id1",
                       logger       = "",
                       filenameroot = "mydownload1",
                       downloadfxns = list(png = download_plot, csv = reactiveVal(mtcars)),
                       aspectratio  = 1.33,
                       visibleplot  = download_plot)
  })
}

</code></pre>


</div>