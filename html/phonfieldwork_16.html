<div class="container">

<table style="width: 100%;"><tr>
<td>draw_sound</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Draw Oscilogram, Spectrogram and annotation</h2>

<h3>Description</h3>

<p>Create oscilogram and spectrogram plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">draw_sound(
  file_name,
  annotation = NULL,
  from = NULL,
  to = NULL,
  zoom = NULL,
  text_size = 1,
  output_file = NULL,
  title = NULL,
  freq_scale = "kHz",
  frequency_range = c(0, 5),
  dynamic_range = 50,
  window_length = 5,
  window = "kaiser",
  windowparameter = -1,
  preemphasisf = 50,
  spectrum_info = TRUE,
  raven_annotation = NULL,
  formant_df = NULL,
  pitch = NULL,
  pitch_range = c(75, 350),
  intensity = NULL,
  output_width = 750,
  output_height = 500,
  output_units = "px",
  sounds_from_folder = NULL,
  textgrids_from_folder = NULL,
  pic_folder_name = "pics",
  title_as_filename = TRUE,
  prefix = NULL,
  suffix = NULL,
  autonumber = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p>a sound file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotation</code></td>
<td>
<p>a source for annotation files (path to TextGrid file or dataframe created from other linguistic types, e. g. via <code>textgrid_to_df()</code>, <code>eaf_to_df()</code> or other functions)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>Time in seconds at which to start extraction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>Time in seconds at which to stop extraction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoom</code></td>
<td>
<p>numeric vector of zoom window time (in seconds). It will draw
the whole oscilogram and part of the spectrogram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_size</code></td>
<td>
<p>numeric, text size (default = 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_file</code></td>
<td>
<p>the name of the output file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>the title for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq_scale</code></td>
<td>
<p>a string indicating the type of frequency scale.
Supported types are: "Hz" and "kHz".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency_range</code></td>
<td>
<p>vector with the range of frequencies to be displayed
for the spectrogram up to a maximum of fs/2. By default this is set to 0-5
kHz.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dynamic_range</code></td>
<td>
<p>values greater than this many dB below the maximum will
be displayed in the same color</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window_length</code></td>
<td>
<p>the desired analysis window length in milliseconds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>A string indicating the type of window desired. Supported types
are: "rectangular", "hann", "hamming", "cosine", "bartlett", "gaussian", and
"kaiser".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>windowparameter</code></td>
<td>
<p>The parameter necessary to generate the window, if
appropriate. At the moment, the only windows that require parameters are the
Kaiser and Gaussian windows. By default, these are set to 2 for kaiser and
0.4 for gaussian windows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preemphasisf</code></td>
<td>
<p>Preemphasis of 6 dB per octave is added to frequencies
above the specified frequency. For no preemphasis, set to a frequency higher
than the sampling frequency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spectrum_info</code></td>
<td>
<p>logical. If <code>TRUE</code> then add information about
window method and params.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raven_annotation</code></td>
<td>
<p>Raven (Center for Conservation Bioacoustics) style
annotations (boxes over spectrogram). The dataframe that contains
<code>time_start</code>, <code>time_end</code>, <code>freq_low</code> and <code>freq_high</code>
columns. Optional columns are <code>colors</code> and <code>content</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formant_df</code></td>
<td>
<p>dataframe with formants from <code>formant_to_df()</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch</code></td>
<td>
<p>path to the Praat '.Pitch' file or result of
<code>pitch_to_df()</code> function. This variable provide data for visualisation
of a pitch contour exported from Praat.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch_range</code></td>
<td>
<p>vector with the range of frequencies to be displayed.
By default this is set to 75-350 Hz.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensity</code></td>
<td>
<p>path to the Praat '.Intensity' file or result of
<code>intensity_to_df()</code> function. This variable provide data for
visualisation of an intensity contour exported from Praat.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_width</code></td>
<td>
<p>the width of the device</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_height</code></td>
<td>
<p>the height of the device</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_units</code></td>
<td>
<p>the units in which height and width are given.
Can be "px" (pixels, the default), "in" (inches), "cm" or "mm".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sounds_from_folder</code></td>
<td>
<p>path to a folder with multiple sound files.
If this argument is not <code>NULL</code>, then the function goes through all
files and creates picture for all of them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>textgrids_from_folder</code></td>
<td>
<p>path to a folder with multiple .TextGrid files.
If this argument is not <code>NULL</code>, then the function goes through all files
and create picture for all of them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pic_folder_name</code></td>
<td>
<p>name for a folder, where all pictures will be stored
in case <code>sounds_from_folder</code> argument is not <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_as_filename</code></td>
<td>
<p>logical. If true adds filename title to each picture</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>prefix for all file names for created pictures in case
<code>sounds_from_folder</code> argument is not <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suffix</code></td>
<td>
<p>suffix for all file names for created pictures in case
<code>sounds_from_folder</code> argument is not <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>autonumber</code></td>
<td>
<p>if TRUE automatically add number of extracted sound to the
file_name. Prevents from creating a duplicated files and wrong sorting.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Oscilogram and spectrogram plot (and possibly TextGrid annotation).
</p>


<h3>Author(s)</h3>

<p>George Moroz &lt;agricolamz@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
draw_sound(system.file("extdata", "test.wav", package = "phonfieldwork"))

draw_sound(
  system.file("extdata", "test.wav", package = "phonfieldwork"),
  system.file("extdata", "test.TextGrid",
    package = "phonfieldwork"
  )
)

draw_sound(system.file("extdata", "test.wav", package = "phonfieldwork"),
  system.file("extdata", "test.TextGrid", package = "phonfieldwork"),
  pitch = system.file("extdata", "test.Pitch",
    package = "phonfieldwork"
  ),
  pitch_range = c(50, 200)
)
draw_sound(system.file("extdata", "test.wav", package = "phonfieldwork"),
  system.file("extdata", "test.TextGrid", package = "phonfieldwork"),
  pitch = system.file("extdata", "test.Pitch",
    package = "phonfieldwork"
  ),
  pitch_range = c(50, 200),
  intensity = intensity_to_df(system.file("extdata", "test.Intensity",
    package = "phonfieldwork"
  ))
)
draw_sound(system.file("extdata", "test.wav", package = "phonfieldwork"),
  formant_df = formant_to_df(system.file("extdata", "e.Formant",
    package = "phonfieldwork"
  ))
)

</code></pre>


</div>