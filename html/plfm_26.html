<div class="container">

<table style="width: 100%;"><tr>
<td>stepplfm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Probabilistic latent feature analysis of two-way two-mode frequency data</h2>

<h3>Description</h3>

<p>The function <code>stepplfm</code> subsequently applies the <code>plfm</code> function to fit disjunctive, conjunctive or additive models with <em>minF</em> up to <em>maxF</em> 
latent features. The results of the different models are stored in a list.</p>


<h3>Usage</h3>

<pre><code class="language-R">	stepplfm(minF,maxF,data,object,attribute,
 	rating,freq1,freqtot,datatype="freq",
	maprule="disj",M=5,emcrit1=1e-2,emcrit2=1e-10,
        printrun=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>minF</code></td>
<td>
<p>Minimum number of features to be fitted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxF</code></td>
<td>
<p>Maximum number of features to be fitted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p> A data frame that consists of three components: the variables 
<code>object</code>, <code>attribute</code> and <code>rating</code>. Each row of the data frame describes the outcome of a binary rater judgement
about the association between a certain object and a certain attribute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>The name of the <code>object</code> component in the data frame <code>data</code>. The values of the vector <code>data$object</code> should be (non-missing) numeric or character values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attribute</code></td>
<td>
<p>The name of the <code>attribute</code> component in the data frame <code>data</code>. The values of the vector <code>data$attribute</code> should be (non-missing) numeric or character values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rating</code></td>
<td>
<p>The name of the <code>rating</code> component in the data frame <code>data</code>. The elements of the vector <code>data$rating</code> should be the numeric values 0 (no association) or 1 (association), 
or should be specified as missing (NA).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq1</code></td>
<td>
<p><em>J X K</em> matrix of observed association frequencies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freqtot</code></td>
<td>
<p>A <em>J X K</em> matrix with the total number of binary ratings in each cell <em>(j,k)</em>. If the total number of ratings is the same for all cells of the matrix 
it is sufficient to enter a single numeric value rather than a matrix. For instance, if <em>N</em> raters have judged <em>J X K</em> associations, 
one may specify <code>freqtot</code><em>=N</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datatype</code></td>
<td>
<p>The type of data used as input. When <code>datatype</code>="freq" one should specify frequency data <code>freq1</code> and <code>freqtot</code>, and when <code>datatype</code>="dataframe" one should 
specify the name of the data frame <code>data</code>, and its components, <code>object</code>, <code>attribute</code> and <code>rating</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maprule</code></td>
<td>
<p>Fit disjunctive models (<code>maprule</code>="disj"), conjunctive models (<code>maprule</code>="conj"), or additive models (<code>maprule</code>="add"). Multiple mapping rules can 
be computed in one analysis. For instance, to compute both disjunctive and conjunctive models one my use <code>maprule</code>="disj/conj". 
Other combinations are <code>maprule</code>="disj/add", <code>maprule</code>="conj/add" and <code>maprule</code>="disj/conj/add".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>The number of times a particular model is estimated using random starting points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emcrit1</code></td>
<td>
<p>Convergence criterion which indicates when the estimation algorithm should switch from Expectation-Maximization (EM) steps to EM+Newton-Rhapson steps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emcrit2</code></td>
<td>
<p>Convergence criterion which indicates final convergence to a local maximum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printrun</code></td>
<td>
<p><code>printrun</code>=TRUE prints the analysis type (disjunctive, conjunctive, additive), the number of features (<code>F</code>) and the number of the run to the output screen, whereas 
<code>printrun</code>=FALSE suppresses the printing.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When only one type of mapping rule is requested (disjunctive, conjunctive, additive) (i.e., <code>maprule</code>="disj", <code>maprule</code>="conj" or <code>maprule</code>="add") 
with <code>minF</code> to <code>maxF</code> features, the results of subsequent <code>plfm</code> analyses are stored in a list with <code>maxF-minF+1</code> components. 
When analyses with multiple mapping rules are  requested (e.g. <code>maprule</code>="disj/conj"), the results for each mapping rule 
are  stored in a list with <code>maxF-minF+1</code> components (e.g., two lists named "disj" and "conj", respectively) . 
The final object generated by <code>stepplfm</code> combines the lists "disj" and "conj" in a list with two components.
</p>


<h3>Author(s)</h3>

<p>Michel Meulders
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Not run: 
# example 1:Perceptual analysis of associations between car models and car attributes

# load car data
data(car)


# compute 5 runs of disjunctive and conjunctive models with 1 up to 4 features
car.lst&lt;-stepplfm(minF=1,maxF=4,maprule="disj/conj",freq1=car$freq1,
                  freqtot=car$freqtot,M=5,emcrit1=1e-6)

# print output of the conjunctive model with 4 features
car.lst$conj[[4]]

# print output of the stepplfm analysis on the car data
car.lst

# summarize and print output of stepplfm analysis on car data
sumcar&lt;-summary(car.lst)
sumcar

# visualize fit of models with different mapping rules and a different number of features
par(pty="s")
par(mfrow=c(2,2))
plot(car.lst,which="BIC")
plot(car.lst,which="AIC")
plot(car.lst,which="VAF")

## End(Not run)


## Not run: 
# example 2: analysis on determinants of anger-related behavior

# load anger data
data(anger)

# compute 1 run of disjunctive models with 1 up to 3 features
anger.lst&lt;-stepplfm(minF=1,maxF=3,maprule="disj",freq1=anger$freq1,freqtot=anger$freqtot,M=1)

# print output of disjunctive model with 2 features

anger.lst[[2]]

# print output of stepplfm analysis on anger data
anger.lst

# summarize and print output of stepplfm analysis on anger data
sumanger&lt;-summary(anger.lst)
sumanger

# visualize fit of models with different mapping rules and a different number of features

par(pty="s")
par(mfrow=c(2,2))
plot(anger.lst,which="BIC")
plot(anger.lst,which="AIC")
plot(anger.lst,which="VAF")

## End(Not run)
</code></pre>


</div>