<div class="container">

<table style="width: 100%;"><tr>
<td>ghr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>GitHub Releases</h2>

<h3>Description</h3>

<p>Functions to query and manipulate GitHub releases. These functions are
currently experimental.
</p>


<h3>Details</h3>



<h4>List releases</h4>



<h5>Description</h5>

<p><code>ghr$list()</code> lists the last 100 releases for a GitHub repository.
<code>ghr$async_list()</code> is the async version of <code>ghr$list()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$list(repo)
ghr$async_list(repo)
</pre></div>



<h5>Arguments</h5>


<ul><li> <p><code>repo</code>: repository slug, e.g. <code>"cran/cli"</code>.
</p>
</li></ul>
<h5>Value</h5>

<p>Data frame with columns:
</p>

<ul>
<li> <p><code>id</code>: release id,
</p>
</li>
<li> <p><code>name</code>: release name, usually the version number, possibly with
a <code>v</code> prefix: <code style="white-space: pre;">⁠3.6.1⁠</code> or <code>v3.6.1</code>, but can be different.
</p>
</li>
<li> <p><code>tag_name</code>: usually the same as <code>name</code>.
</p>
</li>
<li> <p><code>created_at</code>: <code>POSIXct</code> vector.
</p>
</li>
</ul>
<h4>Get information about a release</h4>



<h5>Description</h5>

<p><code>ghr$get()</code> downloads information about a release, including
release assets.
</p>
<p><code>ghr$async_get</code> is the async version of <code>ghr$get</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$get(repo, tag)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>"cran/cli"</code>.
</p>
</li>
<li> <p><code>tag</code>: tag to get.
</p>
</li>
</ul>
<h5>Value</h5>

<p>Named list, see
<a href="https://docs.github.com/en/rest/releases/releases#get-a-release">https://docs.github.com/en/rest/releases/releases#get-a-release</a>
for the entries.
</p>




<h4>List assets of a release</h4>



<h5>Description</h5>

<p><code>ghr$list_assets()</code> lists the last 100 assets of a release.
</p>
<p><code>ghr$async_list_assets()</code> is the async version of <code>ghr$list_assets()</code>
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$list_assets(repo, tag)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>"cran/cli"</code>.
</p>
</li>
<li> <p><code>tag</code>: tag to query.
</p>
</li>
</ul>
<h5>Value</h5>

<p>Data frame with columns:
</p>

<ul>
<li> <p><code>id</code>: asset id,
</p>
</li>
<li> <p><code>name</code>: file name of the asset,
</p>
</li>
<li> <p><code>download_url</code>: download URL,
</p>
</li>
<li> <p><code>size</code>: size in bytes,
</p>
</li>
<li> <p><code>created_at</code>: <code>POSIXct</code> vector,
</p>
</li>
<li> <p><code>updated_at</code>: <code>POSXct</code> vector,
</p>
</li>
<li> <p><code>content_type</code>: content type of asset.
</p>
</li>
</ul>
<h4>Add a release asset</h4>



<h5>Description</h5>

<p><code>ghr$add_asset()</code> adds an asset to a GitHub release.
</p>
<p><code>ghr$async_add_asset()</code> is the async version of <code>ghr$add_asset()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr%add_asset(repo, file, tag, name = basename(file))
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>cran/cli</code>.
</p>
</li>
<li> <p><code>file</code>: path to file to upload as an asset.
</p>
</li>
<li> <p><code>tag</code>: tag name to add the asset to. It must exist on GitHub.
</p>
</li>
<li> <p><code>name</code>: file name of the asset in the release.
</p>
</li>
</ul>
<h5>Details</h5>

<p>If an asset with the same name already exists, then that will be deleted
first.
</p>



<h5>Value</h5>

<p>Response from GitHub as a named list. See
<a href="https://docs.github.com/en/rest/releases/assets#upload-a-release-asset">https://docs.github.com/en/rest/releases/assets#upload-a-release-asset</a>
for the structure.
</p>




<h4>Delete a release asset</h4>



<h5>Description</h5>

<p><code>ghr$delete_asset()</code> deleted a release asset.
</p>
<p><code>ghr$async_delete_asset()</code> is an async version of <code>ghr$delete_asset()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$delete_asset(repo, tag, name)
ghr$async_delete_asset(repo, tag, name)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>cran/cli</code>.
</p>
</li>
<li> <p><code>tag</code>: tag name to create a release for. It must exist on GitHub.
</p>
</li>
<li> <p><code>name</code>: name of the asset.
</p>
</li>
</ul>
<h5>Value</h5>

<p>A list with entries:
</p>

<ul>
<li> <p><code>release</code>: a list with the data about the release, before the
deletion. It has the same format as the return value of <code>ghr$get()</code>.
</p>
</li>
<li> <p><code>deleted</code>: <code>TRUE</code> if the asset was deleted. <code>FALSE</code> if the asset
did not exist.
</p>
</li>
</ul>
<h4>Create a GitHub release</h4>



<h5>Description</h5>

<p><code>ghr$create()</code> creates a GitHub release from a tag.
</p>
<p><code>ghr$async_create()</code> is an async version of <code>ghr$create()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$create(
  repo,
  tag,
  description = "",
  draft = FALSE,
  prerelease = FALSE,
  generage_release_notes = FALSE
)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>cran/cli</code>.
</p>
</li>
<li> <p><code>tag</code>: tag name to create a release for. It must exist on GitHub.
</p>
</li>
<li> <p><code>description</code>: release description.
</p>
</li>
<li> <p><code>draft</code>: whether to create a draft release.
</p>
</li>
<li> <p><code>prerelease</code>: whether to create a prerelease.
</p>
</li>
<li> <p><code>generate_release_notes</code>: whether to auto-generate release notes.
</p>
</li>
</ul>
<h5>Value</h5>

<p>Response from GitHub as a named list. See
<a href="https://docs.github.com/en/rest/releases/releases#create-a-release">https://docs.github.com/en/rest/releases/releases#create-a-release</a>
for the structure.
</p>




</div>