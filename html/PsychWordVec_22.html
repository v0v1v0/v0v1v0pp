<div class="container">

<table style="width: 100%;"><tr>
<td>plot_similarity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualize cosine similarity of word pairs.</h2>

<h3>Description</h3>

<p>Visualize cosine similarity of word pairs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_similarity(
  data,
  words = NULL,
  pattern = NULL,
  words1 = NULL,
  words2 = NULL,
  label = "auto",
  value.color = NULL,
  value.percent = FALSE,
  order = c("original", "AOE", "FPC", "hclust", "alphabet"),
  hclust.method = c("complete", "ward", "ward.D", "ward.D2", "single", "average",
    "mcquitty", "median", "centroid"),
  hclust.n = NULL,
  hclust.color = "black",
  hclust.line = 2,
  file = NULL,
  width = 10,
  height = 6,
  dpi = 500,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>wordvec</code> (data.table) or
<code>embed</code> (matrix),
see <code>data_wordvec_load</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>words</code></td>
<td>
<p>[Option 1] Character string(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>[Option 2] Regular expression (see <code>str_subset</code>).
If neither <code>words</code> nor <code>pattern</code> are specified (i.e., both are <code>NULL</code>),
then all words in the data will be extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>words1, words2</code></td>
<td>
<p>[Option 3]
Two sets of words for only n1 * n2 word pairs. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>Position of text labels.
Defaults to <code>"auto"</code> (add labels if less than 20 words).
Can be <code>TRUE</code> (left and top), <code>FALSE</code> (add no labels of words),
or a character string (see the usage of <code>tl.pos</code> in <code>corrplot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value.color</code></td>
<td>
<p>Color of values added on the plot.
Defaults to <code>NULL</code> (add no values).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value.percent</code></td>
<td>
<p>Whether to transform values into percentage style for space saving.
Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>Character, the ordering method of the correlation matrix.
</p>

<ul>
<li>
<p><code>'original'</code> for original order (default).
</p>
</li>
<li>
<p><code>'AOE'</code> for the angular order of the eigenvectors.
</p>
</li>
<li>
<p><code>'FPC'</code> for the first principal component order.
</p>
</li>
<li>
<p><code>'hclust'</code> for the hierarchical clustering order.
</p>
</li>
<li>
<p><code>'alphabet'</code> for alphabetical order.
</p>
</li>
</ul>
<p>See function <code>corrMatOrder</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hclust.method</code></td>
<td>
<p>Character, the agglomeration method to be used when
<code>order</code> is <code>hclust</code>. This should be one of <code>'ward'</code>,
<code>'ward.D'</code>, <code>'ward.D2'</code>, <code>'single'</code>, <code>'complete'</code>,
<code>'average'</code>, <code>'mcquitty'</code>, <code>'median'</code> or <code>'centroid'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hclust.n</code></td>
<td>
<p>Number of rectangles to be drawn on the plot according to
the hierarchical clusters, only valid when <code>order="hclust"</code>.
Defaults to <code>NULL</code> (add no rectangles).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hclust.color</code></td>
<td>
<p>Color of rectangle border, only valid when <code>hclust.n</code> &gt;= 1.
Defaults to <code>"black"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hclust.line</code></td>
<td>
<p>Line width of rectangle border, only valid when <code>hclust.n</code> &gt;= 1.
Defaults to <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>File name to be saved, should be png or pdf.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width, height</code></td>
<td>
<p>Width and height (in inches) for the saved file.
Defaults to <code>10</code> and <code>6</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dpi</code></td>
<td>
<p>Dots per inch. Defaults to <code>500</code> (i.e., file resolution: 4000 * 3000).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters passed to <code>corrplot</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisibly return a matrix of cosine similarity between each pair of words.
</p>


<h3>Download</h3>

<p>Download pre-trained word vectors data (<code>.RData</code>):
<a href="https://psychbruce.github.io/WordVector_RData.pdf">https://psychbruce.github.io/WordVector_RData.pdf</a>
</p>


<h3>See Also</h3>

<p><code>cosine_similarity</code>
</p>
<p><code>pair_similarity</code>
</p>
<p><code>tab_similarity</code>
</p>
<p><code>most_similar</code>
</p>
<p><code>plot_network</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">w1 = cc("king, queen, man, woman")
plot_similarity(demodata, w1)
plot_similarity(demodata, w1,
                value.color="grey",
                value.percent=TRUE)
plot_similarity(demodata, w1,
                value.color="grey",
                order="hclust",
                hclust.n=2)

plot_similarity(
  demodata,
  words1=cc("man, woman, king, queen"),
  words2=cc("he, she, boy, girl, father, mother"),
  value.color="grey20"
)

w2 = cc("China, Chinese,
         Japan, Japanese,
         Korea, Korean,
         man, woman, boy, girl,
         good, bad, positive, negative")
plot_similarity(demodata, w2,
                order="hclust",
                hclust.n=3)
plot_similarity(demodata, w2,
                order="hclust",
                hclust.n=7,
                file="plot.png")

unlink("plot.png")  # delete file for code check

</code></pre>


</div>