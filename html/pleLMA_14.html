<div class="container">

<table style="width: 100%;"><tr>
<td>ItemLoop</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>loops through items and up-dates estimates of scale values for each item in Nominal Model</h2>

<h3>Description</h3>

<p>This is a core function of the pseudo-likelihood algorithm for items of
the nominal model. The function calls function 'ItemData' to create
the data frame for input into 'mlogit', which is use to fit a conditional
multinomial model (i.e., a discrete choice model) for each item.  The
up-dated scale are put into the Master data frame and added to the
item.log array.  Generally the function would not run outside of
'fit.nominal' or 'ple.lma'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ItemLoop(
  Master,
  item.log,
  Phi.mat = Phi.mat,
  PersonByItem,
  npersons,
  nitems,
  ntraits,
  ncat,
  nless,
  TraitByTrait,
  pq.mat,
  LambdaName,
  NuName,
  fitem
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Master</code></td>
<td>
<p>Current master frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>item.log</code></td>
<td>
<p>Iteration history for the items parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Phi.mat</code></td>
<td>
<p>Current estimate of Phi.mat</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PersonByItem</code></td>
<td>
<p>Person by item adjacency matrix (same as inData)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npersons</code></td>
<td>
<p>Number of persons</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nitems</code></td>
<td>
<p>Number of items</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntraits</code></td>
<td>
<p>Number of traits</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncat</code></td>
<td>
<p>Number of categories</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nless</code></td>
<td>
<p>Number of unique lambda and unique nus (ncat-1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TraitByTrait</code></td>
<td>
<p>TraitsByTrait adjacency matrix (sam as TraitAdj)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pq.mat</code></td>
<td>
<p>One dimensional array for computing rest-scores</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LambdaName</code></td>
<td>
<p>Marginal effect names used in formula and item
data frame for item regressions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NuName</code></td>
<td>
<p>Scale values names in used in formula and item
data frame for item regressions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitem</code></td>
<td>
<p>Formula for item regression</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Master	  Master data frame up-dated scale values for all items
</p>
<p>item.log  Iteration history of item parameters where the last
row showing results from the current iteration
</p>


</div>