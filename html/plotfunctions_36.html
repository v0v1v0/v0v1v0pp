<div class="container">

<table style="width: 100%;"><tr>
<td>plotsurface</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates a colored surface plot from data frame input.</h2>

<h3>Description</h3>

<p>This function is a wrapper around <code>image</code>
and <code>contour</code>. See <code>vignette('plotfunctions')</code> 
for an example of how you could use <code>image</code> and 
<code>contour</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotsurface(
  data,
  view,
  predictor = NULL,
  valCI = NULL,
  main = NULL,
  xlab = NULL,
  ylab = NULL,
  xlim = NULL,
  ylim = NULL,
  zlim = NULL,
  col = NULL,
  color = terrain.colors(50),
  ci.col = c("green", "red"),
  nCol = 50,
  add.color.legend = TRUE,
  dec = NULL,
  fit.margin = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame or list with plot data. A data frame needs to have a 
column with x values, a column with y values and a column with z values. A 
list contains a vector with unique x values, a vector with unique y values, 
and a matrix with z-values. The output of the function fvisgam is an 
example of a suitable list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>view</code></td>
<td>
<p>A vector with the names or numbers of the columns to plot on 
the x axis and y axis respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor</code></td>
<td>
<p>Optional: the name of the column in the data frame 
<code>data</code> that provides the z-values. If data contains more than one 
column besides the x- and y-values, the <code>predictor</code> should be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valCI</code></td>
<td>
<p>Optional: the name of the column in the data frame 
<code>data</code> that provides the CI-values. If not NULL, CI contour lines
will be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Text string, an overall title for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Label for x axis. Default is name of first <code>view</code> variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Label for y axis. Default is name of second <code>view</code> 
variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>x-limits for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>y-limits for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zlim</code></td>
<td>
<p>z-limits for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Color for the  contour lines and labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>The color scheme to use for plots. One of 'topo', 'heat', 
'cm', 'terrain', 'gray', 'bwr' (blue-white-red) or 'bw'. Or a list of colors such as that 
generated by <code>rainbow</code>, 
<code>heat.colors</code>
<code>colors</code>, <code>topo.colors</code>, 
<code>terrain.colors</code> or similar functions.
Alternatively a vector with some colors can be provided for a custom 
color palette.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.col</code></td>
<td>
<p>Two-value vector with colors for the lower CI contour lines 
and for the upper CI contour lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCol</code></td>
<td>
<p>The number of colors to use in color schemes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.color.legend</code></td>
<td>
<p>Logical: whether or not to add a color legend. 
Default is TRUE. If FALSE (omitted), one could use the function
<code>gradientLegend</code> to add a legend manually at any position.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dec</code></td>
<td>
<p>Numeric: number of decimals for rounding the color legend. 
When NULL (default), no rounding. If -1 (default), automatically determined. 
Note: if value = -1 (default), rounding will be applied also when 
<code>zlim</code> is provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.margin</code></td>
<td>
<p>Logical: whether the labels of the gradient legend 
should be forced to fit in the margin or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Optional parameters for <code>image</code>
and <code>contour</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jacolien van Rij
</p>


<h3>See Also</h3>

<p><code>image</code>, <code>contour</code>, 
<code>color_contour</code>
</p>
<p>Other Functions for plotting: 
<code>addInterval()</code>,
<code>add_bars()</code>,
<code>add_n_points()</code>,
<code>alphaPalette()</code>,
<code>alpha()</code>,
<code>check_normaldist()</code>,
<code>color_contour()</code>,
<code>dotplot_error()</code>,
<code>drawDevArrows()</code>,
<code>emptyPlot()</code>,
<code>errorBars()</code>,
<code>fill_area()</code>,
<code>getCoords()</code>,
<code>getFigCoords()</code>,
<code>getProps()</code>,
<code>gradientLegend()</code>,
<code>legend_margin()</code>,
<code>marginDensityPlot()</code>,
<code>plot_error()</code>,
<code>plot_image()</code>,
<code>sortBoxplot()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# From the package graphics, see help(image):
x &lt;- 10*(1:nrow(volcano))
y &lt;- 10*(1:ncol(volcano))
image(x, y, volcano, col = terrain.colors(100), axes = FALSE)
contour(x, y, volcano, levels = seq(90, 200, by = 5),
        add = TRUE, col = 'peru')
axis(1, at = seq(100, 800, by = 100))
axis(2, at = seq(100, 600, by = 100))
box()
title(main = 'Maunga Whau Volcano', font.main = 4)

# now with plot surface:
# first convert to data frame
tmp &lt;- data.frame(value = as.vector(volcano), 
    x = 10*rep(1:nrow(volcano), ncol(volcano)), 
    y = 10*rep(1:ncol(volcano), each=nrow(volcano)))
plotsurface(tmp, view=c('x', 'y'), predictor='value', 
    main='Maunga Whau Volcano')

# or with gray scale colors:
plotsurface(tmp, view=c('x', 'y'), predictor='value', 
    main='Maunga Whau Volcano', color='gray')

# change color range:
plotsurface(tmp, view=c('x', 'y'), predictor='value', 
    main='Maunga Whau Volcano', zlim=c(0,200))

#' remove color and color legend:
plotsurface(tmp, view=c('x', 'y'), predictor='value', 
    main='Maunga Whau Volcano', 
    color=NULL, col=1, add.color.legend=FALSE)

</code></pre>


</div>