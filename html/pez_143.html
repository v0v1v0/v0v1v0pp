<div class="container">

<table style="width: 100%;"><tr>
<td>cc.manip</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Manipulating and examining comparative.comm objects</h2>

<h3>Description</h3>

<p>As described in the vignette, we recommend using these wrappers to
manipulate species and site data, as it guarantees that everything
will be kept consistent across all parts of the
<code>comparative.comm</code> object. With them, you can drop
species, sites, and work directly with each part of your data. You
can also manipulate your <code>comparative.comm</code> object's
<code>phy</code>, <code>data</code>, <code>env</code>, and <code>comm</code> slots directly
if you wish, but altering the object directly yourself runs the
risk of things getting unsynchronised.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'comparative.comm'
x[sites, spp, warn = FALSE]

trait.names(object)

env.names(object)

species(x)

species(x) &lt;- value

sites(x)

sites(x) &lt;- value

traits(x) &lt;- value

traits(x)

env(x) &lt;- value

env(x)

comm(x) &lt;- value

comm(x)

tree(x)

phy(x)

tree(x) &lt;- value

phy(x) &lt;- value

assemblage.phylogenies(data)

## S3 method for class 'comparative.comm'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  abundance.weighted = FALSE,
  ...
)

## S3 method for class 'comparative.comm'
within(data, expr, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>comparative.comm</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sites</code></td>
<td>
<p>numbers of sites to be kept or dropped from <code>x</code>;
must be given as numbers. For example, <code>x[1:5,]</code>, or
<code>x[-1:-5,]</code>, but not <code>x[c("site a", "site b"),]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spp</code></td>
<td>
<p>numbers of species to be kept or dropped from <code>x</code>;
must be given as numbers. For example, <code>x[,1:5]</code>, or
<code>x[,-1:-5]</code>, but not <code>x[c("sp a", "sp b"),]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>whether to warn if species/sites are dropped when
creating object (default: TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>comparative.comm</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>when altering a <code>comparative.comm</code>
object's internal structure, the thing that you're inserting into
it!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>comparative.comm</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names</code></td>
<td>
<p>ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optional</code></td>
<td>
<p>ignored
presence-absence dataset (default: FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abundance.weighted</code></td>
<td>
<p>whether to create to create a</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>expression to be evaluated within the scope of
<code>data</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Names of the traits or environmental variables
</p>


<h3>Note</h3>

<p>As described in <code>comparative.comm</code>, each
<code>comparative.comm</code> object contains a phylogeny
(<code>$phy</code>) and a site-by-species community matrix (as used in
<code>vegan</code>). Optionally, it may contain a
<code>data.frame</code> of trait data (each row a species, each column a
trait ) *called <code>data</code>* for compatibility with
<code>comparative.data</code>.
</p>


<h3>See Also</h3>

<p>comparative.comm plot.comaparative.comm
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(laja)
data &lt;- comparative.comm(invert.tree, river.sites, invert.traits, river.env)
#Subset on species, then sites
data &lt;- data[1:5,]
data &lt;- data[,1:5]
#Site and species can be manipulated
species(data)
sites(data)[1:3] &lt;- c("lovely", "invert", "sites")
#Other data can be viewed
trait.names(data)
env.names(data)
#Get assemblage phylogenies of all sites
assemblage.phylogenies(data)
#Add some trait/env data in
traits(data)$new.trait &lt;- sample(letters, nrow(comm(data)), replace=TRUE)
env(data)$new.env &lt;- sample(letters, ncol(comm(data)), replace=TRUE)
#Manipulate/check phylogeny and community matrix
phy(data) #...tree(data) works too...
comm(data)[1,3] &lt;- 3
comm(data) &lt;- comm(data)[-3,]
</code></pre>


</div>