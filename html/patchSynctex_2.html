<div class="container">

<table style="width: 100%;"><tr>
<td>patchSynctex</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create correspondence between .pdf and .Rnw files</h2>

<h3>Description</h3>

<p><code>patchSynctex(foo)</code> uses the concordance file
<code>foo-concordance.tex</code> generated by <code>knit</code>ting (possibly
<code>Sweave</code>ing) <code>foo.Rnw</code> with the option <code>concordance=TRUE</code>
to patch <code>foo.synctex(.gz)</code> with information pointing to
<code>foo.Rnw</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">patchSynctex(nwfile, syncfile=NULL, verbose=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nwfile</code></td>
<td>
<p> name of the file to patch (used sans extension).  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>syncfile</code></td>
<td>
<p> output sync file (if nwfile is related to an included
file). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p> if TRUE, emit a message stating the number of
patches. Useful for debugging integration in your tools. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Unused. Allows any argument forced by your tools to be passed
without causing an error.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function reads the information given in the
<code>nwfile-concordance.tex</code> file (which <em>must</em> exist) to patch
the <code>nwfile.synctex(.gz)</code> file, which originally contains
pointers from <code>nwfile.pdf</code> to the source in <code>nwfile.tex</code>
with information pointing to the latter's source in <code>nwfile.Rnw</code>.
</p>
<p>Editors and viewers supporting Synctex will be able to use this
information to allow forward- and backward search between PDF and ists
original source, thus easing debugging.
</p>
<p>The <code>nwfile</code> will be used sans extension ; this allows your
favorite IDE to pass either the name of the noweb file or the name of
the .tex file.
</p>
<p>The <code>syncfile</code> argument allows to force the addition of the
patched references to the main syncfile for a document that uses
subfiles. This is a workaround that may or may not be well-supported
by <code>knitr</code> and/or your viewer.
</p>
<p>The function may raise errors (files not found), warnings (no patch
found to be done) or messages (number of patched locations).
</p>
<p>This function is principally intended for use by programmable IDEs able
to execute <code>R</code> code. It is documented mostly for debugging
purposes.
</p>


<h3>Value</h3>

<p>Nothing useful.</p>


<h3>Note</h3>

<p> The current (1.8) version of <code>knitr</code> does not yet implement
concordance for multifile projects (i. e. children chunks). </p>


<h3>Author(s)</h3>

<p>Jan Gleixner, Emmanuel Charpentier <a href="mailto:emm.charpentier@free.fr">emm.charpentier@free.fr</a></p>


<h3>References</h3>

<p>Duncan Murdoch's excellent <code>patchDVI</code> package:
<a href="https://cran.r-project.org/package=patchDVI">https://cran.r-project.org/package=patchDVI</a>. 
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(requireNamespace("tools", quietly=TRUE) &amp;&amp;
   requireNamespace("knitr", quietly=TRUE)) {
    ## Minimal demonstrative knitr example.
    RnwSrc&lt;-"
\\synctex=1
\\documentclass{article}
&lt;&lt;Setup, eval=TRUE, echo=FALSE, results='hide'&gt;&gt;=
opts_knit$set(concordance=TRUE, self.contained=TRUE)##$
require(patchSynctex)
@ 
\\author{A.~U.~Thor}
\\title{A minimal \\textsf{knitr} example}
\\date{Some time}
\\begin{document}
\\maketitle

A first paragraph of text, which offers a target for forward search\\,:
for example, in \\textsf{emacs} with \\textsf{AUCTeX}, typing
``C-c~C-v'' should bring you to your PDF viewer in the corresponding
typeset line.

&lt;&lt;TestFig, echo=FALSE&gt;&gt;=
curve(sin(x), from=-pi, to=pi, main='A curve generated by R',
      sub='back-searching from here should bring you close to the \\'TestFig\\' chunk.')
@ 

This second paragraph of text is also a convenient target for
back-searching. For example, in \\textsf{evince}, a ``&lt;Ctrl&gt;-click''
should bring you to the \\textsf{noweb} source, bypassing the \\LaTeX
intermediate file.
\\end{document}
"
    require(knitr)
    cat(RnwSrc, file="Minimal.Rnw")
    knit2pdf("Minimal.Rnw", quiet=TRUE)
    D1&lt;-file.info("Minimal.synctex.gz")$mtime
    patchSynctex("Minimal", verbose=TRUE)
    ## should print a message telling the number of patches
    D2&lt;-file.info("Minimal.synctex.gz")$mtime
    D1!=D2
    ## should return TRUE
    ## To see the effect, try (example on a Linux system)
    ## Not run: system("evince Minimal.pdf")
}
</code></pre>


</div>