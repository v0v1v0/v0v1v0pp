<div class="container">

<table style="width: 100%;"><tr>
<td>sir_ratio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confidence intervals for the ratio of two SIRs/SMRs</h2>

<h3>Description</h3>

<p>Calculate ratio of two SIRs/SMRs and the confidence intervals of the ratio.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sir_ratio(
  x,
  y,
  digits = 3,
  alternative = "two.sided",
  conf.level = 0.95,
  type = "exact"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a sir-object or a vector of two; observed and expected cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a sir-object or a vector of two; observed and expected cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits in the output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>The null-hypothesis test: (default:) <code>two.sided</code>, <code>less</code>, <code>greater</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>the type-I error in confidence intervals, default 0.95 for 95% CI.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>How the binomial confidence intervals are calculated (default:) <code>exact</code> or <code>asymptotic</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function works with pooled sir-objects i.e. the <code>print</code> argument in <code>sir</code> is ignored.
Also <code>x</code> and <code>y</code> can be a vector of two where first index is the
observed cases and second is expected cases (see examples).
Note that the ratio of two SIR's is only applicable when the age distributions are similar
in both populations.
</p>
<p><strong>Formula</strong>
</p>
<p>The observed number of first sir <code>O1</code> is considered as a Binomial variable with sample 
size of <code>O1+O2</code>. The confidence intervals for Binomial proportion <code>A</code> 
is solved using <code>exact</code> or <code>asymptotic</code> 
method. Now the CI for ratio <code>O1/O2</code> is <code>B = A/(1 - A)</code>. And further the CI for SIR/SMR 
is B*E2/E1. (Ederer and Mantel)
</p>


<h3>Value</h3>

<p>A vector length of three: sir_ratio, and lower and upper confidence intervals.
</p>


<h3>Note</h3>

<p>Parameter <code>alternative</code> is always <code>two.sided</code> when parameter 
<code>type</code> is set to <code>asymptotic</code>.
</p>


<h3>Author(s)</h3>

<p>Matti Rantanen
</p>


<h3>References</h3>

<p>Statistics with Confidence: Confidence Intervals and Statistical Guidelines, 
Douglas Altman, 2000. ISBN: 978-0-727-91375-3
</p>


<h3>See Also</h3>

<p><code>sir</code>
<a href="../doc/sir.html">A SIR calculation vignette</a>
</p>
<p>Other sir functions: 
<code>lines.sirspline()</code>,
<code>plot.sirspline()</code>,
<code>sir()</code>,
<code>sir_exp()</code>,
<code>sirspline()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Ratio for sir-object and the same values given manually:


## create example dataset
dt1 &lt;- data.frame(obs = rep(c(5,7), 10),
                  pyrs = rep(c(250,300,350,400), 5),
                  var = 1:20)
Ref &lt;- data.frame(obs = rep(c(50,70,80,100), 5),
                 pyrs = rep(c(2500,3000,3500,4000), 5),
                 var = 1:20)
## sir using the function
s1 &lt;- sir(coh.data = dt1, coh.obs = obs, coh.pyrs = pyrs, 
          ref.data = Ref, ref.obs = obs, ref.pyrs = pyrs,
          adjust = var)

## Ratio is simply 1:
sir_ratio(s1, c(120, 150))

</code></pre>


</div>