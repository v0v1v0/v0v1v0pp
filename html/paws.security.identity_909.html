<div class="container">

<table style="width: 100%;"><tr>
<td>kms_put_key_policy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Attaches a key policy to the specified KMS key</h2>

<h3>Description</h3>

<p>Attaches a key policy to the specified KMS key.
</p>
<p>See <a href="https://www.paws-r-sdk.com/docs/kms_put_key_policy/">https://www.paws-r-sdk.com/docs/kms_put_key_policy/</a> for full documentation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">kms_put_key_policy(
  KeyId,
  PolicyName = NULL,
  Policy,
  BypassPolicyLockoutSafetyCheck = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>KeyId</code></td>
<td>
<p>[required] Sets the key policy on the specified KMS key.
</p>
<p>Specify the key ID or key ARN of the KMS key.
</p>
<p>For example:
</p>

<ul>
<li>
<p> Key ID: <code style="white-space: pre;">⁠1234abcd-12ab-34cd-56ef-1234567890ab⁠</code>
</p>
</li>
<li>
<p> Key ARN:
<code style="white-space: pre;">⁠arn:aws:kms:us-east-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab⁠</code>
</p>
</li>
</ul>
<p>To get the key ID and key ARN for a KMS key, use
<code>list_keys</code> or <code>describe_key</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PolicyName</code></td>
<td>
<p>The name of the key policy. If no policy name is specified, the default
value is <code>default</code>. The only valid value is <code>default</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Policy</code></td>
<td>
<p>[required] The key policy to attach to the KMS key.
</p>
<p>The key policy must meet the following criteria:
</p>

<ul>
<li>
<p> The key policy must allow the calling principal to make a subsequent
<code>put_key_policy</code> request on the KMS key. This
reduces the risk that the KMS key becomes unmanageable. For more
information, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#prevent-unmanageable-key">Default key policy</a>
in the <em>Key Management Service Developer Guide</em>. (To omit this
condition, set <code>BypassPolicyLockoutSafetyCheck</code> to true.)
</p>
</li>
<li>
<p> Each statement in the key policy must contain one or more
principals. The principals in the key policy must exist and be
visible to KMS. When you create a new Amazon Web Services principal,
you might need to enforce a delay before including the new principal
in a key policy because the new principal might not be immediately
visible to KMS. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot.html#troubleshoot_general_eventual-consistency">Changes that I make are not always immediately visible</a>
in the <em>Amazon Web Services Identity and Access Management User
Guide</em>.
</p>
</li>
</ul>
<p>A key policy document can include only the following characters:
</p>

<ul>
<li>
<p> Printable ASCII characters from the space character (<code>U+0020</code>)
through the end of the ASCII character range.
</p>
</li>
<li>
<p> Printable characters in the Basic Latin and Latin-1 Supplement
character set (through <code style="white-space: pre;">⁠U+00FF⁠</code>).
</p>
</li>
<li>
<p> The tab (<code>U+0009</code>), line feed (<code style="white-space: pre;">⁠U+000A⁠</code>), and carriage return
(<code style="white-space: pre;">⁠U+000D⁠</code>) special characters
</p>
</li>
</ul>
<p>For information about key policies, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html">Key policies in KMS</a>
in the <em>Key Management Service Developer Guide</em>.For help writing and
formatting a JSON policy document, see the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html">IAM JSON Policy Reference</a>
in the <em>Identity and Access Management User Guide</em> .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BypassPolicyLockoutSafetyCheck</code></td>
<td>
<p>Skips ("bypasses") the key policy lockout safety check. The default
value is false.
</p>
<p>Setting this value to true increases the risk that the KMS key becomes
unmanageable. Do not set this value to true indiscriminately.
</p>
<p>For more information, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#prevent-unmanageable-key">Default key policy</a>
in the <em>Key Management Service Developer Guide</em>.
</p>
<p>Use this parameter only when you intend to prevent the principal that is
making the request from making a subsequent
<code>put_key_policy</code> request on the KMS key.</p>
</td>
</tr>
</table>
</div>