<div class="container">

<table style="width: 100%;"><tr>
<td>trend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define a trend component.</h2>

<h3>Description</h3>

<p>The function is used to set up the trend component used in ptrend formulas.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trend(var, tempRE = FALSE, type = "smooth", by = NA, k = -1, fx = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>A numeric time variable over which a trend or index will be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tempRE</code></td>
<td>
<p>If TRUE, this will set up random time effects. The random effects will be constructed by converting the
var argument to a factor. Note that this yields a random effect level for each unique value in var.
If this is not appropriate, an alternative is to set tempRE to false and manually add temporal random
effects in the trend formula (using s(..., bs = "re")). Temporal random effects cannot be used with
index estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of trend to be estimated. One of "smooth", "loglinear" or "index".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Currently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>The dimension of the basis for the cubic regression spline of smooth trend fits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fx</code></td>
<td>
<p>If true, automatic selection of degrees of freedom are used for smooth trends.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function extracts information about the trend component of a formula supplied to ptrend. 
It returns a list containing variable names, information, and <code>s</code> components as strings used in subsequent calls to gam.
</p>


<h3>Value</h3>

<p>A list containing information to set up the trend.
</p>


<h3>Author(s)</h3>

<p>Jonas Knape
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Simulate a data set with 15 sites and 25 years
data = simTrend(15, 25)
## Fit a smooth trend with fixed site effects, but no random time effects,
## and fixed degrees of freedom
trFit = ptrend(count ~ trend(year, tempRE = FALSE, k =  8, fx = FALSE, type = "smooth") +
                 site, data = data)
plot(trFit)
</code></pre>


</div>