<div class="container">

<table style="width: 100%;"><tr>
<td>pa_evaluate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Presence/absence Model evaluation </h2>

<h3>Description</h3>

 
<p>Evaluation of models with presence/absence data. Given a vector of presence and a vector of absence values, confusion matrices are computed for a sequence of thresholds, and model evaluation statistics are computed for each confusion matrix / threshold. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">pa_evaluate(p, a, model=NULL, x=NULL, tr, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>either (1) predictions for presence points  (<code>model</code> is <code>NULL</code>); or (2) predictor values for presence points (<code>model</code> is not <code>NULL</code>, <code>x</code> is <code>NULL</code>; or locations for presence points (<code>model</code> and <code>x</code> are not <code>NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>as above for absence or background points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A fitted model used to make predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>SpatRaster used to extract predictor values from</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tr</code></td>
<td>
<p>Optional. a vector of threshold values to use for computing the confusion matrices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to <code>predict(model,...)</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>pa_ModelEvaluation object
</p>


<h3>details</h3>

<p>A pa_ModelEvaluation object has the the following slots 
</p>

<dl>
<dt>
<code>presence</code>:</dt>
<dd>
<p>presence values used </p>
</dd>
<dt>
<code>absence</code>:</dt>
<dd>
<p>absence values used</p>
</dd>
<dt>
<code>confusion</code>:</dt>
<dd>
<p>confusion matrix for each threshold</p>
</dd>
<dt>
<code>stats</code>:</dt>
<dd>
<p>statistics that are not threshold dependent</p>
</dd>
<dt>
<code>tr_stats</code>:</dt>
<dd>
<p>statistics that are threshold dependent</p>
</dd>
<dt>
<code>thresholds</code>:</dt>
<dd>
<p>optimal thresholds to classify values into presence and absence</p>
</dd>
</dl>
<p><code>stats</code> has the following values
</p>

<dl>
<dt>
<code>np</code>:</dt>
<dd>
<p>number of presence points</p>
</dd>
<dt>
<code>na</code>:</dt>
<dd>
<p>number of absence points</p>
</dd>
<dt>
<code>auc</code>:</dt>
<dd>
<p>Area under the receiver operator (ROC) curve</p>
</dd>
<dt>
<code>pauc</code>:</dt>
<dd>
<p> p-value for the AUC (for the Wilcoxon test W statistic</p>
</dd>
<dt>
<code>cor</code>:</dt>
<dd>
<p> Correlation coefficient</p>
</dd>
<dt>
<code>pcor</code>:</dt>
<dd>
<p>p-value for correlation coefficient </p>
</dd>
<dt>
<code>prevalence</code>:</dt>
<dd>
<p> Prevalence </p>
</dd>
<dt>
<code>ODP</code>:</dt>
<dd>
<p> Overall diagnostic power </p>
</dd>
</dl>
<p><code>tr_stats</code> has the following values
</p>

<dl>
<dt>
<code>tresholds</code>:</dt>
<dd>
<p> vector of thresholds used to compute confusion matrices </p>
</dd>
<dt>
<code>CCR</code>:</dt>
<dd>
<p> Correct classification rate </p>
</dd>
<dt>
<code>TPR</code>:</dt>
<dd>
<p> True positive rate </p>
</dd>
<dt>
<code>TNR</code>:</dt>
<dd>
<p> True negative rate </p>
</dd>
<dt>
<code>FPR</code>:</dt>
<dd>
<p> False positive rate </p>
</dd>
<dt>
<code>FNR</code>:</dt>
<dd>
<p> False negative rate </p>
</dd>
<dt>
<code>PPP</code>:</dt>
<dd>
<p> Positive predictive power </p>
</dd>
<dt>
<code>NPP</code>:</dt>
<dd>
<p> Negative predictive power </p>
</dd>
<dt>
<code>MCR</code>:</dt>
<dd>
<p> Misclassification rate </p>
</dd>
<dt>
<code>OR</code>:</dt>
<dd>
<p> Odds-ratio </p>
</dd>
<dt>
<code>kappa</code>:</dt>
<dd>
<p> Cohen's kappa </p>
</dd>
</dl>
<p><code>thresholds</code> has the following values
</p>

<dl>
<dt>
<code>max_kappa</code>:</dt>
<dd>
<p>the threshold at which kappa is highest</p>
</dd>
<dt>
<code>max_spec_sens</code>:</dt>
<dd>
<p>the threshold at which the sum of the sensitivity (true positive rate) and specificity (true negative rate) is highest</p>
</dd>
<dt>
<code>no_omission</code>:</dt>
<dd>
<p>the highest threshold at which there is no omission</p>
</dd>
<dt>
<code>prevalence</code>:</dt>
<dd>
<p>modeled prevalence is closest to observed prevalence</p>
</dd>
<dt>
<code>equal_sens_spec</code>:</dt>
<dd>
<p>equal sensitivity and specificity</p>
</dd>
</dl>
<h3>References</h3>

<p>Fielding, A.H. and J.F. Bell, 1997. A review of methods for the assessment of prediction errors in conservation presence/absence models. Environmental Conservation 24:38-49
</p>
<p>Liu, C., M. White &amp; G. Newell, 2011. Measuring and comparing the accuracy of species distribution models with presence-absence data. Ecography 34: 232-243.
</p>


<h3>See Also</h3>

<p><code>cm_evaluate</code></p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(0)
# p has the predicted values for 50 known cases (locations) 
# with presence of the phenomenon (species)
p &lt;- rnorm(50, mean=0.6, sd=0.3)
# a has the predicted values for 50 background locations (or absence)
a &lt;- rnorm(50, mean=0.4, sd=0.4)

e &lt;- pa_evaluate(p=p, a=a)
e

e@stats

plot(e, "ROC")
plot(e, "TPR")
plot(e, "boxplot")
plot(e, "density")

str(e)
</code></pre>


</div>