<div class="container">

<table style="width: 100%;"><tr>
<td>constraints</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
NLP custom constraint functions
</h2>

<h3>Description</h3>

<p>Provides a number of custom constraints and their jacobians for use with the NLP 
representation (both minimum risk and the fractional problem).
</p>


<h3>Usage</h3>

<pre><code class="language-R">ineqfun.turnover.min(w, optvars, uservars)
ineqjac.turnover.min(w, optvars, uservars)
ineqfun.bsturnover.min(w, optvars, uservars)
ineqjac.bsturnover.min(w, optvars, uservars)
ineqfun.turnover.opt(w, optvars, uservars)
ineqjac.turnover.opt(w, optvars, uservars)
ineqfun.bsturnover.opt(w, optvars, uservars)
ineqjac.bsturnover.opt(w, optvars, uservars)
ineqfun.variance.opt(w, optvars, uservars)
ineqjac.variance.opt(w, optvars, uservars)
ineqfun.variance.min(w, optvars, uservars)
ineqjac.variance.min(w, optvars, uservars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p> The decision weight vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optvars</code></td>
<td>
<p> Problem specific list (not for use by user).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uservars</code></td>
<td>
<p> User specific list with some required parameters to be set 
(see details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Functions preceded be “ineqfun” denote the functions which may be
passed to the ineqfun option in the <code>parmaspec</code> function, while 
“eqfun” to the eqfun option. Functions which include “jac” in the
first part of the name denote the jacobians of the equivalent constraints and
should be passed to the ineqgrad or eqgrad options in <code>parmaspec</code>. Functions
ending with “min” denote formulations for use with the minrisk type problems
while functions ending with “opt” denote the fractional risk formulation.<br>
For the simple turnover constraint, the uservars list must contain an entry
called ‘wold’ denoting the previous vector of weights with which the
comparison will be made. Additionally, an entry called  ‘turnover’ 
is required which denotes the (positive) value for the maximum turnover.<br>
For the buy and sell turnover constraint (bsturnover), there should instead
be (positive) ‘buyturnover’ and ‘sellturnover’ entries in the
uservars list. Finally note that when using this type of constraints in a fractional 
programming setup, care should be taken that the combination of bounds, turnover 
limits and the forecast return vector do not result in a negative expected return 
in which case the problem is not solvable.<br>
The variance constraint allows the targeting of a maximum acceptable variance.
The extra arguments which must be passed to the uservars list are ‘Cov’ 
for the asset covariance matrix and ‘varbound’ representing the maximum 
acceptable upper variance.
</p>


<h3>Value</h3>

<p>Used internally by the NLP solver. The fun return a scalar, while the jac return
a matrix with n.cols equal to the length of the decision vector (which may be
greater than the length of the weights as in the fractional problem which 
contains the fractional multiplier as well as other formulations which have 
additional decision variables).
</p>


<h3>Author(s)</h3>

<p>Alexios Galanos
</p>


</div>