<div class="container">

<table style="width: 100%;"><tr>
<td>PaleoPopModel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R6 class representing a population model for the paleopop simulator</h2>

<h3>Description</h3>

<p><code>R6</code> class representing a
spatially-explicit demographic-based population model. It extends the
<code>poems</code> class with parameters for the
<code>paleopop_simulator</code>. It inherits functionality for creating a
nested model, whereby a nested template model with fixed parameters is
maintained when a model is cloned for various sampled parameters. Also
provided are extensions to the methods for checking the consistency and
completeness of model parameters.
</p>


<h3>Super classes</h3>

<p><code>poems::GenericClass</code> -&gt; <code>poems::GenericModel</code> -&gt; <code>poems::SpatialModel</code> -&gt; <code>poems::SimulationModel</code> -&gt; <code>PaleoPopModel</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>attached</code></dt>
<dd>
<p>A list of dynamically attached attributes (name-value pairs).</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>simulation_function</code></dt>
<dd>
<p>Name (character string) or source path of the default simulation function, which takes a model as an input and returns the simulation results.</p>
</dd>
<dt><code>model_attributes</code></dt>
<dd>
<p>A vector of model attribute names.</p>
</dd>
<dt><code>region</code></dt>
<dd>
<p>A <code>Region</code> (or inherited class) object specifying the study region.</p>
</dd>
<dt><code>coordinates</code></dt>
<dd>
<p>Data frame (or matrix) of X-Y population coordinates (WGS84) in longitude (degrees West) and latitude (degrees North).</p>
</dd>
<dt><code>random_seed</code></dt>
<dd>
<p>Number to seed the random number generation for stochasticity.</p>
</dd>
<dt><code>time_steps</code></dt>
<dd>
<p>Number of simulation time steps.</p>
</dd>
<dt><code>years_per_step</code></dt>
<dd>
<p>Number of years per time step.</p>
</dd>
<dt><code>populations</code></dt>
<dd>
<p>Number of population cells.</p>
</dd>
<dt><code>initial_abundance</code></dt>
<dd>
<p>Array (matrix) of initial abundance values at each population cell.</p>
</dd>
<dt><code>transition_rate</code></dt>
<dd>
<p>Rate (numeric) of transition between generations at each time-step.</p>
</dd>
<dt><code>standard_deviation</code></dt>
<dd>
<p>Standard deviation (numeric) for applying environmental stochasticity to transition rates.</p>
</dd>
<dt><code>compact_decomposition</code></dt>
<dd>
<p>List containing a compact transposed 
(Cholesky) decomposition <em>matrix</em> (t_decomposition_compact_matrix) 
and a corresponding <em>map</em> of population indices 
(t_decomposition_compact_map), as per 
<code>SpatialCorrelation</code> class 
attributes.</p>
</dd>
<dt><code>carrying_capacity</code></dt>
<dd>
<p>Array (or matrix) of carrying capacity values at each population cell (across time).</p>
</dd>
<dt><code>density_dependence</code></dt>
<dd>
<p>Density dependence type ("competition", "logistic", or "ceiling").</p>
</dd>
<dt><code>growth_rate_max</code></dt>
<dd>
<p>Maximum growth rate (utilized by density dependence processes).</p>
</dd>
<dt><code>dispersal_data</code></dt>
<dd>
<p>List of data frames of non-zero dispersal rates and
indices for constructing a compact dispersal matrix, and optional 
changing rates over time, as per class 
<code>DispersalGenerator</code> 
<em>dispersal_data</em> attribute.</p>
</dd>
<dt><code>dispersal_target_k</code></dt>
<dd>
<p>Target population carrying capacity threshold for density dependent dispersal.</p>
</dd>
<dt><code>harvest</code></dt>
<dd>
<p>Boolean for utilizing harvesting.</p>
</dd>
<dt><code>harvest_max</code></dt>
<dd>
<p>Proportion harvested per year (annual time scale - not generational).</p>
</dd>
<dt><code>harvest_g</code></dt>
<dd>
<p>The "G" parameter in the harvest function.</p>
</dd>
<dt><code>harvest_z</code></dt>
<dd>
<p>The "Z" parameter in the harvest function.</p>
</dd>
<dt><code>harvest_max_n</code></dt>
<dd>
<p>Maximum density per grid cell.</p>
</dd>
<dt><code>human_density</code></dt>
<dd>
<p>Matrix of human density (fraction) ($populations rows by $time_steps columns).</p>
</dd>
<dt><code>abundance_threshold</code></dt>
<dd>
<p>Abundance threshold (that needs to be exceeded) for each population to persist.</p>
</dd>
<dt><code>occupancy_threshold</code></dt>
<dd>
<p>Threshold for the number of populations occupied (that needs to be exceeded) for all populations to persist.</p>
</dd>
<dt><code>results_selection</code></dt>
<dd>
<p>List of results selection from ("abundance", "ema", "extirpation", "harvested", "occupancy", "human_density").</p>
</dd>
<dt><code>attribute_aliases</code></dt>
<dd>
<p>A list of alternative alias names for model attributes (form: <code>alias = "attribute"</code>) to be used with the set and get attributes methods.</p>
</dd>
<dt><code>template_model</code></dt>
<dd>
<p>Nested template model for fixed (non-sampled) attributes for shallow cloning.</p>
</dd>
<dt><code>sample_attributes</code></dt>
<dd>
<p>Vector of sample attribute names (only).</p>
</dd>
<dt><code>required_attributes</code></dt>
<dd>
<p>Vector of required attribute names (only), i.e. those needed to run a simulation.</p>
</dd>
<dt><code>error_messages</code></dt>
<dd>
<p>A vector of error messages encountered when setting model attributes.</p>
</dd>
<dt><code>warning_messages</code></dt>
<dd>
<p>A vector of warning messages encountered when setting model attributes.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PaleoPopModel-list_consistency"><code>PaleoPopModel$list_consistency()</code></a>
</p>
</li>
<li> <p><a href="#method-PaleoPopModel-list_completeness"><code>PaleoPopModel$list_completeness()</code></a>
</p>
</li>
<li> <p><a href="#method-PaleoPopModel-clone"><code>PaleoPopModel$clone()</code></a>
</p>
</li>
</ul>
<details><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericModel" data-id="get_attribute"><a href="../../poems/html/GenericModel.html#method-GenericModel-get_attribute"><code>poems::GenericModel$get_attribute()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericModel" data-id="get_attribute_aliases"><a href="../../poems/html/GenericModel.html#method-GenericModel-get_attribute_aliases"><code>poems::GenericModel$get_attribute_aliases()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="get_attribute_names"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-get_attribute_names"><code>poems::SimulationModel$get_attribute_names()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="get_attributes"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-get_attributes"><code>poems::SimulationModel$get_attributes()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="incomplete_attributes"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-incomplete_attributes"><code>poems::SimulationModel$incomplete_attributes()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="inconsistent_attributes"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-inconsistent_attributes"><code>poems::SimulationModel$inconsistent_attributes()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="initialize"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-initialize"><code>poems::SimulationModel$initialize()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="is_complete"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-is_complete"><code>poems::SimulationModel$is_complete()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="is_consistent"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-is_consistent"><code>poems::SimulationModel$is_consistent()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="new_clone"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-new_clone"><code>poems::SimulationModel$new_clone()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="set_attributes"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-set_attributes"><code>poems::SimulationModel$set_attributes()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="SimulationModel" data-id="set_sample_attributes"><a href="../../poems/html/SimulationModel.html#method-SimulationModel-set_sample_attributes"><code>poems::SimulationModel$set_sample_attributes()</code></a></span></li>
</ul></details><hr>
<a id="method-PaleoPopModel-list_consistency"></a>



<h4>Method <code>list_consistency()</code>
</h4>

<p>Returns a boolean to indicate if (optionally selected or all) model attributes (such as dimensions) are consistent.
</p>


<h5>Usage</h5>

<div class="r"><pre>PaleoPopModel$list_consistency(params = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>params</code></dt>
<dd>
<p>Optional array of parameter/attribute names.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>List of booleans (or NAs) to indicate consistency of selected/all attributes.
</p>


<hr>
<a id="method-PaleoPopModel-list_completeness"></a>



<h4>Method <code>list_completeness()</code>
</h4>

<p>Returns a list of booleans (or NAs) for each parameter to indicate attributes that are necessary to simulate the model have been set and are consistent/valid.
</p>


<h5>Usage</h5>

<div class="r"><pre>PaleoPopModel$list_completeness()</pre></div>



<h5>Returns</h5>

<p>List of booleans (or NAs) for each parameter to indicate to indicate completeness (and consistency).
</p>


<hr>
<a id="method-PaleoPopModel-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PaleoPopModel$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">library(poems)
library(raster)
# Ring Island example region
coordinates &lt;- data.frame(x = rep(seq(-178.02, -178.06, -0.01), 5),
                          y = rep(seq(19.02, 19.06, 0.01), each = 5))
template_raster &lt;- Region$new(coordinates = coordinates)$region_raster # full extent
sealevel_raster &lt;- template_raster
template_raster[][c(7:9, 12:14, 17:19)] &lt;- NA # make Ring Island
sealevel_raster[][c(7:9, 12:14, 17:18)] &lt;- NA
raster_stack &lt;- raster::stack(x = append(replicate(9, template_raster), sealevel_raster))
region &lt;- PaleoRegion$new(template_raster = raster_stack)

# Model template
template_model &lt;- PaleoPopModel$new(simulation_function = "paleopop_simulator", # the default
                                    region = region, years_per_step = 25, # default: 1 year
                                    time_steps = 10)
template_model$required_attributes # more requirements than the SimulationModel object in poems
template_model$is_complete() # the required attributes have not been filled in
template_model#is_consistent() # however, the attributes that are filled in are consistent

</code></pre>


</div>