<div class="container">

<table style="width: 100%;"><tr>
<td>writeSim2netCDF</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A function to write netCDF-files</h2>

<h3>Description</h3>

<p>This function transforms simulation results into netCDF files following the ISIMIP2 protocol
</p>


<h3>Usage</h3>

<pre><code class="language-R">writeSim2netCDF(
  df,
  comment1 = NA,
  comment2 = NA,
  institution = "PIK",
  contact = "isi-mip@pik-potsdam.de",
  modelname = "formind",
  GCM = "hadgem",
  RCP = "rcp85",
  ses = "nat",
  ss = "co2const",
  region = "Kroof",
  start = "1980",
  folder = "ISI-MIP"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data.frame containing in the first three columns longitude latitude
and time. These columns are followed by columns containing the output variables.
The columns have to be named with the output variable name as required by the 2B
protocol. See table 21.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment1</code></td>
<td>
<p>Optional comment regarding your simulation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment2</code></td>
<td>
<p>Optional comment regarding your simulation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>institution</code></td>
<td>
<p>Your institution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contact</code></td>
<td>
<p>Your mail address</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelname</code></td>
<td>
<p>The name of the used forest model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GCM</code></td>
<td>
<p>The climate model which created the used climate time series</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RCP</code></td>
<td>
<p>The RCP scenario</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ses</code></td>
<td>
<p>The scenario describing forest management. UMsoc equals the "nat"
settings and histsoc and 2005soc equal the "man" settings in the ISIMIP2a
protocol. Default value: "nat".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ss</code></td>
<td>
<p>"co2" for all experiments other than the sensitivity experiments
for which 2005co2 is explicitly written.  Note: even models in which CO2 has
no effect should use the co2 identifier relevant to the experiment.  Default
value: "co2const".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p>the region or site of the simulation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>the start year of the simulation. Default value: 1980.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder</code></td>
<td>
<p>The folder in which all netCDF files will be written</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function transforms your simulation output data frame into several netCDF
-files and writes them into the indicated folder using the naming convention of
the ISIMIP2(B)-protocol (https://www.isimip.org/protocol/). Units and long names
of variables (table 21) will be created automatically.
</p>


<h3>Author(s)</h3>

<p>Friedrich J. Bohn
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Produce sample data 
df &lt;- data.frame(lat = rep(20, 10),
                 lon = rep(30, 10),
                 time = seq(1920, 2010, 10),
                 dbh_total = c(10:19),
                 nee_total = rnorm(10, -0.5, 0.25),
                 evap = rnorm(10, 0.001, 0.0001),
                 cwood_fasy = seq(40, 85, 5))

# Convert multi-variable data.frame into single-variable netCDFs using ISIMIP naming conventions
writeSim2netCDF(df = df,
                comment1 = NA,
                comment2 = NA,
                institution = 'PIK',
                contact = 'isi-mip@pik-potsdam.de',
                modelname = "formind",
                GCM = "hadgem",
                RCP = "rcp85",
                ses = "nat",
                ss = "co2const",
                region = "Kroof",
                start = '1920',
                folder = tempdir())
</code></pre>


</div>