<div class="container">

<table style="width: 100%;"><tr>
<td>medtime</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Median of the Time Spent in Hospital by Date of Admission. 
</h2>

<h3>Description</h3>

<p>From the two-dimensional estimated hazard of death/recovery, the median of the time spent in hospital is computed  depending on the date of admission.
</p>


<h3>Usage</h3>

<pre><code class="language-R">medtime(hi.zt,z1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>hi.zt</code></td>
<td>

<p>a matrix with the estimated hazard of death+recovery  (<code>M</code> times <code>M</code>), obtained  evaluating the function  <code>hazard2Dmiss</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z1</code></td>
<td>

<p>(optional) a vector of indexes between 1 and <code>M</code> indicating the admission days to evaluate the median. If missing then <code>z1&lt;-c(seq(1,M-1,by=2),M-1)</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector with the computed median times for each day in <code>z1</code>.</p>


<h3>Note</h3>

<p>Evaluate the function <code>hazard2Dmiss</code> to create the estimated hazard for the argument <code>hi.zt</code>. 
</p>


<h3>Author(s)</h3>

<p>M.L. Gámiz, E. Mammen, M.D. Martínez-Miranda and J.P. Nielsen.
</p>


<h3>References</h3>

<p>Gámiz, M.L., Mammen, E., Martínez-Miranda, M.D. and Nielsen, J.P. (2024b). Monitoring a developing pandemic with available data. arXiv:2308.09919.
</p>


<h3>See Also</h3>

<p><code>hazard2Dmiss</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data('covid')
Ei.z&lt;-covid$Hospi   # exposure for survival analysis
Oi1.z&lt;-covid$Death  # deaths
Oi2.z&lt;-covid$Recov  # recoveries
# compute incremental values
Oi1.z&lt;-diff(Oi1.z)
Oi2.z&lt;-diff(Oi2.z)
Ei.z&lt;-Ei.z[-1]     # exposure is left as cumulative
M&lt;-length(Ei.z)
t.grid&lt;-z.grid&lt;-1:M
# notification date (marker)
ddates&lt;-covid$Date

## First compute the estimated hazard
bs&lt;-t(c(150,150))
res.h&lt;-hazard2Dmiss(t.grid,z.grid,Oi1.z,Oi2.z,Ei.z,bs.grid=bs,cv=FALSE)
hi.zt&lt;-res.h$hi.zt # =hi2.zt+hi1.zt (two possible outcomes)

## Now the median time at few values of the marker (admission dates)
z1&lt;-c(seq(1,M-1,by=30),M-1)
nz&lt;-length(z1)
res&lt;-medtime(hi.zt,z1)

plot(z1,res,ylab='days',xaxt = "n",type='p',pch=16,
  xlim=range(z1), xlab='Date of admission',
  main='Median time from admission to exit (death+recovery)')
axis(1,at=z1,labels=ddates[z1],cex=1.2)

</code></pre>


</div>