<div class="container">

<table style="width: 100%;"><tr>
<td>convertTfrType</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert the "Tfr.type" attribute</h2>

<h3>Description</h3>

<p>Function to set the <code>"Tfr.type"</code> attribute and simultaneously convert
the spectral data to correspond to the new type.
</p>


<h3>Usage</h3>

<pre><code class="language-R">convertTfrType(x, Tfr.type = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>filter_spct</code>, <code>object_spct</code>, <code>filter_mspct</code> or <code>object_mspct</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tfr.type</code></td>
<td>
<p>character One of <code>"internal"</code> or <code>"total"</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Internal transmittance, <code class="reqn">\tau</code>, uses as reference the light
entering the object while total transmittance, <code class="reqn">T</code>, takes the incident
light as reference. The
conversion is possible only if total reflectance, <code class="reqn">\rho</code>, is known. Either as spectral
data in an <code>object_spct</code> object, a <code>filter_spct</code> object that is
"under-the-hood" an <code>object_spct</code>, or if a fixed reflectance factor
applicable to all wavelengths is stored in the <code>filter.properties</code>
attribute of the <code>filter_spct</code> object.
</p>
<p>Conversions are computed as:
</p>
<p style="text-align: center;"><code class="reqn">\tau = \frac{T - \rho}{1 - \rho}</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">T = \tau * (1 - \rho) + \rho</code>
</p>

<p>For the conversion to take place the object passed as argument to <code>x</code>,
must contain a column with transmittance data, named <code>Tfr</code>. Any
necessary conversion from absorbance <code>A</code> or from <code>Afr</code> into
transmittance, must be done before calling <code>convertTfrType()</code>.
</p>


<h3>Value</h3>

<p><code>x</code> if possible, with the value of the <code>"Tfr.type"</code> attribute
modified and the values stored in the <code>Tfr</code> variable converted to the
new quantity.
</p>


<h3>Note</h3>

<p>if <code>x</code> is not a <code>filter_spct</code> object, <code>x</code> is returned
unchanged. If <code>x</code> does not have the <code>"filter.properties"</code>
attribute set if it is missing data, <code>x</code> is returned with
<code>Tfr</code> set to <code>NA</code> values.
</p>


<h3>See Also</h3>

<p><code>setTfrType</code>, <code>filter_spct</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">getTfrType(polyester.spct)
filter_properties(polyester.spct)
convertTfrType(polyester.spct, Tfr.type = "internal")

</code></pre>


</div>