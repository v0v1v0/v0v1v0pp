<div class="container">

<table style="width: 100%;"><tr>
<td>fillmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Supplement missing values in mapping of data</h2>

<h3>Description</h3>

<p>In properly normalized data bases, 1:1 mapping should be
complete and unique. In real world data however ID mappings or
data base key candidates are repeated over and over across
observations, partly with missing data in case of merged data set.
fillmap supplements NAs in mapping variables as far as possible
</p>


<h3>Usage</h3>

<pre><code class="language-R">fillmap(x, y, what = "xy", rmdup=FALSE, rmmiss=FALSE,
    printori=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x,y</code></td>
<td>
<p>vectors of equal length, holding the mapping values,
sepearated by ","</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>what</code></td>
<td>
<p>data to be returned, either 1st ("x") or 2nd argument
("y") or a data,table, cointaining both ("xy")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmdup</code></td>
<td>
<p>remove duplicates from mapping (TRUE) or return all
rows in original order (FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmmiss</code></td>
<td>
<p>remove rows, where not mapping could be found (TRUE)
or return all rows (FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printori</code></td>
<td>
<p>print original variables side by side</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>incons assumes a 1:1 mapping between provided variables, as is
commonly the case for example in ID translation steps. 
</p>
<p>For all cases where a proper unambiguous 1:1 matching exists. The missings
values are filled in
</p>


<h3>Value</h3>

<p>Vector or data.table with original mapping data, where NAs are
filled in whith supplemented data where possible
</p>


<h3>Examples</h3>

<pre><code class="language-R">    library(data.table)
    pheno1 &lt;- data.frame(id1=c(1,2,3,4),id2=c(11,22,NA,NA),phenodat=c(NA,NA,NA,"d"))
    pheno2 &lt;- data.frame(id1=c(NA,NA,NA),id2=c(11,22,33),phenodat=c("a","b","c"))
    pheno3 &lt;- data.frame(id1=c(4,3),id2=c(44,33),phenodat=c(NA,NA))
    phenoges &lt;- rbind(rbind(pheno1,pheno2),pheno3)
    with(phenoges,fillmap(id1,phenodat))
    with(phenoges,fillmap(id1,phenodat,rmdup=TRUE))
    with(phenoges,fillmap(id1,phenodat,rmmiss=TRUE))
    with(phenoges,fillmap(id1,phenodat,rmdup=TRUE,rmmiss=TRUE))
    with(phenoges,fillmap(id2,phenodat))
    with(phenoges,fillmap(id2,phenodat,rmdup=TRUE))
    with(phenoges,fillmap(id2,phenodat,rmmiss=TRUE))
    with(phenoges,fillmap(id2,phenodat,rmdup=TRUE,rmmiss=TRUE))
    phenosupp &lt;- with(phenoges,fillmap(id1,id2))
    names(phenosupp) &lt;- c("id1","id2")
    phenosupp$phenodat &lt;- fillmap(phenosupp$id1,phenoges$phenodat,what="y")
    unique(phenosupp)
</code></pre>


</div>