<div class="container">

<table style="width: 100%;"><tr>
<td>read_rprof</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>File I/O for profiler data</h2>

<h3>Description</h3>

<p>These functions read profile data from files, or store profile data to files.
Readers call <code>validate_profile()</code> on input, writers on output.
</p>
<p><code>read_rprof()</code> reads a file generated by <code>Rprof()</code>, <code>write_rprof()</code> writes
in a compatible format.
</p>
<p><code>read_pprof()</code> reads a file generated by <code>pprof -proto</code>, <code>write_pprof()</code>
writes a Gzip-compressed file that can be processed with <code>pprof</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_rprof(path, ..., version = "1.0")

read_pprof(path, ..., version = "1.0")

write_rprof(x, path)

write_pprof(x, path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>File name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>Version of the data, currently only <code>"1.0"</code> is supported.
Pass an explicit value to this argument if your code depends on the data
format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Profiler data, see <code>validate_profile()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Use the <span class="pkg">proftools</span>, <span class="pkg">profvis</span>, or <span class="pkg">prof.tree</span> R packages to
further analyze files created by the <code>write_rprof()</code> function.
</p>
<p>Use the <a href="https://github.com/google/pprof"><code>pprof</code> tool</a> in conjunction with
the <code style="white-space: pre;">⁠_pprof()⁠</code> functions. The tool is available in the <span class="pkg">pprof</span> R package,
or (in newer versions) via <code style="white-space: pre;">⁠go get github.com/google/pprof⁠</code>.
</p>


<h3>Value</h3>

<p>Valid profile data (readers), input data (writers).
</p>


<h3>Examples</h3>

<pre><code class="language-R">rprof_file &lt;- system.file("samples/rprof/1.out", package = "profile")
ds &lt;- read_rprof(rprof_file)
ds
if (requireNamespace("RProtoBuf", quietly = TRUE)) {
  pprof_file &lt;- tempfile("profile", fileext = ".pb.gz")
  write_pprof(ds, pprof_file)
}
</code></pre>


</div>