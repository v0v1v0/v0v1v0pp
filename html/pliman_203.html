<div class="container">

<table style="width: 100%;"><tr>
<td>utils_objects</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utilities for working with image objects</h2>

<h3>Description</h3>


<ul>
<li> <p><code>object_id()</code> get the object identification in an image.
</p>
</li>
<li> <p><code>object_coord()</code> get the object coordinates and (optionally) draw a
bounding rectangle around multiple objects in an image.
</p>
</li>
<li> <p><code>object_contour()</code> returns the coordinates (<code>x</code> and <code>y</code>) for the contours
of each object in the image.
</p>
</li>
<li> <p><code>object_isolate()</code> isolates an object from an image.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">object_coord(
  img,
  id = NULL,
  index = "NB",
  watershed = TRUE,
  invert = FALSE,
  filter = FALSE,
  fill_hull = FALSE,
  threshold = "Otsu",
  edge = 2,
  extension = NULL,
  tolerance = NULL,
  object_size = "medium",
  parallel = FALSE,
  workers = NULL,
  plot = TRUE
)

object_contour(
  img,
  pattern = NULL,
  dir_original = NULL,
  center = FALSE,
  index = "NB",
  invert = FALSE,
  filter = FALSE,
  fill_hull = FALSE,
  threshold = "Otsu",
  watershed = TRUE,
  extension = NULL,
  tolerance = NULL,
  object_size = "medium",
  parallel = FALSE,
  workers = NULL,
  plot = TRUE,
  verbose = TRUE
)

object_isolate(img, id = NULL, parallel = FALSE, workers = NULL, ...)

object_id(img, parallel = FALSE, workers = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>img</code></td>
<td>
<p>An image of class <code>Image</code> or a list of <code>Image</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>

<ul>
<li>
<p> For <code>object_coord()</code>, a vector (or scalar) of object <code>id</code> to compute the
bounding rectangle. Object ids can be obtained with <code>object_id()</code>. Set <code>id = "all"</code> to compute the coordinates for all objects in the image. If <code>id = NULL</code> (default) a bounding rectangle is drawn including all the objects.
</p>
</li>
<li>
<p> For <code>object_isolate()</code>, a scalar that identifies the object to be extracted.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>The index to produce a binary image used to compute bounding
rectangle coordinates. See <code>image_binary()</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>watershed</code></td>
<td>
<p>If <code>TRUE</code> (default) performs watershed-based object
detection. This will detect objects even when they are touching one other.
If <code>FALSE</code>, all pixels for each connected set of foreground pixels are set
to a unique object. This is faster but is not able to segment touching
objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>Inverts the binary image, if desired. Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>Performs median filtering in the binary image? See more at
<code>image_filter()</code>. Defaults to <code>FALSE</code>. Use a positive integer to define the
size of the median filtering. Larger values are effective at removing
noise, but adversely affect edges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_hull</code></td>
<td>
<p>Fill holes in the objects? Defaults to <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>By default (<code>threshold = "Otsu"</code>), a threshold value based
on Otsu's method is used to reduce the grayscale image to a binary image.
If a numeric value is informed, this value will be used as a threshold.
Inform any non-numeric value different than "Otsu" to iteratively chosen
the threshold based on a raster plot showing pixel intensity of the index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge</code></td>
<td>
<p>The number of pixels in the edge of the bounding rectangle.
Defaults to <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extension, tolerance, object_size</code></td>
<td>
<p>Controls the watershed segmentation of
objects in the image. See <code>analyze_objects()</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Processes the images asynchronously (in parallel) in separate
R sessions running in the background on the same machine. It may speed up
the processing time when <code>image</code> is a list. The number of sections is set
up to 50% of available cores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>workers</code></td>
<td>
<p>A positive numeric scalar or a function specifying the maximum
number of parallel processes that can be active at the same time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Shows the image with bounding rectangles? Defaults to
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>A pattern of file name used to identify images to be imported.
For example, if <code>pattern = "im"</code> all images in the current working directory
that the name matches the pattern (e.g., img1.-, image1.-, im2.-) will be
imported as a list. Providing any number as pattern (e.g., <code>pattern = "1"</code>)
will select images that are named as 1.-, 2.-, and so on. An error will be
returned if the pattern matches any file that is not supported (e.g.,
img1.pdf).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir_original</code></td>
<td>
<p>The directory containing the original images. Defaults
to <code>NULL</code>, which means that the current working directory will be
considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>If <code>TRUE</code> returns the object contours centered on the origin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code> (default) a summary is shown in the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<ul>
<li>
<p> For <code>object_isolate()</code>, further arguments passed on to <code>object_coord()</code>.
</p>
</li>
<li>
<p> For <code>object_id()</code>, further arguments passed on to <code>analyze_objects()</code>.
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Value</h3>


<ul>
<li> <p><code>object_id()</code> An image of class <code>"Image"</code> containing the object's
identification.
</p>
</li>
<li> <p><code>object_coord()</code> A list with the coordinates for the bounding rectangles.
If <code>id = "all"</code> or a numeric vector, a list with a vector of coordinates is
returned.
</p>
</li>
<li> <p><code>object_isolate()</code> An image of class <code>"Image"</code> containing the isolated
object.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
library(pliman)
img &lt;- image_pliman("la_leaves.jpg")
# Get the object's (leaves) identification
object_id(img)

# Get the coordinates and draw a bounding rectangle around leaves 1 and 3
object_coord(img, id = c(1, 3))

# Isolate leaf 3
isolated &lt;- object_isolate(img, id = 3)
plot(isolated)


</code></pre>


</div>