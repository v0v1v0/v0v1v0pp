<div class="container">

<table style="width: 100%;"><tr>
<td>palm.txt.fix.grammar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fix grammar and rewrite text using the Google PaLM 2 text model</h2>

<h3>Description</h3>

<p>This function sends a query with grammatical issues to the Google PaLM 2 text model and generates corrected text as a response.
It allows customization of the generated text using various parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">palm.txt.fix.grammar(
  model.parameter,
  prompt,
  temperature = 0.7,
  maxOutputTokens = 1024,
  topP = 0.95,
  topK = 40,
  htUnspecified = "meda",
  htDerogatory = "meda",
  htToxicity = "meda",
  htViolence = "meda",
  htSexual = "meda",
  htMedical = "meda",
  htDangerous = "meda"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model.parameter</code></td>
<td>
<p>A character vector containing the API key, model version, and proxy status. Model version and type
are specified by Google. See function <code>palm.connect</code> for detail.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prompt</code></td>
<td>
<p>A character string representing the code snippet for explanation. The length of the code snippet should be between
1 and 8196 characters, inclusive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>temperature</code></td>
<td>
<p>A numeric value between 0.0 and 1.0, inclusive (default: 0.7). Controls the randomness of the generated text.
A higher value (e.g., 0.9) results in more creative responses, while a lower value (e.g., 0.3) produces more straightforward text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxOutputTokens</code></td>
<td>
<p>An integer value (default: 1024). Specifies the maximum number of tokens to
include in the generated text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topP</code></td>
<td>
<p>A numeric value (default: 0.95). Defines the maximum cumulative probability of tokens
considered when sampling. It controls the diversity of the text generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topK</code></td>
<td>
<p>An integer value (default: 40). Sets the maximum number of tokens to consider
when sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htUnspecified</code></td>
<td>
<p>Safety setting threshold for unspecified harm. The default threshold is "meda". Valid options are as follows.
</p>

<dl>
<dt>"unsp"</dt>
<dd>
<p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>"lowa"</dt>
<dd>
<p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>"meda"</dt>
<dd>
<p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>"high"</dt>
<dd>
<p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>"none"</dt>
<dd>
<p>BLOCK_NONE</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htDerogatory</code></td>
<td>
<p>Safety setting threshold for derogatory harm. The default threshold is "meda". Valid options are as follows.
</p>

<dl>
<dt>"unsp"</dt>
<dd>
<p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>"lowa"</dt>
<dd>
<p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>"meda"</dt>
<dd>
<p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>"high"</dt>
<dd>
<p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>"none"</dt>
<dd>
<p>BLOCK_NONE</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htToxicity</code></td>
<td>
<p>Safety setting threshold for toxicity harm. The default threshold is "meda". Valid options are as follows.
</p>

<dl>
<dt>"unsp"</dt>
<dd>
<p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>"lowa"</dt>
<dd>
<p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>"meda"</dt>
<dd>
<p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>"high"</dt>
<dd>
<p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>"none"</dt>
<dd>
<p>BLOCK_NONE</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htViolence</code></td>
<td>
<p>Safety setting threshold for violence harm. The default threshold is "meda". Valid options are as follows.
</p>

<dl>
<dt>"unsp"</dt>
<dd>
<p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>"lowa"</dt>
<dd>
<p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>"meda"</dt>
<dd>
<p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>"high"</dt>
<dd>
<p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>"none"</dt>
<dd>
<p>BLOCK_NONE</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htSexual</code></td>
<td>
<p>Safety setting threshold for sexual harm. The default threshold is "meda". Valid options are as follows.
</p>

<dl>
<dt>"unsp"</dt>
<dd>
<p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>"lowa"</dt>
<dd>
<p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>"meda"</dt>
<dd>
<p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>"high"</dt>
<dd>
<p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>"none"</dt>
<dd>
<p>BLOCK_NONE</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htMedical</code></td>
<td>
<p>Safety setting threshold for medical harm. The default threshold is "meda". Valid options are as follows.
</p>

<dl>
<dt>"unsp"</dt>
<dd>
<p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>"lowa"</dt>
<dd>
<p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>"meda"</dt>
<dd>
<p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>"high"</dt>
<dd>
<p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>"none"</dt>
<dd>
<p>BLOCK_NONE</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>htDangerous</code></td>
<td>
<p>Safety setting threshold for dangerous harm. The default threshold is "meda". Valid options are as follows.
</p>

<dl>
<dt>"unsp"</dt>
<dd>
<p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>"lowa"</dt>
<dd>
<p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>"meda"</dt>
<dd>
<p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>"high"</dt>
<dd>
<p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>"none"</dt>
<dd>
<p>BLOCK_NONE</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function interacts with the Google PaLM model by sending a query with grammatical issues using the specified parameters.
It allows you to customize the generated text by adjusting the 'temperature', 'maxOutputTokens', 'topP', 'topK', and safety settings.
</p>
<p>If the function is successful, it returns a character string containing the rewritten text with corrected grammar.
If an error occurs during the API request, it will stop execution and provide an error message.
</p>
<p>The 'model.parameter' argument should be a character vector with the API key, model version, and model type provided by
Google. You can obtain this information by following the instructions provided by Google for using the PaLM API.
</p>
<p>The safety settings control the content's safety level based on different harm categories. Harm thresholds are
specified as per Google's guidelines and can be customized to control the content generated.
</p>


<h3>Value</h3>

<p>A character string containing the rewritten text with corrected grammar, generated by the Google PaLM API
based on the provided query and parameters.
</p>


<h3>See Also</h3>

<p><a href="https://palmr.ly.gd.edu.kg/documentation/">PaLMr - Documentation</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/SafetySetting">Safety Setting - Google AI for Developers</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/HarmCategory">HarmCategory - Google AI for Developers</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Connect to the model, replace API_KEY with your api key
palm.model = palm.connect("v1beta2",
                          "API_KEY",
                          FALSE)

prompt = "Yesterday, I will buy a book for my younger sister as his birthday gift.
          They were very happen when seeing this gift earlier today."
correct.text = palm.txt.fix.grammar(palm.model,
                                    prompt)
cat(correct.text)

## End(Not run)

</code></pre>


</div>