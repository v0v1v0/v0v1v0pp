<div class="container">

<table style="width: 100%;"><tr>
<td>load_con</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Loads contact information into R.</h2>

<h3>Description</h3>

<p>Loads patient contact, insurance, and PCP information into the R environment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">load_con(
  file,
  merge_id = "EMPI",
  sep = ":",
  id_length = "standard",
  perc = 0.6,
  na = TRUE,
  identical = TRUE,
  nThread = parallel::detectCores() - 1,
  mrn_type = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>string, full file path to Con.txt.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>merge_id</code></td>
<td>
<p>string, column name to use to create <em>ID_MERGE</em> column used to merge different datasets. Defaults to <em>EPIC_PMRN</em>,
as it is the preferred MRN in the RPDR system.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>string, divider between hospital ID and MRN. Defaults to <em>:</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_length</code></td>
<td>
<p>string, indicating whether to modify MRN length based-on required values <em>id_length = standard</em>, or to keep lengths as is <em>id_length = asis</em>.
If <em>id_length = standard</em> then in case of <em>MGH, BWH, MCL, EMPI and PMRN</em> the length of the MRNs are corrected accordingly by adding zeros, or removing numeral from the beginning.
In other cases the lengths are unchanged. Defaults to <em>standard</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perc</code></td>
<td>
<p>numeric, a number between 0-1 indicating which parsed ID columns to keep. Data present in <em>perc x 100%</em> of patients are kept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na</code></td>
<td>
<p>boolean, whether to remove columns with only NA values. Defaults to <em>TRUE</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identical</code></td>
<td>
<p>boolean, whether to remove columns with identical values. Defaults to <em>TRUE</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nThread</code></td>
<td>
<p>integer, number of threads to use to load data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mrn_type</code></td>
<td>
<p>boolean, should data in <em>MRN_Type</em> and <em>MRN</em> be parsed. Defaults to <em>TURE</em> only for Con.txt, as it is not advised to parse these for all data sources as it takes considerable time.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data table, with contact information data.
</p>

<dl>
<dt>ID_MERGE</dt>
<dd>
<p>numeric, defined IDs by <em>merge_id</em>, used for merging later.</p>
</dd>
<dt>ID_con_EMPI</dt>
<dd>
<p>string, Unique Partners-wide identifier assigned to the patient used to consolidate patient information
from <em>con</em> datasource, corresponds to EMPI in RPDR. Data is formatted using pretty_mrn().</p>
</dd>
<dt>ID_con_PMRN</dt>
<dd>
<p>string, Epic medical record number. This value is unique across Epic instances within the Partners network
from <em>con</em>datasource, corresponds to EPIC_PMRN in RPDR. Data is formatted using pretty_mrn().</p>
</dd>
<dt>ID_con_loc</dt>
<dd>
<p>string, if mrn_type == TRUE, then the data in <em>MRN_Type</em> and <em>MRN</em> are parsed into IDs corresponding to locations <em>(loc)</em>. Data is formatted using pretty_mrn().</p>
</dd>
<dt>ID_con_loc_list</dt>
<dd>
<p>string, if prevalence of IDs in <em>Patient_ID_List</em> &gt; <em>perc</em>, then they are included in the output. Data is formatted using pretty_mrn().</p>
</dd>
<dt>name_last</dt>
<dd>
<p>string, Patient's last name, corresponds to Last_Name in RPDR.</p>
</dd>
<dt>name_first</dt>
<dd>
<p>string, Patient's first name, corresponds to First_Name in RPDR.</p>
</dd>
<dt>name_middle</dt>
<dd>
<p>string, Patient's middle name or initial, corresponds to Middle_Name in RPDR.</p>
</dd>
<dt>name_previous</dt>
<dd>
<p>string, Any alternate names on record for this patient, corresponds to Previous_Name in RPDR.</p>
</dd>
<dt>SSN</dt>
<dd>
<p>string, Social Security Number, corresponds to SSN in RPDR.</p>
</dd>
<dt>VIP</dt>
<dd>
<p>character, Special patient statuses as defined by the EMPI group, corresponds to VIP in RPDR.</p>
</dd>
<dt>address1</dt>
<dd>
<p>string, Patient's current address, corresponds to address1 in RPDR.</p>
</dd>
<dt>address2</dt>
<dd>
<p>string, Additional address information, corresponds to address2 in RPDR.</p>
</dd>
<dt>city</dt>
<dd>
<p>string, City of residence, corresponds to City in RPDR.</p>
</dd>
<dt>state</dt>
<dd>
<p>string, State of residence, corresponds to State in RPDR.</p>
</dd>
<dt>country_con</dt>
<dd>
<p>string, Country of residence from con datasource, corresponds to Country in RPDR.</p>
</dd>
<dt>zip_con</dt>
<dd>
<p>numeric, Mailing zip code of primary residence from con datasource, corresponds to Zip in RPDR. Formatted to 5 character zip codes using <em>pretty_numbers()</em>.</p>
</dd>
<dt>direct_contact_consent</dt>
<dd>
<p>boolean, Indicates whether the patient has given permission to contact them directly through the RODY program, corresponds to Direct_Contact_Consent in RPDR. Legacy variable.</p>
</dd>
<dt>research_invitations</dt>
<dd>
<p>boolean, Indicates if a patient can be invited to participate in research, corresponds to Research_Invitations in RPDR.</p>
</dd>
<dt>phone_home</dt>
<dd>
<p>number, Patient's home phone number, corresponds to Home_Phone in RPDR. Formatted to 10 digit phone numbers using <em>pretty_numbers()</em>.</p>
</dd>
<dt>phone_day</dt>
<dd>
<p>number, Phone number where the patient can be reached during the day, corresponds to Day_Phone in RPDR. Formatted to 10 digit phone numbers using <em>pretty_numbers()</em>.</p>
</dd>
<dt>insurance1</dt>
<dd>
<p>string, Patient's primary health insurance carrier and subscriber ID information, corresponds to Insurance_1 in RPDR.</p>
</dd>
<dt>insurance2</dt>
<dd>
<p>string, Patient's secondary health insurance carrier and subscriber ID information, if any, corresponds to Insurance_2 in RPDR.</p>
</dd>
<dt>insurance3</dt>
<dd>
<p>string, Patient's tertiary health insurance carrier and subscriber ID information, if any, corresponds to Insurance_3 in RPDR.</p>
</dd>
<dt>primary_care_physician</dt>
<dd>
<p>string, Comma-delimited list of all primary care providers on record for this patient per institution, along with contact information (if available),
corresponds to Primary_Care_Physician in RPDR.</p>
</dd>
<dt>primary_care_physician_resident</dt>
<dd>
<p>string, Comma-delimited list of any Resident primary care providers on record for this patient per institution, along with contact information (if available),
corresponds to Resident _Primary_Care_Physician in RPDR.</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#Using defaults
d_con &lt;- load_con(file = "test_Con.txt")

#Use sequential processing
d_con &lt;- load_con(file = "test_Con.txt", nThread = 1)

#Use parallel processing and parse data in
#MRN_Type and MRN columns (default in load_con) and keep all IDs
d_con &lt;- load_con(file = "test_Con.txt", nThread = 20, mrn_type = TRUE, perc = 1)

## End(Not run)
</code></pre>


</div>