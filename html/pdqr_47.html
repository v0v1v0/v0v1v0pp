<div class="container">

<table style="width: 100%;"><tr>
<td>pdqr_approx_error</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnose pdqr approximation</h2>

<h3>Description</h3>

<p><code>pdqr_approx_error()</code> computes errors that are results of 'pdqr'
approximation, which occurs because of possible tail trimming and assuming
piecewise linearity of density function in case of "continuous" type. For an
easy view summary, use summary().
</p>


<h3>Usage</h3>

<pre><code class="language-R">pdqr_approx_error(f, ref_f, ..., gran = 10, remove_infinity = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>A p-, d-, or q-function to diagnose. Usually the output of one of
<code>as_p()</code>, <code>as_d()</code>, or <code>as_q()</code> default methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_f</code></td>
<td>
<p>A "true" distribution function of the same class
as <code>f</code>. Usually the input to the aforementioned <code style="white-space: pre;">⁠as_*()⁠</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to <code>ref_f</code>. If they were supplied to <code style="white-space: pre;">⁠as_*()⁠</code>
function, then the exact same values must be supplied here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gran</code></td>
<td>
<p>Degree of grid "granularity" in case of "continuous" type: number
of subintervals to be produced inside every interval of density linearity.
Should be not less than 1 (indicator that original column from
"x_tbl" will be used, see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_infinity</code></td>
<td>
<p>Whether to remove rows corresponding to infinite
error.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Errors are computed as difference between "true" value (output of
<code>ref_f</code>) and output of pdqr-function <code>f</code>. They are computed at "granulated"
<code>gran</code> times grid (which is an "x" column of "x_tbl" in case <code>f</code> is p- or
d-function and "cumprob" column if q-function). They are usually negative
because of possible tail trimming of reference distribution.
</p>
<p><strong>Notes</strong>:
</p>

<ul>
<li> <p><code>gran</code> argument for "discrete" type is always 1.
</p>
</li>
<li>
<p> Quantile pdqr approximation of "discrete" distribution with infinite
tale(s) can result into "all one" summary of error. This is expected output
and is because test grid is chosen to be quantiles of pdqr-distribution which
due to renormalization can differ by one from reference ones. For example:
<code>summary(pdqr_approx_error(as_p(ppois, lambda = 10), ppois, lambda = 10))</code>.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A data frame with the following columns:
</p>

<ul>
<li> <p><strong>grid</strong> <code style="white-space: pre;">⁠&lt;dbl&gt;⁠</code> : A grid at which errors are computed.
</p>
</li>
<li> <p><strong>error</strong> <code style="white-space: pre;">⁠&lt;dbl&gt;⁠</code> : Errors which are computed as <code>ref_f(grid, ...) - f(grid)</code>.
</p>
</li>
<li> <p><strong>abserror</strong> <code style="white-space: pre;">⁠&lt;dbl&gt;⁠</code> : Absolute value of "error" column.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>enpoint()</code> for representing pdqr-function as a set of points with
desirable number of rows.
</p>


<h3>Examples</h3>

<pre><code class="language-R">d_norm &lt;- as_d(dnorm)
error_norm &lt;- pdqr_approx_error(d_norm, dnorm)
summary(error_norm)

# Setting `gran` results into different number of rows in output
error_norm_2 &lt;- pdqr_approx_error(d_norm, dnorm, gran = 1)
nrow(meta_x_tbl(d_norm)) == nrow(error_norm_2)

# By default infinity errors are removed
d_beta &lt;- as_d(dbeta, shape1 = 0.3, shape2 = 0.7)
error_beta_1 &lt;- pdqr_approx_error(d_beta, dbeta, shape1 = 0.3, shape2 = 0.7)
summary(error_beta_1)

# To not remove them, set `remove_infinity` to `FALSE`
error_beta_2 &lt;- pdqr_approx_error(
  d_beta, dbeta, shape1 = 0.3, shape2 = 0.7, remove_infinity = FALSE
)
summary(error_beta_2)
</code></pre>


</div>