<div class="container">

<table style="width: 100%;"><tr>
<td>PRIMEplus.Power</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Power</h2>

<h3>Description</h3>

<p>Compute the power using LRT Re-randomization test                   
</p>


<h3>Usage</h3>

<pre><code class="language-R"> 
PRIMEplus.Power(nmax=500, rand_ratio=0.5, effect_p=0.6, 
    enroll_rate=380*0.25/6, lambda1=0.117, HR=0.5, tau=12*5, t1=1, 
    maxiter=100000, stopTol=1e-4, alpha=0.05, num_rand=1000, nsim=10000, 
    print=0, min.sample.size=50, min.n.event=5, min.per.trt=0.25)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nmax</code></td>
<td>
<p>Sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rand_ratio</code></td>
<td>
<p>Probability of assignment to treatment arm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effect_p</code></td>
<td>
<p>Vector for proportion of responders in the treatment arm at baseline (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enroll_rate</code></td>
<td>
<p>Enrollment rate in subjects per month</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda1</code></td>
<td>
<p>Baseline hazard in terms of months</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HR</code></td>
<td>
<p>Vector of hazard ratios for responders against controls (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>Total study duration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t1</code></td>
<td>
<p>Delayed duration in months</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>Maximum number of iterations in the EM algorithm. The default is 100000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stopTol</code></td>
<td>
<p>Stopping tolerance in the EM algorithm. The default is 1e-4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Significance level. The default is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_rand</code></td>
<td>
<p>The number of replications in the re-randomization test. The default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>The number of simulations. The default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>0 or 1 to print information. The default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.sample.size</code></td>
<td>
<p>Minimum sample size. The default is 50.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.n.event</code></td>
<td>
<p>Minimum number of events. The default is 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.per.trt</code></td>
<td>
<p>Minimum proportion of controls and treated subjects. The default is 0.25.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The length and order of <code>effect_p</code> must be the same as <code>HR</code>. Both of these vectors
should contain information only for the groups of responders. For example, if there are
full responders and partial responders, then <code>effect_p</code> and <code>HR</code> would be vectors 
of length two.
</p>
<p>For each simulation, a simulated data set is created from the 
<code>generate_data</code> function and then an estimated p-value is computed 
by calling <code>PRIMEplus.ReRand.LRT</code>.
The power is calculated as the proportion of iterations whose estimated p-value
was less than or equal to <code>alpha</code>.
</p>


<h3>Value</h3>

<p> A list containing the power and the number of simulated datasets used
in the calculation.
</p>


<h3>Author(s)</h3>

<p>Zhenzhen Xu &lt;Zhenzhen.Xu@fda.hhs.gov&gt;, Yongsoek Park &lt;yongpark@pitt.edu&gt; and Bin Zhu &lt;bin.zhu@nih.gov&gt;
</p>


<h3>See Also</h3>

 <p><code>PRIMEplus.ReRand.LRT</code> </p>


</div>