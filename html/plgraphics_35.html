<div class="container">

<table style="width: 100%;"><tr>
<td>genvarattributes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate or Set Variable Attributes for Plotting
</h2>

<h3>Description</h3>

<p><code>genvarattributes</code> generates attributes of variables that are
useful for the <code>plgraphics</code> functions.
It is called by <code>pl.control</code>.<br><code>setvarattributes</code> modifies or sets such attributes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">genvarattributes(data, vnames = NULL, vcol = NULL, vlty = NULL, vpch = NULL,
  varlabel = NULL, innerrange = NULL, plscale = NULL, zeroline = NULL, 
  replace=FALSE, ploptions = NULL, ...)

setvarattributes(data, attributes = NULL, list = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame consisting of the variables (columns) to be
characterized by their attributes
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vnames</code></td>
<td>
<p>names of variables to be treated as y variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcol, vlty, vpch</code></td>
<td>
<p>color, line type and plotting character
to be used when multiple y-s are plotted (in the sense of
<code>matplot</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varlabel</code></td>
<td>
<p>labels of the variables, in the case that the
<code>names</code> of <code>data</code> are not appropriate.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>innerrange</code></td>
<td>
<p>logical indicating whether inner plotting ranges
should be determined and/or used.
May also be the limits of the inner plotting range, if
predetermined, see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plscale</code></td>
<td>
<p>plot scale: name of the function to be used for
generating a plotting scale, like <code>"log"</code>.
A named character vector can be given, where the names correspond
to variable names in <code>data</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroline</code></td>
<td>
<p>value(s) for which a horizontal or vertical line will be
drawn (in addition to the gridlines). The default is given by
<code>ploptions("zeroline")</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ploptions</code></td>
<td>
<p>list containing the plotting elements
needed to set the attributes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>logical: should existing attributes be replaced?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attributes</code></td>
<td>
<p>(for <code>setvarattributes</code>) is a list of lists.
Its names identify the variables for which the attributes are
set or modified. Each component is a list which is added to the
existing attributes of the respective variable or replaces them if
they already exist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list</code></td>
<td>
<p>a list of attributes to be set.
Each component must have a name giving the name of the variable
attribute to be set, and be itself a list (or a vector).
This list must have names that identify the variables in 
<code>data</code> for which the attributes are set.
See examples to understand this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments, which will be collected and used as or
added to <code>list</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the attribute <code>innerrange</code> is replaced, then <code>plcoord</code> is
also replaced.
</p>
<p><code>innerrange</code> may be a named list of ranges with names
corresponding to variables (not necessarily all of them),
or a scalar vector of length 2 to be used as range for all the
variables. 
It can also be a logical vector superseding the argument
<code>innerrange</code>, either named (as just mentioned) or
unnamed, to be repeated the appropriate number of times.
</p>


<h3>Value</h3>

<p>Data.frame, returning the original values, but the variables are
supplemented by the following <code>attributes</code>, where available:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>nvalues</code></td>
<td>
<p>number of distinct values
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>innerrange</code></td>
<td>
<p>inner plotting range
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plcoord</code></td>
<td>
<p>plotting coordinates
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ticksat</code></td>
<td>
<p>tick marks for axis
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varlabel</code></td>
<td>
<p>label to be used as axis label
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroline</code></td>
<td>
<p>value(s) for which a horizontal or vertical line will be
drawn (in addition to the gridlines)
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Werner A. Stahel
</p>


<h3>See Also</h3>

<p><code>par</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(d.blast)
dd &lt;- genvarattributes(d.blast)
str(attributes(dd$tremor))

ddd &lt;- setvarattributes(dd, list( tremor=list(ticksat=seq(0,24,2),
  ticklabelsat = seq(0,24,10), ticklabels=c("low","medium","high")) ) )
str(attributes(ddd$tremor))

data(d.river)
plyx(O2+H2CO3+T ~ date, data=d.river, subset=as.Date(date)&lt;as.Date("2010-02-28"))
dd &lt;- setvarattributes(d.river,
  list=list(vcol=c(O2="blue", T="red")), vpch=c(O2=1, T="T", H2CO3=5) )
attributes(dd$O2)
plyx(O2+H2CO3+T ~ date, data=d.river, subset=as.Date(date)&lt;as.Date("2010-02-28"),
  plscale = c(O2="log", H2CO3="log") )
</code></pre>


</div>