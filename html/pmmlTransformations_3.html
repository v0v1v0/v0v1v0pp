<div class="container">

<table style="width: 100%;"><tr>
<td>FunctionXform</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a function transformation to a WrapData object.</h2>

<h3>Description</h3>

<p>Add a function transformation to a WrapData object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FunctionXform(boxdata, origFieldName, newFieldName = "newField",
  newFieldDataType = "numeric", formulaText, mapMissingTo = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>boxdata</code></td>
<td>
<p>wrapper object obtained by using the WrapData function on raw data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origFieldName</code></td>
<td>
<p>string specifying name(s) of the original data field(s) being used in the transformation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newFieldName</code></td>
<td>
<p>name of the new field created by the transformation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newFieldDataType</code></td>
<td>
<p>data type of the new field created by the transformation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formulaText</code></td>
<td>
<p>string expression specifying the transformation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapMissingTo</code></td>
<td>
<p>value to be given to the transformed variable if the value of any input variable is missing</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calculate the expression provided 
in formulaText for every row in the <code>boxdata$data</code> 
data frame. The <code>formulaText</code> argument must represent 
a valid R expression, and any functions used in 
<code>formulaText</code> must be defined in the current 
environment.
</p>
<p>The name of the new field is optional (a default name is provided), but an error 
will be thrown if attempting to create a field with a name that already exists in 
the WrapData object.
</p>


<h3>Value</h3>

<p>R object containing the raw data, the transformed data and data statistics. 
The <code>data</code> data frame will contain a new <code>newFieldName</code> column, and 
<code>fieldData</code> will contain a new <code>newFieldName</code> row.
</p>


<h3>Author(s)</h3>

<p>Dmitriy Bolotov
</p>


<h3>See Also</h3>

<p><code>WrapData</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load the standard iris dataset
data(iris)

# Wrap the data
irisBox &lt;- WrapData(iris)

# Perform a transform on the Sepal.Length field: 
# the value is squared and then divided by 100
irisBox &lt;- FunctionXform(irisBox,origFieldName="Sepal.Length",
                         newFieldName="Sepal.Length.Transformed",
                         formulaText="(Sepal.Length^2)/100")

# Combine two fields to create another new feature:                      
irisBox &lt;- FunctionXform(irisBox,
                         origFieldName="Sepal.Width, Petal.Width",
                         newFieldName="Width.Sum",
                         formulaText="Sepal.Width + Sepal.Length")
                         
# Create linear model using the derived features
fit &lt;- lm(Petal.Length ~ 
         Sepal.Length.Transformed + Width.Sum, data=irisBox$data)

# Create pmml from the fit
# library(pmml)
# fit_pmml &lt;- pmml(fit, transform=irisBox)
</code></pre>


</div>