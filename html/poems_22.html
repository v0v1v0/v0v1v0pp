<div class="container">

<table style="width: 100%;"><tr>
<td>Region</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R6 class representing a study region.</h2>

<h3>Description</h3>

<p><code>R6</code> class representing a study region of spatial grid cells
defined via a list of longitude/latitude cell coordinates (WGS84), or a
<em>RasterLayer</em> object (see <code>raster</code>).
</p>


<h3>Super class</h3>

<p><code>poems::GenericClass</code> -&gt; <code>Region</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>attached</code></dt>
<dd>
<p>A list of dynamically attached attributes (name-value pairs).</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>coordinates</code></dt>
<dd>
<p>Data frame (or matrix) of X-Y population (WGS84) coordinates in longitude (degrees West) and latitude (degrees North) (get and set), or distance-based coordinates dynamically returned by region raster (get only).</p>
</dd>
<dt><code>region_raster</code></dt>
<dd>
<p>A <em>RasterLayer</em> object (see <code>raster</code>) defining the region with finite values (NAs elsewhere).</p>
</dd>
<dt><code>use_raster</code></dt>
<dd>
<p>Boolean to indicate that a raster is to be used to define the region (default TRUE).</p>
</dd>
<dt><code>strict_consistency</code></dt>
<dd>
<p>Boolean to indicate that, as well as resolution, extent and CRS, consistency checks also ensure that a raster's finite/occupiable cells are the same or a subset of those defined by the region (default TRUE).</p>
</dd>
<dt><code>region_cells</code></dt>
<dd>
<p>Dynamically calculated number of region coordinates or raster cells with finite/non-NA values.</p>
</dd>
<dt><code>region_indices</code></dt>
<dd>
<p>Dynamically calculated region indices for raster cells with finite/non-NA values (all if not a raster).</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Region-new"><code>Region$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Region-raster_is_consistent"><code>Region$raster_is_consistent()</code></a>
</p>
</li>
<li> <p><a href="#method-Region-raster_from_values"><code>Region$raster_from_values()</code></a>
</p>
</li>
<li> <p><a href="#method-Region-clone"><code>Region$clone()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericClass" data-id="new_clone"><a href="../../poems/html/GenericClass.html#method-GenericClass-new_clone"><code>poems::GenericClass$new_clone()</code></a></span></li>
</ul></details><hr>
<a id="method-Region-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialization method sets coordinates or raster for region.
</p>


<h5>Usage</h5>

<div class="r"><pre>Region$new(
  coordinates = NULL,
  template_raster = NULL,
  region_raster = NULL,
  use_raster = TRUE,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>coordinates</code></dt>
<dd>
<p>Data frame (or matrix) of X-Y coordinates (WGS84) in longitude (degrees West) and latitude (degrees North).</p>
</dd>
<dt><code>template_raster</code></dt>
<dd>
<p>A <em>RasterLayer</em> object (see <code>raster</code>) defining the region with example finite values (NAs elsewhere)</p>
</dd>
<dt><code>region_raster</code></dt>
<dd>
<p>A <em>RasterLayer</em> object (see <code>raster</code>) defining the region with finite cell indices (NAs elsewhere).</p>
</dd>
<dt><code>use_raster</code></dt>
<dd>
<p>Boolean to indicate that a raster is to be used to define the region (default TRUE).</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional parameters passed individually.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Region-raster_is_consistent"></a>



<h4>Method <code>raster_is_consistent()</code>
</h4>

<p>Returns a boolean to indicate if a raster is consistent with the region raster (matching extent, resolution, and finite/NA cells).
</p>


<h5>Usage</h5>

<div class="r"><pre>Region$raster_is_consistent(check_raster)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>check_raster</code></dt>
<dd>
<p>A <em>RasterLayer</em>, <em>RasterStack</em> or <em>RasterBrick</em> object (see <code>raster</code>) to check for consistency with the region raster.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>Boolean to indicate if the raster is consistent with the region raster.
</p>


<hr>
<a id="method-Region-raster_from_values"></a>



<h4>Method <code>raster_from_values()</code>
</h4>

<p>Converts an array (or matrix) of values into a raster (or stack) consistent with the region raster (matching extent, resolution, and finite/NA cells).
</p>


<h5>Usage</h5>

<div class="r"><pre>Region$raster_from_values(values)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>values</code></dt>
<dd>
<p>An array (or matrix) of values to be placed in the raster (or stack) having dimensions consistent with the region cell number.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A <em>RasterLayer</em> (or <em>RasterStack/Brick</em>) object consistent with the region raster.
</p>


<hr>
<a id="method-Region-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Region$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R"># U Island example region
coordinates &lt;- data.frame(
  x = rep(seq(177.01, 177.05, 0.01), 5),
  y = rep(seq(-18.01, -18.05, -0.01), each = 5)
)
template_raster &lt;- Region$new(coordinates = coordinates)$region_raster # full extent
template_raster[][-c(7, 9, 12, 14, 17:19)] &lt;- NA # make U Island
region &lt;- Region$new(template_raster = template_raster)
raster::plot(region$region_raster,
  main = "Example region (cell indices)",
  xlab = "Longitude (degrees)", ylab = "Latitude (degrees)",
  colNA = "blue"
)
region$region_cells
region$coordinates
# Generate value layers
value_brick &lt;- region$raster_from_values(array(8:28, c(7, 3)))
raster::plot(value_brick,
  main = "Example value layers",
  xlab = "Longitude (degrees)", ylab = "Latitude (degrees)",
  colNA = "blue"
)
value_brick[region$region_indices]

</code></pre>


</div>