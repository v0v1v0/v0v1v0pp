<div class="container">

<table style="width: 100%;"><tr>
<td>placebo_test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>placebo_test</h2>

<h3>Description</h3>

<p>Calculates results for a placebo test
</p>


<h3>Usage</h3>

<pre><code class="language-R">placebo_test(
  pm.obj,
  data,
  lag.in = NULL,
  number.iterations = 1000,
  confidence.level = 0.95,
  plot = FALSE,
  se.method = "bootstrap",
  parallel = FALSE,
  num.cores = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pm.obj</code></td>
<td>
<p>an object of class <code>PanelMatch</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame with the original data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag.in</code></td>
<td>
<p>integer indicating earliest the time period(s) in the future for which the placebo test change in outcome will be calculated. Calculations will be made over the period t - max(lag) to t-2, where t is the time of treatment. The results are similar to those returned by PanelEstimate(), except t-1 is used as the period of comparison, rather than the lead window. If not specified, the placebo test is conducted for periods from t - max(lag) to t-2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number.iterations</code></td>
<td>
<p>integer specifying the number of bootstrap iterations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confidence.level</code></td>
<td>
<p>confidence level for the calculated standard error intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical indicating whether or not a plot should be generated, or just return the raw data from the calculations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.method</code></td>
<td>
<p>character string describing the type of standard error to be used. Valid inputs include "bootstrap", "conditional" and "unconditional". When the QOI is ATE, only bootstrap can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Logical. If TRUE and <code>se.method = ``bootstrap''</code>, bootstrap procedure will be parallelized. Default is FALSE. If <code>se.method</code> is not set to <code>bootstrap</code>, this option does nothing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num.cores</code></td>
<td>
<p>Integer. Specifies the number of cores to use for parallelization. If <code>se.method = ``bootstrap''</code> and <code>parallel = TRUE</code>, then this option will take effect. Otherwise, it will do nothing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>extra arguments to be passed to plot()</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calculate the results of a placebo test, looking at the change in outcome at time = t-1, compared to other pre-treatment periods in the lag window.
</p>


<h3>Value</h3>

<p>list with 2 or 3 elements: "estimates", which contains the point estimates for the test, "standard.errors" which has the standard errors for each period and optionally "bootstrapped.estimates", containing the bootstrapped point estimates for the test for each specified lag window period.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dem.sub &lt;- dem[dem[, "wbcode2"] &lt;= 100, ]
# create subset of data for simplicity
PM.results &lt;- PanelMatch(lag = 4, time.id = "year", unit.id = "wbcode2",
                         treatment = "dem", refinement.method = "mahalanobis",
                         data = dem.sub, match.missing = TRUE,
                         covs.formula = ~ tradewb,
                         size.match = 5, qoi = "att",
                         outcome.var = "y", lead = 0:4, forbid.treatment.reversal = FALSE,
                         placebo.test = TRUE)
placebo_test(PM.results, data = dem.sub, se.method = "unconditional", plot = FALSE)


</code></pre>


</div>