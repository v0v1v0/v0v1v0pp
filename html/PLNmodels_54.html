<div class="container">

<table style="width: 100%;"><tr>
<td>PLN_param</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Control of a PLN fit</h2>

<h3>Description</h3>

<p>Helper to define list of parameters to control the PLN fit. All arguments have defaults.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PLN_param(
  backend = c("nlopt", "torch"),
  trace = 1,
  covariance = c("full", "diagonal", "spherical", "fixed"),
  Omega = NULL,
  config_post = list(),
  config_optim = list(),
  inception = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>backend</code></td>
<td>
<p>optimization back used, either "nlopt" or "torch". Default is "nlopt"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>
<p>a integer for verbosity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariance</code></td>
<td>
<p>character setting the model for the covariance matrix. Either "full", "diagonal", "spherical" or "fixed". Default is "full".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Omega</code></td>
<td>
<p>precision matrix of the latent variables. Inverse of Sigma. Must be specified if <code>covariance</code> is "fixed"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config_post</code></td>
<td>
<p>a list for controlling the post-treatments (optional bootstrap, jackknife, R2, etc.). See details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>config_optim</code></td>
<td>
<p>a list for controlling the optimizer (either "nlopt" or "torch" backend). See details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inception</code></td>
<td>
<p>Set up the parameters initialization: by default, the model is initialized with a multivariate linear model applied on
log-transformed data, and with the same formula as the one provided by the user. However, the user can provide a PLNfit (typically obtained from a previous fit),
which sometimes speeds up the inference.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The list of parameters <code>config_optim</code> controls the optimizers. When "nlopt" is chosen the following entries are relevant
</p>

<ul>
<li>
<p> "algorithm" the optimization method used by NLOPT among LD type, e.g. "CCSAQ", "MMA", "LBFGS". See NLOPT documentation for further details. Default is "CCSAQ".
</p>
</li>
<li>
<p> "maxeval" stop when the number of iteration exceeds maxeval. Default is 10000
</p>
</li>
<li>
<p> "ftol_rel" stop when an optimization step changes the objective function by less than ftol multiplied by the absolute value of the parameter. Default is 1e-8
</p>
</li>
<li>
<p> "xtol_rel" stop when an optimization step changes every parameters by less than xtol multiplied by the absolute value of the parameter. Default is 1e-6
</p>
</li>
<li>
<p> "ftol_abs" stop when an optimization step changes the objective function by less than ftol_abs. Default is 0.0 (disabled)
</p>
</li>
<li>
<p> "xtol_abs" stop when an optimization step changes every parameters by less than xtol_abs. Default is 0.0 (disabled)
</p>
</li>
<li>
<p> "maxtime" stop when the optimization time (in seconds) exceeds maxtime. Default is -1 (disabled)
</p>
</li>
</ul>
<p>When "torch" backend is used (only for PLN and PLNLDA for now), the following entries are relevant:
</p>

<ul>
<li>
<p> "algorithm" the optimizer used by torch among RPROP (default), RMSPROP, ADAM and ADAGRAD
</p>
</li>
<li>
<p> "maxeval" stop when the number of iteration exceeds maxeval. Default is 10 000
</p>
</li>
<li>
<p> "numepoch" stop training once this number of epochs exceeds numepoch. Set to -1 to enable infinite training. Default is 1 000
</p>
</li>
<li>
<p> "num_batch" number of batches to use during training. Defaults to 1 (use full dataset at each epoch)
</p>
</li>
<li>
<p> "ftol_rel" stop when an optimization step changes the objective function by less than ftol multiplied by the absolute value of the parameter. Default is 1e-8
</p>
</li>
<li>
<p> "xtol_rel" stop when an optimization step changes every parameters by less than xtol multiplied by the absolute value of the parameter. Default is 1e-6
</p>
</li>
<li>
<p> "lr" learning rate. Default is 0.1.
</p>
</li>
<li>
<p> "momentum" momentum factor. Default is 0 (no momentum). Only used in RMSPROP
</p>
</li>
<li>
<p> "weight_decay" Weight decay penalty. Default is 0 (no decay). Not used in RPROP
</p>
</li>
<li>
<p> "step_sizes" pair of minimal (default: 1e-6) and maximal (default: 50) allowed step sizes. Only used in RPROP
</p>
</li>
<li>
<p> "etas" pair of multiplicative increase and decrease factors. Default is (0.5, 1.2). Only used in RPROP
</p>
</li>
<li>
<p> "centered" if TRUE, compute the centered RMSProp where the gradient is normalized by an estimation of its variance weight_decay (L2 penalty). Default to FALSE. Only used in RMSPROP
</p>
</li>
</ul>
<p>The list of parameters <code>config_post</code> controls the post-treatment processing (for most <code style="white-space: pre;">⁠PLN*()⁠</code> functions), with the following entries (defaults may vary depending on the specific function, check <code style="white-space: pre;">⁠config_post_default_*⁠</code> for defaults values):
</p>

<ul>
<li>
<p> jackknife boolean indicating whether jackknife should be performed to evaluate bias and variance of the model parameters. Default is FALSE.
</p>
</li>
<li>
<p> bootstrap integer indicating the number of bootstrap resamples generated to evaluate the variance of the model parameters. Default is 0 (inactivated).
</p>
</li>
<li>
<p> variational_var boolean indicating whether variational Fisher information matrix should be computed to estimate the variance of the model parameters (highly underestimated). Default is FALSE.
</p>
</li>
<li>
<p> sandwich_var boolean indicating whether sandwich estimation should be used to estimate the variance of the model parameters (highly underestimated). Default is FALSE.
</p>
</li>
<li>
<p> rsquared boolean indicating whether approximation of R2 based on deviance should be computed. Default is TRUE
</p>
</li>
</ul>
<h3>Value</h3>

<p>list of parameters configuring the fit.
</p>


</div>