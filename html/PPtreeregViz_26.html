<div class="container">

<table style="width: 100%;"><tr>
<td>waterfallplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Waterfall plot</h2>

<h3>Description</h3>

<p>waterfall plot for <code>PPKernelSHAP</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">waterfallplot(
  PPTreeregOBJ,
  testObs,
  final.rule = 5,
  method = "simple",
  final.leaf = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>PPTreeregOBJ</code></td>
<td>
<p>PPTreereg class object - a model to be explained</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>testObs</code></td>
<td>
<p>test data observation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final.rule</code></td>
<td>
<p>final rule to assign numerical values in the final nodes.
1: mean value in the final nodes
2: median value in the final nodes
3: using optimal projection
4: using all independent variables
5: using several significant independent variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>simple or empirical method to calculate <code>PPKernelSHAP</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final.leaf</code></td>
<td>
<p>location of final leaf</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Waterfall plot is mainly used to explain individual predictions,
and is suitable for showing an explanation when a single piece of data is
entered as an input using <code>PPKernelSHAP</code> values.
</p>


<h3>Value</h3>

<p>An object of the class <code>ggplot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(dataXY)
testX &lt;- dataXY[1,-1]
Model &lt;- PPTreereg(Y~., data = dataXY, DEPTH = 2)
waterfallplot(Model, testX, final.rule =5, method="simple")


</code></pre>


</div>