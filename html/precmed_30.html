<div class="container">

<table style="width: 100%;"><tr>
<td>drsurv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Doubly robust estimator of the average treatment effect with Cox model for survival data</h2>

<h3>Description</h3>

<p>Doubly robust estimator of the average treatment effect between two treatments, which is the restricted mean time lost (RMTL) ratio
of treatment 1 over treatment 0 for survival outcomes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">drsurv(
  y,
  d,
  x.cate,
  x.ps,
  x.ipcw,
  trt,
  yf = NULL,
  tau0,
  surv.min = 0.025,
  ps.method = "glm",
  minPS = 0.01,
  maxPS = 0.99,
  ipcw.method = "breslow"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Observed survival or censoring time; vector of size <code>n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>The event indicator, normally <code>1 = event, 0 = censored</code>; vector of size <code>n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.cate</code></td>
<td>
<p>Matrix of <code>p.cate</code> baseline covariates specified in the outcome model; dimension <code>n</code> by <code>p.cate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.ps</code></td>
<td>
<p>Matrix of <code>p.ps</code> baseline covariates specified in the propensity score model; dimension <code>n</code> by <code>p.ps</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.ipcw</code></td>
<td>
<p>Matrix of <code>p.ipw</code> baseline covariate specified in inverse probability of censoring weighting; dimension <code>n</code> by <code>p.ipw</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trt</code></td>
<td>
<p>Treatment received; vector of size <code>n</code> with treatment coded as 0/1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yf</code></td>
<td>
<p>Follow-up time, interpreted as the potential censoring time; vector of size <code>n</code> if the potential censoring time is known.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau0</code></td>
<td>
<p>The truncation time for defining restricted mean time lost.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>surv.min</code></td>
<td>
<p>Lower truncation limit for probability of being censored (positive and very close to 0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ps.method</code></td>
<td>
<p>A character value for the method to estimate the propensity score. Allowed values include one of:
<code>'glm'</code> for logistic regression with main effects only (default), or
<code>'lasso'</code> for a logistic regression with main effects and LASSO penalization on
two-way interactions (added to the model if interactions are not specified in <code>ps.model</code>).
Relevant only when <code>ps.model</code> has more than one variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minPS</code></td>
<td>
<p>A numerical value (in '[0, 1]') below which estimated propensity scores should be
truncated. Default is <code>0.01</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxPS</code></td>
<td>
<p>A numerical value (in '(0, 1]') above which estimated propensity scores should be
truncated. Must be strictly greater than <code>minPS</code>. Default is <code>0.99</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ipcw.method</code></td>
<td>
<p>The censoring model. Allowed values are: <code>'breslow'</code> (Cox regression with Breslow estimator of the baseline survivor function),
<code>'aft (exponential)'</code>, <code>'aft (weibull)'</code>, <code>'aft (lognormal)'</code> or <code>'aft (loglogistic)'</code>. Default is <code>'breslow'</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Return a list of 4 elements:
</p>

<ul>
<li>
<p><code>rmst1</code>:  A numeric value of the estimated restricted mean survival time n the group <code>trt = 1</code>.
</p>
</li>
<li>
<p><code>rmst0</code>:  A numeric value of the estimated restricted mean survival time n the group <code>trt = 0</code>.
</p>
</li>
<li>
<p><code>log.rmtl.ratio</code>:  A numeric value of the estimated log rmtl ratio.
</p>
</li>
<li>
<p><code>log.hazard.ratio</code>:  A numeric value of the estimated log hazard ratio.
</p>
</li>
</ul>
</div>