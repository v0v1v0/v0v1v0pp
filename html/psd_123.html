<div class="container">

<table style="width: 100%;"><tr>
<td>tapers-refinement</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Taper constraints using simple derivatives</h2>

<h3>Description</h3>

<p>Taper constraints using simple derivatives
</p>


<h3>Usage</h3>

<pre><code class="language-R">ctap_simple(tapvec, ...)

## S3 method for class 'tapers'
ctap_simple(tapvec, ...)

## Default S3 method:
ctap_simple(tapvec, maxslope = 1L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tapvec</code></td>
<td>
<p>integer or <code>'tapers'</code> object; the number of tapers at each frequency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxslope</code></td>
<td>
<p>integer; constrain based on this maximum first difference</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>A.J. Barbour
</p>


<h3>See Also</h3>

<p><code>constrain_tapers</code>, <code>ctap_loess</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# generate some random taper series and constrain them based on slopes
set.seed(1237)
n &lt;- 11
x &lt;- seq_len(n)
xn &lt;- round(runif(n,1,n))

xnf &lt;- ctap_simple(xn, 0) # flattens out
xnc &lt;- ctap_simple(xn, 1) # no change, already only slopes = 1
try(all.equal(xnc, xn))
xnc2 &lt;- ctap_simple(xn, 2) # slopes = 2 only

plot(xn, type='b', pch=16, ylim=c(0,12))
grid()
abline(a=0,b=1, col='red', lty=3); abline(a=0,b=2, col='blue', lty=3)
lines(xnf, type='b', col='green')
lines(xnc, type='b', col='red')
lines(xnc2, type='b', col='blue')
lines(0.2+as.vector(psd::ctap_simple(psd::as.tapers(xn))), type='b', pch=".", col='salmon')

# more examples:
</code></pre>


</div>