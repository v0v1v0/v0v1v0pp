<div class="container">

<table style="width: 100%;"><tr>
<td>AddProbDup</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add probable duplicate sets fields to the PGR passport database</h2>

<h3>Description</h3>

<p><code>AddProbDup</code> adds the fuzzy, phonetic and semantic probable duplicates 
sets data fields from an object of class <code>ProbDup</code> to the original PGR 
passport database.
</p>


<h3>Usage</h3>

<pre><code class="language-R">AddProbDup(pdup, db, addto = c("I", "II"), max.count = 30)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pdup</code></td>
<td>
<p>An object of class <code>ProbDup</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>A data frame of the PGR passport database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addto</code></td>
<td>
<p>Either <code>"I"</code> or <code>"II"</code> indicating the database to 
which the data.fields are to be added (see <strong>Details</strong>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.count</code></td>
<td>
<p>The maximum count of probable duplicate sets whose 
information is to be retrieved.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function helps to add information associated with identified fuzzy, 
phonetic and semantic probable duplicate sets using the 
<code>ProbDup</code> function to the original PGR passport database.
Associated data fields such as <code>SET_NO</code>, <code>ID</code> and <code>IDKW</code> are 
added based on the <code>PRIM_ID</code> field(column).
</p>
<p>In case more than one KWIC index was used to generate the object of class 
<code>ProbDup</code>, the argument <code>addto</code> can be used to specify to which 
database the data fields are to be added. The default <code>"I"</code> indicates 
the database from which the first KWIC index was created and <code>"II"</code> 
indicates the database from which the second index was created.
</p>


<h3>Value</h3>

<p>A data frame of the PGR passport database with the probable duplicate
sets fields added.
</p>


<h3>Note</h3>

<p>When any primary ID/key records in the fuzzy, phonetic or semantic 
duplicate sets are found to be missing from the original database 
<code>db</code>, then they are ignored and only the matching records are 
considered for adding the information with a warning.
</p>
<p>This may be due to data standardization of the primary ID/key field using 
the function <code>DataClean</code> before creation of the KWIC 
index and subsequent identification of probable duplicate sets. In such a 
case, it is recommended to use an identical data standardization operation 
on the database <code>db</code> before running this function.
</p>


<h3>See Also</h3>

<p><code>DataClean</code>, <code>KWIC</code>,
<code>ProbDup</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">


## Not run: 

#' # Load PGR passport database
GN &lt;- GN1000

# Specify as a vector the database fields to be used
GNfields &lt;- c("NationalID", "CollNo", "DonorID", "OtherID1", "OtherID2")

# Clean the data
GN[GNfields] &lt;- lapply(GN[GNfields], function(x) DataClean(x))
y1 &lt;- list(c("Gujarat", "Dwarf"), c("Castle", "Cary"), c("Small", "Japan"),
c("Big", "Japan"), c("Mani", "Blanco"), c("Uganda", "Erect"),
c("Mota", "Company"))
y2 &lt;- c("Dark", "Light", "Small", "Improved", "Punjab", "SAM")
y3 &lt;- c("Local", "Bold", "Cary", "Mutant", "Runner", "Giant", "No.",
        "Bunch", "Peanut")
GN[GNfields] &lt;- lapply(GN[GNfields], function(x) MergeKW(x, y1, delim = c("space", "dash")))
GN[GNfields] &lt;- lapply(GN[GNfields], function(x) MergePrefix(x, y2, delim = c("space", "dash")))
GN[GNfields] &lt;- lapply(GN[GNfields], function(x) MergeSuffix(x, y3, delim = c("space", "dash")))

# Generate KWIC index
GNKWIC &lt;- KWIC(GN, GNfields)

# Specify the exceptions as a vector
exep &lt;- c("A", "B", "BIG", "BOLD", "BUNCH", "C", "COMPANY", "CULTURE", 
         "DARK", "E", "EARLY", "EC", "ERECT", "EXOTIC", "FLESH", "GROUNDNUT", 
         "GUTHUKAI", "IMPROVED", "K", "KUTHUKADAL", "KUTHUKAI", "LARGE", 
         "LIGHT", "LOCAL", "OF", "OVERO", "P", "PEANUT", "PURPLE", "R", 
         "RED", "RUNNER", "S1", "SAM", "SMALL", "SPANISH", "TAN", "TYPE", 
         "U", "VALENCIA", "VIRGINIA", "WHITE")
          
# Specify the synsets as a list
syn &lt;- list(c("CHANDRA", "AH114"), c("TG1", "VIKRAM"))

# Fetch probable duplicate sets
GNdup &lt;- ProbDup(kwic1 = GNKWIC, method = "a", excep = exep, fuzzy = TRUE,
                 phonetic = TRUE, encoding = "primary", 
                 semantic = TRUE, syn = syn)

# Add the duplicates sets to the original database                 
GNwithdup &lt;-  AddProbDup(pdup = GNdup, db = GN1000, addto = "I")                  


## End(Not run)



</code></pre>


</div>