<div class="container">

<table style="width: 100%;"><tr>
<td>info_columns</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add information that focuses on aspects of a data table's columns</h2>

<h3>Description</h3>

<p>Upon creation of an <em>informant</em> object (with the <code>create_informant()</code>
function), there are two sections containing properties: (1) 'table' and (2)
'columns'. The 'columns' section is initialized with the table's column names
and their types (as <code style="white-space: pre;">⁠_type⁠</code>). Beyond that, it is useful to provide details
about the nature of each column and we can do that with the <code>info_columns()</code>
function. A single column (or multiple columns) is targeted, and then a
series of named arguments (in the form <code>entry_name = "The *info text*."</code>)
serves as additional information for the column or columns.
</p>


<h3>Usage</h3>

<pre><code class="language-R">info_columns(x, columns, ..., .add = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><em>The pointblank informant object</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;ptblank_informant&gt;⁠</code> // <strong>required</strong>
</p>
<p>A <strong>pointblank</strong> <em>informant</em> object that is commonly created through the
use of the <code>create_informant()</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p><em>The target columns</em>
</p>
<p><code style="white-space: pre;">⁠vector&lt;character&gt;|vars(&lt;columns&gt;)⁠</code> // <strong>required</strong>
</p>
<p>The column or set of columns to focus on. Can be defined as a column name
in quotes (e.g., <code>"&lt;column_name&gt;"</code>), one or more column names in <code>vars()</code>
(e.g., <code style="white-space: pre;">⁠vars(&lt;column_name&gt;)⁠</code>), or with a select helper (e.g.,
<code>starts_with("date")</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p><em>Information entries</em>
</p>
<p><code style="white-space: pre;">⁠&lt;info-text expressions&gt;⁠</code> // <strong>required</strong>
</p>
<p>Information entries as a series of named arguments. The names refer to
subsection titles within <code>COLUMN</code> -&gt; <code style="white-space: pre;">⁠&lt;COLUMN_NAME&gt;⁠</code> and the RHS contains
the <em>info text</em> (informational text that can be written as Markdown and
further styled with <em>Text Tricks</em>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.add</code></td>
<td>
<p><em>Add to existing info text</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should new text be added to existing text? This is <code>TRUE</code> by default;
setting to <code>FALSE</code> replaces any existing text for a property.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ptblank_informant</code> object.
</p>


<h3>Info Text</h3>

<p>The <em>info text</em> that's used for any of the <code style="white-space: pre;">⁠info_*()⁠</code> functions readily
accepts Markdown formatting, and, there are a few <em>Text Tricks</em> that can be
used to spice up the presentation. Markdown links written as <code style="white-space: pre;">⁠&lt; link url &gt;⁠</code>
or <code style="white-space: pre;">⁠[ link text ]( link url )⁠</code> will get nicely-styled links. Any dates
expressed in the ISO-8601 standard with parentheses, <code>"(2004-12-01)"</code>, will
be styled with a font variation (monospaced) and underlined in purple. Spans
of text can be converted to label-style text by using: (1) double parentheses
around text for a rectangular border as in <code style="white-space: pre;">⁠((label text))⁠</code>, or (2) triple
parentheses around text for a rounded-rectangular border like <code style="white-space: pre;">⁠(((label text)))⁠</code>.
</p>
<p>CSS style rules can be applied to spans of <em>info text</em> with the following
form:
</p>
<p><code style="white-space: pre;">⁠[[ info text ]]&lt;&lt; CSS style rules &gt;&gt;⁠</code>
</p>
<p>As an example of this in practice suppose you'd like to change the color of
some text to red and make the font appear somewhat thinner. A variation on
the following might be used:
</p>
<p><code>"This is a [[factor]]&lt;&lt;color: red; font-weight: 300;&gt;&gt; value."</code>
</p>
<p>The are quite a few CSS style rules that can be used to great effect. Here
are a few you might like:
</p>

<ul>
<li> <p><code style="white-space: pre;">⁠color: &lt;a color value&gt;;⁠</code> (text color)
</p>
</li>
<li> <p><code style="white-space: pre;">⁠background-color: &lt;a color value&gt;;⁠</code> (the text's background color)
</p>
</li>
<li> <p><code>text-decoration: (overline | line-through | underline);</code>
</p>
</li>
<li> <p><code>text-transform: (uppercase | lowercase | capitalize);</code>
</p>
</li>
<li> <p><code style="white-space: pre;">⁠letter-spacing: &lt;a +/- length value&gt;;⁠</code>
</p>
</li>
<li> <p><code style="white-space: pre;">⁠word-spacing: &lt;a +/- length value&gt;;⁠</code>
</p>
</li>
<li> <p><code>font-style: (normal | italic | oblique);</code>
</p>
</li>
<li> <p><code>font-weight: (normal | bold | 100-900);</code>
</p>
</li>
<li> <p><code>font-variant: (normal | bold | 100-900);</code>
</p>
</li>
<li> <p><code style="white-space: pre;">⁠border: &lt;a color value&gt; &lt;a length value&gt; (solid | dashed | dotted);⁠</code>
</p>
</li>
</ul>
<p>In the above examples, 'length value' refers to a CSS length which can be
expressed in different units of measure (e.g., <code style="white-space: pre;">⁠12px⁠</code>, <code style="white-space: pre;">⁠1em⁠</code>, etc.). Some
lengths can be expressed as positive or negative values (e.g., for
<code>letter-spacing</code>). Color values can be expressed in a few ways, the most
common being in the form of hexadecimal color values or as CSS color names.
</p>


<h3>YAML</h3>

<p>A <strong>pointblank</strong> informant can be written to YAML with <code>yaml_write()</code> and the
resulting YAML can be used to regenerate an informant (with
<code>yaml_read_informant()</code>) or perform the 'incorporate' action using the target
table (via <code>yaml_informant_incorporate()</code>). The way that information on table
columns is represented in YAML works like this: <em>info text</em> goes into
subsections of YAML keys named for the columns, which are themselves part of
the top-level <code>columns</code> key. Here is an example of how several calls of
<code>info_columns()</code> are expressed in R code and how the result corresponds to
the YAML representation.
</p>
<div class="sourceCode"><pre># R statement
informant %&gt;% 
  info_columns(
    columns = date_time,
    info = "*info text* 1."
  ) %&gt;%
  info_columns(
    columns = date,
    info = "*info text* 2."
  ) %&gt;%
  info_columns(
    columns = item_count,
    info = "*info text* 3. Statistics: {snippet_1}."
  ) %&gt;%
  info_columns(
    columns = c(date, date_time),
    info = "UTC time."
  )

# YAML representation
columns:
  date_time:
    _type: POSIXct, POSIXt
    info: '*info text* 1. UTC time.'
  date:
    _type: Date
    info: '*info text* 2. UTC time.'
  item_count:
    _type: integer
    info: '*info text* 3. Statistics: {snippet_1}.'
</pre></div>
<p>Subsections represented as column names are automatically generated when
creating an informant. Within these, there can be multiple subsections used
for holding <em>info text</em> on each column. The subsections used across the
different columns needn't be the same either, the only commonality that
should be enforced is the presence of the <code style="white-space: pre;">⁠_type⁠</code> key (automatically updated
at every <code>incorporate()</code> invocation).
</p>
<p>It's safest to use single quotation marks around any <em>info text</em> if directly
editing it in a YAML file. Note that Markdown formatting and <em>info snippet</em>
placeholders (shown here as <code>{snippet_1}</code>, see <code>info_snippet()</code> for more
information) are preserved in the YAML. The Markdown to HTML conversion is
done when printing an informant (or invoking <code>get_informant_report()</code> on an
<em>informant</em>) and the processing of snippets (generation and insertion) is
done when using the <code>incorporate()</code> function. Thus, the source text is always
maintained in the YAML representation and is never written in processed form.
</p>


<h3>Examples</h3>

<p>Create a pointblank <code>informant</code> object with <code>create_informant()</code>. We can
specify a <code>tbl</code> with the <code>~</code> followed by a statement that gets the
<code>small_table</code> dataset.
</p>
<div class="sourceCode r"><pre>informant &lt;- 
  create_informant(
    tbl = ~ small_table,
    tbl_name = "small_table",
    label = "An example."
  )
</pre></div>
<p>We can add <em>info text</em> to describe the table with the various <code style="white-space: pre;">⁠info_*()⁠</code>
functions. In this example, we'll use <code>info_columns()</code> multiple times to
describe some of the columns in the <code>small_table</code> dataset. Note here that
<em>info text</em> calls are additive to the existing content inside of the
various subsections (i.e., the text will be appended and won't overwrite
existing if it lands in the same area).
</p>
<div class="sourceCode r"><pre>informant &lt;-
  informant %&gt;%
  info_columns(
    columns = a,
    info = "In the range of 1 to 10. ((SIMPLE))"
  ) %&gt;%
  info_columns(
    columns = starts_with("date"),
    info = "Time-based values (e.g., `Sys.time()`)."
  ) %&gt;%
  info_columns(
    columns = date,
    info = "The date part of `date_time`. ((CALC))"
  )
</pre></div>
<p>Upon printing the <code>informant</code> object, we see the additions made to the
'Columns' section.
</p>
<div class="sourceCode r"><pre>informant
</pre></div>


<img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_info_columns_1.png" alt="This image was generated from the first code example in the `info_columns()` help file." style="width:100%;"><h3>Function ID</h3>

<p>3-2
</p>


<h3>See Also</h3>

<p>Other Information Functions: 
<code>info_columns_from_tbl()</code>,
<code>info_section()</code>,
<code>info_snippet()</code>,
<code>info_tabular()</code>,
<code>snip_highest()</code>,
<code>snip_list()</code>,
<code>snip_lowest()</code>,
<code>snip_stats()</code>
</p>


</div>