<div class="container">

<table style="width: 100%;"><tr>
<td>info_columns_from_tbl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add column information from another data table</h2>

<h3>Description</h3>

<p>The <code>info_columns_from_tbl()</code> function is a wrapper around the
<code>info_columns()</code> function and is useful if you wish to apply <em>info text</em> to
columns where that information already exists in a data frame (or in some
form that can readily be coaxed into a data frame). The form of the input
<code>tbl</code> (the one that contains column metadata) has a few basic requirements:
</p>

<ul>
<li>
<p> the data frame must have two columns
</p>
</li>
<li>
<p> both columns must be of class <code>character</code>
</p>
</li>
<li>
<p> the first column should contain column names and the second should contain
the <em>info text</em>
</p>
</li>
</ul>
<p>Each column that matches across tables (i.e., the <code>tbl</code> and the target table
of the informant) will have a new entry for the <code>"info"</code> property. Empty or
missing info text will be pruned from <code>tbl</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">info_columns_from_tbl(x, tbl, .add = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><em>The pointblank informant object</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;ptblank_informant&gt;⁠</code> // <strong>required</strong>
</p>
<p>A <strong>pointblank</strong> <em>informant</em> object that is commonly created through the
use of the <code>create_informant()</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tbl</code></td>
<td>
<p><em>Metadata table with column information</em>
</p>
<p><code style="white-space: pre;">⁠obj:&lt;tbl_*&gt;⁠</code> // <strong>required</strong>
</p>
<p>The two-column data frame which contains metadata about the target table in
the informant object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.add</code></td>
<td>
<p><em>Add to existing info text</em>
</p>
<p><code style="white-space: pre;">⁠scalar&lt;logical&gt;⁠</code> // <em>default:</em> <code>TRUE</code>
</p>
<p>Should new text be added to existing text? This is <code>TRUE</code> by default;
setting to <code>FALSE</code> replaces any existing text for the <code>"info"</code> property.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ptblank_informant</code> object.
</p>


<h3>Examples</h3>

<p>Create a pointblank <code>informant</code> object with <code>create_informant()</code>. We can
specify a <code>tbl</code> with the <code>~</code> followed by a statement that gets the
<code>game_revenue</code> dataset.
</p>
<div class="sourceCode r"><pre>informant &lt;- 
  create_informant(
    tbl = ~ game_revenue,
    tbl_name = "game_revenue",
    label = "An example."
  )
</pre></div>
<p>We can add <em>info text</em> to describe the data in the various columns of the
table by using <code>info_columns()</code> or information in another table (with
<code>info_columns_from_tbl()</code>). Here, we'll do the latter. The
<code>game_revenue_info</code> dataset is included in <strong>pointblank</strong> and it contains
metadata for <code>game_revenue</code>.
</p>
<div class="sourceCode r"><pre>game_revenue_info
#&gt; # A tibble: 11 x 2
#&gt;    column           info                                                        
#&gt;    &lt;chr&gt;            &lt;chr&gt;                                                       
#&gt;  1 player_id        A `character` column with unique identifiers for each user/~
#&gt;  2 session_id       A `character` column that contains unique identifiers for e~
#&gt;  3 session_start    A date-time column that indicates when the session (contain~
#&gt;  4 time             A date-time column that indicates exactly when the player p~
#&gt;  5 item_type        A `character` column that provides the class of the item pu~
#&gt;  6 item_name        A `character` column that provides the name of the item pur~
#&gt;  7 item_revenue     A `numeric` column with the revenue amounts per item purcha~
#&gt;  8 session_duration A `numeric` column that states the length of the session (i~
#&gt;  9 start_day        A `Date` column that provides the date of first login for t~
#&gt; 10 acquisition      A `character` column that provides the method of acquisitio~
#&gt; 11 country          A `character` column that provides the probable country of ~
</pre></div>
<p>The <code>info_columns_from_tbl()</code> function takes a table object where the first
column has the column names and the second contains the <em>info text</em>.
</p>
<div class="sourceCode r"><pre>informant &lt;-
  informant %&gt;%
  info_columns_from_tbl(tbl = game_revenue_info)
</pre></div>
<p>Upon printing the <code>informant</code> object, we see the additions made to the
'Columns' section by the <code>info_columns_from_tbl(tbl = game_revenue_info)</code>
call.
</p>
<div class="sourceCode r"><pre>informant
</pre></div>


<img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_info_columns_from_tbl_1.png" alt="This image was generated from the first code example in the `info_columns_from_tbl()` help file." style="width:100%;"><p>We can continue to add more <em>info text</em> to describe the columns since the
process is additive. The <code>info_columns_from_tbl()</code> function populates the
<code>info</code> subsection and any calls of <code>info_columns()</code> that also target a <code>info</code>
subsection will append text. Here, we'll add content for the <code>item_revenue</code>
and <code>acquisition</code> columns and view the updated report.
</p>
<div class="sourceCode r"><pre>informant &lt;-
  informant %&gt;%
  info_columns(
    columns = item_revenue,
    info = "Revenue reported in USD."
  ) %&gt;%
  info_columns(
    columns = acquisition,
    `top list` = "{top5_aq}"
  ) %&gt;%
  info_snippet(
    snippet_name = "top5_aq",
    fn = snip_list(column = "acquisition")
  ) %&gt;%
  incorporate()

informant
</pre></div>


<img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_info_columns_from_tbl_2.png" alt="This image was generated from the second code example in the `info_columns_from_tbl()` help file." style="width:100%;"><h3>Function ID</h3>

<p>3-3
</p>


<h3>See Also</h3>

<p>The <code>info_columns()</code> function, which allows for manual entry of
<em>info text</em>.
</p>
<p>Other Information Functions: 
<code>info_columns()</code>,
<code>info_section()</code>,
<code>info_snippet()</code>,
<code>info_tabular()</code>,
<code>snip_highest()</code>,
<code>snip_list()</code>,
<code>snip_lowest()</code>,
<code>snip_stats()</code>
</p>


</div>