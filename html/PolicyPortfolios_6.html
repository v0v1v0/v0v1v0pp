<div class="container">

<table style="width: 100%;"><tr>
<td>diversity_aid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate portfolio diversity (Average Instrument Diversity)</h2>

<h3>Description</h3>

<p>Function used to calculate the diversity of a portfolio (Average Instrument Diversity, AID).
It is adapted from the idea of a Gini-Simpson diversity index.
The measure can be interpreted as the average probability that picking two
policy spaces from different Targets, they use a different Instrument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">diversity_aid(M)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>Matrix with two dimensions (Instrument, Target) containing absence (0) or presence (1) of policy intervention.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A value of the portfolio diversity.
</p>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">
\forall_{t=1..T},  \forall_{i=1..I} \sum_{c=1}^{C} \frac{c_{t,i} = c_{!t,!i}}{C}
</code>
</p>

<p>where:
</p>
<p>T are the targets covered by at least one policy instrument
I are the instruments addressing at least one policy target
C are the entirety of target-instrument-constellations
</p>
<p>It is applied only to matrices, not to tidy objects in a proper policy portfolio.
For a proper treatment using tidy data, use it through pp_measures().
</p>


<h3>References</h3>

<p>Fernández-i-Marín, X., Knill, C. &amp; Steinebach, Y. (2021). Studying Policy Design Quality in Comparative Perspective. _American Political Science Review_, online first.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(consensus)
consensus %&gt;%
  filter(Sector == "Environmental") %&gt;%
  filter(Country %in% c("France", "United States")) %&gt;%
  filter(Year %in% c(1976, 2005)) %&gt;%
  pp_array() %&gt;%
  apply(., c(1, 2, 3), diversity_aid) %&gt;%
  as.vector() %&gt;%
  round(digits = 3)
# 1976 (FR, US), 2005 (FR, US)
</code></pre>


</div>