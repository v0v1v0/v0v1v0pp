<div class="container">

<table style="width: 100%;"><tr>
<td>pump_sample_raw</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculating Needed Sample Size for Raw (Unadjusted) Power</h2>

<h3>Description</h3>

<p>This is a helper function for getting a needed Sample Size when no
adjustments has been made to the test statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pump_sample_raw(
  d_m,
  MTP,
  typesample,
  MDES,
  nbar = NULL,
  J = NULL,
  K = NULL,
  target.power,
  Tbar,
  alpha = 0.05,
  two.tailed,
  numCovar.1 = 0,
  numCovar.2 = 0,
  numCovar.3 = 0,
  R2.1,
  R2.2 = NULL,
  R2.3 = NULL,
  ICC.2 = NULL,
  ICC.3 = NULL,
  omega.2 = NULL,
  omega.3 = NULL,
  max.steps = 100,
  warn.small = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>d_m</code></td>
<td>
<p>string; a single context, which is a design and model
code. See pump_info() for list of choices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MTP</code></td>
<td>
<p>string, or vector of strings; multiple testing
procedure(s). See pump_info() for list of choices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typesample</code></td>
<td>
<p>type of sample size to calculate: J, K, or nbar</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MDES</code></td>
<td>
<p>scalar or vector; the desired MDES values for each
outcome. Please provide a scalar, a vector of length M, or vector
of values for non-zero outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbar</code></td>
<td>
<p>scalar; the harmonic mean of the number of level 1
units per level 2 unit (students per school). Note that this is
not the total number of level 1 units, but instead the number of
level 1 units nested within each level 2 unit, so the total
number of level 1 units is nbar x J x K.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>scalar; the harmonic mean of number of level 2 units per
level 3 unit (schools per district). Note that this is not the
total number of level 2 units, but instead the number of level 2
units nested within each level 3 unit, so the total number of
level 2 units is J x K.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>scalar; the number of level 3 units (districts).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target.power</code></td>
<td>
<p>target power to arrive at</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tbar</code></td>
<td>
<p>scalar; the proportion of samples that are assigned to
the treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>scalar; the family wise error rate (FWER).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>two.tailed</code></td>
<td>
<p>scalar; TRUE/FALSE for two-tailed or one-tailed
power calculation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numCovar.1</code></td>
<td>
<p>scalar; number of level 1 (individual)
covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numCovar.2</code></td>
<td>
<p>scalar; number of level 2 (school) covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numCovar.3</code></td>
<td>
<p>scalar; number of level 3 (district) covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R2.1</code></td>
<td>
<p>scalar, or vector of length M; percent of variation
explained by level 1 covariates for each outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R2.2</code></td>
<td>
<p>scalar, or vector of length M; percent of variation
explained by level 2 covariates for each outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R2.3</code></td>
<td>
<p>scalar, or vector of length M; percent of variation
explained by level 3 covariates for each outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC.2</code></td>
<td>
<p>scalar, or vector of length M; level 2 (school)
intraclass correlation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC.3</code></td>
<td>
<p>scalar, or vector length M; level 3 (district)
intraclass correlation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega.2</code></td>
<td>
<p>scalar, or vector of length M; ratio of variance of
level 2 average impacts to variance of level 2 random intercepts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega.3</code></td>
<td>
<p>scalar, or vector of length M; ratio of variance of
level 3 average impacts to variance of level 3 random intercepts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.steps</code></td>
<td>
<p>how many steps allowed before terminating</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn.small</code></td>
<td>
<p>Warn if degrees of freedom issues are causing inability to
achieve target power for sample size.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is for a single, individual outcome.  It only takes scalar values for all
its arguments, and does not have an M argument (for number of outcomes).
</p>
<p>It requires iteration because we do not know the degrees of freedom, and so
we guess and then calculate sample size, and then recalculate df based on
sample size, until we converge.
</p>
<p>It is possible that the returned sample size will be the minimum sample size
required to have at least 1 degree of freedom (even if this provides higher
than target level power).
</p>


<h3>Value</h3>

<p>Requisite sample size (as integer) and associated degrees of freedom.
</p>


</div>