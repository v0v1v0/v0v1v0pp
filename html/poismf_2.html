<div class="container">

<table style="width: 100%;"><tr>
<td>factors.single</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get latent factors for a new user given her item counts</h2>

<h3>Description</h3>

<p>This is similar to obtaining topics for a document in LDA. See also
function factors for getting factors for multiple users/rows at
a time.
</p>
<p>This function works with one user at a time, and will use the
TNCG solver regardless of how the model was fit.
Note that, since this optimization method may have
different optimal hyperparameters than the other methods, it
offers the option of varying those hyperparameters in here.
</p>


<h3>Usage</h3>

<pre><code class="language-R">factors.single(
  model,
  X,
  l2_reg = model$l2_reg,
  l1_reg = model$l1_reg,
  weight_mult = model$weight_mult,
  maxupd = max(1000L, model$maxupd)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Poisson factorization model as returned by 'poismf'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Data with the non-zero item indices and counts for this new user. Can be
passed as a sparse vector from package 'Matrix' ('Matrix::dsparseVector', which can
be created from indices and values through function 'Matrix::sparseVector'), or
as a 'data.frame', in which case will take the first column as the item/column indices
(numeration starting at 1) and the second column as the counts. If 'X' passed to
'poismf' was a 'data.frame', 'X' here must also be a 'data.frame'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l2_reg</code></td>
<td>
<p>Strength of L2 regularization to use for optimizing the new factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l1_reg</code></td>
<td>
<p>Strength of the L1 regularization. Not recommended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight_mult</code></td>
<td>
<p>Weight multiplier for the positive entries over the missing entries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxupd</code></td>
<td>
<p>Maximum number of TNCG updates to perform. You might want to
increase this value depending on the use-case.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The factors are initialized to the mean of each column in the fitted model.
</p>


<h3>Value</h3>

<p>Vector of dimensionality 'model$k' with the latent factors for the user,
given the input data.
</p>


<h3>See Also</h3>

<p>factors topN.new
</p>


</div>