<div class="container">

<table style="width: 100%;"><tr>
<td>PrepareLibrary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>function PrepareLibrary</h2>

<h3>Description</h3>

<p>Define the Genomic Ranges and Genomic Positions covered by the AmpliSeq™ Panel to include in the study and define SNP positions to exclude from the study.
Trimming amplicon ends is performed if specified. This function is mostly useful if you want to add some SNP positions which are not existing in the
positions_ranges.rda file provided within the package. It is provided to be able to reconstruct <code>positions_ranges.rda</code> data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PrepareLibrary(info.dir = "Info/", bed.filename = "lungcolonV2.bed.txt",
  snp.filename = "ExAC.r0.3.sites.vep.vcf.gz",
  snp.extra = c("chr2:212812097", "chr4:1807909", "chr7:140481511",
  "chr14:105246474", "chr18:48586344", "chr19:1223055"),
  output.name = "positions_ranges.rda", output.dir = info.dir,
  load.from.broad.insitute = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>info.dir, </code></td>
<td>
<p>char, name of the folder containing the library information files (default 'Info/')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bed.filename, </code></td>
<td>
<p>char, name of a BED table (tab-delimited) describing the Panel (with first 3 columns: "chr" (ex:chr1), "start position" (ex:115252190), "end position" (ex:115252305), i.e. the Ion AmpliSeq™ Colon and Lung Cancer Research Panel v2 (default 'lungcolonV2.bed.txt' as provided in the inst/extdata/Info folder of the package).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>snp.filename, </code></td>
<td>
<p>char, name of the vcf file describing known SNP positions, obtained from ftp://ftp.broadinstitute.org/pub/ExAC_release/release0.3/ExAC.r0.3.sites.vep.vcf.gz (default 'ExAC.r0.3.sites.vep.vcf.gz'). It requires a corresponding TBI file to be in the same folder (obtained from ftp://ftp.broadinstitute.org/pub/ExAC_release/release0.3/ExAC.r0.3.sites.vep.vcf.gz.tbi)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>snp.extra, </code></td>
<td>
<p>a vector of char, a vector of extra known snp positions manually curated (ex:"chrN:XXXXXXXXX")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.name, </code></td>
<td>
<p>char, filename to save <code>pos_ind</code> and <code>pos_snp</code> (default 'positions_ranges.rda')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.dir, </code></td>
<td>
<p>char, directory where to save <code>pos_ind</code> and <code>pos_snp</code> (default <code>info.dir</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>load.from.broad.insitute, </code></td>
<td>
<p>boolean, if TRUE load <code>snp.filename</code> from Broad Institute ftp server otherwise use the file positions_ranges_broad.rda (default FALSE)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Save the following variables in a .rda file defined by <code>output.name</code> in the folder defined by <code>output.dir</code>:
</p>

<ul>
<li> <p><code>pos_ranges</code>, a GRanges descriptor of amplicon positions
</p>
</li>
<li> <p><code>pos_ind</code>, a vector of char "chrN:XXXXXXXXX", defining ALL index positions
</p>
</li>
<li> <p><code>pos_snp</code>, a vector of char "chrN:XXXXXXXXX", defining SNP positions
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>N. Pécuchet, P. Laurent-Puig and Y. Rozenholc
</p>


<h3>References</h3>

<p><em>Analysis of base-position error rate of next-generation sequencing to detect tumor mutations in circulating DNA</em> N. Pécuchet, Y. Rozenholc, E. Zonta, D. Pietraz, A. Didelot, P. Combe, L. Gibault, J-B. Bachet, V. Taly, E. Fabre, H. Blons, P. Laurent-Puig in <em>Clinical Chemistry</em>
</p>


<h3>See Also</h3>

<p>positions_ranges,
</p>


<h3>Examples</h3>

<pre><code class="language-R">   bad.pos = "chr7:15478"
   PrepareLibrary(info.dir='./',snp.extra=bad.pos,output.dir=paste0(tempdir(),'/'))


</code></pre>


</div>