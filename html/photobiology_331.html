<div class="container">

<table style="width: 100%;"><tr>
<td>e_fluence</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Energy fluence</h2>

<h3>Description</h3>

<p>Energy fluence for one or more wavebands of a light source spectrum and a
duration of the exposure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">e_fluence(
  spct,
  w.band,
  exposure.time,
  scale.factor,
  wb.trim,
  use.cached.mult,
  use.hinges,
  allow.scaled,
  ...
)

## Default S3 method:
e_fluence(
  spct,
  w.band,
  exposure.time,
  scale.factor,
  wb.trim,
  use.cached.mult,
  use.hinges,
  allow.scaled,
  ...
)

## S3 method for class 'source_spct'
e_fluence(
  spct,
  w.band = NULL,
  exposure.time,
  scale.factor = 1,
  wb.trim = getOption("photobiology.waveband.trim", default = TRUE),
  use.cached.mult = getOption("photobiology.use.cached.mult", default = FALSE),
  use.hinges = NULL,
  allow.scaled = FALSE,
  naming = "default",
  ...
)

## S3 method for class 'source_mspct'
e_fluence(
  spct,
  w.band = NULL,
  exposure.time,
  scale.factor = 1,
  wb.trim = getOption("photobiology.waveband.trim", default = TRUE),
  use.cached.mult = getOption("photobiology.use.cached.mult", default = FALSE),
  use.hinges = NULL,
  allow.scaled = FALSE,
  ...,
  attr2tb = NULL,
  idx = "spct.idx",
  .parallel = FALSE,
  .paropts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>spct</code></td>
<td>
<p>an R object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.band</code></td>
<td>
<p>a list of <code>waveband</code> objects or a <code>waveband</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure.time</code></td>
<td>
<p>lubridate::duration object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.factor</code></td>
<td>
<p>numeric vector of length 1, or length equal to that of
<code>w.band</code>. Numeric multiplier applied to returned values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wb.trim</code></td>
<td>
<p>logical if TRUE wavebands crossing spectral data boundaries
are trimmed, if FALSE, they are discarded</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.cached.mult</code></td>
<td>
<p>logical indicating whether multiplier values should be
cached between calls</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.hinges</code></td>
<td>
<p>logical Flag indicating whether to insert "hinges" into the
spectral data before integration so as to reduce interpolation errors at
the boundaries of the wavebands.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow.scaled</code></td>
<td>
<p>logical indicating whether scaled or normalized spectra
as argument to spct are flagged as an error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments (possibly ignored)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>naming</code></td>
<td>
<p>character one of "long", "default", "short" or "none". Used to
select the type of names to assign to returned value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attr2tb</code></td>
<td>
<p>character vector, see <code>add_attr2tb</code> for the syntax for <code>attr2tb</code> passed as is to formal parameter <code>col.names</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idx</code></td>
<td>
<p>character Name of the column with the names of the members of the
collection of spectra.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.parallel</code></td>
<td>
<p>if TRUE, apply function in parallel, using parallel backend
provided by foreach</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.paropts</code></td>
<td>
<p>a list of additional options passed into the foreach function
when parallel computation is enabled. This is important if (for example)
your code relies on external data or packages: use the .export and
.packages arguments to supply them so that all cluster nodes have the
correct environment set up for computing.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>One numeric value for each waveband with no change in scale factor,
with name attribute set to the name of each waveband unless a named list is
supplied in which case the names of the list elements are used. The
exposure.time is copied to the output as an attribute. Units are as
follows: (J) joules per exposure.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>e_fluence(default)</code>: Default for generic function
</p>
</li>
<li> <p><code>e_fluence(source_spct)</code>: Calculate energy fluence from a <code>source_spct</code>
object and the duration of the exposure.
</p>
</li>
<li> <p><code>e_fluence(source_mspct)</code>: Calculates energy fluence from a <code>source_mspct</code>
object.
</p>
</li>
</ul>
<h3>Note</h3>

<p>The last two parameters control speed optimizations. The defaults
should be suitable in most cases. If you will use repeatedly the same SWFs
on many spectra measured at exactly the same wavelengths you may obtain
some speed up by setting <code>use.cached.mult=TRUE</code>. However, be aware
that you are responsible for ensuring that the wavelengths are the same in
each call, as the only test done is for the length of the <code>w.length</code>
vector.
</p>


<h3>See Also</h3>

<p>Other irradiance functions: 
<code>e_irrad()</code>,
<code>fluence()</code>,
<code>irrad()</code>,
<code>q_fluence()</code>,
<code>q_irrad()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(lubridate)
e_fluence(sun.spct, w.band = waveband(c(400,700)),
          exposure.time = lubridate::duration(3, "minutes") )

</code></pre>


</div>