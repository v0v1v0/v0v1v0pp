<div class="container">

<table style="width: 100%;"><tr>
<td>Pipe</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a Pipe object that stores a value and allows command chaining with <code>$</code>.</h2>

<h3>Description</h3>

<p>Create a Pipe object that stores a value and allows command chaining with <code>$</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Pipe(value = NULL)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>value to pipe (default is <code>NULL</code>)</p>
</td>
</tr></table>
<h3>Details</h3>

<p><code>Pipe()</code> function creates a Pipe object that provides object-like command
chaining mechanism, which avoids using external operator and can be cleaner than
operator-based pipline.
</p>
<p><code>Pipe()</code> creates a Pipe object that allows using <code>$</code> to perform
first-argument piping, call <code>.()</code> to evaluate an expression with <code>.</code>
or symbol defined by lambda expression, for side effect, or simply extract an
element from the stored value. <code>$value</code> or <code>[]</code> ends a pipeline and
extracts its final value.
</p>
<p>The functionality of Pipe object fully covers that of the pipe operator <code>%&gt;&gt;%</code>
and provides more features. For example, Pipe object supports directly subsetting
<code>$value</code> by <code>[...]</code>, extracting element by <code>[[...]]</code>, and assigning value
by <code>$item &lt;-</code>, <code>[...] &lt;-</code>, and <code>[[...]] &lt;-</code>.
</p>
<p>A typical usage of Pipe object is to start with <code>Pipe()</code> and end with
<code>$value</code> or <code>[]</code>.
</p>
<p><code>print()</code> and <code>str()</code> are implemented for <code>Pipe</code> object.
Use <code>header = FALSE</code> to suppress Pipe header message in printed results.
Use <code>options(Pipe.header = FASLE)</code> to suppress it globally.
</p>
<p>If the Pipe object is used in more than one pipelines, a recommended usage is to name the
object specially so that it is easy to distinguish the Pipe object from the value it
stores. For example, it can start with <code>p</code>.
</p>


<h3>Value</h3>

<p>Pipe object
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Pipe as first-argument using $
Pipe(rnorm(100))$mean()
Pipe(rnorm(100))$plot(col="red")

# Extract the value from the Pipe object using []
Pipe(rnorm(100))$c(4,5) []

# Pipe to an exrepssion with . or symbol defined in
# lambda expression to represent the object
Pipe(rnorm(100))$.(1 + .) []
Pipe(rnorm(100))$.(x ~ 1 + x) []

# Pipe for side effect
Pipe(rnorm(100))$
  .(~ cat("number:",length(.),"\n"))$
  summary()

Pipe(rnorm(100))$
  .(~ x ~ cat("number:",length(x),"\n"))$
  summary()

# Assignment
Pipe(rnorm(100))$
  .(~ x)$
  mean()

Pipe(rnorm(100))$
  .(~ x &lt;- length(.))$
  mean()

Pipe(rnorm(100))%
  .(x &lt;- c(min(.),max(.)))$
  mean()

# Extract element with \code{.(name)}
Pipe(mtcars)$lm(formula = mpg ~ cyl + wt)$.(coefficients)

# Command chaining
Pipe(rnorm(100,mean=10))$
  log()$
  diff()$
  plot(col="red")

Pipe(rnorm(100))$
  density(kernel = "rect")$
  plot(col = "blue")

# Store an continue piping
pipe1 &lt;- Pipe(rnorm(100,mean=10))$log()$diff()
pipe1$plot(col="red")

# Subsetting, extracting, and assigning

p &lt;- Pipe(list(a=1,b=2))
p["a"]
p[["a"]]
p$a &lt;- 2
p["b"] &lt;- NULL
p[["a"]] &lt;- 3
p[length(.)] # . = p$value

# Data manipulation with dplyr
library(dplyr)
Pipe(mtcars)$
  select(mpg,cyl,disp,hp)$
  filter(mpg &lt;= median(mpg))$
  mutate(rmpg = mpg / max(mpg))$
  group_by(cyl)$
  do(data.frame(mean=mean(.$rmpg),median=median(.$rmpg))) []

# Graphics with ggvis
library(ggvis)
Pipe(mtcars)$
  ggvis(~ mpg, ~ wt)$
  layer_points()

# Data manipulation with rlist
library(rlist)
Pipe(list(1,2,3))$
  list.map(. + 1)$
  list.filter(. &lt;= 5)$
  list.sort(.) []

# Lazy evaluation
p1 &lt;- Pipe(mtcars)$
  ggvis(~ mpg, ~ wt)
p1$layer_points()
p1$layer_bars()

# Stored Pipe
f1 &lt;- Pipe(rnorm(100))$plot
f1(col="red")
f1(col="green")

## End(Not run)
</code></pre>


</div>