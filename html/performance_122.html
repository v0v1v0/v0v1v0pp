<div class="container">

<table style="width: 100%;"><tr>
<td>simulate_residuals</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate randomized quantile residuals from a model</h2>

<h3>Description</h3>

<p>Returns simulated residuals from a model. This is useful for
checking the uniformity of residuals, in particular for non-Gaussian models,
where the residuals are not expected to be normally distributed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulate_residuals(x, iterations = 250, ...)

## S3 method for class 'performance_simres'
residuals(object, quantile_function = NULL, outlier_values = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterations</code></td>
<td>
<p>Number of simulations to run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed on to <code>DHARMa::simulateResiduals()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>performance_simres</code> object, as returned by <code>simulate_residuals()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantile_function</code></td>
<td>
<p>A function to apply to the residuals. If <code>NULL</code>, the
residuals are returned as is. If not <code>NULL</code>, the residuals are passed to this
function. This is useful for returning normally distributed residuals, for
example: <code>residuals(x, quantile_function = qnorm)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier_values</code></td>
<td>
<p>A vector of length 2, specifying the values to replace
<code>-Inf</code> and <code>Inf</code> with, respectively.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a small wrapper around <code>DHARMa::simulateResiduals()</code>.
It basically only sets <code>plot = FALSE</code> and adds an additional class attribute
(<code>"performance_sim_res"</code>), which allows using the DHARMa object in own plotting
functions from the <strong>see</strong> package. See also <code>vignette("DHARMa")</code>. There is a
<code>plot()</code> method to visualize the distribution of the residuals.
</p>


<h3>Value</h3>

<p>Simulated residuals, which can be further processed with
<code>check_residuals()</code>. The returned object is of class <code>DHARMa</code> and
<code>performance_simres</code>.
</p>


<h3>Tests based on simulated residuals</h3>

<p>For certain models, resp. model from certain families, tests like
<code>check_zeroinflation()</code> or <code>check_overdispersion()</code> are based on
simulated residuals. These are usually more accurate for such tests than
the traditionally used Pearson residuals. However, when simulating from more
complex models, such as mixed models or models with zero-inflation, there are
several important considerations. <code>simulate_residuals()</code> relies on
<code>DHARMa::simulateResiduals()</code>, and additional arguments specified in <code>...</code>
are passed further down to that function. The defaults in DHARMa are set on
the most conservative option that works for all models. However, in many
cases, the help advises to use different settings in particular situations
or for particular models. It is recommended to read the 'Details' in
<code>?DHARMa::simulateResiduals</code> closely to understand the implications of the
simulation process and which arguments should be modified to get the most
accurate results.
</p>


<h3>References</h3>


<ul>
<li>
<p> Hartig, F., &amp; Lohse, L. (2022). DHARMa: Residual Diagnostics for Hierarchical
(Multi-Level / Mixed) Regression Models (Version 0.4.5). Retrieved from
https://CRAN.R-project.org/package=DHARMa
</p>
</li>
<li>
<p> Dunn, P. K., &amp; Smyth, G. K. (1996). Randomized Quantile Residuals. Journal
of Computational and Graphical Statistics, 5(3), 236. <a href="https://doi.org/10.2307/1390802">doi:10.2307/1390802</a>
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>check_residuals()</code>, <code>check_zeroinflation()</code>,
<code>check_overdispersion()</code> and <code>check_predictions()</code>. See also
<code>see::plot.see_performance_simres()</code> for options to customize the plot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
m &lt;- lm(mpg ~ wt + cyl + gear + disp, data = mtcars)
simulate_residuals(m)

# extract residuals
head(residuals(simulate_residuals(m)))

</code></pre>


</div>