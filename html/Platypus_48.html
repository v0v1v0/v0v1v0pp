<div class="container">

<table style="width: 100%;"><tr>
<td>VDJ_ordination</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Performs ordination/dimensionality reduction for a species incidence matrix, depending on the species selected in the feature.columns parameter.</h2>

<h3>Description</h3>

<p>Performs ordination/dimensionality reduction for a species incidence matrix, depending on the species selected in the feature.columns parameter.
</p>


<h3>Usage</h3>

<pre><code class="language-R">VDJ_ordination(
  VDJ,
  feature.columns,
  grouping.column,
  method,
  reduction.level,
  VDJ.VJ.1chain,
  umap.n.neighbours,
  tsne.perplexity
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>VDJ</code></td>
<td>
<p>VDJ dataframe output from the VDJ_GEX_matrix function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature.columns</code></td>
<td>
<p>Character vector. One or more column names from the VDJ to indicate the unique species for the incidence/count matrix. if more than one column is provided (e.g. c("VDJ_cdr3s_aa","VJ_cdr3s_aa")) these columns will be pasted together before metric calculation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouping.column</code></td>
<td>
<p>Character. Column name of a column to group the ordination by. This could be "sample_id" to reduce across each sample. Indicative of 'sites' in a typical community data matrix/incidence matrix used in community ecology analyses (species by sites).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character. The ordination method; choose from either: PCA - 'pca', t-SNE - 'tsne', UMAP - 'umap', PCOA/MDS - 'mds', DCA - 'dca'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduction.level</code></td>
<td>
<p>Character. Whether to reduce across groups ('groups'), features/sequences ('features'), or both ('both').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VDJ.VJ.1chain</code></td>
<td>
<p>Boolean defaults to TRUE. Whether to filter out aberrant cells (more than 1 VDJ or VJ chain).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>umap.n.neighbours</code></td>
<td>
<p>Integer. Control the t-SNE perplexity when method = 'tsne'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tsne.perplexity</code></td>
<td>
<p>Integrer. Defaults to 1</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a ggplot with the ordination analysis performer across features, groups, or both
</p>


<h3>Examples</h3>

<pre><code class="language-R">plot &lt;- VDJ_ordination(VDJ = Platypus::small_vgm[[1]]
,feature.columns = c("VDJ_cdr3s_aa"), grouping.column = "sample_id"
,method = "pca", reduction.level = 'groups')

</code></pre>


</div>