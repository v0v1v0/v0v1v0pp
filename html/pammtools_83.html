<div class="container">

<table style="width: 100%;"><tr>
<td>gg_slice</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot 1D (smooth) effects</h2>

<h3>Description</h3>

<p>Flexible, high-level plotting function for (non-linear) effects conditional
on further covariate specifications and potentially relative to
a comparison specification.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gg_slice(data, model, term, ..., reference = NULL, ci = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data used to fit the <code>model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A suitable model object which will be used to estimate the
partial effect of <code>term</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term</code></td>
<td>
<p>A character string indicating the model term for which partial
effects should be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Covariate specifications (expressions) that will be evaluated
by looking for variables in <code>x</code>. Must be of the form <code>z = f(z)</code>
where <code>z</code> is a variable in the data set and <code>f</code> a known
function that can be usefully applied to <code>z</code>. Note that this is also
necessary for single value specifications (e.g. <code>age = c(50)</code>).
For data in PED (piece-wise exponential data) format, one can also specify
the time argument, but see "Details" an "Examples" below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference</code></td>
<td>
<p>If specified, should be a list with covariate value pairs,
e.g. <code>list(x1 = 1, x2=50)</code>. The calculated partial effect will be relative
to an observation specified in <code>reference</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>Logical. Indicates if confidence intervals for the <code>term</code>
of interest should be calculated/plotted. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">ped &lt;- tumor[1:200, ] %&gt;% as_ped(Surv(days, status) ~ . )
model &lt;- mgcv::gam(ped_status~s(tend) + s(age, by = complications), data=ped,
  family = poisson(), offset=offset)
make_newdata(ped, age = seq_range(age, 20), complications = levels(complications))
gg_slice(ped, model, "age", age=seq_range(age, 20), complications=levels(complications))
gg_slice(ped, model, "age", age=seq_range(age, 20), complications=levels(complications),
 ci = FALSE)
gg_slice(ped, model, "age", age=seq_range(age, 20), complications=levels(complications),
  reference=list(age = 50))
</code></pre>


</div>