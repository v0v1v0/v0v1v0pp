<div class="container">

<table style="width: 100%;"><tr>
<td>statsModelSeries</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Obtain performance statistics of a series of linear models</h2>

<h3>Description</h3>

<p>Compute several statistics measuring the performance of a series of linear models built using
<code>buildModelSeries()</code>, with an option to rank the models based on one of the returned
performance statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">statsModelSeries(model, design.info, arrange.by, digits)

statsMS(model, design.info, arrange.by, digits)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A list of linear models returned by <code>buildModelSeries()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design.info</code></td>
<td>
<p>Extra information about the linear models in the series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arrange.by</code></td>
<td>
<p>Character string defining if the table with the performance statistics of the
linear models should be arranged, and which column should be used. Available options are
<code>"candidates"</code>, <code>"df"</code>, <code>"aic"</code>, <code>"rmse"</code>, <code>"nrmse"</code>, <code>"r2"</code>, <code>"adj_r2"</code>, and <code>"ADJ_r2"</code>.
Descending order is used by default and cannot be changed in the current implementation. See
‘Value’ for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Integer or vector with six integers indicating the number of decimal places to be
used to round the performance statistics. If a vector is passed to the function, the number of
decimal places should be in the following order:
</p>
<p><code>c("aic", "rmse", "nrmse", "r2", "adj_r2", "ADJ_r2")</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function was devised to deal with a list of linear models generated by the function
<code>buildModelSeries()</code>. The main objective is to compare several linear models using
several performance statistics. Such statistics can then be used to rank the linear models and
identify, for example, the best performing model, given the selected performance statistics.
</p>
<p>An important feature of <code>buildModelSeries()</code> is that it uses the information about
the initial number of candidate predictor variables offered to the build the model to calculate
penalized or adjusted measures of model performance. Such information is recorded as an attribute
of the final model selected by <code>buildModelSeries()</code>. This feature was included in
<code>statsModelSeries()</code> because data-driven variable selection results biased linear
models (too optimistic), and the effective number of degrees of freedom is close to the number of
candidate predictor variables initially offered to the model (Harrell, 2001).
</p>


<h3>Value</h3>

<p>A data frame with several performance statistics:
</p>

<dl>
<dt>id</dt>
<dd>
<p>Identification of the model.</p>
</dd>
<dt>candidates</dt>
<dd>
<p>Number of candidate predictor variables initially
offered to the model.</p>
</dd>
<dt>df</dt>
<dd>
<p>Number of degrees of freedom of the final selected model.</p>
</dd>
<dt>aic</dt>
<dd>
<p>Akaike's Information Criterion (AIC). Obtained using
<code>extractAIC</code>.</p>
</dd>
<dt>rmse</dt>
<dd>
<p>Root-mean squared error, calculated based on the number of
candidate predictor variables initially offered to the model.</p>
</dd>
<dt>nrmse</dt>
<dd>
<p>Normalized Root-mean squared error, calculated as the ratio
between the RMSE and the standard deviation of the observed values of the
dependent variable.</p>
</dd>
<dt>r2</dt>
<dd>
<p>Multiple coefficient of determination.</p>
</dd>
<dt>adj_r2</dt>
<dd>
<p>Adjusted multiple coefficient of determination.</p>
</dd>
<dt>ADJ_r2</dt>
<dd>
<p>Adjusted multiple coefficient of determination. Calculations
are done based on the number of candidate predictor variables initially
offered to the model.</p>
</dd>
</dl>
<h3>TODO</h3>


<ul>
<li>
<p> Include other performance statistics such as: PRESS, BIC, Mallow's Cp, max(VIF);
</p>
</li>
<li>
<p> Add option to select which performance statistics should be returned.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Alessandro Samuel-Rosa <a href="mailto:alessandrosamuelrosa@gmail.com">alessandrosamuelrosa@gmail.com</a>
</p>


<h3>References</h3>

<p>Harrell, F. E. (2001) <em>Regression modelling strategies: with applications to linear models,
logistic regression, and survival analysis.</em> First edition. New York: Springer.
</p>
<p>Venables, W. N. and Ripley, B. D. (2002) <em>Modern applied statistics with S.</em> Fourth edition. New
York: Springer.
</p>
<p>A. Samuel-Rosa, G. B. M. Heuvelink, G. de Mattos Vasques, and L. H. C. dos Anjos, Do more
detailed environmental covariates deliver more accurate soil maps?, <em>Geoderma</em>, vol. 243–244,
pp. 214–227, May 2015, doi: 10.1016/j.geoderma.2014.12.017.
</p>


<h3>See Also</h3>

<p><code>buildModelSeries()</code>, <code>plotModelSeries()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()) {
  # based on the second example of function MASS:stepAIC()
  require(MASS)
  cpus1 &lt;- cpus
  for(v in names(cpus)[2:7])
    cpus1[[v]] &lt;- cut(cpus[[v]], unique(quantile(cpus[[v]])), 
                      include.lowest = TRUE)
  cpus0 &lt;- cpus1[, 2:8]  # excludes names, authors' predictions
  cpus.samp &lt;- sample(1:209, 100)
  cpus.form &lt;- list(formula(log10(perf) ~ syct + mmin + mmax + cach + chmin +
                    chmax + perf),
                    formula(log10(perf) ~ syct + mmin + cach + chmin + chmax),
                    formula(log10(perf) ~ mmax + cach + chmin + chmax + perf))
  data &lt;- cpus1[cpus.samp,2:8]
  cpus.ms &lt;- buildModelSeries(cpus.form, data, vif = TRUE, aic = TRUE)
  cpus.des &lt;- data.frame(a = c(0, 1, 0), b = c(1, 0, 1), c = c(1, 1, 0))
  stats &lt;- statsModelSeries(cpus.ms, design.info = cpus.des, arrange.by = "aic")
}
</code></pre>


</div>