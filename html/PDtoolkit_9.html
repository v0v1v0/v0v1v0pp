<div class="container">

<table style="width: 100%;"><tr>
<td>cutoff.palette</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Palette of cutoff values that minimize and maximize metrics from the confusion matrix</h2>

<h3>Description</h3>

<p><code>cutoff.palette</code> returns confusion matrix along with accompanied performance metrics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cutoff.palette(predictions, observed, min.pct.obs = 0.05, min.pct.def = 0.01)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>predictions</code></td>
<td>
<p>Model predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observed</code></td>
<td>
<p>Observed values of target variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.pct.obs</code></td>
<td>
<p>Minimum percentage of observations. Used to select boundaries of cutoff values. Default value is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.pct.def</code></td>
<td>
<p>Minimum percentage of default. Used to select boundaries of cutoff values. Default value is 0.01.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The command <code>cutoff.palette</code> returns data frame with minimum and maximum values of each confusion
matrix metric along with optimized cutoff itself.
</p>


<h3>Examples</h3>

<pre><code class="language-R">suppressMessages(library(PDtoolkit))
data(loans)
#identify numeric risk factors
num.rf &lt;- sapply(loans, is.numeric)
num.rf &lt;- names(num.rf)[!names(num.rf)%in%"Creditability" &amp; num.rf]
#discretized numeric risk factors using mdt.bin from monobin package
loans[, num.rf] &lt;- sapply(num.rf, function(x) 
			  mdt.bin(x = loans[, x], y = loans[, "Creditability"])[[2]])
str(loans)
res &lt;- stepFWD(start.model = Creditability ~ 1, 
   p.value = 0.05, 
   coding = "WoE",
   db = loans)
#run cutoff optimization
cop &lt;- cutoff.palette(predictions = predict(res$model, type = "response"), 
			observed = loans$"Creditability",
			min.pct.obs = 0.05, 
			min.pct.def = 0.01)
cop
confusion.matrix(predictions = predict(res$model, type = "response"), 
	     observed = loans$"Creditability",
	     cutoff = cop$cutoff.max[cop$metric%in%"f1.score"])
</code></pre>


</div>