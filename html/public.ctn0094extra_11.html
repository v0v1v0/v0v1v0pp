<div class="container">

<table style="width: 100%;"><tr>
<td>MarkUse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mark Use Day by Subject</h2>

<h3>Description</h3>

<p>Mark Use Day by Subject
</p>


<h3>Usage</h3>

<pre><code class="language-R">MarkUse(
  targetDrugs_char,
  drugs_df = NULL,
  reportSource = c("TFB", "UDSAB", "UDS"),
  retainEmptyRows = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>targetDrugs_char</code></td>
<td>
<p>A character vector including which drugs should be
counted against the subject</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drugs_df</code></td>
<td>
<p>A data frame with columns <code>who</code>, <code>when</code>, and
<code>what</code>. This data frame measures which drugs were used by each
subject over all days of treatment. This data set must also include a
column <code>source</code>, which marks from which reporting source the drug use
was recorded</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reportSource</code></td>
<td>
<p>A character vector matching the source of the reported
drug use. The options must be from Timeline Followback (<code>"TFB"</code>)
questionnaires or daily urine drug screens (<code>"UDS"</code> or<code>"UDSAB"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>retainEmptyRows</code></td>
<td>
<p>A logical flag to force rows for participants who did
not have UDS positive for the substances listed in <code>targetDrugs_char</code>
to be retained in the final results (with <code>NA</code> for <code>"when"</code> and
<code>"source"</code>). Defaults to <code>FALSE</code> because the entire point of
this function is to mark substance <em>USE</em>, not a lack thereof;
however, this flag is needed for the vignette (because we forced the
inclusion of a participant with no recorded UDS for pedagogical purposes).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is basically just a fancy wrapper around some dplyr
code. We just don't want the user to have to 1) know dplyr, or 2) write
the code themselves.
</p>


<h3>Value</h3>

<p>A modification of the <code>drugs_df</code> data set: the columns are
<code>"who"</code>, <code>"when"</code>, and <code>"source"</code>; each row corresponds
to one use day per subject per use source (if, for instance, there is drug
use for a particular day recorded in both TFB and UDS, then that day will
have two rows in the resulting data set).
</p>


<h3>Examples</h3>

<pre><code class="language-R">   MarkUse(c("Crack", "Pcp", "Opioid"))
</code></pre>


</div>