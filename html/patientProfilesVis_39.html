<div class="container">

<table style="width: 100%;"><tr>
<td>subjectProfileLinePlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualize subject profiles of the evolution of 
continuous parameters versus time (spaghetti plot).</h2>

<h3>Description</h3>

<p>Visualize subject profiles of the evolution of 
continuous parameters versus time (spaghetti plot).
</p>


<h3>Usage</h3>

<pre><code class="language-R">subjectProfileLinePlot(
  data,
  paramValueVar,
  paramLab = getLabelVar(paramValueVar, labelVars = labelVars),
  paramNameVar = NULL,
  paramVarSep = " - ",
  paramValueRangeVar = NULL,
  colorValueRange = "lightgreen",
  yLimFrom = c("all", "value"),
  colorVar = NULL,
  colorLab = getLabelVar(colorVar, labelVars = labelVars),
  colorPalette = NULL,
  shapeVar = colorVar,
  shapeLab = if (isTRUE(colorVar == shapeVar)) {
     colorLab
 } else
    getLabelVar(shapeVar, labelVars = labelVars),
  shapePalette = NULL,
  paramGroupVar = NULL,
  timeVar,
  timeLab = getLabelVar(timeVar, labelVars = labelVars),
  timeTrans = NULL,
  timeExpand = NULL,
  subjectVar = "USUBJID",
  subjectSubset = NULL,
  subjectSample = NULL,
  seed = 123,
  subsetData = NULL,
  subsetVar = NULL,
  subsetValue = NULL,
  xLab = timeLab,
  yLab = "",
  timeLim = NULL,
  title = toString(getLabelVar(paramValueVar, labelVars = labelVars, label = paramLab)),
  label = title,
  labelVars = NULL,
  formatReport = subjectProfileReportFormat(),
  paging = TRUE,
  alpha = 1,
  shapeSize = rel(1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data.frame with data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramValueVar</code></td>
<td>
<p>String, variable of <code>data</code> 
with parameter value to represent.<br>
Records with missing values are discarded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramLab</code></td>
<td>
<p>Named character vector, 
with label for the parameter variable(s) (<code>paramNameVar</code>).<br>
This is used to set the default title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramNameVar</code></td>
<td>
<p>Character vector with variable(s) of <code>data</code> with parameter name.
If multiple, they are concatenated with <code>paramVarSep</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramVarSep</code></td>
<td>
<p>string with character(s) used to concatenate multiple 
<code>paramNameVar</code>, ' - ' by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramValueRangeVar</code></td>
<td>
<p>Character vector of length 2 containing 
variables of <code>data</code> with minimum and maximum value 
for <code>paramValueVar</code>, typically reference range indicators.<br>
Range can differ per parameter and even per time point.
This range is represented as a ribbon in the plot background.
e.g. to represent the reference range of the variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorValueRange</code></td>
<td>
<p>String with color for the filling of 
the ribbon represented by <code>paramValueRangeVar</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yLimFrom</code></td>
<td>
<p>String with specification on the limits of the y-axis, either:
</p>

<ul>
<li>
<p>'all' (by default): for each parameter (<code>paramNameVar</code>), 
the y-axis range contains the minimum/maximum value of 
the reference range (<code>paramValueRangeVar</code>) or data
</p>
</li>
<li>
<p>'value': for each parameter (<code>paramNameVar</code>), 
the y-axis minimum/maximum value is restricted to the data range only.
Please note that the ribbon visualizing the reference range is also restricted
to the data range if wider.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorVar</code></td>
<td>
<p>String, variable of <code>data</code> with color.
This variable is used
for the colors and the filling of the points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorLab</code></td>
<td>
<p>String, label for <code>colorVar</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colorPalette</code></td>
<td>
<p>Named vector with color palette.
The variable should be named with the corresponding element
in <code>colorVar</code>.<br>
Colors can also be defined for the entire session, by setting
<code>options(patientProfilesVis.colors = X)</code> with X either:
</p>

<ul>
<li>
<p>a vector with colors
</p>
</li>
<li>
<p>a function returning a vector of colors for a specified number
of elements (<code>viridis</code> by default)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shapeVar</code></td>
<td>
<p>String, variable of <code>data</code> for shape of the points.
By default, same as <code>colorVar</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shapeLab</code></td>
<td>
<p>String, label for <code>shapeVar</code>.
Set by default to <code>colorLab</code> if <code>colorVar</code>
but not <code>shapeVar</code> is not specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shapePalette</code></td>
<td>
<p>Named character vector with shape palette
for <code>shapeVar</code>.
The variable should be named with the corresponding element
in <code>shapeVar</code>.<br>
Shapes can also be defined for the entire session, by setting
<code>options(patientProfilesVis.shapes = X)</code> with X either:
</p>

<ul>
<li>
<p>a vector with shapes
</p>
</li>
<li>
<p>a function returning a vector of shapes for a specified number
of elements
</p>
</li>
</ul>
<p>Note it is advised to specify the shapes as character,
e.g. 'cross' instead of <code>4</code>, in case Unicode
symbols should also be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paramGroupVar</code></td>
<td>
<p>(optional) Character vector with variable(s) 
of <code>data</code> based on which the data will be grouped and sorted 
(in the y-axis) in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeVar</code></td>
<td>
<p>String, variable of <code>data</code> with time,
displayed in the x axis.<br>
Records with missing time are not displayed in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeLab</code></td>
<td>
<p>String, label for <code>timeVar</code>.
This is used in the message
indicating missing values for <code>timeVar</code>,
and for the default label of the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeTrans</code></td>
<td>
<p>transformation for the time variable, 
(see <code>trans</code> parameter in <code>scale_x_continuous</code>, and
<code>trans_new</code>).
For example, produced by the <code>getTimeTrans</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeExpand</code></td>
<td>
<p>Vector of range expansion constants for the time axis
(see <code>expand</code> parameter in <code>scale_x_continuous</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subjectSubset</code></td>
<td>
<p>(optional) Character vector with subjects of interest 
(available in <code>subjectVar</code>), NULL by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subjectSample</code></td>
<td>
<p>(optional) Integer of length 1
with number of random subject(s) that should be considered,
e.g. to check the created patient profiles for a subset of the data.
By default, all specified subjects are considered (set to NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>(optional) Integer of length 1 with seed used to select random subjects 
if <code>subjectSample</code> is specified (123 by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsetData</code></td>
<td>
<p>(optional) Data.frame with extra dataset to filter on.
This dataset is filtered, and only records from <code>data</code> 
with common subject IDs will be retained.<br>
If not specified, <code>data</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsetVar</code></td>
<td>
<p>(optional) String with variable of subset data to filter on.
<code>subsetValue</code> should be specified too.<br>
If not specified, all records from the subset data are retained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subsetValue</code></td>
<td>
<p>(optional) Character vector with value(s) of interest to
retain in the filtered data.
These values should be available in <code>subsetVar</code>.<br>
Missing values in the subject variable are not retained 
in the filtered data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xLab</code></td>
<td>
<p>String, label for the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yLab</code></td>
<td>
<p>String, label for the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeLim</code></td>
<td>
<p>(optional) Vector of length 2 with time limits (x-axis).
If not specified, these are extracted from the minimum <code>timeStartVar</code> 
and maximum <code>timeEndVar</code> per subject.<br>
The time limits are stored as attributes of the plots,
used to align the plots in the final report.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>String with title, label of the parameter value variable by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>String, label for the visualization.
This label is stored as attributes of the output
from the <code>subjectProfile[]Plot</code> function.<br>
This label is displayed in the final profile
report, in case no data is available for
for a specific patient, as: 'No [label] available.'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code>subjectProfileReportFormat</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paging</code></td>
<td>
<p>Logical, if TRUE (by default), automatic 
paging is enabled, so patient profiles module too big to fit
in one page will span multiple pages.
Please note that the size of the graphic window 
(or report page) may need
to be re-sized in order that the plot fits.
<br>
If FALSE, the entire plot is included in one single page.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Numeric with transparency, 1 by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shapeSize</code></td>
<td>
<p>Size for the symbols, any integer or 
object supported by <code>size</code> in <code>geom_point</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List of (across subjects) of list (across modules) 
of <code>ggplot2 objects</code>, 
also of class <code>subjectProfileLinePlot</code>.
Each subject profile contains attributes: 'subjectID' and 'nLines' 
(estimated number of lines of space the plot will take).
The entire list also contains attributes: '<code>label</code>',
'timeLim' and 'timeTrans' (if specified).
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>See Also</h3>

<p>Other patient profiles plotting function: 
<code>subjectProfileEventPlot()</code>,
<code>subjectProfileIntervalPlot()</code>,
<code>subjectProfileTextPlot()</code>
</p>


</div>