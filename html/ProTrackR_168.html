<div class="container">

<table style="width: 100%;"><tr>
<td>PTSample-method</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coerce to or replace PTSample</h2>

<h3>Description</h3>

<p>This method will coerce a set of objects to a <code>PTSample</code> object. It can also
be used to select specific samples from <code>PTModule</code> objects and replace
the selected <code>PTSample</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'Wave,missing'
PTSample(x)

## S4 method for signature 'raw,missing'
PTSample(x)

## S4 method for signature 'PTModule,numeric'
PTSample(x, index)

## S4 replacement method for signature 'PTModule,numeric,PTSample'
PTSample(x, index) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object (any of class <code>tuneR::Wave</code>, a <code>vector</code>
of <code>raw</code> data, or of class <code>PTModule</code>) that needs to
be coerced to a <code>PTSample</code> object. In the latter case, the
object can also be replaced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>A positive <code>integer</code> index of the sample in <code>PTModule</code>
<code>x</code> that needs to be returned or replaced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>An object of <code>PTSample</code> with which the <code>PTSample</code>
object at the specified <code>index</code> in object <code>x</code> needs to be replaced.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Method to coerce <code>x</code> to class <code>PTSample</code>.
</p>
<p>When <code>x</code> is a <code>tuneR::Wave</code> object, this method will not
resample it. However, the sample rate will be adjusted and samples exeeding
the maximum length of <code>2*0xffff</code> = <code>131070</code> will be clipped to this
maximum length. When <code>x</code> is a stereo sample, it will be converted to
mono, by averaging the left and right channel.
</p>
<p>When <code>x</code> is a <code>vector</code> of <code>raw</code> data, it will be truncated
if the maximum length of <code>2*0xffff</code> = <code>131070</code> is exceeded.
The raw will be converted with <code>rawToSignedInt</code> in order
to represent an 8 bit mono <code>waveform</code>.
</p>
<p>As samples must have an even length (as per ProTracker specifications),
a 0x00 value is appended if the length is odd.
</p>
<p>When <code>x</code> is of class <code>PTModule</code>, the <code>PTSample</code> at the
specified <code>index</code> is returned, or will be replaced.
</p>


<h3>Value</h3>

<p>When <code>PTSample</code> is used, a <code>PTSample</code> object
based on <code>x</code> is returned.
</p>
<p>When <code style="white-space: pre;">⁠PTSample&lt;-⁠</code> is used, object <code>x</code> is returned in which
the selected <code>PTSample</code> is replaced with <code>value</code>.
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>See Also</h3>

<p>Other sample.operations: 
<code>PTSample-class</code>,
<code>fineTune()</code>,
<code>loopLength()</code>,
<code>loopSample()</code>,
<code>loopStart()</code>,
<code>loopState()</code>,
<code>name</code>,
<code>playSample()</code>,
<code>read.sample()</code>,
<code>sampleLength()</code>,
<code>volume()</code>,
<code>waveform()</code>,
<code>write.sample()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Create a raw data sine wave:
raw_sine &lt;- signedIntToRaw(round(sin(2*pi*(0:275)/276)*127))

data("mod.intro")

## Replace sample number 1 from mod.intro
## with the sine wave:
PTSample(mod.intro, 1) &lt;-
  PTSample(raw_sine)

## Note that the replacement above
## could also (maybe more efficiently)
## be done with the 'waveform' method

## Restore the loop in sample number 1:
loopLength(PTSample(mod.intro, 1)) &lt;- 276

</code></pre>


</div>