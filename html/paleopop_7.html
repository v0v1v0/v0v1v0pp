<div class="container">

<table style="width: 100%;"><tr>
<td>PaleoRegion</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R6 class representing a paleontological region.</h2>

<h3>Description</h3>

<p><code>R6</code> class representing a study region of temporally changing
spatial grid cells, defined via a <em>RasterLayer</em> object
(see <code>raster</code>) and a temporal mask indicating
which cells are included at each time step.
</p>


<h3>Super classes</h3>

<p><code>poems::GenericClass</code> -&gt; <code>poems::Region</code> -&gt; <code>PaleoRegion</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>attached</code></dt>
<dd>
<p>A list of dynamically attached attributes (name-value pairs).</p>
</dd>
</dl>
</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>coordinates</code></dt>
<dd>
<p>Data frame (or matrix) of X-Y population (WGS84) coordinates in longitude (degrees West) and latitude (degrees North) (get and set), or distance-based coordinates dynamically returned by region raster (get only).</p>
</dd>
<dt><code>region_raster</code></dt>
<dd>
<p>A <em>RasterLayer</em> object (see <code>raster</code>) defining the region with finite values (NAs elsewhere).</p>
</dd>
<dt><code>use_raster</code></dt>
<dd>
<p>Boolean to indicate that a raster is to be used to define the region (default TRUE).</p>
</dd>
<dt><code>strict_consistency</code></dt>
<dd>
<p>Boolean to indicate that, as well as resolution, extent and CRS, consistency checks also ensure that a raster's finite/occupiable cells are the same or a subset of those defined by the region (default TRUE).</p>
</dd>
<dt><code>temporal_mask</code></dt>
<dd>
<p>Matrix of booleans indicating which region cells are included at each time step.</p>
</dd>
<dt><code>region_cells</code></dt>
<dd>
<p>Dynamically calculated number of region coordinates or raster cells with finite/non-NA values.</p>
</dd>
<dt><code>region_indices</code></dt>
<dd>
<p>Dynamically calculated region indices for raster cells with finite/non-NA values (all if not a raster).</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PaleoRegion-new"><code>PaleoRegion$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PaleoRegion-raster_from_values"><code>PaleoRegion$raster_from_values()</code></a>
</p>
</li>
<li> <p><a href="#method-PaleoRegion-temporal_mask_raster"><code>PaleoRegion$temporal_mask_raster()</code></a>
</p>
</li>
<li> <p><a href="#method-PaleoRegion-clone"><code>PaleoRegion$clone()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="poems" data-topic="GenericClass" data-id="new_clone"><a href="../../poems/html/GenericClass.html#method-GenericClass-new_clone"><code>poems::GenericClass$new_clone()</code></a></span></li>
<li><span class="pkg-link" data-pkg="poems" data-topic="Region" data-id="raster_is_consistent"><a href="../../poems/html/Region.html#method-Region-raster_is_consistent"><code>poems::Region$raster_is_consistent()</code></a></span></li>
</ul></details><hr>
<a id="method-PaleoRegion-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialization method sets temporally changing raster layers for paleontological region.
</p>


<h5>Usage</h5>

<div class="r"><pre>PaleoRegion$new(template_raster = NULL, remove_zeros = FALSE, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>template_raster</code></dt>
<dd>
<p>A <em>RasterLayer</em>, <em>RasterBrick</em>, or <em>RasterStack</em> object (see <code>raster</code>) defining the paleontological region with example finite values (NAs elsewhere)</p>
</dd>
<dt><code>remove_zeros</code></dt>
<dd>
<p>Boolean to indicate that cells that are zero across all layers (times) are to be removed, i.e. set to NA (default is FALSE).</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Additional parameters passed individually.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-PaleoRegion-raster_from_values"></a>



<h4>Method <code>raster_from_values()</code>
</h4>

<p>Converts an array (or matrix) of values into a raster (or stack) consistent with the region raster (matching extent, resolution, and finite/NA cells), and with the temporal mask (if any) applied.
</p>


<h5>Usage</h5>

<div class="r"><pre>PaleoRegion$raster_from_values(values)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>values</code></dt>
<dd>
<p>An array (or matrix) of values to be placed in the raster (or stack) having dimensions consistent with the region cell number.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>A <em>RasterLayer</em> (or <em>RasterStack/Brick</em>) object consistent with the region raster with temporal mask (if any) applied.
</p>


<hr>
<a id="method-PaleoRegion-temporal_mask_raster"></a>



<h4>Method <code>temporal_mask_raster()</code>
</h4>

<p>Returns the temporal mask as a raster stack/brick object consistent with the region raster.
</p>


<h5>Usage</h5>

<div class="r"><pre>PaleoRegion$temporal_mask_raster()</pre></div>



<h5>Returns</h5>

<p>A <em>RasterStack/Brick</em>) object with temporal mask values of 1 (true) and NA elsewhere.
</p>


<hr>
<a id="method-PaleoRegion-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PaleoRegion$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">library(poems)
library(raster)
# Ring Island example region
coordinates &lt;- data.frame(x = rep(seq(-178.02, -178.06, -0.01), 5),
                          y = rep(seq(19.02, 19.06, 0.01), each = 5))
template_raster &lt;- Region$new(coordinates = coordinates)$region_raster # full extent
sealevel_raster &lt;- template_raster
template_raster[][c(7:9, 12:14, 17:19)] &lt;- NA # make Ring Island
sealevel_raster[][c(7:9, 12:14, 17:18)] &lt;- NA
raster_stack &lt;- raster::stack(x = append(replicate(9, template_raster), sealevel_raster))
region &lt;- PaleoRegion$new(template_raster = raster_stack)
raster::plot(region$temporal_mask_raster()[[1]], main = "Ring Island (first timestep)",
             xlab = "Longitude (degrees)", ylab = "Latitude (degrees)",
             colNA = "blue", legend = FALSE)
raster::plot(region$temporal_mask_raster()[[10]], main = "Ring Island (last timestep)",
             xlab = "Longitude (degrees)", ylab = "Latitude (degrees)",
             colNA = "blue", legend = FALSE)

</code></pre>


</div>