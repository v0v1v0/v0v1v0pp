<div class="container">

<table style="width: 100%;"><tr>
<td>sex_from_chi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract sex from the CHI number</h2>

<h3>Description</h3>

<p><code>sex_from_chi</code> takes a CHI number or a vector of CHI numbers
and returns the sex as implied by the CHI number(s). The default return type
is an integer but this can be modified.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sex_from_chi(
  chi_number,
  male_value = 1L,
  female_value = 2L,
  as_factor = FALSE,
  chi_check = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>chi_number</code></td>
<td>
<p>a CHI number or a vector of CHI numbers with <code>character</code>
class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>male_value, female_value</code></td>
<td>
<p>optionally supply custom values for Male and
Female. Note that that these must be of the same class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_factor</code></td>
<td>
<p>logical, optionally return as a factor with labels <code>'Male'</code>
and <code>'Female'</code>. Note that this will override any custom values supplied with
<code>male_value</code> or <code>female_value</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chi_check</code></td>
<td>
<p>logical, optionally skip checking the CHI for validity which
will be faster but should only be used if you have previously checked the
CHI(s).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Community Health Index (CHI) is a register of all patients in
NHS Scotland. A CHI number is a unique, ten-digit identifier assigned to
each patient on the index.
</p>
<p>The ninth digit of a CHI number identifies a patient's sex: odd for men,
even for women.
</p>
<p>The default behaviour for <code>sex_from_chi</code> is to first check the CHI number is
valid using <code>check_chi</code> and then to return 1 for male and 2 for female.
</p>
<p>There are options to return custom values e.g. <code>'M'</code> and <code>'F'</code> or to return
a factor which will have labels <code>'Male'</code> and <code style="white-space: pre;">⁠'Female')⁠</code>
</p>


<h3>Value</h3>

<p>a vector with the same class as <code>male_value</code> and <code>female_value</code>,
(integer by default) unless <code>as_factor</code> is <code>TRUE</code> in which case a factor will
be returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">sex_from_chi("0101011237")
sex_from_chi(c("0101011237", "0101336489", NA))
sex_from_chi(
  c("0101011237", "0101336489", NA),
  male_value = "M",
  female_value = "F"
)
sex_from_chi(c("0101011237", "0101336489", NA), as_factor = TRUE)

library(dplyr)
df &lt;- tibble(chi = c("0101011237", "0101336489", NA))
df %&gt;% mutate(chi_sex = sex_from_chi(chi))
</code></pre>


</div>