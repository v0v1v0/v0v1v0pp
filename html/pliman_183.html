<div class="container">

<table style="width: 100%;"><tr>
<td>poly_width_at</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Width at a given height</h2>

<h3>Description</h3>

<p>The function computes the polygonal convex hull of the points in x and then
returns the number of points that lie below a specified set of heights along
the vertical axis of the convex hull.
</p>


<h3>Usage</h3>

<pre><code class="language-R">poly_width_at(
  x,
  at = c(0.05, 0.25, 0.5, 0.75, 0.95),
  unify = FALSE,
  plot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector containing two-dimensional data points (often produced with
object_contour).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>A vector of heights along the vertical axis of the convex hull at
which to count the number of points below. The default value is <code>c(0.05, 0.25, 0.5, 0.75, 0.95)</code>, which means the function will return the number of
points below the 5th, 25th, 50th, 75th, and 95th percentiles of the convex
hull. If <code>at = "heights"</code> is used, the function returns the width for each
point of the object length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unify</code></td>
<td>
<p>A logical value indicating whether to use the unified convex
hull calculation method. If unify = TRUE, coordinates in x will be
first bound before computing the convex hull.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>A logical value that specifies whether the widths should be
plotted.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The convex hull computed from x is aligned along the major axis and then
converted to a binary image. For each height in the at vector, the function
computes the corresponding row number in the binary image (i.e., the row
number that corresponds to the specified height along the vertical axis of
the convex hull) and sums the values in that row to obtain the number of
points that lie below the specified height. If the convex hull contains
multiple polygons and unify = FALSE, the function loops over each polygon
and returns a list of the number of points below the specified heights for
each polygon. If the convex hull contains only one polygon or multiple
polygons and unify = TRUE, the function returns a vector of the number of
points below the specified heights for that single polygon.
</p>


<h3>Value</h3>

<p>A vector with the widths of the convex hull at the specified heights
or a list of vectors with the widths of each component.
</p>


<h3>Examples</h3>

<pre><code class="language-R">cont &lt;- contours[[2]]
plot_polygon(cont |&gt; conv_hull() |&gt; poly_align())
#  width below 5th, 25th, 50th, 75th, and 95th percentiles of the length
wd &lt;- poly_width_at(cont)
wd

# width along the height
poly_width_at(cont, at = "height", plot = TRUE)


</code></pre>


</div>