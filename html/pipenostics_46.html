<div class="container">

<table style="width: 100%;"><tr>
<td>mepof</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Probability of failure of the corroded pipe within maximum entropy</h2>

<h3>Description</h3>

<p>Calculate <em>probability of failure</em> (POF) of the corroded pipe taking into
account its actual level of defectiveness and exploiting
<a href="https://en.wikipedia.org/wiki/Monte_Carlo_method#Monte_Carlo_and_random_numbers">Monte-Carlo simulation</a>
within <a href="https://en.wikipedia.org/wiki/Principle_of_maximum_entropy">Principle of maximum entropy</a>.
</p>
<p>Consistent estimate of POF for pipeline systems plays
a critical role in optimizing their operation. To prevent pipeline failures
due to actively growing defects it is necessary to be able to assess the
pipeline system failure operation probability during a certain period,
taking into account its actual level of defectiveness. The pipeline limit
state comes when the burst pressure, considered as a random variable,
reaches an unacceptable level, or when the defect depth, also a random
variable, exceeds the predetermined limit value.
</p>
<p>That is why in the method they consider two possible failures for a single
pipeline cross section with the on-surface and longitudinally oriented
defect of <em>metal-loss</em> type:
</p>

<dl>
<dt><em>rupture</em></dt>
<dd>
<p>a decrease of value of failure pressure down
to the operating pressure.</p>
</dd>
<dt><em>leak</em></dt>
<dd>
<p>increase of corrosion depth (defect) up to the
specified ultimate permissible fraction of pipe wall thickness.</p>
</dd>
</dl>
<p>Since up to now no methods existed which would give absolutely correct POF
assessments they suggest simple fiddling with random values of affecting
factors without deeping into intrinsic mechanisms of corrossion. For this
purpose they choose classical
<a href="https://en.wikipedia.org/wiki/Monte_Carlo_method#Monte_Carlo_and_random_numbers">Monte-Carlo simulation</a>
within the <a href="https://en.wikipedia.org/wiki/Principle_of_maximum_entropy">Principle of maximum entropy</a>.
The latter allows to avoid doubtful and excessive preferences and
detalization when choosing probability distribution models for failure
factors and for <em>inline inspection</em> measurements.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mepof(
  depth = seq(0, 10, length.out = 100),
  l = seq(40, 50, length.out = 100),
  d = rep.int(762, 100),
  wth = rep.int(10, 100),
  strength = rep.int(358.5274, 100),
  pressure = rep.int(0.588, 100),
  temperature = rep.int(150, 100),
  rar = function(n) stats::runif(n, 0.01, 0.3)/365,
  ral = function(n) stats::runif(n, 0.01, 0.3)/365,
  days = 0,
  k = 0.8,
  method = "b31g",
  n = 1e+06
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>depth</code></td>
<td>
<p>maximum depth of the corroded area measured during <em>inline inspection</em>,
[<em>mm</em>]. Type: <code>assert_double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>l</code></td>
<td>
<p>maximum longitudinal length of corroded area measured during
<em>inline inspection</em>, [<em>mm</em>]. Type: <code>assert_double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>nominal outside diameter of pipe, [<em>mm</em>]. Type: <code>assert_double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wth</code></td>
<td>
<p>nominal wall thickness of pipe, [<em>mm</em>]. Type: <code>assert_double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strength</code></td>
<td>
<p>one of the next characteristics of steel strength, [<em>MPa</em>]:
</p>

<ul>
<li>
<p> specified minimum yield of stress (<em>SMYS</em>)
for use with <code>b31gpf</code> and <code>b31gmodpf</code>.
</p>
</li>
<li>
<p> ultimate tensile strength (<em>UTS</em>) or specified minimum tensile
strength (<em>SMTS</em>) for use with other failure pressure codes
(<code>dnvpf</code>, <code>pcorrcpf</code>, <code>shell92pf</code>).
</p>
</li>
</ul>
<p>Type: <code>assert_double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pressure</code></td>
<td>
<p><a href="https://en.wikipedia.org/wiki/Pressure_measurement#Absolute">absolute pressure</a>
of substance (i.e. heat carrier) inside the pipe measured near defect
position, [<em>MPa</em>]. In most cases this is a nominal operating pressure.
Type: <code>assert_double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>temperature</code></td>
<td>
<p>temperature of substance (i.e. heat carrier) inside the pipe measured near
defect position, [<em>°C</em>]. In case of district heating network this is
usually a calculated value according to actual or normative thermal-hydraulic
regime. Type: <code>assert_double</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rar</code></td>
<td>
<p>random number generator for simulating of distribution of radial corrosion
rate in pipe wall, [<em>mm/day</em>]. The only
argument <code>n</code> of the function should be the number of observations to
generate. Type: <code>assert_function</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ral</code></td>
<td>
<p>random number generator for simulating of distribution of longitudinal corrosion
rate in pipe wall, [<em>mm/day</em>]. The only
argument <code>n</code> of the function should be the number of observations to
generate. Type: <code>assert_function</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>days</code></td>
<td>
<p>number of days that have passed after or preceded the <em>inline inspection</em>, [].
Negative values are for retrospective assumptions whereas positives are for
failure prognosis. Type: <code>assert_int</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>alarm threshold for leakage failure. It usually <code>0.6</code>, <code>0.7</code>, or
<code>0.8</code>, []. If set to <code>1</code> no alarm before failure occurs.
Type: <code>assert_number</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>method for calculating failure pressure:
</p>

<ul>
<li> <p><em>b31g</em> - using <code>b31gpf</code>.
</p>
</li>
<li> <p><em>b31gmod</em> - using <code>b31gmodpf</code>.
</p>
</li>
<li> <p><em>dnv</em> - using <code>dnvpf</code>.
</p>
</li>
<li> <p><em>pcorrc</em> - using <code>pcorrcpf</code>.
</p>
</li>
<li> <p><em>shell92</em> - using <code>shell92pf</code>.
</p>
</li>
</ul>
<p>Type: <code>assert_choice</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of observations to generate for
<a href="https://en.wikipedia.org/wiki/Monte_Carlo_method#Monte_Carlo_and_random_numbers">Monte-Carlo simulations</a>,
Type: <code>assert_count</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Since for all influence factors they can more or less assume range limits,
the <em>uniform distribution</em> gets the maximum entropy in this context
(see <a href="https://www.bipm.org/documents/20126/2071204/JCGM_101_2008_E.pdf/325dcaad-c15a-407c-1105-8b7f322d651c">JCGM 101:2008</a>).
That is why parameters of corrosion defects measured during the
<em>inline inspection</em> as well as regime parameters and engineering
characteristics of pipe segment - all they are simulated by
<code>runif</code>.
</p>
<p><code>runif</code>-limits for depth of corrosion defect are associated
with precision of commonly applied measurement instruments. For traditionally
exploited ultrasonic control those limits are well-known and can reach up to
10 % of pipe wall thickness. Whereas uncertainty of defect longitudinal
length may be more than enough constrained with 5 %.
</p>
<p>Recommendations for choosing stochastic characteristics of pipe
engineering factors (i.e. crossection diameter, wall thickness and material
strength) are taken from aggregated review of <em>Timashev et al.</em> but
gently transformed for compatibility with
<a href="https://en.wikipedia.org/wiki/Principle_of_maximum_entropy">Principle of maximum entropy</a>,
i.e. <code>runif</code>.
</p>
<p>Uncertainties of regime parameters in stohastic models are set minimized
by regarding only precision of metering devices which commonly applied in
district heating networks. For temperature it is about 2 °C.
</p>
<p>Since the rate of corrosion processes in the pipe wall is a consequence of
physical and chemical processes occurring at the atomic scale,
it depends on a large number of environmental factors differently and
ambiguously. That is why various deterministic and stochastic models can
be potentially involved in POF assessment. For that purpose radial and
longitudinal corrosion rate can be independently formulated as random value
generation functions. They only admit that change in depth and length of
corrosion defects in time is close to linear for the generated value of
corrosion rate.
</p>


<h3>Value</h3>

<p>Probability of pipe failure for each corroded area measured during
<em>inline inspection</em>. Type: <code>assert_double</code>.
If <code>NA</code>s returned use another method
for calculating failure pressure.
</p>


<h3>References</h3>


<ol>
<li>
<p>  S. Timashev and A. Bushinskaya, <em>Diagnostics and Reliability
of Pipeline Systems</em>, Topics in Safety, Risk, Reliability and Quality 30,
<strong>DOI 10.1007/978-3-319-25307-7</strong>.
</p>
</li>
<li> <p><a href="https://www.bipm.org/en/home">BIPM</a>. Guides in Metrology (GUM).
<a href="https://www.bipm.org/documents/20126/2071204/JCGM_101_2008_E.pdf/325dcaad-c15a-407c-1105-8b7f322d651c">JCGM 101:2008</a>.
Evaluation of measurement data – <strong>Supplement 1</strong> to the <em>Guide to
the expression of uncertainty in measurement</em> –
Propagation of distributions using a <em>Monte Carlo</em> method.
</p>
</li>
</ol>
<h3>Examples</h3>

<pre><code class="language-R"> library(pipenostics)


# Let's consider a pipe in district heating network with
diameter           &lt;- 762         # [mm]
wall_thickness     &lt;-  10         # [mm]
UTS                &lt;- 434.3697    # [MPa]

# which transfers heat-carrier (water) at
operating_pressure &lt;-   0.588399  # [MPa].
temperature        &lt;-  95         # [°C]

# During inline inspection four corroded areas (defects) are detected with:
depth  &lt;- c(2.45,  7.86,   7.93,   8.15)  # [mm]

# whereas the length of all defects is not greater 200 mm:
length &lt;- rep(200, 4)  # [mm]

# Corrosion rates in radial and in longitudinal directions are not well-known and
# may vary in range .01 - .30 mm/year:
rar = function(n) stats::runif(n, .01, .30) / 365
ral = function(n) stats::runif(n, .01, .30) / 365

# Then POFs related to each corroded area are near:
pof &lt;- mepof(depth, length, rep(diameter, 4), rep(wall_thickness, 4),
             rep(UTS, 4), rep(operating_pressure, 4), rep(temperature, 4),
             rar, ral, method = "dnv")
print(pof)
# 0.000000 0.252510 0.368275 0.771595

# So, the POF of pipe is near
print(max(pof))
# 0.771595

# The value of POF changes in time. So, in a year after inline inspection of
# the pipe we can get something near
pof &lt;- mepof(depth, length, rep(diameter, 4), rep(wall_thickness, 4),
             rep(UTS, 4), rep(operating_pressure, 4), rep(temperature, 4),
             rar, ral, method = "dnv", days = 365)
print(pof)
# 0.000000 0.525539 0.648359 0.929099

# for entire pipe we get something near:
print(max(pof))
# 0.929099

# Two years ago before inline inspection the pipe state was rather good:
pof &lt;- mepof(depth, length, rep(diameter, 4), rep(wall_thickness, 4),
             rep(UTS, 4), rep(operating_pressure, 4), rep(temperature, 4),
             rar, ral, method = "dnv", days = -2 * 365)

print(pof)
# 0.000000 0.040780 0.072923 0.271751

# for entire pipe we get something near:
print(max(pof))
# 0.271751



</code></pre>


</div>