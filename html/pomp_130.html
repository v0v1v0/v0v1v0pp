<div class="container">

<table style="width: 100%;"><tr>
<td>emeasure_spec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>emeasure specification</h2>

<h3>Description</h3>

<p>Specification of the measurement-model conditional expectation, emeasure.
</p>


<h3>Details</h3>

<p>The measurement model is the link between the data and the unobserved state process.
Some algorithms require the conditional expectation of the measurement model, given the latent state and parameters.
This is supplied using the <code>emeasure</code> argument.
</p>
<p>Suppose you have a procedure to compute this conditional expectation, given the value of the latent state variables.
Then you can furnish </p>
<pre>
  emeasure = f</pre>
<p>to <span class="pkg">pomp</span> algorithms,
where <code>f</code> is a C snippet or <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function that implements your procedure.
</p>
<p>Using a C snippet is much preferred, due to its much greater computational efficiency.
See <code>Csnippet</code> for general rules on writing C snippets.
</p>
<p>In writing an <code>emeasure</code> C snippet, bear in mind that:
</p>

<ol>
<li>
<p> The goal of such a snippet is to fill variables named <code>E_y</code> with the conditional expectations of observables <code>y</code>.
Accordingly, there should be one assignment of <code>E_y</code> for each observable <code>y</code>.
</p>
</li>
<li>
<p> In addition to the states, parameters, and covariates (if any), the variable <code>t</code>, containing the time of the observation, will be defined in the context in which the snippet is executed.
</p>
</li>
</ol>
<p>The demos and the tutorials on the <a href="https://kingaa.github.io/pomp/">package website</a> give examples.
</p>
<p>It is also possible, though less efficient, to specify <code>emeasure</code> using an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function.
In this case, specify the measurement model expectation by furnishing </p>
<pre>
  emeasure = f</pre>
<p>to <code>pomp</code>, where <code>f</code> is an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> function.
The arguments of <code>f</code> should be chosen from among the state variables, parameters, covariates, and time.
It must also have the argument <code>...</code>.
<code>f</code> must return a named numeric vector of length equal to the number of observable variables.
The names should match those of the observable variables.
</p>


<h3>Default behavior</h3>

<p>The default <code>emeasure</code> is undefined.
It will yield missing values (<code>NA</code>).
</p>


<h3>Note for Windows users</h3>

<p>Some Windows users report problems when using C snippets in parallel computations.
These appear to arise when the temporary files created during the C snippet compilation process are not handled properly by the operating system.
To circumvent this problem, use the <code>cdir</code> and <code>cfile</code> options to cause the C snippets to be written to a file of your choice, thus avoiding the use of temporary files altogether.
</p>


<h3>See Also</h3>

<p><code>emeasure</code>
</p>
<p>More on implementing POMP models: 
<code>Csnippet</code>,
<code>accumvars</code>,
<code>basic_components</code>,
<code>betabinomial</code>,
<code>covariates</code>,
<code>dinit_spec</code>,
<code>dmeasure_spec</code>,
<code>dprocess_spec</code>,
<code>eulermultinom</code>,
<code>parameter_trans()</code>,
<code>pomp-package</code>,
<code>pomp_constructor</code>,
<code>prior_spec</code>,
<code>rinit_spec</code>,
<code>rmeasure_spec</code>,
<code>rprocess_spec</code>,
<code>skeleton_spec</code>,
<code>transformations</code>,
<code>userdata</code>,
<code>vmeasure_spec</code>
</p>


</div>