<div class="container">

<table style="width: 100%;"><tr>
<td>abc.precmed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the area between curves from the <code>"precmed"</code> object</h2>

<h3>Description</h3>

<p>Compute the area between curves (ABC) for each scoring method in the <code>"precmed"</code> object.
This should be run only after results of <code>catecv()</code> have been obtained.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'precmed'
abc(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>"precmed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments (currently unused).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The ABC is the area between a validation curve and the overall ATE in the validation set.
It is calculated for each scoring method separately. Higher ABC values are preferable as they
indicate that more treatment effect heterogeneity is captured by the scoring method.
Negative values of ABC are possible if segments of the validation curve cross the overall ATE line.
The ABC is calculated with the <code>auc()</code> in <code>utility.R</code> with a natural
cubic spline interpolation. The calculation of the ABC is always based on validation curves based on
100 proportions equally spaced from <code>min(prop.cutoff)</code> to <code>max(prop.cutoff)</code>.
</p>
<p>The ABC is a metric to help users select the best scoring method in terms of capturing treatment
effect heterogeneity in the data. It should be used in complement to the visual inspection of
the validation curves in the validation set in <code>plot()</code>.
</p>


<h3>Value</h3>

<p>Returns a matrix of numeric values with number of columns equal to the number cross-validation
iteration and number of rows equal to the number of scoring methods in <code>x</code>.
</p>


<h3>References</h3>

<p>Zhao, L., Tian, L., Cai, T., Claggett, B., &amp; Wei, L. J. (2013).
<em>Effectively selecting a target population for a future comparative study.
Journal of the American Statistical Association, 108(502), 527-539.</em>
</p>


<h3>See Also</h3>

<p><code>catecv()</code> function and <code>plot()</code>, <code>boxplot()</code> methods for
<code>"precmed"</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Count outcome
cv_count &lt;- catecv(response = "count",
                   data = countExample,
                   score.method = "poisson",
                   cate.model = y ~ age + female + previous_treatment +
                                previous_cost + previous_number_relapses +
                                offset(log(years)),
                   ps.model = trt ~ age + previous_treatment,
                   higher.y = FALSE, cv.n = 5, verbose = 1)

# ABC of the validation curves for each method and each CV iteration
abc(cv_count)

# Survival outcome
library(survival)
cv_surv &lt;- catecv(response = "survival",
                  data = survivalExample,
                  score.method = c("poisson", "randomForest"),
                  cate.model = Surv(y, d) ~ age + female + previous_cost +
                               previous_number_relapses,
                  ps.model = trt ~ age + previous_treatment,
                  higher.y = FALSE,
                  cv.n = 5)

# ABC of the validation curves for each method and each CV iteration
abc(cv_surv)



</code></pre>


</div>