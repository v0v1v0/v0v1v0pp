<div class="container">

<table style="width: 100%;"><tr>
<td>pretty_coefficients</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>pretty_coefficients</h2>

<h3>Description</h3>

<p>Creates a pretty kable of model coefficients including coefficient base levels, type III P.values, and variable importance.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pretty_coefficients(
  model_object,
  relativity_transform = NULL,
  relativity_label = "relativity",
  type_iii = NULL,
  conf.int = FALSE,
  vimethod = "model",
  spline_seperator = NULL,
  significance_level = 0.05,
  return_data = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model_object</code></td>
<td>
<p>Model object to create coefficient table for. Must be of type: <code>glm</code>, <code>lm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relativity_transform</code></td>
<td>
<p>String of the function to be applied to the model estimate to calculate the relativity, for example: 'exp(estimate)-1'. Default is for relativity to be excluded from output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relativity_label</code></td>
<td>
<p>String of label to give to relativity column if you want to change the title to your use case.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type_iii</code></td>
<td>
<p>Type III statistical test to perform. Default is none. Options are 'Wald' or 'LR'. Warning 'LR' can be computationally expensive. Test performed via <code>Anova</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>Set to TRUE to include confidence intervals in summary table. Warning, can be computationally expensive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vimethod</code></td>
<td>
<p>Variable importance method to pass to method of <code>vi</code>. Defaults to "model". Currently supports "permute" and "firm", pass any additional arguments to <code>vi</code> in ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spline_seperator</code></td>
<td>
<p>Separator to look for to identity a spline. If this input is not null, it is assumed any features with this separator are spline columns. For example an age spline from 0 to 25 you could use: AGE_0_25 and "_".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>significance_level</code></td>
<td>
<p>Significance level to P-values by in kable. Defaults to 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_data</code></td>
<td>
<p>Set to TRUE to return <code>data.frame</code> instead of creating <code>kable</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Any additional parameters to be past to  <code>vi</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>kable</code> if return_data = FALSE. <code>data.frame</code> if return_data = TRUE.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(dplyr)
library(prettyglm)
data('titanic')
columns_to_factor &lt;- c('Pclass',
                       'Sex',
                       'Cabin',
                       'Embarked',
                       'Cabintype',
                       'Survived')
meanage &lt;- base::mean(titanic$Age, na.rm=TRUE)

titanic  &lt;- titanic  %&gt;%
 dplyr::mutate_at(columns_to_factor, list(~factor(.))) %&gt;%
 dplyr::mutate(Age =base::ifelse(is.na(Age)==TRUE,meanage,Age)) %&gt;%
 dplyr::mutate(Age_0_25 = prettyglm::splineit(Age,0,25),
               Age_25_50 = prettyglm::splineit(Age,25,50),
               Age_50_120 = prettyglm::splineit(Age,50,120)) %&gt;%
 dplyr::mutate(Fare_0_250 = prettyglm::splineit(Fare,0,250),
               Fare_250_600 = prettyglm::splineit(Fare,250,600))

# A simple example
survival_model &lt;- stats::glm(Survived ~
                              Pclass +
                              Sex +
                              Age +
                              Fare +
                              Embarked +
                              SibSp +
                              Parch +
                              Cabintype,
                             data = titanic,
                             family = binomial(link = 'logit'))
pretty_coefficients(survival_model)

# A more complicated example with a spline and different importance method
survival_model3 &lt;- stats::glm(Survived ~
                                        Pclass +
                                        Age_0_25 +
                                        Age_25_50 +
                                        Age_50_120 +
                                        Sex:Fare_0_250 +
                                        Sex:Fare_250_600 +
                                        Embarked +
                                        SibSp +
                                        Parch +
                                        Cabintype,
                              data = titanic,
                              family = binomial(link = 'logit'))
pretty_coefficients(survival_model3,
                    relativity_transform = 'exp(estimate)-1',
                    spline_seperator = '_',
                    vimethod = 'permute',
                    target = 'Survived',
                    metric = "roc_auc",
                    event_level = 'second',
                    pred_wrapper = predict.glm,
                    smaller_is_better = FALSE,
                    train = survival_model3$data, # need to supply training data for vip importance
                    reference_class = 0)


</code></pre>


</div>