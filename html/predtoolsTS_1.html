<div class="container">

<table style="width: 100%;"><tr>
<td>modl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Building predictive models</h2>

<h3>Description</h3>

<p>This function give us the tools to build predictive models for time series.
</p>


<h3>Usage</h3>

<pre><code class="language-R">modl(tserie, method = "arima", algorithm = NULL, formula = NULL,
  initialWindow = NULL, horizon = NULL, fixedWindow = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tserie</code></td>
<td>
<p>A ts or prep object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A string. Current methods available are "arima" and "dataMining". Method "arima" is set as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm</code></td>
<td>
<p>A string. In case <code>method</code> is "dataMining", pick the algorithm you want to use. There is a complete list of available algorithms here (only regression type allowed): <a href="http://topepo.github.io/caret/train-models-by-tag.html">http://topepo.github.io/caret/train-models-by-tag.html</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>An integer vector. Contains the indexes from the time series wich will indicate how to extract the features. The last value will be the class index. Default value: c(1:16)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialWindow</code></td>
<td>
<p>An integer. The initial number of consecutive values in each training set sample. Default value: 30.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizon</code></td>
<td>
<p>An integer. The number of consecutive values in test set sample. Default value: 15.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixedWindow</code></td>
<td>
<p>A logical: if FALSE, the training set always start at the first sample and the training set size will vary over data splits. Default value: TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Returns an object <code>modl</code> which stores all the information related to
the final chosen model (errors, parameters, model).
</p>
<p>Currently this function covers two different methods: the widely know ARIMA
and the "not so used for prediction" data mining. For the data mining we make
use of the <code>caret</code> package.
</p>
<p>The <code>caret</code> package offers plenty of data mining algorithms.
For the data splitting here we use a rolling forecasting origin technique, wich
works better on time series.
</p>


<h3>Value</h3>

<p>A list is returned of class <code>modl</code> containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>tserie</code></td>
<td>
<p>Original time serie.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tserieDF</code></td>
<td>
<p>Time serie converted to data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method used to build the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm</code></td>
<td>
<p>If method is data mining, indicates wich algorithm was used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizon</code></td>
<td>
<p>Horizon for the splitting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Model result from <code>caret</code>. It is a list, result of the <code>caret::train</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errors</code></td>
<td>
<p>Contains three different metrics to evaluate the model.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Alberto Vico Moreno
</p>


<h3>References</h3>

<p><a href="http://topepo.github.io/caret/index.html">http://topepo.github.io/caret/index.html</a>
</p>


<h3>See Also</h3>


<p><code>prep</code>
<code>modl.arima</code>,
<code>modl.tsToDataFrame</code>,
<code>modl.trControl</code>,
<code>modl.dataMining</code>

</p>


<h3>Examples</h3>

<pre><code class="language-R">p &lt;- prep(AirPassengers)
modl(p,method='arima')
modl(p,method='dataMining',algorithm='rpart')
</code></pre>


</div>