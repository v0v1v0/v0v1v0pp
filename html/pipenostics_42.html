<div class="container">

<table style="width: 100%;"><tr>
<td>m325testbench</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Minenergo-325. Test bench of district heating network</h2>

<h3>Description</h3>

<p>Data describes a virtual test bench of branched district heating network
by exposing parameters associated with
<a href="https://docs.cntd.ru/document/902148459">Minenergo Order 325</a>.
They treat data as a snapshot of network state and use it
primarily for static thermal-hydraulic computations and topology effects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">m325testbench
</code></pre>


<h3>Format</h3>

<p>A data frame with 22 rows (number of nodes and incoming edges) and 15 variables:
</p>

<dl>
<dt>sender</dt>
<dd>
<p>An identifier of node which heat carrier flows out.
Type: any type that can be painlessly coerced to character
by <code>as.character</code>.
</p>
</dd>
<dt>acceptor</dt>
<dd>
<p>An identifier of node which heat carrier flows in. According to topology
of test bench considered this identifier should be unique for every row.
Type: any type that can be painlessly coerced to
character by <code>as.character</code>.
</p>
</dd>
<dt>temperature</dt>
<dd>
<p>Snapshot of thermal-hydraulic regime state: temperature of heat carrier
(water) sensor-measured on terminal acceptor node, [<em>Â°C</em>].
Type: <code>assert_double</code>. <code>NA</code>s are introduced for nodes
without temperature sensor.
</p>
</dd>
<dt>pressure</dt>
<dd>
<p>Snapshot of thermal-hydraulic regime state:
sensor-measured
<a href="https://en.wikipedia.org/wiki/Pressure_measurement#Absolute">absolute pressure</a>
of heat carrier (water) inside the pipe (i.e. acceptor's incoming edge),
[<em>MPa</em>].
Type: <code>assert_double</code>. <code>NA</code>s are introduced for nodes
without pressure sensor.
</p>
</dd>
<dt>flow_rate</dt>
<dd>
<p>Snapshot of thermal-hydraulic regime state:
sensor-measured amount of heat carrier (water) on terminal node that is
transferred by pipe (i.e. acceptor's incoming edge) during a period,
[<em>ton/hour</em>]. Type: <code>assert_double</code>.
<code>NA</code>s are introduced for nodes without flow rate sensor.
</p>
</dd>
<dt>d</dt>
<dd>
<p>internal diameter of pipe (i.e.diameter of acceptor's incoming edge),
[<em>m</em>].
Type: <code>assert_double</code>.
</p>
</dd>
<dt>len</dt>
<dd>
<p>pipe length (i.e. length of acceptor's incoming edge), [<em>m</em>].
Type: <code>assert_double</code>.
</p>
</dd>
<dt>year</dt>
<dd>
<p>year when the pipe (i.e. acceptor's incoming edge) is put in operation after
laying or total overhaul.
Type: <code>assert_integerish</code>.
</p>
</dd>
<dt>insulation</dt>
<dd>
<p>identifier of insulation that covers the exterior of pipe (i.e. acceptor's
incoming edge):
</p>

<dl>
<dt><code>0</code></dt>
<dd>
<p>no insulation</p>
</dd>
<dt><code>1</code></dt>
<dd>
<p>foamed polyurethane or analogue</p>
</dd>
<dt><code>2</code></dt>
<dd>
<p>polymer concrete</p>
</dd>
</dl>
<p>Type: <code>assert_integerish</code>.
</p>
</dd>
<dt>laying</dt>
<dd>
<p>type of pipe laying depicting the position of pipe in space. Only five
types of pipe laying are considered:
</p>

<ul>
<li> <p><code>air</code>,
</p>
</li>
<li> <p><code>channel</code>,
</p>
</li>
<li> <p><code>room</code>,
</p>
</li>
<li> <p><code>tunnel</code>,
</p>
</li>
<li> <p><code>underground</code>.
</p>
</li>
</ul>
<p>Type: <code>assert_character</code>.
</p>
</dd>
<dt>beta</dt>
<dd>
<p>logical indicator: should they consider additional heat loss of fittings
located on this pipe (i.e. acceptor's incoming edge)?
Type: <code>assert_logical</code>.
</p>
</dd>
<dt>exp5k</dt>
<dd>
<p>logical indicator for regime of pipe (i.e. acceptor's incoming edge): if
<code>TRUE</code> pipe is operated more that <code>5000</code> hours per year.
Type: <code>assert_logical</code>.
</p>
</dd>
<dt>roughness</dt>
<dd>
<p>roughness of internal wall of pipe (i.e. acceptor's incoming edge),
[<em>m</em>].
Type: <code>assert_double</code>.
</p>
</dd>
<dt>inlet</dt>
<dd>
<p>elevation of pipe inlet, [<em>m</em>].
Type: <code>assert_double</code>.
</p>
</dd>
<dt>outlet</dt>
<dd>
<p>elevation of pipe outlet, [<em>m</em>].
Type: <code>assert_double</code>.
</p>
</dd>
</dl>
<h3>Details</h3>

<p>The test bench has the next configuration:
</p>
<p><img src="../help/figures/m325testbench.png" alt="m325testbench.png"></p>
<p>As it may be seen from the figure there is a particularity in topology of
the provided directed graph: each node has only single ancestor. Hence one
of isomorphic representation of such directed graph is a
<code>data.frame</code> in which each row describes a node along with its
incoming edge and each column contains an attribute value for that node or
an attribute value for its incoming edge.
</p>
<p>Since they deal with incoming edges and hence nodes are all flow acceptors
the natural enumeration of nodes is by acceptor id.
</p>
<p>Note that to leverage
<a href="https://cran.r-project.org/package=igraph">igraph</a>
functionality for plotting there is a zero sender of flow.
</p>


<h3>See Also</h3>

<p>Other Minenergo: 
<code>m278hlair()</code>,
<code>m278hlcha()</code>,
<code>m278hlund()</code>,
<code>m278insdata</code>,
<code>m278inshcm()</code>,
<code>m278soildata</code>,
<code>m325beta()</code>,
<code>m325nhl()</code>,
<code>m325nhldata</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> library(pipenostics)

# Do not hesitate to use `data.table` and `igraph` for larger chunks of network.

# Check for declared topology isomorphism:
stopifnot(
  all(!duplicated(m325testbench$acceptor))
)

# Do all terminal nodes have sensor-measured regime parameters?:
terminal_nodes &lt;- subset(m325testbench, !(acceptor %in% sender))
stopifnot(
  all(!is.na(subset(terminal_nodes, select = c(temperature, pressure, flow_rate))))
)

</code></pre>


</div>