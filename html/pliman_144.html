<div class="container">

<table style="width: 100%;"><tr>
<td>plot_index_shp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot rectangles colored by a quantitative attribute and overlay on an RGB
image</h2>

<h3>Description</h3>

<p>This function plots rectangles on top of an RGB image, where each rectangle
is colored based on a quantitative variable. The quantitative variable is
specified in the <code>attribute</code> argument and should be present in the
<code>object_index</code> of the <code>object</code> computed using <code>analyze_objects_shp()</code>. The
rectangles are colored using a color scale.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_index_shp(
  object,
  attribute = "coverage",
  color = c("red", "green"),
  viewer = c("mapview", "base"),
  max_pixels = 5e+05,
  downsample = NULL,
  downsample_fun = NULL,
  alpha = 0.5,
  legend.position = "bottom",
  na.color = "gray",
  classes = 6,
  round = 3,
  horiz = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object computed with <code>analyze_objects_shp()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attribute</code></td>
<td>
<p>The name of the quantitative variable in the
<code>object_index</code> to be used for coloring the rectangles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>A vector of two colors to be used for the color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewer</code></td>
<td>
<p>The viewer option. If not provided, the value is retrieved
using <code>get_pliman_viewer()</code>. This option controls the type of viewer to use
for interactive plotting. The available options are <code>"base"</code> and
<code>"mapview"</code>. If set to "base", the base R graphics system is used for
interactive plotting. If set to "mapview", the mapview package is used. To
set this argument globally for all functions in the package, you can use
the <code>set_pliman_viewer()</code> function. For example, you can run
<code>set_pliman_viewer("mapview")</code> to set the viewer option to "mapview" for
all functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_pixels</code></td>
<td>
<p>integer &gt; 0. Maximum number of cells to plot the index. If
<code>max_pixels &lt; npixels(img)</code>, downsampling is performed before plotting the
index. Using a large number of pixels may slow down the plotting time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downsample</code></td>
<td>
<p>integer; for each dimension the number of
pixels/lines/bands etc that will be skipped; Defaults to <code>NULL</code>, which will
find the best downsampling factor to approximate the <code>max_pixels</code> value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>downsample_fun</code></td>
<td>
<p>function; if given, downsampling will apply
<code style="white-space: pre;">⁠downsample_fun`` ⁠</code> to each of the the subtiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The transparency level of the rectangles' color (between 0 and 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.position</code></td>
<td>
<p>The position of the color legend, either
<code>"bottom"</code> or <code>"right"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.color</code></td>
<td>
<p>The color to be used for rectangles with missing values in
the quantitative variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classes</code></td>
<td>
<p>The number of classes in the color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round</code></td>
<td>
<p>The number of decimal places to round the legend values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horiz</code></td>
<td>
<p>Logical, whether the legend should be horizontal (<code>TRUE</code>)
or vertical (<code>FALSE</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function plots rectangles colored by the specified quantitative
variable on top of the RGB image and shows the continuous color legend
outside the plot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(interactive()){
library(pliman)

# Computes the DGCI index for each flax leaf
flax &lt;- image_pliman("flax_leaves.jpg", plot =TRUE)
res &lt;-
   analyze_objects_shp(flax,
                       buffer_x = 0.2,
                       buffer_y = 0.2,
                       nrow = 3,
                       ncol = 5,
                       plot = FALSE,
                       object_index = "DGCI")
plot(res$final_image)
plot_index_shp(res)
}

</code></pre>


</div>