<div class="container">

<table style="width: 100%;"><tr>
<td>praatanimation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make animations from Praat Picture-style plots of acoustic data</h2>

<h3>Description</h3>

<p>Animate some aspect of a Praat Picture-style plot
of acoustic data, potentially aligned with transcriptions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">praatanimation(
  sound,
  width = 1080,
  height = 720,
  frameRate = 24,
  n_frames = 50,
  loop = TRUE,
  outputFile = NULL,
  outputFormat = "gif",
  useViewer = TRUE,
  verbose = TRUE,
  pointsize = 25,
  start = 0,
  end = 0,
  spec_freqRange = c(0, 5000),
  spec_windowLength = 0.005,
  spec_dynamicRange = 50,
  spec_timeStep = 1000,
  pitch_timeStep = NULL,
  pitch_floor = 50,
  pitch_ceiling = 600,
  pitch_freqRange = c(50, 500),
  pitch_semitonesRe = 100,
  formant_timeStep = NULL,
  formant_windowLength = 0.025,
  formant_dynamicRange = 30,
  formant_freqRange = c(50, 5500),
  intensity_timeStep = NULL,
  intensity_minPitch = 100,
  intensity_range = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sound</code></td>
<td>
<p>String giving the file name of a sound file with the .wav
extension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>Number giving the desired width of the resulting animation in
pixels; default is <code>1080</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>Number giving the desired height of the resulting animation in
pixels; default is <code>720</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frameRate</code></td>
<td>
<p>Number giving the desired frame rate of the resulting
animation in Hz; default is <code>24</code>, i.e. 24 frames per second.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_frames</code></td>
<td>
<p>Number giving the desired number of frames of the resulting
animation; default is <code>50</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loop</code></td>
<td>
<p>Logical; should the animation be looped? Default is <code>TRUE</code>.
Ignored when <code>outputType</code> is <code>mp4</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputFile</code></td>
<td>
<p>String giving the desired file name of the animation.
Default is <code>NULL</code>, in which case GIF files are named <code>praatgif.gif</code> and
MP4 files are named <code>praatvid.mp4</code>. If you choose a different name, make
sure that the file extension matches the selected <code>outputType</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputFormat</code></td>
<td>
<p>String giving the desired file type; default is <code>gif</code>,
the only other option is <code>mp4</code>.S</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useViewer</code></td>
<td>
<p>Logical; should the animation be shown in the Viewer pane in
RStudio? Default is <code>TRUE</code>; if true, the animation is only saved in a
temporary directory, but can be downloaded from a browser.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical; should status messages be printed in the console as
figures are being generated? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointsize</code></td>
<td>
<p>Number; which point size should be used for text in the
animation? Default is <code>25</code>. See <code>grDevices::png()</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>Start time (in seconds) of desired plotted area. Default is <code>0</code>.
Alternatively, a vector giving the first and last start time in the
animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>End time (in seconds) of desired plotted area. Default is <code>0</code>
(= the entire file). Alternatively, a vector giving the first and last
end time in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec_freqRange</code></td>
<td>
<p>Vector of two integers giving the frequency range to be
used for plotting spectrograms. Default is <code>c(0,5000)</code>. Alternatively, a
vector of four integers giving the first and last lowest frequency, followed
by the first and last highest frequency in the animation; i.e.,
<code>c(0,0,5000,10000)</code> will produce an animation where the upper frequency
boundary gradually increases from 5000 Hz to 10,000 Hz.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec_windowLength</code></td>
<td>
<p>Window length in seconds for generating spectrograms.
Default is <code>0.005</code>. Alternatively, a vector giving the first and last
window lengths in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec_dynamicRange</code></td>
<td>
<p>Dynamic range in dB for generating spectrograms. The
maximum intensity minus <code>spec_dynamicRange</code> will all be printed in white.
Default is <code>50</code>. Alternatively, a vector giving the first and last
dynamic range values in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spec_timeStep</code></td>
<td>
<p>How many time steps should be calculated for spectrograms?
Default is <code>1000</code>. Alternatively, a vector giving the first and last
time step values in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch_timeStep</code></td>
<td>
<p>Measurement interval in seconds for tracking pitch.
Default is <code>NULL</code>, in which case the measurement interval is equal to
0.75 / <code>pitch_floor</code>. Alternatively, a vector giving the first and last
measurement intervals in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch_floor</code></td>
<td>
<p>Frequency in Hz; no pitch candidates considered below
this frequency. Default is <code>75</code>. Alternatively, a vector giving the first and
last pitch floors to be used in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch_ceiling</code></td>
<td>
<p>Frequency in Hz; no pitch candidates considered above
this frequency. Default is <code>600</code>. Alternatively, a vector giving the first and
last pitch ceilings to be used in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch_freqRange</code></td>
<td>
<p>Vector of two integers giving the frequency range to be
used for producing pitch plots. Default is <code>c(50,500)</code>. If the frequency
scales <code>semitones</code> or <code>erb</code> are used, the pitch range is automatically reset
to the Praat defaults for these scales (<code>c(-12,30)</code> and <code>c(0,10)</code>,
respectively). Alternatively, a
vector of four integers giving the first and last lowest frequency, followed
by the first and last highest frequency in the animation
(see <code>spec_freqRange</code> for usage details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pitch_semitonesRe</code></td>
<td>
<p>Frequency in Hz giving the reference level for
converting pitch frequency to semitones. Default is <code>100</code>.
Alternatively, a vector giving the first and
last semitone reference levels to be used in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formant_timeStep</code></td>
<td>
<p>Measurement interval in seconds for tracking formants.
Default is <code>NULL</code>, in which case the measurement interval is equal to
<code>formant_windowLength</code> / 4. Alternatively, a vector giving the first and
last measurement intervals to be used in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formant_windowLength</code></td>
<td>
<p>The effective duration of the analysis window
used for tracking formants in seconds; the actual duration of the
analysis window is twice this value. Alternatively, a vector giving the first
and last window lengths to be used in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formant_dynamicRange</code></td>
<td>
<p>Dynamic range in dB for producing formant plots.
When a formant plot of <code>formant_plotType='speckle'</code> is drawn, no formants are
shown in frames with intensity level <code>formant_dynamicRange</code> below the maximum
intensity. Default is <code>30</code>. If set to <code>0</code>, all formants are shown.
Alternatively, a vector giving the first
and last dynamic range levels to be used in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formant_freqRange</code></td>
<td>
<p>Vector of two integers giving the frequency range to
be used for producing formant plots. Default is <code>c(0,5500)</code>. Alternatively, a
vector of four integers giving the first and last lowest frequency, followed
by the first and last highest frequency in the animation
(see <code>spec_freqRange</code> for usage details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensity_timeStep</code></td>
<td>
<p>Measurement interval in seconds for tracking
intensity. Default is <code>NULL</code>, in which case the measurement interval is
equal to 0.8 * <code>intensity_minPitch</code>. Alternatively, a vector giving the first
and last measurement intervals to be used in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensity_minPitch</code></td>
<td>
<p>Lowest pitch in Hz used when calculating
intensity; default is <code>100</code>. Alternatively, a vector giving the first
and last minimum pitch levels to be used in the animation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intensity_range</code></td>
<td>
<p>Vector of two integers giving the intensity range to be
used for producing intensity plots. Default is <code>NULL</code>, in which case the
range is simply the minimum and maximum levels in the curve. Alternatively, a
vector of four integers giving the first and last lowest level, followed
by the first and last highest level in the animation
(see <code>spec_freqRange</code> for usage details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>praatpicture</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>No return value, produces an animated figure.
</p>


<h3>See Also</h3>

<p>This function is a wrapper for either <code>gifski::save_gif()</code>
or <code>av::av_capture_graphics()</code> used to
produce animations based on <code>praatpicture()</code>. For more detail on your
options, see the <code>praatpicture()</code> help file.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
datapath &lt;- system.file('extdata', package='praatpicture')
soundFile &lt;- paste0(datapath, '/1.wav')

# Show increasing frequency range
praatanimation(soundFile, spec_freqRange=c(0,0,4000,12000))

# Transition from narrowband to broadband spectrogram
praatanimation(soundFile, spec_windowLength=c(0.005,0.03))

# Etc.

## End(Not run)
</code></pre>


</div>