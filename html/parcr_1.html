<div class="container">

<table style="width: 100%;"><tr>
<td>%or%</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Applying alternative parsers</h2>

<h3>Description</h3>

<p>The <code style="white-space: pre;">⁠%or%⁠</code> combinator <code>(p1 %or% p2)</code> returns the result of <code>p1</code> if <code>p1</code> is
successful or, if <code>p1</code> fails that of <code>p2</code> if <code>p2</code> parses successfully,
otherwise it returns a <code>fail</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">p1 %or% p2
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>p1, p2</code></td>
<td>
<p>two parsers.</p>
</td>
</tr></table>
<h3>Value</h3>

<p>A parser.
</p>


<h3>Pseudocode</h3>

<pre>
(p1 %or% p2)(x):
  if p1(x)==[] then
    if p2(x)==[] then fail()(x) else p2(x)
  else p1(x)
</pre>
<p>where <code style="white-space: pre;">⁠[]⁠</code> is the empty list.
</p>


<h3>Examples</h3>

<pre><code class="language-R">(literal("A") %or% literal("a"))(LETTERS[1:5]) # success on first parser
(literal("A") %or% literal("a"))(letters[1:5]) # success on second parser
(literal("A") %or% literal("a"))(LETTERS[2:6]) # failure
starts_with_a &lt;- function(x) grepl("^a",x[1])
# success on both parsers, but returns result of p1 only
(literal("a") %or% satisfy(starts_with_a)) (letters[1:5])

</code></pre>


</div>