<div class="container">

<table style="width: 100%;"><tr>
<td>format_interval</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make a period character vector</h2>

<h3>Description</h3>

<p>After applying <code>thicken</code> all the observations of a period are mapped
to a single time point. This function will convert a datetime variable to
a character vector that reflects the period, instead of a single time point.
<code>strftime</code> is used to format the start and the end of the interval.
</p>


<h3>Usage</h3>

<pre><code class="language-R">format_interval(
  x,
  start_format = "%Y-%m-%d",
  end_format = start_format,
  sep = " ",
  end_offset = 0,
  units_to_last = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector of class <code>Date</code>, <code>POSIXct</code> or <code>POSIXlt</code>,
of which the values are unique.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_format</code></td>
<td>
<p>String to format the start values of each period, to be used
in <code>strftime</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_format</code></td>
<td>
<p>String to format the end values of each period, to be used
in <code>strftime</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>Character string that separates the <code>start_format</code> and the
<code>end_format</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_offset</code></td>
<td>
<p>Units in days if <code>x</code> is <code>Date</code>, or in seconds if
<code>x</code> is <code>POSIXct</code> or <code>POSIXlt</code>.
Will be subtracted from the end of each period.
If 0, the end of the previous period is equal to the start of the next.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units_to_last</code></td>
<td>
<p>To determine the formatting of the last value in <code>x</code>,
the length of the last period has to be specified. If <code>NULL</code> the
function guesses based on the interval of <code>x</code>.
Specify in days when <code>x</code> is <code>Date</code>, or in seconds when <code>x</code> is
<code>POSIXct</code> or <code>POSIXlt</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The end of the periods will be determined by the next unique value
in <code>x</code>. It does so without regarding the interval of <code>x</code>. If a specific
interval is desired, <code>thicken</code> and / or <code>pad</code> should first be
applied to create an equally spaced datetime variable.
</p>


<h3>Value</h3>

<p>A character vector showing the interval.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
library(ggplot2)
plot_set &lt;- emergency %&gt;%
  head(500) %&gt;%
  thicken("hour", "h") %&gt;%
  count(h)

# this will show the data on the full hour
ggplot(plot_set, aes(h, n)) + geom_col()

# adding a character to indicate the hours of the interval.
plot_set %&gt;%
  mutate(h_int = format_interval(h, "%H", sep = "-"))
</code></pre>


</div>