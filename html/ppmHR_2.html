<div class="container">

<table style="width: 100%;"><tr>
<td>checkBalanceSite</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Checking of site-specific covariate balance before and after weighting</h2>

<h3>Description</h3>

<p>This function checks for site-specific covariate balance before and after weighting using the mean of baseline covariates in the original unweighted and the inverse probability weighted samples. A logistic regression model is used to estimate the propensity scores with an option to do weight truncation. This is a function for data-contributing sites.
</p>


<h3>Usage</h3>

<pre><code class="language-R">checkBalanceSite(data, indA, indX, truncP = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An individual-level dataset in the form of R data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indA</code></td>
<td>
<p>A column name indicating the exposure/treatment variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indX</code></td>
<td>
<p>A vector of column names indicating the baseline covariates to be included in the propensity score model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>truncP</code></td>
<td>
<p>A value between 0 and 1 indicating the percentile used for weight truncation. The default is 1, corresponding to no weight truncation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame of balance checking results. Each covariate has a row of six numbers: the mean of this covariate for exposed individuals in the original sample, for unexposed individuals in the original sample, for exposed individuals in the weighted sample with conventional weights, for unexposed individuals in the weighted sample with conventional weights, for exposed individuals in the weighted sample with stabilized weights, and for unexposed individuals in the weighted sample with stabilized weights.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#load an example dataset site1.RData in the package
#site1 contains individual-level data of data-contributing site 1
data(site1)
#data-contributing site 1 checks covariate balance before and after weighting,
#with logistic propensity score model A~X1+X2+X3+X4+X5
#no weight truncation
checkBalanceSite(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=1)
#with truncation: set weights larger than the 90% quantile of original weights to the 90% quantile
checkBalanceSite(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=0.9)

</code></pre>


</div>