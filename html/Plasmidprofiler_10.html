<div class="container">

<table style="width: 100%;"><tr>
<td>main</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Main: Run everything</h2>

<h3>Description</h3>

<p>Run all the interim functions to produce outputs.
Can be run in order individually if desired.
</p>

<ol>
<li> <p><code>read_blast</code> Import the blast file, add column names
</p>
</li>
<li> <p><code>blast_parser</code> Parse imported file
</p>
</li>
<li> <p><code>amr_positives</code> Detect AMR positive plasmids
</p>
</li>
<li> <p><code>read_srst2</code> Import SRST2 file
</p>
</li>
<li> <p><code>combine_results</code> Combine SRST2 and Blast
</p>
</li>
<li> <p><code>zetner_score</code> Add Sureness value
</p>
</li>
<li> <p><code>amr_presence</code> Add detected AMR to report
</p>
</li>
<li> <p><code>subsampler</code> Apply filters to report
</p>
</li>
<li> <p><code>order_report</code> Arrange report
</p>
</li>
<li> <p><code>save_files</code> Save JPG and CSV
</p>
</li>
<li> <p><code>create_plotly</code> Creates plot
</p>
</li>
<li> <p><code>save_files</code> Save HTML plot
</p>
</li>
</ol>
<h3>Usage</h3>

<pre><code class="language-R">main(blast.file, srst2.file, coverage.filter = NA, sureness.filter = NA,
  length.filter = NA, combine.inc = NA, plotly.user, plotly.api,
  post.plotly = NA, anonymize = NA, main.title = "Plasmid Profiles")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>blast.file</code></td>
<td>
<p>Either system location of blast results (tsv) or dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>srst2.file</code></td>
<td>
<p>Either system location of srst2 results (tsv) or dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coverage.filter</code></td>
<td>
<p>Filters results below percent read coverage specified (eg. 80)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sureness.filter</code></td>
<td>
<p>Filters results below sureness specified (eg. 0.75)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length.filter</code></td>
<td>
<p>Filters plasmid sequences shorter than length specified (eg. 10000)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>combine.inc</code></td>
<td>
<p>Flag to combine incompatibility sub-groups into their main type (set to 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotly.user</code></td>
<td>
<p>Enter your plotly info to upload to (<a href="https://plot.ly/feed/">Plotly</a>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotly.api</code></td>
<td>
<p>Enter your plotly info to upload to (<a href="https://plot.ly/feed/">Plotly</a>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post.plotly</code></td>
<td>
<p>Flag to post to (<a href="https://plot.ly/feed/">Plotly</a>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anonymize</code></td>
<td>
<p>Flag to post to anonymize plasmids and samples (set to 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.title</code></td>
<td>
<p>A title for the figure</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Saves output files in working directory
</p>


<h3>Examples</h3>

<pre><code class="language-R">main(blastdata,
srst2data,
coverage.filter=NA,
sureness.filter=0.75,
length.filter=10000,
main.title="Example Results")
</code></pre>


</div>