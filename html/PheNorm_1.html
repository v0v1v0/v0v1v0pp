<div class="container">

<table style="width: 100%;"><tr>
<td>PheNorm.Prob</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit the phenotyping algorithm PheNorm using EHR features</h2>

<h3>Description</h3>

<p>The function requires as input:
* a surrogate, such as the ICD code
* the healthcare utilization
It can leverage other EHR features (optional) to assist risk prediction.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PheNorm.Prob(
  nm.logS.ori,
  nm.utl,
  dat,
  nm.X = NULL,
  corrupt.rate = 0.3,
  train.size = 10 * nrow(dat)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nm.logS.ori</code></td>
<td>
<p>name of the surrogates (log(ICD+1), log(NLP+1) and log(ICD+NLP+1))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nm.utl</code></td>
<td>
<p>name of healthcare utilization (e.g. note count, encounter_num etc)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>all data columns need to be log-transformed and need column names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nm.X</code></td>
<td>
<p>additional features other than the main ICD and NLP</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corrupt.rate</code></td>
<td>
<p>rate for random corruption denoising, between 0 and 1, default value=0.3</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train.size</code></td>
<td>
<p>size of training sample, default value 10 * nrow(dat)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list containing probability and beta coefficient
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
set.seed(1234)
fit.dat &lt;- read.csv("https://raw.githubusercontent.com/celehs/PheNorm/master/data-raw/data.csv")
fit.phenorm=PheNorm.Prob("ICD", "utl", fit.dat, nm.X = NULL,
                          corrupt.rate=0.3, train.size=nrow(fit.dat));
head(fit.phenorm$probs)

## End(Not run)
</code></pre>


</div>