<div class="container">

<table style="width: 100%;"><tr>
<td>prep_hexgrid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates hexagon grid cells over study area</h2>

<h3>Description</h3>

<p>Creates hexagon grid cells of given area over particular study area.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prep_hexgrid(outline, area, clip_level = 0, point_over = NULL, point_n = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>outline</code></td>
<td>
<p>SpatialPolygon or SpatialPolygonDataFrame that defines the area to draw hexgrid cells over</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>scaler for the area of the grid cells in whatever units the outline is in</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clip_level</code></td>
<td>
<p>, you can clip grid cells if they are not entirely inside the outlined area, defaults to <code>0</code>
so any cells at least touching are included. Specify as proportion (so should not be greater than 1!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_over</code></td>
<td>
<p>default <code>NULL</code>, but can pass in SpatialPoints and will only include grid cells that have at least one point</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_n</code></td>
<td>
<p>default 0, only used if passing in <code>point_over</code>. Will return only grid cells with greater than <code>point_n</code> points</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This generates a vector hex grid over the study area of interest. Hexgrids are sometimes preferred over square grid cells to
prevent aliasing like artifacts in maps (runs of particular values).
</p>


<h3>Value</h3>

<p>A SpatialPolygonDataFrame object with columns
</p>

<ul>
<li> <p><code>id</code>, integer id value (not the same as row.names!)
</p>
</li>
<li> <p><code>x</code>, x centroid of grid cell
</p>
</li>
<li> <p><code>y</code>, y centroid of grid cell
</p>
</li>
<li> <p><code>cover</code>, optional (only if clip_level &gt; 0) proportion that grid cell is covered by <code>outline</code>
</p>
</li>
<li> <p><code>count</code>, optional (only if you pass in <code>point_over</code>), total N of points over
</p>
</li>
</ul>
<h3>References</h3>

<p>Circo, G. M., &amp; Wheeler, A. P. (2021). Trauma Center Drive Time Distances and Fatal Outcomes among Gunshot
Wound Victims. <em>Applied Spatial Analysis and Policy</em>, 14(2), 379-393.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(sp) #for sp plot methods
#Base example, some barely touch
hnyc &lt;- prep_hexgrid(nyc_bor,area=20000^2)
plot(hnyc)
plot(nyc_bor,border='red',add=TRUE)
#Example clipping hexagons that have dongle hexagons
hex_clip &lt;- prep_hexgrid(nyc_bor,area=20000^2,clip_level=0.3)
plot(hex_clip,border='blue')
plot(nyc_bor,border='red',add=TRUE)
summary(hnyc)

#Example clipping hexagons with no overlap crimes
hnyc &lt;- prep_hexgrid(nyc_bor,area=4000^2,point_over=nyc_shoot)
plot(hnyc)
plot(nyc_shoot,pch='.',add=TRUE)


</code></pre>


</div>