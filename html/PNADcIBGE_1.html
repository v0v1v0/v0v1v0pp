<div class="container">

<table style="width: 100%;"><tr>
<td>get_pnadc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Download, label, deflate and create survey design object for PNADC microdata</h2>

<h3>Description</h3>

<p>Core function of package. With this function only, the user can download a PNADC microdata from a year or quarter and get a sample design object ready to use with <code>survey</code> package functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_pnadc(
  year,
  quarter = NULL,
  interview = NULL,
  topic = NULL,
  selected = FALSE,
  vars = NULL,
  defyear = NULL,
  defperiod = NULL,
  labels = TRUE,
  deflator = TRUE,
  design = TRUE,
  reload = TRUE,
  curlopts = list(),
  savedir = tempdir()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>The year of the data to be downloaded. Must be a number between 2012 and current year. Vector not accepted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quarter</code></td>
<td>
<p>The quarter of the year of the data to be downloaded. Must be number from 1 to 4. Vector not accepted. If <code>NULL</code>, <code>interview</code> or <code>topic</code> number must be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interview</code></td>
<td>
<p>The interview number of the data to be downloaded. Must be number from 1 to 5. Vector not accepted. Using this option will get annual per interview data. If <code>NULL</code>, <code>quarter</code> or <code>topic</code> number must be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topic</code></td>
<td>
<p>The quarter related to the topic of the data to be downloaded. Must be number from 1 to 4. Vector not accepted. Using this option will get annual per topic data. If <code>NULL</code>, <code>quarter</code> or <code>interview</code> number must be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selected</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, the specific questionnaire for selected resident will be used. If <code>FALSE</code>, the basic questionnaire for household and residents will be used. For more information about these supplemental topics, please check the survey official website.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>Vector of variable names to be kept for analysis. Default is to keep all variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defyear</code></td>
<td>
<p>The year of the deflator data to be downloaded for annual microdata. Must be a number between 2017 and the last available year. Vector not accepted. If <code>NULL</code>, the deflator year will be defined as the last year available for interview microdata, or as equal to <code>year</code> for topic microdata. When <code>quarter</code> is defined, this argument will be ignored. This argument will be used only if <code>deflator</code> was set as <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>defperiod</code></td>
<td>
<p>The quarter period of the deflator data to be downloaded for annual per topic microdata. Must be number from 1 to 4. Vector not accepted. If <code>NULL</code>, the deflator period will be defined as equal to <code>topic</code>. When <code>quarter</code> or <code>interview</code> is defined, this argument will be ignored. This argument will be used only if <code>deflator</code> was set as <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, categorical variables will presented as factors with labels corresponding to the survey's dictionary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deflator</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, deflator variables will be available for use in the microdata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, will return an object of class <code>survey.design</code> or <code>svyrep.design</code>. It is strongly recommended to keep this parameter as <code>TRUE</code> for further analysis. If <code>FALSE</code>, only the microdata will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reload</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, will re-download the files even if they already exist in the save directory. If <code>FALSE</code>, will be checked if the files already exist in the save directory and the download will not be performed repeatedly, be careful with coinciding names of microdata files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>curlopts</code></td>
<td>
<p>A named list object identifying the curl options for the handle when using functions from <code>RCurl</code> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savedir</code></td>
<td>
<p>Directory to save the downloaded data. Default is to use a temporary directory.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>survey.design</code> or <code>svyrep.design</code> with the data from PNADC and its sample design, or a tibble with selected variables of the microdata, including the necessary survey design ones.
</p>


<h3>Note</h3>

<p>For more information, visit the survey official website &lt;<a href="https://www.ibge.gov.br/estatisticas/sociais/trabalho/9171-pesquisa-nacional-por-amostra-de-domicilios-continua-mensal.html?=&amp;t=o-que-e">https://www.ibge.gov.br/estatisticas/sociais/trabalho/9171-pesquisa-nacional-por-amostra-de-domicilios-continua-mensal.html?=&amp;t=o-que-e</a>&gt; and consult the other functions of this package, described below.
</p>


<h3>See Also</h3>

<p>read_pnadc for reading PNADC microdata.<br> pnadc_labeller for labeling categorical variables from PNADC microdata.<br> pnadc_deflator for adding deflator variables to PNADC microdata.<br> pnadc_design for creating PNADC survey design object.<br> pnadc_example for getting the path of the quarter PNADC toy example files.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
pnadc.svy &lt;- get_pnadc(year=2017, quarter=4, selected=FALSE, vars=c("VD4001","VD4002"),
                       defyear=2017, defperiod=4, labels=TRUE, deflator=TRUE, design=TRUE,
                       reload=TRUE, curlopts=list(), savedir=tempdir())
# Calculating proportion of employed and unemployed people
if (!is.null(pnadc.svy)) survey::svymean(x=~VD4002, design=pnadc.svy, na.rm=TRUE)
pnadc.svy2 &lt;- get_pnadc(year=2017, interview=5, selected=FALSE, vars=c("V4112","V4121B"),
                        defyear=2017, defperiod=4, labels=TRUE, deflator=TRUE, design=TRUE,
                        reload=TRUE, curlopts=list(), savedir=tempdir())
# Calculating average hours dedicated to the care of people or household chores
if (!is.null(pnadc.svy2)) survey::svymean(x=~V4121B, design=pnadc.svy2, na.rm=TRUE)
pnadc.svy3 &lt;- get_pnadc(year=2017, topic=4, selected=FALSE, vars=c("S07006","S07007"),
                        defyear=2017, defperiod=4, labels=TRUE, deflator=TRUE, design=TRUE,
                        reload=TRUE, curlopts=list(), savedir=tempdir())
# Calculating proportion of cell phone for personal use with internet access
if (!is.null(pnadc.svy3)) survey::svymean(x=~S07007, design=pnadc.svy3, na.rm=TRUE)
</code></pre>


</div>