<div class="container">

<table style="width: 100%;"><tr>
<td>close_quant.powdRfps</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Close the phase concentration data within a <code>powdRfps</code> object</h2>

<h3>Description</h3>

<p><code>close_quant</code> closes the quantitative data within a <code>powdRfps</code> object
(derived from <code>fps()</code>) by ensuring that the composition sums to 100 percent.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'powdRfps'
close_quant(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>powdRfps</code> object derived from <code>fps()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>powdRfps</code> object with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>tth</code></td>
<td>
<p>a vector of the 2theta scale of the fitted data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitted</code></td>
<td>
<p>a vector of the fitted XRPD pattern</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measured</code></td>
<td>
<p>a vector of the original XRPD measurement (aligned and harmonised)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residuals</code></td>
<td>
<p>a vector of the residuals (fitted vs measured)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phases</code></td>
<td>
<p>a dataframe of the phases used to produce the fitted pattern and their concentrations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phases_grouped</code></td>
<td>
<p>the phases dataframe grouped by phase_name and concentrations summed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>named vector of the objective parameters summarising the quality of the fit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted_pure_patterns</code></td>
<td>
<p>a dataframe of reference patterns used to produce the fitted pattern.
All patterns have been weighted according to the coefficients used in the fit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefficients</code></td>
<td>
<p>a named vector of coefficients used to produce the fitted pattern</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputs</code></td>
<td>
<p>a list of input arguments used in the function call</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(rockjock)
data(rockjock_mixtures)

rockjock_1 &lt;- fps(lib = rockjock,
                  smpl = rockjock_mixtures$Mix1,
                  refs = c("ORDERED_MICROCLINE",
                           "LABRADORITE",
                           "KAOLINITE_DRY_BRANCH",
                           "MONTMORILLONITE_WYO",
                           "ILLITE_1M_RM30",
                           "CORUNDUM"),
                 std = "CORUNDUM",
                 align = 0.3,
                 std_conc = 20)

sum(rockjock_1$phases$phase_percent)

rockjock_1c&lt;- close_quant(rockjock_1)

sum(rockjock_1c$phases$phase_percent)


## End(Not run)
</code></pre>


</div>