<div class="container">

<table style="width: 100%;"><tr>
<td>cognitoidentityprovider_create_identity_provider</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adds a configuration and trust relationship between a third-party
identity provider (IdP) and a user pool</h2>

<h3>Description</h3>

<p>Adds a configuration and trust relationship between a third-party identity provider (IdP) and a user pool.
</p>
<p>See <a href="https://www.paws-r-sdk.com/docs/cognitoidentityprovider_create_identity_provider/">https://www.paws-r-sdk.com/docs/cognitoidentityprovider_create_identity_provider/</a> for full documentation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cognitoidentityprovider_create_identity_provider(
  UserPoolId,
  ProviderName,
  ProviderType,
  ProviderDetails,
  AttributeMapping = NULL,
  IdpIdentifiers = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>UserPoolId</code></td>
<td>
<p>[required] The user pool ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ProviderName</code></td>
<td>
<p>[required] The IdP name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ProviderType</code></td>
<td>
<p>[required] The IdP type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ProviderDetails</code></td>
<td>
<p>[required] The scopes, URLs, and identifiers for your external identity provider.
The following examples describe the provider detail keys for each IdP
type. These values and their schema are subject to change. Social IdP
<code>authorize_scopes</code> values must match the values listed here.
</p>
<p><strong>OpenID Connect (OIDC)</strong>
</p>
<p>Amazon Cognito accepts the following elements when it can't discover
endpoint URLs from <code>oidc_issuer</code>: <code>attributes_url</code>, <code>authorize_url</code>,
<code>jwks_uri</code>, <code>token_url</code>.
</p>
<p>Create or update request:
<code style="white-space: pre;">⁠"ProviderDetails": { "attributes_request_method": "GET", "attributes_url": "https://auth.example.com/userInfo", "authorize_scopes": "openid profile email", "authorize_url": "https://auth.example.com/authorize", "client_id": "1example23456789", "client_secret": "provider-app-client-secret", "jwks_uri": "https://auth.example.com/.well-known/jwks.json", "oidc_issuer": "https://auth.example.com", "token_url": "https://example.com/token" }⁠</code>
</p>
<p>Describe response:
<code style="white-space: pre;">⁠"ProviderDetails": { "attributes_request_method": "GET", "attributes_url": "https://auth.example.com/userInfo", "attributes_url_add_attributes": "false", "authorize_scopes": "openid profile email", "authorize_url": "https://auth.example.com/authorize", "client_id": "1example23456789", "client_secret": "provider-app-client-secret", "jwks_uri": "https://auth.example.com/.well-known/jwks.json", "oidc_issuer": "https://auth.example.com", "token_url": "https://example.com/token" }⁠</code>
</p>
<p><strong>SAML</strong>
</p>
<p>Create or update request with Metadata URL:
<code style="white-space: pre;">⁠"ProviderDetails": { "IDPInit": "true", "IDPSignout": "true", "EncryptedResponses" : "true", "MetadataURL": "https://auth.example.com/sso/saml/metadata", "RequestSigningAlgorithm": "rsa-sha256" }⁠</code>
</p>
<p>Create or update request with Metadata file:
<code style="white-space: pre;">⁠"ProviderDetails": { "IDPInit": "true", "IDPSignout": "true", "EncryptedResponses" : "true", "MetadataFile": "[metadata XML]", "RequestSigningAlgorithm": "rsa-sha256" }⁠</code>
</p>
<p>The value of <code>MetadataFile</code> must be the plaintext metadata document with
all quote (") characters escaped by backslashes.
</p>
<p>Describe response:
<code style="white-space: pre;">⁠"ProviderDetails": { "IDPInit": "true", "IDPSignout": "true", "EncryptedResponses" : "true", "ActiveEncryptionCertificate": "[certificate]", "MetadataURL": "https://auth.example.com/sso/saml/metadata", "RequestSigningAlgorithm": "rsa-sha256", "SLORedirectBindingURI": "https://auth.example.com/slo/saml", "SSORedirectBindingURI": "https://auth.example.com/sso/saml" }⁠</code>
</p>
<p><strong>LoginWithAmazon</strong>
</p>
<p>Create or update request:
<code style="white-space: pre;">⁠"ProviderDetails": \{ "authorize_scopes": "profile postal_code", "client_id": "amzn1.application-oa2-client.1example23456789", "client_secret": "provider-app-client-secret"⁠</code>
</p>
<p>Describe response:
<code style="white-space: pre;">⁠"ProviderDetails": { "attributes_url": "https://api.amazon.com/user/profile", "attributes_url_add_attributes": "false", "authorize_scopes": "profile postal_code", "authorize_url": "https://www.amazon.com/ap/oa", "client_id": "amzn1.application-oa2-client.1example23456789", "client_secret": "provider-app-client-secret", "token_request_method": "POST", "token_url": "https://api.amazon.com/auth/o2/token" }⁠</code>
</p>
<p><strong>Google</strong>
</p>
<p>Create or update request:
<code style="white-space: pre;">⁠"ProviderDetails": { "authorize_scopes": "email profile openid", "client_id": "1example23456789.apps.googleusercontent.com", "client_secret": "provider-app-client-secret" }⁠</code>
</p>
<p>Describe response:
<code style="white-space: pre;">⁠"ProviderDetails": { "attributes_url": "https://people.googleapis.com/v1/people/me?personFields=", "attributes_url_add_attributes": "true", "authorize_scopes": "email profile openid", "authorize_url": "https://accounts.google.com/o/oauth2/v2/auth", "client_id": "1example23456789.apps.googleusercontent.com", "client_secret": "provider-app-client-secret", "oidc_issuer": "https://accounts.google.com", "token_request_method": "POST", "token_url": "https://www.googleapis.com/oauth2/v4/token" }⁠</code>
</p>
<p><strong>SignInWithApple</strong>
</p>
<p>Create or update request:
<code style="white-space: pre;">⁠"ProviderDetails": { "authorize_scopes": "email name", "client_id": "com.example.cognito", "private_key": "1EXAMPLE", "key_id": "2EXAMPLE", "team_id": "3EXAMPLE" }⁠</code>
</p>
<p>Describe response:
<code style="white-space: pre;">⁠"ProviderDetails": { "attributes_url_add_attributes": "false", "authorize_scopes": "email name", "authorize_url": "https://appleid.apple.com/auth/authorize", "client_id": "com.example.cognito", "key_id": "1EXAMPLE", "oidc_issuer": "https://appleid.apple.com", "team_id": "2EXAMPLE", "token_request_method": "POST", "token_url": "https://appleid.apple.com/auth/token" }⁠</code>
</p>
<p><strong>Facebook</strong>
</p>
<p>Create or update request:
<code style="white-space: pre;">⁠"ProviderDetails": { "api_version": "v17.0", "authorize_scopes": "public_profile, email", "client_id": "1example23456789", "client_secret": "provider-app-client-secret" }⁠</code>
</p>
<p>Describe response:
<code style="white-space: pre;">⁠"ProviderDetails": { "api_version": "v17.0", "attributes_url": "https://graph.facebook.com/v17.0/me?fields=", "attributes_url_add_attributes": "true", "authorize_scopes": "public_profile, email", "authorize_url": "https://www.facebook.com/v17.0/dialog/oauth", "client_id": "1example23456789", "client_secret": "provider-app-client-secret", "token_request_method": "GET", "token_url": "https://graph.facebook.com/v17.0/oauth/access_token" }⁠</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AttributeMapping</code></td>
<td>
<p>A mapping of IdP attributes to standard and custom user pool attributes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IdpIdentifiers</code></td>
<td>
<p>A list of IdP identifiers.</p>
</td>
</tr>
</table>
</div>