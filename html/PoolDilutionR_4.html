<div class="container">

<table style="width: 100%;"><tr>
<td>pdr_cost</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cost function between observed and predicted pools</h2>

<h3>Description</h3>

<p>Cost function between observed and predicted pools
</p>


<h3>Usage</h3>

<pre><code class="language-R">pdr_cost(
  params,
  time,
  m,
  n,
  m_prec,
  ap_prec,
  P,
  k,
  pool = "CH4",
  frac_P = frac_P_default(pool),
  frac_k = frac_k_default(pool),
  log_progress = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>Named list holding optimizer-assigned values for parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Vector of numeric time values; first should be zero</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Observed total pool size, same length as time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Observed pool size of heavy isotope, same length as time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m_prec</code></td>
<td>
<p>Instrument precision for pool size, expressed as a standard deviation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ap_prec</code></td>
<td>
<p>Instrument precision for atom percent, expressed as a standard deviation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>P</code></td>
<td>
<p>production rate, unit pool size/unit time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>first-order rate constant for consumption, 1/unit time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pool</code></td>
<td>
<p>Name of pool; see <code>pdr_fractionation</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frac_P</code></td>
<td>
<p>Fractionation value for production; see <code>pdr_fractionation</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frac_k</code></td>
<td>
<p>Fractionation value for consumption; see <code>pdr_fractionation</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_progress</code></td>
<td>
<p>An optional logging function</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a cost metric summarizing the difference between the
predicted and observed <code>m</code> (total pool size) and <code>AP</code> (atom percent).
</p>


<h3>Note</h3>

<p>This implements Equations 12-14 from von Fischer and Hedin (2002).
</p>


<h3>Author(s)</h3>

<p>K.A. Morris &amp; B. Bond-Lamberty
</p>


<h3>Examples</h3>

<pre><code class="language-R">m &lt;- c(10, 8, 6, 5, 4, 3)
n &lt;- c(1, 0.7, 0.6, 0.4, 0.3, 0.2)
pdr_cost(params = list(P = 0.5, k = 0.3), time = 0:5, m, n, m_prec = 0.001, ap_prec = 0.01)
</code></pre>


</div>