<div class="container">

<table style="width: 100%;"><tr>
<td>portvol.Bayes, mctr.Bayes, cctr.Bayes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Portfolio Volatility and Contribution to Total Volatility Risk (MCTR &amp; CCTR): Bayesian Approach</h2>

<h3>Description</h3>

<p><code>portvol.Bayes</code> computes portfolio volatility of a given portfolio for specific weight and time period. <code>mctr.Bayes</code> &amp; <code>cctr.Bayes</code> computes the Marginal Contribution to Total Risk (MCTR) &amp; Conditional Contribution to Total Risk (CCTR) for the given portfolio.
</p>


<h3>Usage</h3>

<pre><code class="language-R">portvol.Bayes(tickers, weights = rep(1,length(tickers)),
              start, end, data, sim.size = 1000)

mctr.Bayes(tickers, weights = rep(1,length(tickers)),
              start, end, data, sim.size = 1000)

cctr.Bayes(tickers, weights = rep(1,length(tickers)),
              start, end, data, sim.size = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tickers</code></td>
<td>

<p>A character vector of ticker names of companies in the portfolio.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>

<p>A numeric vector of weights assigned to the stocks corresponding to the ticker names in <code>tickers</code>. The sum of the weights need not to be 1 or 100 (in percentage). By default, equal weights to all the stocks are assigned (i.e., by <code>rep(1, length(tickers))</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>

<p>Start date in the format "yyyy-mm-dd".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>

<p>End date in the format "yyyy-mm-dd".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A <code>zoo</code> object whose <code>rownames</code> are dates and <code>colnames</code> are ticker names of the companies. Values of the table corresponds to the daily returns of the stocks of corresponding ticker names.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim.size</code></td>
<td>

<p>Simulation size, default 1000.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>As any portfolio can be considered as bag of <code class="reqn">p</code>-many risky assets, it is important to figureout how these assets contributes to total volatility risk of the portfolio. We consider an investment period and suppose <code class="reqn">r_j</code> denote return to source <code class="reqn">j</code> for the same period, where <code class="reqn">j = 1, 2,\ldots, p</code>. The portfolio return over the period is
</p>
<p style="text-align: center;"><code class="reqn">R_p = \sum_{j=1}^{p} w_j r_j</code>
</p>

<p>where <code class="reqn">w_j</code> is the portfolio exposure to the asset <code class="reqn">j</code>, i.e., portfolio weight, such that <code class="reqn">w_j \ge 0</code> and <code class="reqn">\sum_{j=1}^{p} w_j = 1</code>. Portfolio manager determines the size of <code class="reqn">w_j</code> at the beginning of the investment period. Portfolio volatility is defined as 
</p>
<p style="text-align: center;"><code class="reqn">\sigma = \sqrt{w^T \Sigma w}</code>
</p>

<p>where <code class="reqn">w = (w_1, w_2,\ldots, w_p)</code> and <code class="reqn">\Sigma</code> being the variance-covariance matrix of the assets in the portfolio.
<code class="reqn">S</code> is the sample portfolio-covariance matrix. If </p>
<p style="text-align: center;"><code class="reqn">S \sim Wishart(n-1,\Sigma)</code>
</p>
<p> and prior distribution on <code class="reqn">\Sigma</code> is </p>
<p style="text-align: center;"><code class="reqn">\Sigma \sim Inv-Wishart(n_0,\Psi)</code>
</p>

<p>Then posterior distribution is </p>
<p style="text-align: center;"><code class="reqn">\Sigma | S \sim Inv-Wishart(n_0+n-1,\Psi+S)</code>
</p>

<p>For more detail, see <code>portvol</code>, <code>mctr</code>, <code>cctr</code>
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>portvol</code></td>
<td>
<p>A numeric value. Volatility of a given portfolio in percentage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mctr</code></td>
<td>
<p>A named numeric vector of Marginal Contribution to Total Risk (MCTR) in percentage with names being the ticker names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cctr</code></td>
<td>
<p>A named numeric vector of Conditional Contribution to Total Risk (CCTR) in percentage with names being the ticker names.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>zoo</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(SnP500Returns)

# consider the portfolio containing the first 4 stocks
pf &lt;- colnames(SnP500Returns)[1:4]

st &lt;- "2013-01-01" # start date
en &lt;- "2013-01-31" # end date

# suppose the amount of investments in the above stocks are
# $1,000, $2,000, $3,000 &amp; $1,000 respectively
wt &lt;- c(1000,2000,3000,1000) # weights

# portfolio volatility for the portfolio 'pf' with equal (default) weights
pv1 &lt;- portvol(pf, start = st, end = en,
                data = SnP500Returns)

# portfolio volatility for the portfolio 'pf' with weights as 'wt'
pv2 &lt;- portvol(pf, weights = wt, start = st, end = en,
                data = SnP500Returns)

# similarly,
# mctr for the portfolio 'pf' with weights as 'wt'
mc &lt;- mctr(pf, weights = wt, start = st, end = en,
            data = SnP500Returns)

# cctr for the portfolio 'pf' with weights as 'wt'
cc &lt;- cctr(pf, weights = wt, start = st, end = en,
            data = SnP500Returns)

sum(cc) == pv2
# note that, sum of the cctr values is the portfolio volatility
</code></pre>


</div>