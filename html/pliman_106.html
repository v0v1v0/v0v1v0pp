<div class="container">

<table style="width: 100%;"><tr>
<td>utils_dpi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utilities for image resolution</h2>

<h3>Description</h3>

<p>Provides useful conversions between size (cm), number of pixels (px) and
dots per inch (dpi).
</p>

<ul>
<li> <p><code>dpi_to_cm()</code> converts a known dpi value to centimeters.
</p>
</li>
<li> <p><code>cm_to_dpi()</code> converts a known centimeter values to dpi.
</p>
</li>
<li> <p><code>pixels_to_cm()</code> converts the number of pixels to centimeters, given a
known resolution (dpi).
</p>
</li>
<li> <p><code>cm_to_pixels()</code> converts a distance (cm) to number of pixels, given a
known resolution (dpi).
</p>
</li>
<li> <p><code>distance()</code> Computes the distance between two points in an image based on
the Pythagorean theorem.
</p>
</li>
<li> <p><code>dpi()</code> An interactive function to compute the image resolution given a
known distance informed by the user. See more information in the <strong>Details</strong>
section.
</p>
</li>
<li> <p><code>npixels()</code> returns the number of pixels of an image.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">dpi_to_cm(dpi)

cm_to_dpi(cm)

pixels_to_cm(px, dpi)

cm_to_pixels(cm, dpi)

npixels(img)

dpi(img, viewer = get_pliman_viewer())

distance(img, viewer = get_pliman_viewer())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dpi</code></td>
<td>
<p>The image resolution in dots per inch.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cm</code></td>
<td>
<p>The size in centimeters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>px</code></td>
<td>
<p>The number of pixels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img</code></td>
<td>
<p>An image object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewer</code></td>
<td>
<p>The viewer option. If not provided, the value is retrieved
using <code>get_pliman_viewer()</code>. This option controls the type of viewer to use
for interactive plotting. The available options are "base" and "mapview".
If set to "base", the base R graphics system is used for interactive
plotting. If set to "mapview", the mapview package is used. To set this
argument globally for all functions in the package, you can use the
<code>set_pliman_viewer()</code> function. For example, you can run
<code>set_pliman_viewer("mapview")</code> to set the viewer option to "mapview" for
all functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>dpi()</code> only run in an interactive section. To compute the image
resolution (dpi) the user must use the left button mouse to create a line
of known distance. This can be done, for example, using a template with
known distance in the image (e.g., <code>la_leaves.jpg</code>).
</p>


<h3>Value</h3>


<ul>
<li> <p><code>dpi_to_cm()</code>, <code>cm_to_dpi()</code>, <code>pixels_to_cm()</code>, and <code>cm_to_pixels()</code> return
a numeric value or a vector of numeric values if the input data is a vector.
</p>
</li>
<li> <p><code>dpi()</code> returns the computed dpi (dots per inch) given the known distance
informed in the plot.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(pliman)
# Convert  dots per inch to centimeter
dpi_to_cm(c(1, 2, 3))

# Convert centimeters to dots per inch
cm_to_dpi(c(1, 2, 3))

# Convert centimeters to number of pixels with resolution of 96 dpi.
cm_to_pixels(c(1, 2, 3), 96)

# Convert number of pixels to cm with resolution of 96 dpi.
pixels_to_cm(c(1, 2, 3), 96)

if(isTRUE(interactive())){
#### compute the dpi (dots per inch) resolution ####
# only works in an interactive section
# objects_300dpi.jpg has a known resolution of 300 dpi
img &lt;- image_pliman("objects_300dpi.jpg")
# Higher square: 10 x 10 cm
# 1) Run the function dpi()
# 2) Use the left mouse button to create a line in the higher square
# 3) Declare a known distance (10 cm)
# 4) See the computed dpi
dpi(img)


img2 &lt;- image_pliman("la_leaves.jpg")
# square leaf sample (2 x 2 cm)
dpi(img2)
}
</code></pre>


</div>