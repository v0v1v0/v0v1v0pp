<div class="container">

<table style="width: 100%;"><tr>
<td>compare_spct</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coarse-grained comparison of two spectra</h2>

<h3>Description</h3>

<p>Compare two spectra using a specified summary function pre-applied to
wavelength intervals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compare_spct(
  x,
  w.band = 10,
  .summary.fun = NULL,
  ...,
  .comparison.fun = `/`,
  returned.value = "spectrum",
  use.hinges = FALSE,
  short.names = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A collection of two spectral objects of the same type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.band</code></td>
<td>
<p>waveband object or a numeric stepsize in nanometres.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.summary.fun</code></td>
<td>
<p>function. The summary function to use. It must be a
method accepting object <code>x</code> as first argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional named arguments passed down to <code>.summary.fun</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.comparison.fun</code></td>
<td>
<p>function. The comparison function to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returned.value</code></td>
<td>
<p>character One of "data.frame", "spectrum",
"tagged.spectrum".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.hinges</code></td>
<td>
<p>logical Flag indicating whether to insert "hinges" into the
returned spectrum when tagging it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>short.names</code></td>
<td>
<p>logical Flag indicating whether to use short or long names
for wavebands when tagging.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Summaries are computed for each of the wavebands in <code>w.band</code> by
applying function <code>.summary.fun</code> separately to each spectrum, after
trimming them to the overlapping wavelength region. Next the matching
summaries are compared by means of <code>.comparison.fun</code>. Both the
summaries and the result of the comparison are returned. Columns containing
summary values are named by concatenating the name each member spectrum
with the name of the argument passed to <code>.summary.fun</code>.
</p>
<p>Tagging is useful for plotting using wavelength based colours, or when
names for wavebands are used as annotations. When tagging is requested, the
spectrum is passed to method <code>tag</code> with <code>use.hinges</code> and
<code>short.names</code> as additional arguments.
</p>


<h3>Value</h3>

<p>A <code>generic_spct</code>, tagged or not with the wavebdans, or a
<code>data.frame</code> object containing the summary values per waveband for
each spectrum and the result of applying the comparison function to these
summaries.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
compare_spct(source_mspct(list(sun1 = sun.spct, sun2 = sun.spct * 2)))
compare_spct(source_mspct(list(sun1 = sun.spct, sun2 = sun.spct * 2)),
             w.band = NULL)
compare_spct(source_mspct(list(sun1 = sun.spct, sun2 = sun.spct * 2)),
             w.band = list(waveband(c(640, 650)), waveband(c(720, 740))))

compare_spct(filter_mspct(list(pet = polyester.spct,
                               yllw = yellow_gel.spct)),
             w.band = 50,
             .comparison.fun = `&lt;`)

head(
  compare_spct(source_mspct(list(sun1 = sun.spct, sun2 = sun.spct * 2)),
               returned.value = "data.frame")
)
compare_spct(source_mspct(list(sun1 = sun.spct, sun2 = sun.spct * 2)),
             returned.value = "tagged.spectrum")
compare_spct(source_mspct(list(sun1 = sun.spct, sun2 = sun.spct * 2)),
             returned.value = "tagged.spectrum",
             use.hinges = TRUE)

</code></pre>


</div>