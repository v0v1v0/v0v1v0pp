<div class="container">

<table style="width: 100%;"><tr>
<td>gg_shading_bar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Drawing Barplot with Shading Colors</h2>

<h3>Description</h3>

<p>In ordinary barplot, each bar has only one color.
This function aims to draw a barplot whose bars 
have shading effect. Note: unlike 
<code>ggplot2::geom_bar</code>, this function can only 
deals with a vector of frequencies.
</p>


<h3>Usage</h3>

<pre><code class="language-R">gg_shading_bar(
  v,
  labels = NULL,
  raster = NULL,
  flip = FALSE,
  change_order = "normal",
  equal_scale = FALSE,
  smooth = 15,
  interpolate = TRUE,
  width = 0.8,
  color = NA,
  linetype = 1,
  size = 1,
  modify_raster = TRUE,
  space = "rgb",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>a vector of item frequencies.
Negative values are OK.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>a vector of item names.
Its length should be equal to that of <code>v</code>.
If it is NULL, default names will be used.
If it is of class numeric or factor, it will be 
transformed to a character vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raster</code></td>
<td>
<p>a list. The length of the list 
should be equal to that of <code>v</code>. 
Each element of the list should be 
a color vector corresponding to a value 
in <code>v</code>. If it is a vector, it will be 
automatically transformed to a list. 
If its length is 1, but the length of 
<code>v</code> is, say, 3, then it will be 
automatically repeated for 3 times.
Let us suppose <code>v = 5</code> 
and <code>raster = list(c("green", "red"))</code>.
This means the starting side of the bar is 
green and the far side is red. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flip</code></td>
<td>
<p>default is FALSE and the bars 
are vertical. When it is TRUE, the bars are 
horizontal. Note: when using this function, 
<b>DO NOT USE</b> 
<code>ggplot2::coord_flip</code> !</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>change_order</code></td>
<td>
<p>when it is "normal" (default), 
the drawing order is the order of <code>v</code>.
When it is "big", big values will be drawn first.
When it is "small", small values will be drawn first.
When it is "rev", the inverse order of <code>v</code> 
will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equal_scale</code></td>
<td>
<p>default is FALSE. When it is 
TRUE, a bar will use a certain part of the shading 
colors according to a global scale. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>default is 15. The number of 
shading colors each bar has. The bigger, the better.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpolate</code></td>
<td>
<p>when it is TRUE (default), it 
makes the colors smoother.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>the width of each bar. It should be 
between 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>color of the outlines of the bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linetype</code></td>
<td>
<p>line type of the outlines 
of the bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>line width of the outlines of the bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modify_raster</code></td>
<td>
<p>if it is TRUE (default), colors 
will be smoothed using the value of <code>smooth</code>. 
If <code>raster</code> has enough colors, you can set 
this to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>the <code>space</code> parameter used by 
<code>colorRampPalette</code>. It should be 
"rgb" (default) or "Lab".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments used by 
<code>ggplot2::coord_flip</code> when <code>flip = TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(ggplot2)
x=c(10, 30, 25, 6)
lab=c("children", "youth", "middle", "aged")
r=list(c("cyan", "red"), c("blue", "yellow"), 
	c("green", "orange"), c("grey", "black"))
#
## (1) change_order
# change_order = "ordinary", the default
p1=gg_shading_bar(v=x, labels=lab)
# change_order = "big"
p2=gg_shading_bar(v=x, labels=lab, change_order="big")
# flip and let the largest on the top
p3=gg_shading_bar(v=x, labels=lab, 
	change_order="small", flip=TRUE)
#
## (2) how to use argument raster
p1=gg_shading_bar(v=x, labels=lab, raster=r)
p2=gg_shading_bar(v=x, labels=lab, raster=c("green","red"))
#
## (3) how to use argument equal_scale
# equal_scale = FALSE
# the far side of each bar is red
gg_shading_bar(c(3, 5), raster=c("green", "red"))
# equal_scale = TRUE
# the far side of the shorter bar 
# is not red. Rather, it is something
#' between red and green
gg_shading_bar(c(3, 5), raster=c("green", "red"), 
	equal_scale=TRUE)
</code></pre>


</div>