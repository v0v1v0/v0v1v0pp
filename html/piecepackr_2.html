<div class="container">

<table style="width: 100%;"><tr>
<td>aabb_piece</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate axis-aligned bounding box for set of game pieces</h2>

<h3>Description</h3>

<p>Calculate axis-aligned bounding box (AABB) for set of game pieces
with and without an “oblique projection”.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aabb_piece(
  df,
  cfg = getOption("piecepackr.cfg", pp_cfg()),
  envir = getOption("piecepackr.envir"),
  op_scale = getOption("piecepackr.op_scale", 0),
  op_angle = getOption("piecepackr.op_angle", 45),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of game piece information with (at least) the
named columns “piece_side”, “x”, and “y”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cfg</code></td>
<td>
<p>Piecepack configuration list or <code>pp_cfg</code> object,
a list of <code>pp_cfg</code> objects,
or a character vector referring to names in <code>envir</code>
or a character vector referring to object names that
can be retrieved by <code>base::dynGet()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>Environment (or named list) containing configuration list(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>op_scale</code></td>
<td>
<p>How much to scale the depth of the piece in the oblique projection
(viewed from the top of the board).
<code>0</code> (the default) leads to an “orthographic” projection,
<code>0.5</code> is the most common scale used in the “cabinet” projection,
and <code>1.0</code> is the scale used in the “cavalier” projection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>op_angle</code></td>
<td>
<p>What is the angle of the oblique projection?  Has no effect if <code>op_scale</code> is <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The “oblique projection” of a set of <code class="reqn">(x,y,z)</code> points onto the xy-plane
is <code class="reqn">(x + \lambda * z * cos(\alpha), y + \lambda * z * sin(\alpha))</code>
where <code class="reqn">\lambda</code> is the scale factor and <code class="reqn">\alpha</code> is the angle.
</p>


<h3>Value</h3>

<p>A named list of ranges with five named elements <code>x</code>, <code>y</code>, and <code>z</code> for
the axis-aligned bounding cube
in xyz-space plus <code>x_op</code> and <code>y_op</code> for the axis-aligned bounding box
of the “oblique projection” onto the xy plane.
</p>


<h3>Examples</h3>

<pre><code class="language-R"> df_tiles &lt;- data.frame(piece_side="tile_back", x=0.5+c(3,1,3,1), y=0.5+c(3,3,1,1),
                        suit=NA, angle=NA, z=NA, stringsAsFactors=FALSE)
 df_coins &lt;- data.frame(piece_side="coin_back", x=rep(4:1, 4), y=rep(4:1, each=4),
                        suit=1:16%%2+rep(c(1,3), each=8),
                        angle=rep(c(180,0), each=8), z=1/4+1/16, stringsAsFactors=FALSE)
 df &lt;- rbind(df_tiles, df_coins)

 aabb_piece(df, op_scale = 0)
 aabb_piece(df, op_scale = 1, op_angle = 45)
 aabb_piece(df, op_scale = 1, op_angle = -90)
</code></pre>


</div>