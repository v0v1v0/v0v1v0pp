<div class="container">

<table style="width: 100%;"><tr>
<td>bootstrap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bootstrap Lasso Implementation (in development)</h2>

<h3>Description</h3>

<p>This function performs standard plugin lasso PPML estimation for <code>bootreps</code> samples drawn again with
replacement and reports
those regressors selected in at least a certain fraction of the bootstrap repetitions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bootstrap(
  data,
  dep,
  indep = NULL,
  cluster_id = NULL,
  fixed = NULL,
  selectobs = NULL,
  bootreps = 250,
  boot_threshold = 0.01,
  colcheck_x = FALSE,
  colcheck_x_fes = FALSE,
  post = FALSE,
  gamma_val = NULL,
  verbose = FALSE,
  tol = 1e-06,
  hdfetol = 0.01,
  penweights = NULL,
  maxiter = 1000,
  phipost = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing all relevant variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dep</code></td>
<td>
<p>A string with the names of the independent variables or their column numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indep</code></td>
<td>
<p>A vector with the names or column numbers of the regressors. If left unspecified,
all remaining variables (excluding fixed effects) are included in the regressor matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_id</code></td>
<td>
<p>A string denoting the cluster-id with which to perform
cluster bootstrap.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed</code></td>
<td>
<p>A vector with the names or column numbers of factor variables identifying the fixed effects,
or a list with the desired interactions between variables in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selectobs</code></td>
<td>
<p>Optional. A vector indicating which observations to use (either a logical vector
or a numeric vector with row numbers, as usual when subsetting in R).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootreps</code></td>
<td>
<p>Number of bootstrap repetitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot_threshold</code></td>
<td>
<p>Minimal threshold. If a variable is selected in at least this
fraction of times, it is reported at the end of the iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colcheck_x</code></td>
<td>
<p>Logical. If <code>TRUE</code>, this checks collinearity between the independent variables and drops the
collinear variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colcheck_x_fes</code></td>
<td>
<p>Logical. If <code>TRUE</code>, this checks whether the independent variables are perfectly explained
by the fixed effects drops those that are perfectly explained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post</code></td>
<td>
<p>Logical. If <code>TRUE</code>, estimates a post-penalty regression with the selected variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma_val</code></td>
<td>
<p>Numerical value that determines the regularization threshold as defined in Belloni, Chernozhukov, Hansen, and Kozbur (2016). NULL default sets parameter to 0.1/log(n).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. If <code>TRUE</code>, it prints information to the screen while evaluating.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Tolerance parameter for convergence of the IRLS algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hdfetol</code></td>
<td>
<p>Tolerance parameter for the within-transformation step,
passed on to <code>collapse::fhdwithin</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>penweights</code></td>
<td>
<p>Optional: a vector of coefficient-specific penalties to use in plugin lasso when
<code>method == "plugin"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>Maximum number of iterations (a number).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phipost</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the plugin coefficient-specific penalty weights are iteratively
calculated using estimates from a post-penalty regression. Otherwise,
these are calculated using estimates from a penalty regression.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function enables users to implement the "bootstrap" step in the procedure described in
Breinlich, Corradi, Rocha, Ruta, Santos Silva and Zylkin (2020). To do this, Plugin Lasso is run B times.
The function can also perform a post-selection estimation.
</p>


<h3>Value</h3>

<p>A matrix with coefficient estimates for all dependent variables.
</p>


<h3>References</h3>

<p>Breinlich, H., Corradi, V., Rocha, N., Ruta, M., Santos Silva, J.M.C. and T. Zylkin (2021).
"Machine Learning in International Trade Research: Evaluating the Impact of Trade Agreements",
Policy Research Working Paper; No. 9629. World Bank, Washington, DC.
</p>
<p>Correia, S., P. Guimaraes and T. Zylkin (2020). "Fast Poisson estimation with high dimensional
fixed effects", <em>STATA Journal</em>, 20, 90-115.
</p>
<p>Gaure, S (2013). "OLS with multiple high dimensional category variables",
<em>Computational Statistics &amp; Data Analysis</em>, 66, 8-18.
</p>
<p>Friedman, J., T. Hastie, and R. Tibshirani (2010). "Regularization paths for generalized linear
models via coordinate descent", <em>Journal of Statistical Software</em>, 33, 1-22.
</p>
<p>Belloni, A., V. Chernozhukov, C. Hansen and D. Kozbur (2016). "Inference in high dimensional panel
models with an application to gun control", <em>Journal of Business &amp; Economic Statistics</em>, 34, 590-605.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: bs1 &lt;- bootstrap(data=trade3, dep="export",
                 cluster_id="clus",
                 fixed=list(c("exp", "time"),
                 c("imp", "time"), c("exp", "imp")),
                 indep=7:22, bootreps=10, colcheck_x = TRUE,
                 colcheck_x_fes = TRUE,
                 boot_threshold = 0.01,
                 post=TRUE, gamma_val=0.01, verbose=FALSE)
## End(Not run)

</code></pre>


</div>