<div class="container">

<table style="width: 100%;"><tr>
<td>corpus-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Corpus class initialization</h2>

<h3>Description</h3>

<p>Corpora indexed using the 'Corpus Workbench' ('CWB') offer an efficient data
structure for large, linguistically annotated corpora. The <code>corpus</code>-class
keeps basic information on a CWB corpus. Corresponding to the name of the
class, the <code>corpus</code>-method is the initializer for objects of the <code>corpus</code>
class. A CWB corpus can also be hosted remotely on an
<a href="https://www.opencpu.org">OpenCPU</a> server. The <code>remote_corpus</code> class
(which inherits from the <code>corpus</code> class) will handle respective information.
A (limited) set of polmineR functions and methods can be executed on the
corpus on the remote machine from the local R session by calling them on the
<code>remote_corpus</code> object. Calling the <code>corpus</code>-method without an argument will
return a <code>data.frame</code> with basic information on the corpora that are
available.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'character'
corpus(.Object, registry_dir, server = NULL, restricted)

## S4 method for signature 'missing'
corpus()
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.Object</code></td>
<td>
<p>The upper-case ID of a CWB corpus stated by a
length-one <code>character</code> vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>registry_dir</code></td>
<td>
<p>The registry directory with the registry file describing
the corpus (length-one <code>character</code> vector). If missing, the C
representations of loaded corpora will be evaluated to get the registry
directory with the registry file for the corpus.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>server</code></td>
<td>
<p>If <code>NULL</code> (default), the corpus is expected to be present
locally. If provided, the name of an OpenCPU server (can be an IP address)
that hosts a corpus, or several corpora. The <code>corpus</code>-method will then
instantiate a <code>remote_corpus</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>restricted</code></td>
<td>
<p>A <code>logical</code> value, whether access to a remote corpus is
restricted (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calling <code>corpus()</code> will return a <code>data.frame</code> listing the corpora
available locally and described in the active registry directory, and some
basic information on the corpora.
</p>
<p>A <code>corpus</code> object is instantiated by passing a corpus ID as argument
<code>.Object</code>. Following the conventions of the Corpus Workbench (CWB), Corpus
IDs are written in upper case. If <code>.Object</code> includes lower case letters,
the <code>corpus</code> object is instantiated nevertheless, but a warning is issued
to prevent bad practice. If <code>.Object</code> is not a known corpus, the error
message will include a suggestion if there is a potential candidate that
can be identified by <code>agrep</code>.
</p>
<p>A limited set of methods of the <code>polmineR</code> package is exposed to be
executed on a remote OpenCPU server. As a matter of convenience, the
whereabouts of an OpenCPU server hosting a CWB corpus can be stated in an
environment variable "OPENCPU_SERVER". Environment variables for R sessions
can be set easily in the <code>.Renviron</code> file. A convenient way to do this is
to call <code>usethis::edit_r_environ()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>corpus</code></dt>
<dd>
<p>A length-one <code>character</code> vector, the upper-case ID of a CWB
corpus.</p>
</dd>
<dt><code>registry_dir</code></dt>
<dd>
<p>Registry directory with registry file describing the
corpus.</p>
</dd>
<dt><code>data_dir</code></dt>
<dd>
<p>The directory where binary files of the indexed corpus reside.</p>
</dd>
<dt><code>info_file</code></dt>
<dd>
<p>If available, the info file indicated in the registry file
(typically a file named <code>.info</code> <code>info.md</code> in the data directory), or <code>NA</code>
if not.</p>
</dd>
<dt><code>template</code></dt>
<dd>
<p>Full path to the template containing formatting instructions
when showing full text output (<code>fs_path</code> object or <code>NA</code>).</p>
</dd>
<dt><code>type</code></dt>
<dd>
<p>If available, the type of the corpus (e.g. "plpr" for a corpus of
plenary protocols), or <code>NA</code>.</p>
</dd>
<dt><code>name</code></dt>
<dd>
<p>Full name of the corpus that may be more expressive than
the corpus ID.</p>
</dd>
<dt><code>xml</code></dt>
<dd>
<p>Object of class <code>character</code>, whether the xml is "flat" or "nested".</p>
</dd>
<dt><code>encoding</code></dt>
<dd>
<p>The encoding of the corpus, given as a length-one
<code>character</code> vector (usually 'utf8' or 'latin1').</p>
</dd>
<dt><code>size</code></dt>
<dd>
<p>Number of tokens (size) of the corpus, a length-one <code>integer</code>
vector.</p>
</dd>
<dt><code>server</code></dt>
<dd>
<p>The URL (can be IP address) of the OpenCPU server. The slot is
available only with the <code>remote_corpus</code> class inheriting from the <code>corpus</code>
class.</p>
</dd>
<dt><code>user</code></dt>
<dd>
<p>If the corpus on the server requires authentication, the username.</p>
</dd>
<dt><code>password</code></dt>
<dd>
<p>If the corpus on the server requires authentication, the
password.</p>
</dd>
</dl>
<h3>See Also</h3>

<p>Methods to extract basic information from a <code>corpus</code> object are
covered by the <code>corpus-methods</code> documentation object. Use the
<code>s_attributes</code> method to get information on structural
attributes. Analytical methods available for <code>corpus</code> objects are
<code>size</code>, <code>count</code>, <code>dispersion</code>,
<code>kwic</code>, <code>cooccurrences</code>,
<code>as.TermDocumentMatrix</code>.
</p>
<p>Other classes to manage corpora: 
<code>phrases-class</code>,
<code>ranges-class</code>,
<code>regions</code>,
<code>subcorpus</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">use(pkg = "RcppCWB", corpus = "REUTERS")

# get corpora present locally
y &lt;- corpus()

# initialize corpus object
r &lt;- corpus("REUTERS")
r &lt;- corpus ("reuters") # will work, but will result in a warning


# apply core polmineR methods
a &lt;- size(r)
b &lt;- s_attributes(r)
c &lt;- count(r, query = "oil")
d &lt;- dispersion(r, query = "oil", s_attribute = "id")
e &lt;- kwic(r, query = "oil")
f &lt;- cooccurrences(r, query = "oil")

# used corpus initialization in a pipe
y &lt;- corpus("REUTERS") %&gt;% s_attributes()
y &lt;- corpus("REUTERS") %&gt;% count(query = "oil")

# working with a remote corpus
## Not run: 
REUTERS &lt;- corpus("REUTERS", server = Sys.getenv("OPENCPU_SERVER"))
count(REUTERS, query = "oil")
size(REUTERS)
kwic(REUTERS, query = "oil")

GERMAPARL &lt;- corpus("GERMAPARL", server = Sys.getenv("OPENCPU_SERVER"))
s_attributes(GERMAPARL)
size(x = GERMAPARL)
count(GERMAPARL, query = "Integration")
kwic(GERMAPARL, query = "Islam")

p &lt;- partition(GERMAPARL, year = 2000)
s_attributes(p, s_attribute = "year")
size(p)
kwic(p, query = "Islam", meta = "date")

GERMAPARL &lt;- corpus("GERMAPARLMINI", server = Sys.getenv("OPENCPU_SERVER"))
s_attrs &lt;- s_attributes(GERMAPARL, s_attribute = "date")
sc &lt;- subset(GERMAPARL, date == "2009-11-10")

## End(Not run)
</code></pre>


</div>