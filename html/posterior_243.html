<div class="container">

<table style="width: 100%;"><tr>
<td>rdo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Execute expressions of random variables</h2>

<h3>Description</h3>

<p>Execute (nearly) arbitrary <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> expressions that may include <code>rvar</code>s,
producing a new <code>rvar</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rdo(expr, dim = NULL, ndraws = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>(expression) A bare expression that can (optionally) contain
<code>rvar</code>s. The expression supports quasiquotation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>(integer vector) One or more integers giving the maximal indices
in each dimension to override the dimensions of the <code>rvar</code> to be created
(see <code>dim()</code>). If <code>NULL</code> (the default), <code>dim</code> is determined by the input.
<strong>NOTE:</strong> This argument controls the dimensions of the <code>rvar</code>, not the
underlying array, so you cannot change the number of draws using this
argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndraws</code></td>
<td>
<p>(positive integer) The number of draws used to construct new
random variables if no <code>rvar</code>s are supplied in <code>expr</code>. If <code>NULL</code>,
<code>getOption("posterior.rvar_ndraws")</code> is used (default 4000). If <code>expr</code>
contains <code>rvar</code>s, the number of draws in the provided <code>rvar</code>s is used
instead of the value of this argument.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function evaluates <code>expr</code> possibly multiple times, once for each draw of
the <code>rvar</code>s it contains, then returns a new <code>rvar</code> representing the output of those
expressions. To identify <code>rvar</code>s, <code>rdo()</code> searches the calling environment for any variables
named in <code>expr</code> for which <code>is_rvar()</code> evaluates to <code>TRUE</code>. If <code>expr</code> contains no <code>rvar</code>s,
then it will be executed <code>ndraws</code> times and an <code>rvar</code> with that many draws returned.
</p>
<p><code>rdo()</code> is not necessarily <em>fast</em> (in fact in some cases it may be very slow), but
it has the advantage of allowing a nearly arbitrary R expression to be executed against <code>rvar</code>s
simply by wrapping it with <code>rdo( ... )</code>. This makes it especially useful as a prototyping
tool. If you create code with <code>rdo()</code> and it is unacceptably slow for your application,
consider rewriting it using math operations directly on <code>rvar</code>s (which should be fast),
using <code>rvar_rng()</code>, and/or using operations directly on the arrays that back the <code>rvar</code>s
(via <code>draws_of()</code>).
</p>


<h3>Value</h3>

<p>An <code>rvar</code>.
</p>


<h3>See Also</h3>

<p>Other rfun: 
<code>rfun()</code>,
<code>rvar_rng()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
mu &lt;- rdo(rnorm(10, mean = 1:10, sd = 1))
sigma &lt;- rdo(rgamma(1, shape = 1, rate = 1))
x &lt;- rdo(rnorm(10, mu, sigma))
x

</code></pre>


</div>