<div class="container">

<table style="width: 100%;"><tr>
<td>vec.to.mat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creating objects for network models</h2>

<h3>Description</h3>

<p><code>vec.to.mat</code> creates a list of square matrices from a given vector.
The elements of the generated matrices are taken from the vector and placed column-wise (ie. the first column is filled up before filling the second column) and from the first matrix of the list to the last matrix of the list.
The diagonal of the generated matrices are zeros.
<code>mat.to.vec</code> creates a vector from a given list of square matrices .
The elements of the generated vector are taken from column-wise and from the first matrix of the list to the last matrix of the list, while dropping the diagonal entry.
<code>norm.network</code> row-normalizes matrices in a given list.
</p>


<h3>Usage</h3>

<pre><code class="language-R">vec.to.mat(u, N, normalise = FALSE, byrow = FALSE)

mat.to.vec(W, ceiled = FALSE, byrow = FALSE)

norm.network(W)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p>numeric vector to convert.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>vector of sub-network sizes  such that <code>length(u) == sum(N*(N - 1))</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalise</code></td>
<td>
<p>Boolean takes <code>TRUE</code> if the returned matrices should be row-normalized and <code>FALSE</code> otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byrow</code></td>
<td>
<p>Boolean takes <code>TRUE</code> is entries in the matrices should be taken by row and <code>FALSE</code> if they should be taken by column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>matrix or list of matrices to convert.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ceiled</code></td>
<td>
<p>Boolean takes <code>TRUE</code> if the given matrices should be ceiled before conversion and <code>FALSE</code> otherwise.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a vector of size <code>sum(N*(N - 1))</code> or list of <code>length(N)</code> square matrices. The sizes of the matrices are <code style="white-space: pre;">⁠N[1], N[2], ...⁠</code>
</p>


<h3>See Also</h3>

<p><code>sim.network</code>, <code>sim.dnetwork</code>, <code>peer.avg</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate a list of adjacency matrices
## sub-network size
N &lt;- c(250, 370, 120)  
## rate of friendship
p &lt;- c(.2, .15, .18)   
## network data
u &lt;- unlist(lapply(1: 3, function(x) rbinom(N[x]*(N[x] - 1), 1, p[x])))
W &lt;- vec.to.mat(u, N)

# Convert G into a list of row-normalized matrices
G &lt;- norm.network(W)

# recover u
v &lt;- mat.to.vec(G, ceiled = TRUE)
all.equal(u, v)
</code></pre>


</div>