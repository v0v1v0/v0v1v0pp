<div class="container">

<table style="width: 100%;"><tr>
<td>psd-environment</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Various environment manipulation functions.</h2>

<h3>Description</h3>

<p>The computation of <em>adaptive</em> power spectral density estimates 
requires bookkeeping and non-destructive manipulation of variables.  
The functions here are mainly convenience wrappers
designed to maintain variable separation from the 
<code>.GlobalEnv</code> environment so that no innocent variable is destroyed in
the process of iteratively computing spectra.
<strong>The user should generally not be using the <em>setters</em> even though
all functions exist in the namespace.</strong>
</p>
<p><code>get_psd_env_pointer</code> is a convenience wrapper to get the environment pointer.
</p>
<p><code>get_psd_env_name</code> is a convenience wrapper to get the environment name.
</p>
<p><code>psd_envRefresh</code> will clear any variables in the environment and reset the initialization stamp.
</p>
<p><code>psd_envClear</code> clears the contents of the environment.
</p>
<p><code>psd_envStatus</code> returns a list of some information regarding
the status of the environment.
</p>
<p><code>psd_envList</code> returns a listing of any assignments.
</p>
<p><code>psd_envGet</code> returns the value of <code>variable</code>.
</p>
<p><code>psd_envAssign</code> assigns <code>value</code> to <code>variable</code>, but does not return it.
</p>
<p><code>psd_envAssignGet</code> both assigns and returns a value.
</p>
<p><code>update_adapt_history</code> updates the adaptive estimation history list.
</p>
<p><code>new_adapt_history</code> initializes a nested-list object to store the 
data from each iteration.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_psd_env_pointer()

get_psd_env_name()

psd_envRefresh(verbose = TRUE)

psd_envClear()

psd_envStatus()

psd_envList()

psd_envGet(variable)

psd_envAssign(variable, value)

psd_envAssignGet(variable, value)

get_adapt_history()

last_psd()

update_adapt_history(PSD, stage, ...)

## S3 method for class 'spec'
update_adapt_history(PSD, stage, ...)

## Default S3 method:
update_adapt_history(PSD, stage, ntap = NA, freq = NULL, ...)

new_adapt_history(adapt_stages)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; should messages be given?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>character; the name of the variable to get or assign</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>character; the name of the variable to assign</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PSD</code></td>
<td>
<p>vector or object with class <code>'spec'</code>; the power spectral density estimates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stage</code></td>
<td>
<p>scalar; the current stage of the adaptive estimation procedure</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntap</code></td>
<td>
<p>vector; the tapers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>vector; the frequencies</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adapt_stages</code></td>
<td>
<p>scalar; The number of adaptive iterations to save (excluding pilot spectrum).</p>
</td>
</tr>
</table>
<h3>Defaults and Initialization</h3>

<p>One can use <code>get_psd_env_pointer()</code> and <code>get_psd_env_name()</code> to access the 
pointer and name of the environment, if
needed.
</p>
<p><code>psd_envRefresh</code> should be used when
a fresh environment is desired: typically only if, for example, <code>psdcore</code> is 
used rather than <code>pspectrum</code>.
</p>


<h3>Assigning and Retrieving</h3>

<p><code>psd_envAssign</code> and <code>psd_envGet</code> perform the assignments and retrieval
of objects in the environment.  A convenience function, <code>psd_envAssignGet</code>,
is included so that both assignment and retrieval may be performed at the same
time.  This ensures the assignment has succeeded, and the returned value is
not from some other frame.
</p>


<h3>Getters and Setters</h3>

<p>The functions here can be classified whether the get, or set variables in the
environment; some do both.  
Others make no modifications to the environment.
</p>


<h4>Getter</h4>


<ul>
<li>
<p><code>get_adapt_history</code>
</p>
</li>
<li>
<p><code>get_psd_env_name</code>
</p>
</li>
<li>
<p><code>get_psd_env_pointer</code>
</p>
</li>
<li>
<p><code>psd_envGet</code>
</p>
</li>
<li>
<p><code>psd_envList</code>
</p>
</li>
<li>
<p><code>psd_envStatus</code>
</p>
</li>
</ul>
<h4>Setter</h4>


<ul>
<li>
<p><code>new_adapt_history</code>
</p>
</li>
<li>
<p><code>psd_envAssign</code>
</p>
</li>
</ul>
<h4>Getter and Setter</h4>


<ul>
<li>
<p><code>psd_envAssignGet</code>
</p>
</li>
<li>
<p><code>psd_envClear</code>
</p>
</li>
<li>
<p><code>psd_envRefresh</code>
</p>
</li>
<li>
<p><code>update_adapt_history</code>
</p>
</li>
</ul>
<h3>Adaptive History</h3>

<p>The list object for historical adapt-data may be accessed with <code>get_adapt_history</code>.
The top names of the returned list are
</p>

<dl>
<dt><code>stg_kopt</code></dt>
<dd>
<p>Sequential taper vectors.</p>
</dd>
<dt><code>stg_psd</code></dt>
<dd>
<p>Sequential power spectral density vectors.</p>
</dd>
<dt><code>freq</code></dt>
<dd>
<p>The frequencies for each set of <code>stg_kopt</code> and <code>stg_psd</code>.</p>
</dd>
</dl>
<h3>Note</h3>

<p><code>psd_envClear</code> does <em>not</em> remove the environmentâ€“simply the assignments within it.
</p>


<h3>See Also</h3>

<p><code>psd-utilities</code>, <code>pspectrum</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: #REX
library(psd)

##
## psd working environment
##

# Get some status information about the psd working environment
psd_envStatus()

# Get a list of all variables
psd_envList()

# Pull the variable "init" into .GlobalEnv
print(x &lt;- psd_envGet("init"))

# Pull the adaptive history into .GlobalEnv
set.seed(1234)
X &lt;- rnorm(1e3)
pspectrum(X)
get_adapt_history()


## End(Not run)#REX
</code></pre>


</div>