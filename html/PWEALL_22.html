<div class="container">

<table style="width: 100%;"><tr>
<td>pwefv2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A utility function</h2>

<h3>Description</h3>

<p>This will $int_0^t s^k lambda_1(s)S_2(s)ds$ where k=0,1,2
and rate1=lambda_1 and S_2 has hazard rate2</p>


<h3>Usage</h3>

<pre><code class="language-R">pwefv2(t=seq(0,5,by=0.5),rate1=c(0,5,0.8),
      rate2=rate1,tchange=c(0,3),eps=1.0e-2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>A vector of time points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate1</code></td>
<td>
<p>piecewise constant event rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rate2</code></td>
<td>
<p>piecewise constant event rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tchange</code></td>
<td>
<p>a strictly increasing sequence of time points starting from zero at which event rate changes. The first element of tchange must be zero. The above rates and tchange must have the same length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>tolerance</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let <code class="reqn">h_1,h_2</code> correspond to <code>rate1</code>,<code>rate2</code>, and <code class="reqn">H_1,H_2</code> be the corresponding survival functions. 
This function will calculate
</p>
<p style="text-align: center;"><code class="reqn">\int_0^t s^k h_1(s)H_2(s)ds,\hspace{1cm} k=0,1,2.</code>
</p>



<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>f0</code></td>
<td>
<p>values when <code class="reqn">k=0</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f1</code></td>
<td>
<p>values when <code class="reqn">k=1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f2</code></td>
<td>
<p>values when <code class="reqn">k=2</code></p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>This will provide the number of events.</p>


<h3>Author(s)</h3>

<p>Xiaodong Luo</p>


<h3>References</h3>

<p>Luo et al. (2018) Design and monitoring of survival trials in complex scenarios, Statistics in Medicine &lt;doi: https://doi.org/10.1002/sim.7975&gt;.
</p>


<h3>See Also</h3>

<p><code>rpwe</code></p>


<h3>Examples</h3>

<pre><code class="language-R">r1&lt;-c(0.6,0.3)
r2&lt;-c(0.6,0.6)
tchange&lt;-c(0,1.75)
pwefun&lt;-pwefv2(t=seq(0,5,by=0.5),rate1=r1,rate2=r2,
              tchange=tchange,eps=1.0e-2)
pwefun
</code></pre>


</div>