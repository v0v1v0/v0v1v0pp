<div class="container">

<table style="width: 100%;"><tr>
<td>check_run_stage_args</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Test the arguments to the run_stage function for correctness</h2>

<h3>Description</h3>

<p>Takes the arguments to run_stage and checks them for completeness and
correctness. Returns a list of cleaned/checked arguments to the caller.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_run_stage_args(
  pmwgs,
  stage,
  iter,
  particles,
  display_progress,
  n_cores,
  n_unique,
  epsilon,
  subj_epsilon,
  p_accept,
  mix,
  pdist_update_n
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pmwgs</code></td>
<td>
<p>A Particle Metropolis within Gibbs sampler which has been set
up and initialised</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stage</code></td>
<td>
<p>The sampling stage to run. Must be one of <code>'burn'</code>,
<code>'adapt'</code> or <code>'sample'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>The number of iterations to run for the sampler. For
<code>'burn'</code> and <code>'sample'</code> all iterations will run. However for
<code>'adapt'</code> if all subjects have enough unique samples to create the
conditional distribution then the stage will finish early.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>particles</code></td>
<td>
<p>The default here is 1000 particles to be generated for each
iteration, however during the sample phase this should be reduced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display_progress</code></td>
<td>
<p>Display a progress bar during sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cores</code></td>
<td>
<p>Set to more than 1 to use <code>mclapply</code>. Setting
<code>n_cores</code> greater than 1 is only permitted on Linux and Mac OS X
machines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_unique</code></td>
<td>
<p>A number representing the number of unique samples to check
for on each iteration of the sampler (An initial test for the generation
of the proposal distribution). Only used during the <code>'adapt'</code> stage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>epsilon</code></td>
<td>
<p>A value between 0 and 1 that controls the extent to which the
covariance matrix is scaled when generating particles from the previous
random effect. The default will be chosen based on the number of random
effects in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_accept</code></td>
<td>
<p>A value between 0 and 1 that will flexibly tune epsilon to
achieve an acceptance ratio close to what you set p_accept to. The default
is set at 0.8.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mix</code></td>
<td>
<p>A vector of floats that controls the mixture of different sources
for particles. The function <code>numbers_from_proportion</code> is
passed this value and includes extra details on what is accepted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pdist_update_n</code></td>
<td>
<p>The number of iterations in the sample stage after
which the proposal distribution will be recomputed.</p>
</td>
</tr>
</table>
</div>