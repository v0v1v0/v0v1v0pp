<div class="container">

<table style="width: 100%;"><tr>
<td>replace.woe</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Replace modalities of risk factor with weights of evidence (WoE) value</h2>

<h3>Description</h3>

<p><code>replace.woe</code> replaces modalities of risk factor with calculated WoE value. This function process only
categorical risk factors, thus it is assumed that numerical risk factors are previously categorized.
Additional info report (second element of function output - <code>info</code> data frame), if produced, includes:
</p>

<ul>
<li>
<p> rf: Risk factor name.
</p>
</li>
<li>
<p> reason.code: Reason code takes value 1 if inappropriate class of risk factor is identified.
It takes value 2 if maximum number of categories exceeds 10, while 3 if
there are any problem with weights of evidence (WoE) calculations
(usually if any bin contains only good or bad cases).
If validation 1 and 3 are observed, risk factor is not process for WoE replacement.
</p>
</li>
<li>
<p> comment: Reason description.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">replace.woe(db, target)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>Data frame of categorical risk factors and target variable supplied for WoE coding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>Name of target variable within <code>db</code> argument..</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The command <code>replace.woe</code> returns the list of two data frames. The first one contains WoE replacement
of analyzed risk factors' modalities, while the second data frame reports results of above
mentioned validations regarding class of the risk factors, number of modalities and WoE calculation.
</p>


<h3>Examples</h3>

<pre><code class="language-R">suppressMessages(library(PDtoolkit))
data(gcd)
#categorize numeric risk factor
gcd$maturity.bin &lt;- ndr.bin(x = gcd$maturity, y = gcd$qual, y.type = "bina")[[2]]
gcd$amount.bin &lt;- ndr.bin(x = gcd$amount, y = gcd$qual, y.type = "bina")[[2]]
gcd$age.bin &lt;- ndr.bin(x = gcd$age, y = gcd$qual, y.type = "bina")[[2]]
head(gcd)
#replace modalities with WoE values
woe.rep &lt;- replace.woe(db = gcd, target = "qual")
#results overview
head(woe.rep[[1]])
woe.rep[[2]]
</code></pre>


</div>