<div class="container">

<table style="width: 100%;"><tr>
<td>aggregateByGenet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>aggregateByGenet</h2>

<h3>Description</h3>

<p>This function aggregates a data.frame by unique trackIDs so that
each row represents a genet (unique genetic individual) in a given year.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aggregateByGenet(
  dat,
  site = "Site",
  quad = "Quad",
  species = "Species",
  year = "Year",
  trackID = "trackID",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>An sf data.frame. Typically this is a data.frame that has been
returned from the <code>trackSpp()</code> function, although 'dat' can be any sf
data.frame of organism demographic data in which each genet is given unique
identifying value (what we call here a 'trackID'). If 'dat' already only has
one row for each unique trackID in each unique year (i.e. there are no
vegetative individualsâ€“no ramets), then the output of <code>aggregateByGenet()</code>
will have the same number of rows as 'dat'. If 'dat' has
multiple rows (each of which is a ramet) for the same trackID in the same
year, then the output of <code>aggregateByGenet()</code> will have fewer rows than the
input 'dat' data.frame. 'dat' MUST have columns called 'basalArea_genet',
'age', 'recruit', 'survives_tplus1', 'nearEdge', and 'size_tplus1', although
they can be populated with NAs. The <code>trackSpp()</code> function adds these columns,
so if you have made no changes to the data.frame that was returned from
<code>trackSpp()</code>, then your data.frame should have these columns already.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site</code></td>
<td>
<p>A character string giving the name of the column in 'dat' that
contains the values for site. The default is "Site".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quad</code></td>
<td>
<p>A character string giving the name of the column in 'dat' that
contains the values for quadrat. The default is "Quad".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>A character string giving the name of the column in 'dat' that
contains the values for species. The default is "Species".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p>A character string giving the name of the column in 'dat' that
contains the values for year. The default is "Year".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trackID</code></td>
<td>
<p>A character string giving the name of the column in 'dat' that
contains the values for the unique identifier, or trackID. The default
is "trackID".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed on to methods. Not currently used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a <span class="pkg">plantTracker</span>-specific, user-friendly
wrapper for the 'aggregate' function. This function was designed for use
within the <code>trackSpp</code> function, but can be also called
independently by the user. The function is designed to take a data.frame of
the same format that is returned by <code>trackSpp()</code>, but it can be used to
aggregate any dataset by genet (or some other unique identifier), as long as
there is a column that identifies genet (or unique identifier) identity for
each observation.
</p>


<h3>Value</h3>

<p>An sf data.frame that has been aggregated by genet so that each row
represents one unique genetic individual in one year. This data.frame has
columns containing data for site, quadrat, species, year, and trackID, as
well as columns called 'basalArea_genet', 'age', 'recruit',
'survives_tplus1', 'nearEdge', and 'size_tplus1'. This data.frame will most
likely be shorter than the input 'dat', because a genet that was previously
broken into multiple rows representing each ramet in each year will now have
only one row in each year.
</p>


<h3>See Also</h3>

<p>This function is called inside the <code>trackSpp()</code> function.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat &lt;- grasslandData[grasslandData$Site == c("AZ") &amp;
 grasslandData$Species %in% c("Bouteloua rothrockii", "Calliandra eriophylla" ),]
names(dat)[1] &lt;- "speciesName"
inv &lt;- grasslandInventory[unique(dat$Quad)]
outDat &lt;- trackSpp(dat = dat,
 inv = inv,
 dorm = 1,
 buff = .05,
 buffGenet = 0.005,
 clonal = data.frame("Species" = unique(dat$speciesName),
 "clonal" = c(TRUE,FALSE)),
 species = "speciesName",
 aggByGenet = FALSE
 )

aggregateByGenet(dat = outDat,
species = 'speciesName')
</code></pre>


</div>