<div class="container">

<table style="width: 100%;"><tr>
<td>addLabels</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Labels to an Existing Plot</h2>

<h3>Description</h3>

<p>Add the <code>label</code> column of <code>data</code> to the existing plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addLabels (data, xlim = NULL, ylim = NULL, polyProps = NULL,
           placement = "DATA", polys = NULL, rollup = 3,
           cex = NULL, col = NULL, font = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>EventData or PolyData to add (<em>required</em>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>range of X-coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>range of Y-coordinates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polyProps</code></td>
<td>
<p>PolyData specifying which labels to plot and their
properties.  <code>par</code> parameters passed as direct arguments
supersede these data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>placement</code></td>
<td>
<p>one of <code>"DATA"</code>, <code>"CENTROID"</code>,
<code>"MEAN_RANGE"</code>, or <code>"MEAN_XY"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>polys</code></td>
<td>
<p>PolySet to use for calculating label placement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rollup</code></td>
<td>
<p>level of detail at which to process <code>polys</code>, and it
should match that in <code>data</code>.  <code>1</code> = <code>PID</code>s only,
<code>2</code> = outer contours only, and <code>3</code> = no roll-up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>vector describing character expansion factors (cycled by
<code>EID</code> or <code>PID</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>vector describing colours (cycled by <code>EID</code> or
<code>PID</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font</code></td>
<td>
<p>vector describing fonts (cycled by <code>EID</code> or
<code>PID</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional <code>par</code> parameters for the
<code>text</code> function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>data</code> is EventData, it must minimally contain the columns
<code>EID</code>, <code>X</code>, <code>Y</code>, and <code>label</code>.  Since the
<code>EID</code> column does not match a column in <code>polys</code>, set
<code>placement = "DATA"</code>.  The function plots each <code>label</code> at
its corresponding <code>X</code>/<code>Y</code> coordinate.
</p>
<p>If <code>data</code> is PolyData, it must minimally contain the columns
<code>PID</code> and <code>label</code>.  If it also contains <code>X</code> and
<code>Y</code> columns, set <code>placement = "DATA"</code> to plot labels at
those coordinates.  Otherwise, set <code>placement</code> to one of
<code>"CENTROID"</code>, <code>"MEAN_RANGE"</code>, or <code>"MEAN_XY"</code>.  When
<code>placement != "DATA"</code>, supply a PolySet <code>polys</code>.  Using this
PolySet, the function calculates a centroid, mean range, or mean X/Y
coordinate for each polygon, and then links those PolyData with
<code>data</code> by <code>PID</code>/<code>SID</code> to determine label
coordinates.
</p>
<p>If <code>data</code> contains both <code>PID</code> and <code>EID</code> columns, the
function assumes it is PolyData and ignores the <code>EID</code>
column.
</p>
<p>For additional help on the arguments <code>cex</code>, <code>col</code>, and
<code>font</code>, please see <code>par</code>.
</p>


<h3>Value</h3>

<p>EventData or PolyData with <code>X</code> and <code>Y</code> columns
that can subsequently reproduce the labels on the plot.  Modify this
data frame to tweak label positions.
</p>


<h3>Author(s)</h3>

<p><a href="https://github.com/boersn/">Nicholas M. Boers</a>, Staff Software Engineer<br>
Jobber, Edmonton AB<br>
Last modified <code>Rd: 2013-04-10</code>
</p>


<h3>See Also</h3>

<p><code>addPoints</code>,
<code>calcCentroid</code>,
<code>calcMidRange</code>,
<code>calcSummary</code>,
EventData,
<code>plotPoints</code>,
PolyData.
</p>


<h3>Examples</h3>

<pre><code class="language-R">local(envir=.PBSmapEnv,expr={
  oldpar = par(no.readonly=TRUE)
  #--- create sample PolyData to label Vancouver Island
  labelData &lt;- data.frame(PID=33, label="Vancouver Island");
  #--- load data
  if (!is.null(version$language) &amp;&amp; (version$language == "R"))
    data(nepacLL,envir=.PBSmapEnv)
  #--- plot the map
  plotMap(nepacLL,xlim=c(-129,-122.6),ylim=c(48,51.1),col="lemonchiffon")
  #--- add the labels
  addLabels(labelData,placement="CENTROID",polys=nepacLL,cex=1.2,col=2,font=2)
  par(oldpar)
})
</code></pre>


</div>