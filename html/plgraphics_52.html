<div class="container">

<table style="width: 100%;"><tr>
<td>pl.control</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Arguments for plotting functions</h2>

<h3>Description</h3>

<p>Arguments that can be specified calling <code>plyx</code> and
other 'pl' functions are checked and data is prepared for plotting.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">pl.control(x=NULL, y=NULL, condvar = NULL, data = NULL, subset = NULL,
  transformed = TRUE, distinguishy = TRUE, gensequence = NULL,
  csize = NULL, csize.pch = NULL, 
  psize = NULL, plab = FALSE, pch = NULL, pcol = NULL,  
  smooth.weights = NULL, smooth.weight = NULL,
  markextremes = NULL, smooth = NULL,
  xlab = NULL, ylab = NULL, varlabel = NULL,
  vcol = NULL, vlty = NULL, vpch = NULL, plscale = NULL, log = NULL,
  main = NULL, sub = NULL, .subdefault = NULL, mar = NULL, 
  gencoord = TRUE,
  plargs = pl.envir, ploptions = NULL, .environment. = parent.frame(),
  assign = TRUE, ... )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y, data</code></td>
<td>
<p>as in <code>plyx</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condvar</code></td>
<td>
<p>conditioning variables for <code>plcond</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>subset of data.frame 'data' to be used for plotting.
See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transformed</code></td>
<td>
<p>logical: should transformed variables be used?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distinguishy</code></td>
<td>
<p>logical: should multiple y's be distinguished?
This is <code>TRUE</code> if <code>pl.control</code> is called from
<code>plyx</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gensequence</code></td>
<td>
<p>logical: if only <code>x</code> or only <code>y</code> is set,
should the other of these be specified as the sequence
<code>1:nobs</code> (where <code>nobs</code> is the number of observations)?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csize</code></td>
<td>
<p>character expansion, applied to both labels and plotting
characters.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>csize.pch</code></td>
<td>
<p>expansion of plotting symbol relative to
<code>par("pch")</code>.
By default, it adjusts to the number of observations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>psize, plab, pch, pcol</code></td>
<td>
<p>Plotting characteristics of points,
specified as a (unquoted) variable name found in <code>data</code>
or as a vector.
They set the size of the plotting symbols, labels (character
strings), plotting character, and color, respectively.<br><code>plabs = TRUE</code> asks for using the row names of <code>data</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth.weights, smooth.weight</code></td>
<td>
<p>weights to be used in calculating
smooth lines. Both are equivalent.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markextremes</code></td>
<td>
<p>scalar: proportion of extreme points to be labelled
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>logical: should a smooth line be added?
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>
<p>axis labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varlabel</code></td>
<td>

<p>labels for variables replacing their names in the <code>x</code> and
<code>y</code> arguments, either a simple vector of strings with an
element for each variable,
or a named vector, where names correspond to such variables.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcol, vlty, vpch</code></td>
<td>
<p>color, line type and plotting character
to be used when multiple y-s are plotted (in the sense of
<code>matplot</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plscale</code></td>
<td>
<p>plot scale: name of the function to be used for
generating a plotting scale, like <code>"log"</code>.
A named character vector can be given, where the names correspond
to variable names in <code>data</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>requires log scale as in R's basic plot function,
e.g., equals either <code>"x"</code>, <code>"y"</code> or <code>"xy"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main, sub</code></td>
<td>
<p>string. Main title of the plot(s).
If <code>sub</code> starts by <code>":"</code> (the default),
<code>pl.control</code> tries to generate an informative subtitle,
determined by the data or a model formula.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.subdefault</code></td>
<td>
<p>for internal use: default of subtitle</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar</code></td>
<td>
<p>plot margins</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gencoord</code></td>
<td>
<p>logical: should plotting coordinates be generated?
This is avoided for low level pl graphics.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plargs</code></td>
<td>
<p>pl arguments, a list with components
<code>ploptions</code>, see the following argument;
<code>pldata</code>, the data used for plotting;
<code>pmarpar</code>, graphical parameters defining margins.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ploptions</code></td>
<td>
<p>Plotting attributes, e.g., plotting character,
line types, colors and the like, for different aspects of plots.
Result of <code>ploptions</code>. Defaults to
<code>pl.envir$ploptions</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.environment.</code></td>
<td>
<p>used by the calling function to provide the
environment for evaluating <code>x</code> and <code>y</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assign</code></td>
<td>
<p>logical: should the result of <code>pl.control</code> be
assigned to the <code>pl.envir</code> environment?
This will be done for high level pl functions, but avoided for low
level ones. It allows for reusing the settings and helps debug
unexpected behavior.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments. These may include:
</p>

<dl>
<dt>
<code>psize, plab, pch, pcol, group, smooth.group,
	smooth.weights</code>: </dt>
<dd>
<p>these specify graphical elements for each
observation (row of <code>data</code>).
the respective columns are added to the <code>pldata</code>
data.frame.</p>
</dd>
<dt>
<code>...</code>: </dt>
<dd>
<p>further <code>...</code> arguments will be passed on to
<code>ploptions</code>. The respective settings will be used
in the calling pl function, but not permanently stored
in <code>ploptions</code> in the <code>pl.envir</code> environment.
</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function selects the data according to the arguments
<code>x, y, data</code> and <code>subset</code> (the latter by calling
<code>plsubset</code>).
The argument <code>subset</code> should be used instead of
<code>data[subset,]</code> if the dataset <code>data</code> contains variable
attributes like <code>varlabel, ticksat, ...</code>.
The argument is evaluated in the dataset defined by <code>data</code>,
i.e., variable names may be used to define the subset.
</p>


<h3>Value</h3>

<p>A list containing all the arguments, possibly in modified form.
Specifically, the evaluations of the variables contained in
<code>x</code> and <code>y</code> along with 
<code>psize, plab, pch, pcol, smoothGroup, smoothWeights</code>
are collected in the component <code>pldata</code>.
The component, <code>ploptions</code>, collects the ploptions, and 
<code>plfeatures</code> contains a list of additional features, both
to be used in the calling high level pl function
</p>


<h3>Author(s)</h3>

<p>Werner A. Stahel
</p>


<h3>See Also</h3>

<p><code>plyx</code>, <code>plmatrix</code>, <code>ploptions</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">plyx(Sepal.Width~Sepal.Length, data=iris, axp=7, plab=TRUE, csize.plab=0.6)
## same as
plargs &lt;- pl.control(Sepal.Width~Sepal.Length, data=iris)
plargs$pdata$plab &lt;- row.names(iris)
plargs$csize.lab &lt;- 0.6
plargs$axp &lt;- 7
plyx(Sepal.Width~Sepal.Length, plargs=plargs)

</code></pre>


</div>