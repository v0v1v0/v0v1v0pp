<div class="container">

<table style="width: 100%;"><tr>
<td>Cooccurrences-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cooccurrences class for corpus/partition.</h2>

<h3>Description</h3>

<p>The <code>Cooccurrences</code>-class stores the information for all cooccurrences
in a corpus. As this data can be bulky, in-place modifications of the
<code>data.table</code> in the stat-slot of a <code>Cooccurrences</code>-object are used
wherever possible, to avoid copying potentially large objects whenever
possible. The class inherits from the <code>textstat</code>-class, so that methods
for <code>textstat</code>-objects are inherited (see examples).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'Cooccurrences'
as.simple_triplet_matrix(x)

## S4 method for signature 'Cooccurrences'
as_igraph(
  x,
  edge_attributes = c("ll", "ab_count", "rank_ll"),
  vertex_attributes = "count",
  as.undirected = TRUE,
  drop = getOption("polmineR.villainChars")
)

## S4 method for signature 'Cooccurrences'
subset(x, ..., by)

## S4 method for signature 'Cooccurrences'
decode(.Object)

## S4 method for signature 'Cooccurrences'
kwic(
  .Object,
  left = getOption("polmineR.left"),
  right = getOption("polmineR.right"),
  verbose = TRUE,
  progress = TRUE
)

## S4 method for signature 'Cooccurrences'
as.sparseMatrix(x, col = "ab_count", ...)

## S4 method for signature 'Cooccurrences'
enrich(.Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>Cooccurrences</code> class object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge_attributes</code></td>
<td>
<p>Attributes from stat <code>data.table</code> in x to add to edges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertex_attributes</code></td>
<td>
<p>Vertex attributes to add to nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.undirected</code></td>
<td>
<p>Logical, whether to return directed or undirected graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>A character vector indicating names of nodes to drop from
<code>igraph</code> object that is prepared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed into a further call of <code>subset</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>A <code>features</code>-class object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.Object</code></td>
<td>
<p>A <code>Cooccurrences</code>-class object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>left</code></td>
<td>
<p>Number of tokens to the left of the node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>right</code></td>
<td>
<p>Number of tokens to the right of the node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>Logical, whether to show progress bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>A column to extract.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>as.simple_triplet_matrix</code>-method will transform a
<code>Cooccurrences</code> object into a sparse matrix. For reasons of memory
efficiency, decoding token ids is performed within the method at the
as late as possible. It is NOT necessary that decoded tokens are present
in the table in the <code>Cooccurrences</code> object.
</p>
<p>The <code>as_igraph</code>-method can be used to turn an object of the <code>Cooccurrences</code>-class
into an <code>igraph</code>-object.
</p>
<p>The <code>subset</code> method, as a particular feature, allows a
<code>Coocccurrences</code>-object to be subsetted by a <code>featurs</code>-Object
resulting from a features extraction that compares two Cooccurrences
objects.
</p>
<p>For reasons of memory efficiency, the initial <code>data.table</code> in
the slot <code>stat</code> of a <code>Cooccurrences</code>-object will identify tokens by an
integer id, not by the string of the token. The <code>decode()</code>-method will
replace these integer columns with human-readable character vectors. Due to
the reference logic of the <code>data.table</code> object, this is an in-place
operation, peformed without copying the table. The modified object is
returned invisibly; usually it will not be necessary to catch the return
value.
</p>
<p>The <code>kwic</code>-method will add a column to the <code>data.table</code> in
the <code>stat</code>-slot with the concordances that are behind a statistical
finding, and to the <code>data.table</code> in the <code>stat</code>-slot of the
<code>partition</code> in the slot <code>partition</code>. It is an in-place operation.
</p>
<p>Returns a <code>sparseMatrix</code> based on the counts of term cooccurrences. At this stage,
it is required that decoded tokens are present.
</p>
<p>The <code>enrich()</code>-method will add columns 'a_count' and 'b_count' to
the <code>data.table</code> in the 'stat' slot of the <code>Cooccurrences</code> object. If the
count for the subcorpus/partition from which the cooccurrences are derived
is not yet present, the count is performed first.
</p>


<h3>Slots</h3>


<dl>
<dt><code>left</code></dt>
<dd>
<p>Single <code>integer</code> value, number of tokens to the left of the node.</p>
</dd>
<dt><code>right</code></dt>
<dd>
<p>Single <code>integer</code> value, number of tokens to the right of the node.</p>
</dd>
<dt><code>p_attribute</code></dt>
<dd>
<p>A <code>character</code> vector, the p-attribute(s) the evaluation of the corpus is based on.</p>
</dd>
<dt><code>corpus</code></dt>
<dd>
<p>Length-one <code>character</code> vector, the CWB corpus used.</p>
</dd>
<dt><code>stat</code></dt>
<dd>
<p>A <code>data.table</code> with the statistical analysis of cooccurrences.</p>
</dd>
<dt><code>encoding</code></dt>
<dd>
<p>Length-one <code>character</code> vector, the encoding of the corpus.</p>
</dd>
<dt><code>partition</code></dt>
<dd>
<p>The <code>partition</code> that is the basis for computations.</p>
</dd>
<dt><code>window_sizes</code></dt>
<dd>
<p>A <code>data.table</code> linking the number of tokens in the
context of a token identified by id.</p>
</dd>
<dt><code>minimized</code></dt>
<dd>
<p>Logical, whether the object has been minimized.</p>
</dd>
</dl>
<h3>See Also</h3>

<p>See the documentation of the <code>Cooccurrences</code>-method
(including examples) for procedures to get and filter cooccurrence
information. See the documentation for the <code>textstat-class</code>
explaining which methods for this superclass of the
<code>Cooccurrences</code>-class which are available.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# takes too much time on CRAN test machines
use(pkg = "RcppCWB", corpus = "REUTERS")
X &lt;- Cooccurrences("REUTERS", p_attribute = "word", left = 2L, right = 2L)
m &lt;- as.simple_triplet_matrix(X)

## End(Not run)

use(pkg = "RcppCWB", corpus = "REUTERS")

X &lt;- Cooccurrences("REUTERS", p_attribute = "word", left = 5L, right = 5L)
decode(X)
sm &lt;- as.sparseMatrix(X)
stm &lt;- as.simple_triplet_matrix(X)

</code></pre>


</div>