<div class="container">

<table style="width: 100%;"><tr>
<td>anchortest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Anchor methods for the detection of uniform DIF in the Rasch model
</h2>

<h3>Description</h3>

<p>The <code>anchortest</code> function provides a Wald test (see,
e.g., Glas, Verhelst, 1995) for the detection of uniform differential
item functioning (DIF) in the Rasch model between two pre-specified
groups. A variety of anchor methods is available to build a common
scale necessary for the comparison of the item parameters in the Rasch
model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">anchortest(object, ...)
## Default S3 method:
anchortest(object, object2,
  class = c("constant", "forward", "all-other", "fixed"), select = NULL,
  test = TRUE, adjust = "none", length = NULL, range = c(0.1, 0.8), ...)
## S3 method for class 'formula'
anchortest(formula, data = NULL, subset = NULL,
  na.action = NULL, weights = NULL, model = raschmodel, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object, object2</code></td>
<td>
<p>Fitted model objects of class “raschmodel”
estimated via conditional maximum likelihood using <code>raschmodel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed over to an internal call
of <code>anchor.default</code> in the formula method. In the
default method, these additional arguments are currently not being used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>character. Available anchor classes are the
<code>constant</code> anchor class implying a constant anchor length
defined by <code>length</code>, the iterative <code>forward</code> anchor class
that iteratively includes items in the anchor and
the <code>all-other</code> anchor class, for an overview see Kopf et al. (2015a).
Additionally, the class can be <code>fixed</code>, then <code>select</code>
needs to be the numeric index of the fixed selected anchor items.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>character or numeric. Several anchor selection strategies are
available, for details see <code>anchor</code>.
Alternatively, for <code>class = "fixed"</code>, <code>select</code> needs to be the
numeric index of the fixed selected anchor items. Defaults are set such
that <code>class = "constant"</code> is combined with <code>select = "Gini"</code>
while <code>class = "forward"</code> is combined with <code>select = "MTT"</code>.
And if <code>select</code> is numeric, then <code>class = "fixed"</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>logical. Should the Wald test be returned for the
intended anchor method as final DIF test?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>character. Should the final DIF test be adjusted for
multiple testing? For the type of adjustment,
see <code>summary.glht</code> and <code>p.adjust</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length</code></td>
<td>
<p>integer. It pre-defines a maximum anchor length.
Per default, the <code>forward</code> anchor grows up to the proportion
of currently presumed DIF-free items specified in <code>range</code> and
the <code>constant</code> anchor class selects four anchor items, unless
an explicit limiting number is defined in <code>length</code> by the user.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>numeric vector of length 2. The first element is
the percentage of first anchor candidates to be excluded for
consideration when the <code>forward</code> anchor class is used and the
second element determines a percentage of currently presumed DIF-free
items up to which the anchor from the <code>forward</code> anchor class is
allowed to grow.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>formula of type <code>y ~ x</code> where <code>y</code> specifies a
matrix of dichotomous item responses and <code>x</code> the grouping
variable, e.g., gender, for which DIF should be tested for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the variables of the specified
<code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>logical expression indicating elements or rows to keep:
missing values are taken as false.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a function which indicates what should happen when the data
contain missing values (<code>NA</code>s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>an optional vector of weights (interpreted as case weights).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>an IRT model fitting function with a suitable <code>itempar</code>
method, by default <code>raschmodel</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To conduct the Wald test (see, e.g., Glas, Verhelst, 1995) for uniform 
DIF in the Rasch model, the user needs to specify an anchor method. 
The anchor methods can be divided in an anchor class that determines 
characteristics of the anchor method and an anchor selection that 
determines the ranking order of candidate anchor items.
</p>
<p>Explicit anchor selection strategies are used in the <code>constant</code>
anchor class and in the iterative <code>forward</code> anchor class, for a
detailed description see <code>anchor</code>. Since <code class="reqn">k-1</code>
parameters are free in the estimation, only <code class="reqn">k-1</code> estimated
standard errors result. Thus, the first anchor item obtains no DIF test
result and we report <code class="reqn">k-1</code> test results. This decision is
applied only to those methods that rely on an explicit anchor
selection strategy.
</p>
<p>In the <code>constant</code> anchor class, the anchor length is pre-defined
by the user within the argument <code>length</code>. The default is a single
anchor item. The iterative <code>forward</code> class starts with a single
anchor item and includes items in the anchor as long as the anchor
length is shorter than a certain percentage of the number of items that
do not display statistically significant DIF. The default proportion is
set to 0.8 in the argument <code>range</code>. Alternatively, the user is
allowed to set a maximum number of anchor items using the argument
<code>length</code>. Both anchor classes require an explicit anchor selection
strategy as opposed to the <code>all-other</code> anchor class.
</p>
<p>The <code>all-other</code> anchor class is here not considered as explicit
anchor selection and, thus, only included in the <code>anchortest</code>
function. For the <code>all-other</code> anchor class, the strategy is set to
<code>"none"</code>, since all items except for the item currently studied
for DIF are used as anchor. Thus, no explicit anchor selection strategy
is required and we report <code class="reqn">k</code> test results. Note that the <code>all-other</code> 
anchor class requires strong prior knowledge that DIF is balanced.
</p>
<p>See Strobl et al. (2021) and Kopf et al. (2015ab) for a detailed introduction. For convenience
a trivial <code>"fixed"</code> anchor class is provided where the <code>select</code>ed
anchor is given directly (e.g., as chosen by a practitioner or by some
other anchor selection method).
</p>


<h3>Value</h3>

<p>An object of class <code>anchor</code>, i.e. a list including
</p>
<table>
<tr style="vertical-align: top;">
<td><code>anchor_items</code></td>
<td>
<p>the anchor items for DIF analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ranking_order</code></td>
<td>
<p>a ranking order of candidate anchor items.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criteria</code></td>
<td>
<p>the criterion values obtained by the respective anchor
selection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anchored_item_parameters</code></td>
<td>
<p> the anchored item parameters using
the anchor items.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anchored_covariances</code></td>
<td>
<p>the anchored covariance matrices using
the anchor items.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final_tests</code></td>
<td>
<p>the final Wald test for uniform DIF detection if
intended.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Glas CAW, Verhelst ND (1995).
“Testing the Rasch Model.”
In Fischer GH, Molenaar IW (eds.),
<em>Rasch Models: Foundations, Recent Developments, and Applications</em>, chapter 5.
Springer-Verlag, New York.
</p>
<p>Kopf J, Zeileis A, Strobl C (2015a).
A Framework for Anchor Methods and an Iterative Forward Approach for DIF Detection.
<em>Applied Psychological Measurement</em>, <b>39</b>(2), 83–103.
<a href="https://doi.org/10.1177/0146621614544195">doi:10.1177/0146621614544195</a>
</p>
<p>Kopf J, Zeileis A, Strobl C (2015b).
Anchor Selection Strategies for DIF Analysis: Review, Assessment, and New Approaches.
<em>Educational and Psychological Measurement</em>, <b>75</b>(1), 22–56.
<a href="https://doi.org/10.1177/0013164414529792">doi:10.1177/0013164414529792</a>
</p>
<p>Strobl C, Kopf J, Kohler L, von Oertzen T, Zeileis A (2021).
Anchor Point Selection: Scale Alignment Based on an Inequality Criterion.
<em>Applied Psychological Measurement</em>, <b>45</b>(3), 214–230.
<a href="https://doi.org/10.1177/0146621621990743">doi:10.1177/0146621621990743</a>
</p>
<p>Wang WC (2004).
Effects of Anchor Item Methods on the Detection of Differential Item Functioning within the Family of Rasch Models.
<em>Journal of Experimental Education</em>, <b>72</b>(3), 221–261.
</p>
<p>Woods C (2009).
Empirical Selection of Anchors for Tests of Differential Item Functioning.
<em>Applied Psychological Measurement</em>, <b>33</b>(1), 42–57.
</p>


<h3>See Also</h3>

<p><code>anchor</code></p>


<h3>Examples</h3>

<pre><code class="language-R">if(requireNamespace("multcomp")) {

o &lt;- options(digits = 4)

## Verbal aggression data
data("VerbalAggression", package = "psychotools")

## Rasch model for the self-to-blame situations; gender DIF test
raschmodels &lt;- with(VerbalAggression, lapply(levels(gender), function(i) 
  raschmodel(resp2[gender == i, 1:12])))

## single anchor from Gini selection (default)
gini1 &lt;- anchortest(object = raschmodels[[1]], object2 = raschmodels[[2]])
gini1
summary(gini1)

## four anchor items from constant anchor class using MPT selection
const1 &lt;- anchortest(object = raschmodels[[1]], object2 = raschmodels[[2]],
  class = "constant", select = "MPT", length = 4)
const1
summary(const1)

## iterative forward anchor class using MTT selection
set.seed(1)
forw1 &lt;- anchortest(object = raschmodels[[1]], object2 = raschmodels[[2]], 
  class = "forward", select = "MTT", test = TRUE,
  adjust = "none", range = c(0.05,1))
forw1

## DIF test with fixed given anchor (arbitrarily selected to be items 1 and 2)
anchortest(object = raschmodels[[1]], object2 = raschmodels[[2]], select = 1:2)

options(digits = o$digits)
}
</code></pre>


</div>