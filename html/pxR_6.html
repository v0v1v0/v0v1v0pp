<div class="container">

<table style="width: 100%;"><tr>
<td>as.px</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Convert an array or a data.frame into an object of class px</h2>

<h3>Description</h3>

<p>This function converts an array object into a <code>px</code> object. It uses the
<code>dimnames</code> of the array to fill the <code>VALUES</code> list of the
<code>px</code> object. It can also converts an data.frame object into a
<code>px</code> object. Optionally it uses an object of type <code>px</code> as the
skeleton of the new object. </p>


<h3>Usage</h3>

<pre><code class="language-R">  as.px(x,... )
  ## S3 method for class 'array'
as.px(x, skeleton.px = NULL, list.keys = NULL, ...)
  ## S3 method for class 'data.frame'
as.px(x, skeleton.px = NULL,
                             list.keys = NULL, value.column = NULL,  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An array or <code>data.frame</code> with the data required to build the <code>px</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skeleton.px</code></td>
<td>
<p>A <code>px</code> object with metadata that will be used in the new <code>px</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list.keys</code></td>
<td>
<p>A optional list of metadata pairs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value.column</code></td>
<td>
<p>Optional name to numeric value column in data.frame; defaults to "value"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Other arguments that can be passed to the function </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A <code>px</code> object is the internal representation in R of a PC-Axis
file. As such, it contains both data and metadata.
</p>
<p>The data to populate the <code>px</code> object comes from <code>x</code>, the
first argument of the function. If <code>x</code> is an array, it needs
to have 'named <code>dimnames</code>', i.e., its <code>dimnames</code> attribute
needs to be a list with named entries.
</p>
<p><code>x</code> can also be a molten <code>data.frame</code>, i.e., each row contains a single 
value and the remaining columns indicate the levels of the variables it refers to.
The ts <code>names</code> will be used in STUB and HEDING keyword of px objects. The first 
column of <code>x</code> will be used as 'HEADING', and the rest, in reverse, order as 'STUB'. 
</p>
<p>There are two compatible methods to provide metadata information. The
first one is via <code>skeleton.px</code>, a <code>px</code> object whose metadata
(title, etc.) is to be recycled in the new object. In addition to
that, <code>list.keys</code> can be used to pass metadata in key-value pairs
as shown in the examples below.
</p>
<p>Metadata provided in <code>list.keys</code> has priority over metadata
coming from <code>skeleton.px</code>. Also, note that the metadata items
used to name the variables and their labels are neither extracted from
<code>skeleton.px</code> nor <code>px</code> but from the <code>dimnames</code> attribute 
of <code>x</code>.
</p>
<p>Note that the keywords 'HEADING', 'VALUES' and 'DATA', if present in <code>skeleton.px</code> or
<code>list.keys</code>, are ignored. Inconsistent 'CODES' in <code>skeleton.px</code> will also be
ignored.
</p>
<p>Few checks are made to guarantee that metadata keys conform to the PC-Axis standard.
</p>


<h3>Value</h3>

<p> a <code>px</code> object </p>


<h3>Author(s)</h3>

<p>Francisco J. Viciana, Carlos J. Gil Bellosta,</p>


<h3>See Also</h3>

<p><code>write.px</code>,
<code>as.array.px</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
my.px.object  &lt;- read.px(system.file("extdata", "example.px", package = "pxR"))
my.data       &lt;- as.array(my.px.object)
my.px.object2 &lt;- as.px(my.data)
my.px.object3 &lt;- as.px(my.data, skeleton.px = my.px.object) 
my.px.object4 &lt;- as.px(my.data, list.keys = list(MATRIX = "xxx", CONTENTS = "new data",
                             NEWKEY = "another key", UNITS = "people", TITLE = "My Title"))
                             
my.px.df      &lt;- as.data.frame(my.px.object)
my.px.object5 &lt;- as.px(my.px.df)
</code></pre>


</div>