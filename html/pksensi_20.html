<div class="container">

<table style="width: 100%;"><tr>
<td>solve_mcsim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Solve PK Model Through <span class="pkg">GNU MCSim</span>
</h2>

<h3>Description</h3>

<p>Solve the differential equations of time-dependent quantity/concentration in different tissues/compartments
through <span class="pkg">GNU MCSim</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">solve_mcsim(
  x,
  mName,
  infile.name = NULL,
  outfile.name = NULL,
  setpoint.name = NULL,
  params = NULL,
  vars = NULL,
  times = NULL,
  condition = NULL,
  generate.infile = T,
  tell = T,
  rtol = 1e-06,
  atol = 1e-06,
  monte_carlo = NULL,
  dist = NULL,
  q.arg = NULL,
  parallel = 1
)

generate_infile(
  mod = NULL,
  infile.name = NULL,
  outfile.name = NULL,
  params = NULL,
  vars,
  times,
  condition,
  rtol = 1e-06,
  atol = 1e-06,
  monte_carlo = NULL,
  dist = NULL,
  q.arg = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a list of storing information in the defined sensitivity function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mName</code></td>
<td>
<p>a string giving the name of the model or C file (without extension).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>infile.name</code></td>
<td>
<p>a character to assign the name of input file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfile.name</code></td>
<td>
<p>a character to assign the name of output file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>setpoint.name</code></td>
<td>
<p>a character to assign the name of file for parameter matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>a character to assign the testing parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a character or a vector to assign the selected output(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>a numeric vector to define the given time point(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>condition</code></td>
<td>
<p>a character to set the specific parameter value in the input file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>generate.infile</code></td>
<td>
<p>a logical value to automatically generate the input file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tell</code></td>
<td>
<p>a logical value to automatically combine the result y to decoupling simulation x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rtol</code></td>
<td>
<p>an argument passed to the integrator (default 1e-6).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atol</code></td>
<td>
<p>an argument passed to the integrator (default 1e-6).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>monte_carlo</code></td>
<td>
<p>a numeric value to define the sample size in Monte Carlo simulation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>a vector of distribution names corresponding to <code>&lt;distribution-name&gt;</code> in <span class="pkg">GNU MCSim</span>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q.arg</code></td>
<td>
<p>a list of shape parameters in the sampling distribution (<code>dist</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>a numeric value to assign the number of cores in parallel computing (default is set to 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>a list of model and parameters information that is used in solving differential equation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function allows users to use external data file that assigned in <code>setpoint.name</code> as parameter matrix.
If you want to use it, be sure to define <code>n</code> and <code>setpoint.name</code>.
</p>


<h3>Value</h3>

<p>The output result is the 4-dimension array with
c(model evaluations, replications, time-points, output variables).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>solve_mcsim()</code>: Numerical analysis for the PK model by <span class="pkg">GNU MCSim</span>.
</p>
</li>
<li> <p><code>generate_infile()</code>: Generate the <span class="pkg">GNU MCSim</span> input file.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
pbtk1cpt_model()
mName &lt;- "pbtk1cpt"
compile_model(mName)

q &lt;- "qunif"
q.arg &lt;- list(list(min = 0.4, max = 1.1),
              list(min = 0.1, max = 0.4),
              list(min = 1.0, max = 3.0))

params &lt;- c("vdist", "ke", "kgutabs")

set.seed(1234)
x &lt;- rfast99(params = params, n = 200, q = q, q.arg = q.arg, rep = 20)

infile.name &lt;- "example.in"
outfile.name &lt;- "example.csv"
vars &lt;- "Ccompartment"

t &lt;- seq(from = 0.25, to = 12.25, by = 0.5)

y &lt;- solve_mcsim(x, mName = mName, infile.name = infile.name,
                 setpoint.name = "setpoint.dat",
                 outfile.name = outfile.name, params = params, vars = vars, time = t,
                 condition = "Agutlument = 10")
pksim(y)

## End(Not run)

</code></pre>


</div>