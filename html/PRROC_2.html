<div class="container">

<table style="width: 100%;"><tr>
<td>plot.PRROC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plotting PRROC objects
</h2>

<h3>Description</h3>

<p>Plots the PR or ROC curves of a PRROC object. To obtain such curves, <code>pr.curve</code> or <code>roc.curve</code> must be called with
argument <code>curve=TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'PRROC'
plot(x, xlim=c(0,1), ylim=c(0,1), auc.main=TRUE, 
    auc.type=c("integral","davis.goadrich"), 
    legend=ifelse(is.logical(color) &amp; color==TRUE,4,NA), xlab=NULL, ylab=NULL, 
    main=NULL, color=TRUE, lwd=3, add=FALSE, 
    scale.color=hsv(h=seq(0,1,length=100)*0.8, s=1, v=1), 
    max.plot = FALSE, min.plot = FALSE, rand.plot = FALSE, 
    fill.area = (max.plot &amp; min.plot), maxminrand.col = grey(0.5), 
    fill.color = grey(0.95), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a PRROC object obtained from <code>pr.curve</code> or <code>roc.curve</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>as in <code>plot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auc.main</code></td>
<td>
<p><code>TRUE</code> to show the area under curve in the title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auc.type</code></td>
<td>
<p>the area under the curve shown in the title (see also <code>pr.curve</code>). Ignored if <code>auc.main=FALSE</code> or <code>x$type=="ROC"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>if <code>TRUE</code> (and <code>color==TRUE</code>), a legend for the color scheme for the scores is shown on the right side of the main plot. 
If <code>legend</code> is a number between 1 and 4, the legend is drawn on the correspond side of the main plot (see <code>axis</code>). If <code>legend</code>
is <code>FALSE</code> or <code>NA</code>, no legend is drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>the label of the x-axis. If <code>NULL</code>, label is chosen according the kind of the curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>the label of the y-axis. If <code>NULL</code>, label is chosen according the kind of the curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>the title of the plot. If <code>NULL</code>, title is chosen according the kind of the curve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>if <code>TRUE</code>, curve is plotted in colors reflecting score thresholds, 
if <code>FALSE</code>, the curve is plotted in black, 
if a color value (e.g., <code>2</code> or <code>"red"</code> for red) the curve is plotted in that color. 
For everything different from <code>TRUE</code>, the legend is omitted irrespective of the value of argument <code>legend</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>the line width of the curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>if <code>TRUE</code>, the curve is added to an existing plot. Only works correctly, if in the previous call (with <code>add==FALSE</code>), no legend has been added to the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.color</code></td>
<td>
<p>vector of colors that are used to reflect score thresholds, compare <code>color</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.plot</code></td>
<td>
<p>if <code>TRUE</code> and <code>x</code> has been computed including the maximum curve, plot this maximum curve (ignored if <code>add=TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.plot</code></td>
<td>
<p>if <code>TRUE</code> and <code>x</code> has been computed including the minimum curve, plot this maximum curve (ignored if <code>add=TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rand.plot</code></td>
<td>
<p>if <code>TRUE</code> and <code>x</code> has been computed including the curve of a random classifier, plot this curve (ignored if <code>add=TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill.area</code></td>
<td>
<p>fill the area between maximum and minimum curve (given both have been computed for <code>x</code>) (ignored if <code>add=TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxminrand.col</code></td>
<td>
<p>the plot color for the maximum, minimum, and random curves</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill.color</code></td>
<td>
<p>the fill color for the area between minimum and maximum curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>see <code>plot</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>plot</code> method for PRROC objects can be used in different ways. 
</p>
<p>The first is to plot a visualization of a single ROC or PR curve
that also represents the classification thresholds of individual points on the curve by a color scale. 
In this case, a <code>PRROC</code> object must be provided as <code>x</code>, <code>add</code> must be <code>FALSE</code>, and <code>color</code> must be <code>TRUE</code>. 
If, in addition, <code>legend</code> is set to <code>TRUE</code>, a legend translating colors to numerical threshold values is included to the right of the curve plot
itself. The layout of curve plot and legend is accomplished using <code>layout()</code>, which means that this type of ROC/PR plot cannot be combined
with other/complex layouts.
</p>
<p>The second application of the <code>plot</code> method is to compare the performance of different classifiers (typically on the same data set). To do so,
<code>plot</code> must be called with <code>add=FALSE</code> and <code>color</code> set to one specific color (e.g., 2, "red",...) for the first <code>PRROC</code> object
provided as <code>x</code>. Subsequent calls of <code>plot</code> with <code>add=TRUE</code> can be used to add further curves to the first plot, where different colors
may be specified by the <code>color</code> parameter.
</p>
<p>In both cases, the first (or only) call to <code>plot</code> also allows for including plots of the maximum and minimum curve, 
highlighting the area between minimum and maximum, and the curve of a random classifier. 
For this purpose, the <code>PRROC</code> object needs to be created (using <code>pr.curve</code> or <code>roc.curve</code>) with the corresponding
parameters (e.g., <code>max.compute</code>) set to <code>TRUE</code>.
</p>
<p>Additional examples for the different use cases and corresponding plot commands are given in the documentations of <code>pr.curve</code> and <code>roc.curve</code>.
</p>


<h3>Author(s)</h3>

<p>Jan Grau and Jens Keilwagen
</p>


<h3>See Also</h3>

<p><code>pr.curve</code>
</p>
<p><code>roc.curve</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create artificial scores as random numbers
x &lt;- rnorm( 1000 );
y &lt;- rnorm( 1000, -1 );

# compute PR curve
pr &lt;- pr.curve( x, y, curve = TRUE );

# standard plot of PR curve
plot( pr );

# compute ROC curve
roc &lt;- roc.curve( x, y, curve = TRUE );

# standard plot of ROC curve
plot( roc );

# create another set of scores
x.2 &lt;- rnorm( 1000 );
y.2 &lt;- rnorm( 1000, -2 );

# compute PR curve
pr.2 &lt;- pr.curve( x.2, y.2, curve=TRUE );
# and ROC curve
roc.2 &lt;- roc.curve( x.2, y.2, curve=TRUE );

# plot PR curve in red, without legend
plot( pr, color = "red", auc.main=FALSE );
# add second PR curve in green
plot( pr.2, color = 3, add = TRUE );


# plot ROC curve in red, without legend
plot( roc, color = "red", auc.main=FALSE);
# add second ROC curve in green
plot( roc.2, color = 3, add = TRUE );

# plot PR curve with legend below the main plot
plot( pr, legend=1 );

# compute PR curve with minimum and maximum curve, and random classifier
pr &lt;- pr.curve( x, y, curve = TRUE, max.compute = TRUE, 
  min.compute = TRUE, rand.compute = TRUE);

# plot PR curve with area between minimum and 
# maximum curve in green and random classifier in blue
plot(pr, rand.plot = TRUE, fill.area = TRUE, fill.color = rgb(0.8,1,0.8), 
  maxminrand.col = "blue" );


</code></pre>


</div>